function ZT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ip={exports:{}},ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function sR(){if(x2)return ff;x2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var d=null;if(o!==void 0&&(d=""+o),s.key!==void 0&&(d=""+s.key),"key"in s){o={};for(var p in s)p!=="key"&&(o[p]=s[p])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:d,ref:s!==void 0?s:null,props:o}}return ff.Fragment=e,ff.jsx=t,ff.jsxs=t,ff}var v2;function aR(){return v2||(v2=1,ip.exports=sR()),ip.exports}var te=aR(),sp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function oR(){if(b2)return Ct;b2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),_=Symbol.iterator;function I(ee){return ee===null||typeof ee!="object"?null:(ee=_&&ee[_]||ee["@@iterator"],typeof ee=="function"?ee:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,P={};function q(ee,ye,Ne){this.props=ee,this.context=ye,this.refs=P,this.updater=Ne||N}q.prototype.isReactComponent={},q.prototype.setState=function(ee,ye){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,ye,"setState")},q.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function j(){}j.prototype=q.prototype;function K(ee,ye,Ne){this.props=ee,this.context=ye,this.refs=P,this.updater=Ne||N}var F=K.prototype=new j;F.constructor=K,M(F,q.prototype),F.isPureReactComponent=!0;var $=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function V(ee,ye,Ne,Oe,Ge,it){return Ne=it.ref,{$$typeof:n,type:ee,key:ye,ref:Ne!==void 0?Ne:null,props:it}}function L(ee,ye){return V(ee.type,ye,void 0,void 0,void 0,ee.props)}function O(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function W(ee){var ye={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(Ne){return ye[Ne]})}var X=/\/+/g;function G(ee,ye){return typeof ee=="object"&&ee!==null&&ee.key!=null?W(""+ee.key):ye.toString(36)}function H(){}function _e(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(H,H):(ee.status="pending",ee.then(function(ye){ee.status==="pending"&&(ee.status="fulfilled",ee.value=ye)},function(ye){ee.status==="pending"&&(ee.status="rejected",ee.reason=ye)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function le(ee,ye,Ne,Oe,Ge){var it=typeof ee;(it==="undefined"||it==="boolean")&&(ee=null);var Ce=!1;if(ee===null)Ce=!0;else switch(it){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(ee.$$typeof){case n:case e:Ce=!0;break;case T:return Ce=ee._init,le(Ce(ee._payload),ye,Ne,Oe,Ge)}}if(Ce)return Ge=Ge(ee),Ce=Oe===""?"."+G(ee,0):Oe,$(Ge)?(Ne="",Ce!=null&&(Ne=Ce.replace(X,"$&/")+"/"),le(Ge,ye,Ne,"",function(Ye){return Ye})):Ge!=null&&(O(Ge)&&(Ge=L(Ge,Ne+(Ge.key==null||ee&&ee.key===Ge.key?"":(""+Ge.key).replace(X,"$&/")+"/")+Ce)),ye.push(Ge)),1;Ce=0;var We=Oe===""?".":Oe+":";if($(ee))for(var He=0;He<ee.length;He++)Oe=ee[He],it=We+G(Oe,He),Ce+=le(Oe,ye,Ne,it,Ge);else if(He=I(ee),typeof He=="function")for(ee=He.call(ee),He=0;!(Oe=ee.next()).done;)Oe=Oe.value,it=We+G(Oe,He++),Ce+=le(Oe,ye,Ne,it,Ge);else if(it==="object"){if(typeof ee.then=="function")return le(_e(ee),ye,Ne,Oe,Ge);throw ye=String(ee),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(ee,ye,Ne){if(ee==null)return ee;var Oe=[],Ge=0;return le(ee,Oe,"","",function(it){return ye.call(Ne,it,Ge++)}),Oe}function he(ee){if(ee._status===-1){var ye=ee._result;ye=ye(),ye.then(function(Ne){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=Ne)},function(Ne){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=Ne)}),ee._status===-1&&(ee._status=0,ee._result=ye)}if(ee._status===1)return ee._result.default;throw ee._result}var be=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function Re(){}return Ct.Children={map:ae,forEach:function(ee,ye,Ne){ae(ee,function(){ye.apply(this,arguments)},Ne)},count:function(ee){var ye=0;return ae(ee,function(){ye++}),ye},toArray:function(ee){return ae(ee,function(ye){return ye})||[]},only:function(ee){if(!O(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Ct.Component=q,Ct.Fragment=t,Ct.Profiler=s,Ct.PureComponent=K,Ct.StrictMode=r,Ct.Suspense=w,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return ie.H.useMemoCache(ee)}},Ct.cache=function(ee){return function(){return ee.apply(null,arguments)}},Ct.cloneElement=function(ee,ye,Ne){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var Oe=M({},ee.props),Ge=ee.key,it=void 0;if(ye!=null)for(Ce in ye.ref!==void 0&&(it=void 0),ye.key!==void 0&&(Ge=""+ye.key),ye)!se.call(ye,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ye.ref===void 0||(Oe[Ce]=ye[Ce]);var Ce=arguments.length-2;if(Ce===1)Oe.children=Ne;else if(1<Ce){for(var We=Array(Ce),He=0;He<Ce;He++)We[He]=arguments[He+2];Oe.children=We}return V(ee.type,Ge,void 0,void 0,it,Oe)},Ct.createContext=function(ee){return ee={$$typeof:d,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:o,_context:ee},ee},Ct.createElement=function(ee,ye,Ne){var Oe,Ge={},it=null;if(ye!=null)for(Oe in ye.key!==void 0&&(it=""+ye.key),ye)se.call(ye,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(Ge[Oe]=ye[Oe]);var Ce=arguments.length-2;if(Ce===1)Ge.children=Ne;else if(1<Ce){for(var We=Array(Ce),He=0;He<Ce;He++)We[He]=arguments[He+2];Ge.children=We}if(ee&&ee.defaultProps)for(Oe in Ce=ee.defaultProps,Ce)Ge[Oe]===void 0&&(Ge[Oe]=Ce[Oe]);return V(ee,it,void 0,void 0,null,Ge)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(ee){return{$$typeof:p,render:ee}},Ct.isValidElement=O,Ct.lazy=function(ee){return{$$typeof:T,_payload:{_status:-1,_result:ee},_init:he}},Ct.memo=function(ee,ye){return{$$typeof:y,type:ee,compare:ye===void 0?null:ye}},Ct.startTransition=function(ee){var ye=ie.T,Ne={};ie.T=Ne;try{var Oe=ee(),Ge=ie.S;Ge!==null&&Ge(Ne,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(Re,be)}catch(it){be(it)}finally{ie.T=ye}},Ct.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ct.use=function(ee){return ie.H.use(ee)},Ct.useActionState=function(ee,ye,Ne){return ie.H.useActionState(ee,ye,Ne)},Ct.useCallback=function(ee,ye){return ie.H.useCallback(ee,ye)},Ct.useContext=function(ee){return ie.H.useContext(ee)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(ee,ye){return ie.H.useDeferredValue(ee,ye)},Ct.useEffect=function(ee,ye,Ne){var Oe=ie.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Oe.useEffect(ee,ye)},Ct.useId=function(){return ie.H.useId()},Ct.useImperativeHandle=function(ee,ye,Ne){return ie.H.useImperativeHandle(ee,ye,Ne)},Ct.useInsertionEffect=function(ee,ye){return ie.H.useInsertionEffect(ee,ye)},Ct.useLayoutEffect=function(ee,ye){return ie.H.useLayoutEffect(ee,ye)},Ct.useMemo=function(ee,ye){return ie.H.useMemo(ee,ye)},Ct.useOptimistic=function(ee,ye){return ie.H.useOptimistic(ee,ye)},Ct.useReducer=function(ee,ye,Ne){return ie.H.useReducer(ee,ye,Ne)},Ct.useRef=function(ee){return ie.H.useRef(ee)},Ct.useState=function(ee){return ie.H.useState(ee)},Ct.useSyncExternalStore=function(ee,ye,Ne){return ie.H.useSyncExternalStore(ee,ye,Ne)},Ct.useTransition=function(){return ie.H.useTransition()},Ct.version="19.1.0",Ct}var E2;function ly(){return E2||(E2=1,sp.exports=oR()),sp.exports}var Z=ly();const yn=M0(Z),lR=ZT({__proto__:null,default:yn},[Z]);var ap={exports:{}},df={},op={exports:{}},lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T2;function cR(){return T2||(T2=1,function(n){function e(ae,he){var be=ae.length;ae.push(he);e:for(;0<be;){var Re=be-1>>>1,ee=ae[Re];if(0<s(ee,he))ae[Re]=he,ae[be]=ee,be=Re;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var he=ae[0],be=ae.pop();if(be!==he){ae[0]=be;e:for(var Re=0,ee=ae.length,ye=ee>>>1;Re<ye;){var Ne=2*(Re+1)-1,Oe=ae[Ne],Ge=Ne+1,it=ae[Ge];if(0>s(Oe,be))Ge<ee&&0>s(it,Oe)?(ae[Re]=it,ae[Ge]=be,Re=Ge):(ae[Re]=Oe,ae[Ne]=be,Re=Ne);else if(Ge<ee&&0>s(it,be))ae[Re]=it,ae[Ge]=be,Re=Ge;else break e}}return he}function s(ae,he){var be=ae.sortIndex-he.sortIndex;return be!==0?be:ae.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var w=[],y=[],T=1,_=null,I=3,N=!1,M=!1,P=!1,q=!1,j=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(ae){for(var he=t(y);he!==null;){if(he.callback===null)r(y);else if(he.startTime<=ae)r(y),he.sortIndex=he.expirationTime,e(w,he);else break;he=t(y)}}function ie(ae){if(P=!1,$(ae),!M)if(t(w)!==null)M=!0,se||(se=!0,G());else{var he=t(y);he!==null&&le(ie,he.startTime-ae)}}var se=!1,V=-1,L=5,O=-1;function W(){return q?!0:!(n.unstable_now()-O<L)}function X(){if(q=!1,se){var ae=n.unstable_now();O=ae;var he=!0;try{e:{M=!1,P&&(P=!1,K(V),V=-1),N=!0;var be=I;try{t:{for($(ae),_=t(w);_!==null&&!(_.expirationTime>ae&&W());){var Re=_.callback;if(typeof Re=="function"){_.callback=null,I=_.priorityLevel;var ee=Re(_.expirationTime<=ae);if(ae=n.unstable_now(),typeof ee=="function"){_.callback=ee,$(ae),he=!0;break t}_===t(w)&&r(w),$(ae)}else r(w);_=t(w)}if(_!==null)he=!0;else{var ye=t(y);ye!==null&&le(ie,ye.startTime-ae),he=!1}}break e}finally{_=null,I=be,N=!1}he=void 0}}finally{he?G():se=!1}}}var G;if(typeof F=="function")G=function(){F(X)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,_e=H.port2;H.port1.onmessage=X,G=function(){_e.postMessage(null)}}else G=function(){j(X,0)};function le(ae,he){V=j(function(){ae(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_next=function(ae){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var be=I;I=he;try{return ae()}finally{I=be}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(ae,he){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var be=I;I=ae;try{return he()}finally{I=be}},n.unstable_scheduleCallback=function(ae,he,be){var Re=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Re+be:Re):be=Re,ae){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=be+ee,ae={id:T++,callback:he,priorityLevel:ae,startTime:be,expirationTime:ee,sortIndex:-1},be>Re?(ae.sortIndex=be,e(y,ae),t(w)===null&&ae===t(y)&&(P?(K(V),V=-1):P=!0,le(ie,be-Re))):(ae.sortIndex=ee,e(w,ae),M||N||(M=!0,se||(se=!0,G()))),ae},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(ae){var he=I;return function(){var be=I;I=he;try{return ae.apply(this,arguments)}finally{I=be}}}}(lp)),lp}var A2;function uR(){return A2||(A2=1,op.exports=cR()),op.exports}var cp={exports:{}},ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function fR(){if(_2)return ai;_2=1;var n=ly();function e(w){var y="https://react.dev/errors/"+w;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+w+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(w,y,T){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:w,containerInfo:y,implementation:T}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(w,y){if(w==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ai.createPortal=function(w,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return o(w,y,null,T)},ai.flushSync=function(w){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,w)return w()}finally{d.T=y,r.p=T,r.d.f()}},ai.preconnect=function(w,y){typeof w=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(w,y))},ai.prefetchDNS=function(w){typeof w=="string"&&r.d.D(w)},ai.preinit=function(w,y){if(typeof w=="string"&&y&&typeof y.as=="string"){var T=y.as,_=p(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(w,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:I,fetchPriority:N}):T==="script"&&r.d.X(w,{crossOrigin:_,integrity:I,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ai.preinitModule=function(w,y){if(typeof w=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(w,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(w)},ai.preload=function(w,y){if(typeof w=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,_=p(T,y.crossOrigin);r.d.L(w,T,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ai.preloadModule=function(w,y){if(typeof w=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(w,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(w)},ai.requestFormReset=function(w){r.d.r(w)},ai.unstable_batchedUpdates=function(w,y){return w(y)},ai.useFormState=function(w,y,T){return d.H.useFormState(w,y,T)},ai.useFormStatus=function(){return d.H.useHostTransitionStatus()},ai.version="19.1.0",ai}var S2;function $T(){if(S2)return cp.exports;S2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cp.exports=fR(),cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function dR(){if(C2)return df;C2=1;var n=uR(),e=ly(),t=$T();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function d(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function p(i){if(o(i)!==i)throw Error(r(188))}function w(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var f=i,m=l;;){var E=f.return;if(E===null)break;var S=E.alternate;if(S===null){if(m=E.return,m!==null){f=m;continue}break}if(E.child===S.child){for(S=E.child;S;){if(S===f)return p(E),i;if(S===m)return p(E),l;S=S.sibling}throw Error(r(188))}if(f.return!==m.return)f=E,m=S;else{for(var B=!1,Q=E.child;Q;){if(Q===f){B=!0,f=E,m=S;break}if(Q===m){B=!0,m=E,f=S;break}Q=Q.sibling}if(!B){for(Q=S.child;Q;){if(Q===f){B=!0,f=S,m=E;break}if(Q===m){B=!0,m=S,f=E;break}Q=Q.sibling}if(!B)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:l}function y(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=y(i),l!==null)return l;i=i.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case q:return"Profiler";case P:return"StrictMode";case ie:return"Suspense";case se:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case F:return(i.displayName||"Context")+".Provider";case K:return(i._context.displayName||"Context")+".Consumer";case $:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return l=i.displayName||null,l!==null?l:_e(i.type)||"Memo";case L:l=i._payload,i=i._init;try{return _e(i(l))}catch{}}return null}var le=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Re=[],ee=-1;function ye(i){return{current:i}}function Ne(i){0>ee||(i.current=Re[ee],Re[ee]=null,ee--)}function Oe(i,l){ee++,Re[ee]=i.current,i.current=l}var Ge=ye(null),it=ye(null),Ce=ye(null),We=ye(null);function He(i,l){switch(Oe(Ce,l),Oe(it,i),Oe(Ge,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Wv(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Wv(l),i=Xv(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ne(Ge),Oe(Ge,i)}function Ye(){Ne(Ge),Ne(it),Ne(Ce)}function lt(i){i.memoizedState!==null&&Oe(We,i);var l=Ge.current,f=Xv(l,i.type);l!==f&&(Oe(it,i),Oe(Ge,f))}function et(i){it.current===i&&(Ne(Ge),Ne(it)),We.current===i&&(Ne(We),af._currentValue=be)}var yt=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,an=n.unstable_cancelCallback,kt=n.unstable_shouldYield,$n=n.unstable_requestPaint,wt=n.unstable_now,Pt=n.unstable_getCurrentPriorityLevel,Et=n.unstable_ImmediatePriority,Nr=n.unstable_UserBlockingPriority,qe=n.unstable_NormalPriority,vs=n.unstable_LowPriority,aa=n.unstable_IdlePriority,fi=n.log,Qa=n.unstable_setDisableYieldValue,Xt=null,Jt=null;function Jn(i){if(typeof fi=="function"&&Qa(i),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Xt,i)}catch{}}var en=Math.clz32?Math.clz32:oa,ll=Math.log,Za=Math.LN2;function oa(i){return i>>>=0,i===0?32:31-(ll(i)/Za|0)|0}var wn=256,Fe=4194304;function on(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Kt(i,l,f){var m=i.pendingLanes;if(m===0)return 0;var E=0,S=i.suspendedLanes,B=i.pingedLanes;i=i.warmLanes;var Q=m&134217727;return Q!==0?(m=Q&~S,m!==0?E=on(m):(B&=Q,B!==0?E=on(B):f||(f=Q&~i,f!==0&&(E=on(f))))):(Q=m&~S,Q!==0?E=on(Q):B!==0?E=on(B):f||(f=m&~i,f!==0&&(E=on(f)))),E===0?0:l!==0&&l!==E&&(l&S)===0&&(S=E&-E,f=l&-l,S>=f||S===32&&(f&4194048)!==0)?l:E}function cn(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function bs(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(){var i=wn;return wn<<=1,(wn&4194048)===0&&(wn=256),i}function $a(){var i=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),i}function St(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function Ur(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ja(i,l,f,m,E,S){var B=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var Q=i.entanglements,oe=i.expirationTimes,xe=i.hiddenUpdates;for(f=B&~f;0<f;){var Ie=31-en(f),ke=1<<Ie;Q[Ie]=0,oe[Ie]=-1;var ve=xe[Ie];if(ve!==null)for(xe[Ie]=null,Ie=0;Ie<ve.length;Ie++){var Ae=ve[Ie];Ae!==null&&(Ae.lane&=-536870913)}f&=~ke}m!==0&&Di(i,m,0),S!==0&&E===0&&i.tag!==0&&(i.suspendedLanes|=S&~(B&~l))}function Di(i,l,f){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-en(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|f&4194090}function Fr(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var m=31-en(f),E=1<<m;E&l|i[m]&l&&(i[m]|=l),f&=~E}}function ts(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Xn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function di(){var i=he.p;return i!==0?i:(i=window.event,i===void 0?32:h2(i.type))}function ca(i,l){var f=he.p;try{return he.p=i,l()}finally{he.p=f}}var Wt=Math.random().toString(36).slice(2),or="__reactFiber$"+Wt,xn="__reactProps$"+Wt,$r="__reactContainer$"+Wt,gr="__reactEvents$"+Wt,Es="__reactListeners$"+Wt,lr="__reactHandles$"+Wt,Xe="__reactResources$"+Wt,yi="__reactMarker$"+Wt;function ns(i){delete i[or],delete i[xn],delete i[gr],delete i[Es],delete i[lr]}function Fn(i){var l=i[or];if(l)return l;for(var f=i.parentNode;f;){if(l=f[$r]||f[or]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=$v(i);i!==null;){if(f=i[or])return f;i=$v(i)}return l}i=f,f=i.parentNode}return null}function zr(i){if(i=i[or]||i[$r]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function hi(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function pr(i){var l=i[Xe];return l||(l=i[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function tn(i){i[yi]=!0}var cl=new Set,eo={};function er(i,l){Mn(i,l),Mn(i+"Capture",l)}function Mn(i,l){for(eo[i]=l,i=0;i<l.length;i++)cl.add(l[i])}var dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},Jr={};function to(i){return yt.call(Jr,i)?!0:yt.call(ul,i)?!1:dn.test(i)?Jr[i]=!0:(ul[i]=!0,!1)}function De(i,l,f){if(to(l))if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+f)}}function rs(i,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+f)}}function Rt(i,l,f,m){if(m===null)i.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(l,f,""+m)}}var wi,Kl;function Nt(i){if(wi===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);wi=l&&l[1]||"",Kl=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wi+i+Kl}var Lt=!1;function _t(i,l){if(!i||Lt)return"";Lt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(Ae){var ve=Ae}Reflect.construct(i,[],ke)}else{try{ke.call()}catch(Ae){ve=Ae}i.call(ke.prototype)}}else{try{throw Error()}catch(Ae){ve=Ae}(ke=i())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(Ae){if(Ae&&ve&&typeof Ae.stack=="string")return[Ae.stack,ve.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),B=S[0],Q=S[1];if(B&&Q){var oe=B.split(`
`),xe=Q.split(`
`);for(E=m=0;m<oe.length&&!oe[m].includes("DetermineComponentFrameRoot");)m++;for(;E<xe.length&&!xe[E].includes("DetermineComponentFrameRoot");)E++;if(m===oe.length||E===xe.length)for(m=oe.length-1,E=xe.length-1;1<=m&&0<=E&&oe[m]!==xe[E];)E--;for(;1<=m&&0<=E;m--,E--)if(oe[m]!==xe[E]){if(m!==1||E!==1)do if(m--,E--,0>E||oe[m]!==xe[E]){var Ie=`
`+oe[m].replace(" at new "," at ");return i.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",i.displayName)),Ie}while(1<=m&&0<=E);break}}}finally{Lt=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?Nt(f):""}function ua(i){switch(i.tag){case 26:case 27:case 5:return Nt(i.type);case 16:return Nt("Lazy");case 13:return Nt("Suspense");case 19:return Nt("SuspenseList");case 0:case 15:return _t(i.type,!1);case 11:return _t(i.type.render,!1);case 1:return _t(i.type,!0);case 31:return Nt("Activity");default:return""}}function Ls(i){try{var l="";do l+=ua(i),i=i.return;while(i);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function br(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Dn(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function is(i){var l=Dn(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var E=f.get,S=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return E.call(this)},set:function(B){m=""+B,S.call(this,B)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(B){m=""+B},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function no(i){i._valueTracker||(i._valueTracker=is(i))}function Tn(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return i&&(m=Dn(i)?i.checked?"true":"false":i.value),i=m,i!==f?(l.setValue(i),!0):!1}function ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Au=/[\n"\\]/g;function An(i){return i.replace(Au,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Mt(i,l,f,m,E,S,B,Q){i.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.type=B:i.removeAttribute("type"),l!=null?B==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+br(l)):i.value!==""+br(l)&&(i.value=""+br(l)):B!=="submit"&&B!=="reset"||i.removeAttribute("value"),l!=null?ge(i,B,br(l)):f!=null?ge(i,B,br(f)):m!=null&&i.removeAttribute("value"),E==null&&S!=null&&(i.defaultChecked=!!S),E!=null&&(i.checked=E&&typeof E!="function"&&typeof E!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?i.name=""+br(Q):i.removeAttribute("name")}function zn(i,l,f,m,E,S,B,Q){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),l!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;f=f!=null?""+br(f):"",l=l!=null?""+br(l):f,Q||l===i.value||(i.value=l),i.defaultValue=l}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=Q?i.checked:!!m,i.defaultChecked=!!m,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(i.name=B)}function ge(i,l,f){l==="number"&&ei(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function ne(i,l,f,m){if(i=i.options,l){l={};for(var E=0;E<f.length;E++)l["$"+f[E]]=!0;for(f=0;f<i.length;f++)E=l.hasOwnProperty("$"+i[f].value),i[f].selected!==E&&(i[f].selected=E),E&&m&&(i[f].defaultSelected=!0)}else{for(f=""+br(f),l=null,E=0;E<i.length;E++){if(i[E].value===f){i[E].selected=!0,m&&(i[E].defaultSelected=!0);return}l!==null||i[E].disabled||(l=i[E])}l!==null&&(l.selected=!0)}}function je(i,l,f){if(l!=null&&(l=""+br(l),l!==i.value&&(i.value=l),f==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=f!=null?""+br(f):""}function Rn(i,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(r(92));if(le(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=br(l),i.defaultValue=f,m=i.textContent,m===f&&m!==""&&m!==null&&(i.value=m)}function On(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ro(i,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,f):typeof f!="number"||f===0||fa.has(l)?l==="float"?i.cssFloat=f:i[l]=(""+f).trim():i[l]=f+"px"}function Mr(i,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var E in l)m=l[E],l.hasOwnProperty(E)&&f[E]!==m&&ro(i,E,m)}else for(var S in l)l.hasOwnProperty(S)&&ro(i,S,l[S])}function rt(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _n=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ql=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(i){return Ql.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Oi=null;function jr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ki=null,Ts=null;function jn(i){var l=zr(i);if(l&&(i=l.stateNode)){var f=i[xn]||null;e:switch(i=l.stateNode,l.type){case"input":if(Mt(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+An(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==i&&m.form===i.form){var E=m[xn]||null;if(!E)throw Error(r(90));Mt(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===i.form&&Tn(m)}break e;case"textarea":je(i,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&ne(i,!!f.multiple,l,!1)}}}var ti=!1;function Pi(i,l,f){if(ti)return i(l,f);ti=!0;try{var m=i(l);return m}finally{if(ti=!1,(ki!==null||Ts!==null)&&(Xd(),ki&&(l=ki,i=Ts,Ts=ki=null,jn(l),i)))for(l=0;l<i.length;l++)jn(i[l])}}function st(i,l){var f=i.stateNode;if(f===null)return null;var m=f[xn]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ut=!1;if(Li)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){ut=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{ut=!1}var ss=null,as=null,os=null;function Bi(){if(os)return os;var i,l=as,f=l.length,m,E="value"in ss?ss.value:ss.textContent,S=E.length;for(i=0;i<f&&l[i]===E[i];i++);var B=f-i;for(m=1;m<=B&&l[f-m]===E[S-m];m++);return os=E.slice(i,1<m?1-m:void 0)}function ls(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ni(){return!0}function As(){return!1}function Hn(i){function l(f,m,E,S,B){this._reactName=f,this._targetInst=E,this.type=m,this.nativeEvent=S,this.target=B,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(f=i[Q],this[Q]=f?f(S):S[Q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ni:As,this.isPropagationStopped=As,this}return T(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),l}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Hn($t),Vi=T({},$t,{view:0,detail:0}),Er=Hn(Vi),da,ha,Ui,ga=T({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ui&&(Ui&&i.type==="mousemove"?(da=i.screenX-Ui.screenX,ha=i.screenY-Ui.screenY):ha=da=0,Ui=i),da)},movementY:function(i){return"movementY"in i?i.movementY:ha}}),xi=Hn(ga),Zl=T({},ga,{dataTransfer:0}),nn=Hn(Zl),Bs=T({},Vi,{relatedTarget:0}),_s=Hn(Bs),vi=T({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),so=Hn(vi),Te=T({},$t,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xt=Hn(Te),cr=T({},$t,{data:0}),Vs=Hn(cr),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$l={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=Jl[i])?!!l[i]:!1}function Ss(){return fl}var Gn=T({},Vi,{key:function(i){if(i.key){var l=Us[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ls(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$l[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(i){return i.type==="keypress"?ls(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ls(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Fs=Hn(Gn),Sn=T({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=Hn(Sn),Hr=T({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),rn=Hn(Hr),ot=T({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Hn(ot),un=T({},ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bi=Hn(un),tr=T({},$t,{newState:0,oldState:0}),tc=Hn(tr),gi=[9,13,27,32],Ei=Li&&"CompositionEvent"in window,b=null;Li&&"documentMode"in document&&(b=document.documentMode);var R=Li&&"TextEvent"in window&&!b,k=Li&&(!Ei||b&&8<b&&11>=b),J=" ",pe=!1;function Se(i,l){switch(i){case"keyup":return gi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ze(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ft=!1;function Pn(i,l){switch(i){case"compositionend":return ze(l);case"keypress":return l.which!==32?null:(pe=!0,J);case"textInput":return i=l.data,i===J&&pe?null:i;default:return null}}function zt(i,l){if(Ft)return i==="compositionend"||!Ei&&Se(i,l)?(i=Bi(),os=as=ss=null,Ft=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return k&&l.locale!=="ko"?null:l.data;default:return null}}var Cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Cn[i.type]:l==="textarea"}function nr(i,l,f,m){ki?Ts?Ts.push(m):Ts=[m]:ki=m,l=eh(l,"onChange"),0<l.length&&(f=new cs("onChange","change",null,f,m),i.push({event:f,listeners:l}))}var mr=null,ur=null;function dl(i){jv(i,0)}function ao(i){var l=hi(i);if(Tn(l))return i}function gd(i,l){if(i==="change")return l}var _u=!1;if(Li){var Ti;if(Li){var Su="oninput"in document;if(!Su){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),Su=typeof nc.oninput=="function"}Ti=Su}else Ti=!1;_u=Ti&&(!document.documentMode||9<document.documentMode)}function oo(){mr&&(mr.detachEvent("onpropertychange",jt),ur=mr=null)}function jt(i){if(i.propertyName==="value"&&ao(ur)){var l=[];nr(l,ur,i,jr(i)),Pi(dl,l)}}function rc(i,l,f){i==="focusin"?(oo(),mr=l,ur=f,mr.attachEvent("onpropertychange",jt)):i==="focusout"&&oo()}function U(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ao(ur)}function a(i,l){if(i==="click")return ao(l)}function c(i,l){if(i==="input"||i==="change")return ao(l)}function u(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var h=typeof Object.is=="function"?Object.is:u;function g(i,l){if(h(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var E=f[m];if(!yt.call(l,E)||!h(i[E],l[E]))return!1}return!0}function x(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function v(i,l){var f=x(i);i=0;for(var m;f;){if(f.nodeType===3){if(m=i+f.textContent.length,i<=l&&m>=l)return{node:f,offset:l-i};i=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=x(f)}}function A(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?A(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function C(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=ei(i.document);l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=ei(i.document)}return l}function D(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var z=Li&&"documentMode"in document&&11>=document.documentMode,Y=null,re=null,ce=null,ue=!1;function me(i,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ue||Y==null||Y!==ei(m)||(m=Y,"selectionStart"in m&&D(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ce&&g(ce,m)||(ce=m,m=eh(re,"onSelect"),0<m.length&&(l=new cs("onSelect","select",null,l,f),i.push({event:l,listeners:m}),l.target=Y)))}function Ee(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Ve={animationend:Ee("Animation","AnimationEnd"),animationiteration:Ee("Animation","AnimationIteration"),animationstart:Ee("Animation","AnimationStart"),transitionrun:Ee("Transition","TransitionRun"),transitionstart:Ee("Transition","TransitionStart"),transitioncancel:Ee("Transition","TransitionCancel"),transitionend:Ee("Transition","TransitionEnd")},Ue={},Be={};Li&&(Be=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function Tt(i){if(Ue[i])return Ue[i];if(!Ve[i])return i;var l=Ve[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in Be)return Ue[i]=l[f];return i}var vt=Tt("animationend"),Gr=Tt("animationiteration"),Ai=Tt("animationstart"),ri=Tt("transitionrun"),hn=Tt("transitionstart"),Tr=Tt("transitioncancel"),ii=Tt("transitionend"),pa=new Map,js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");js.push("scrollEnd");function Fi(i,l){pa.set(i,l),er(l,[i])}var pd=new WeakMap;function us(i,l){if(typeof i=="object"&&i!==null){var f=pd.get(i);return f!==void 0?f:(l={value:i,source:l,stack:Ls(l)},pd.set(i,l),l)}return{value:i,source:l,stack:Ls(l)}}var fs=[],ic=0,bg=0;function md(){for(var i=ic,l=bg=ic=0;l<i;){var f=fs[l];fs[l++]=null;var m=fs[l];fs[l++]=null;var E=fs[l];fs[l++]=null;var S=fs[l];if(fs[l++]=null,m!==null&&E!==null){var B=m.pending;B===null?E.next=E:(E.next=B.next,B.next=E),m.pending=E}S!==0&&Sw(f,E,S)}}function yd(i,l,f,m){fs[ic++]=i,fs[ic++]=l,fs[ic++]=f,fs[ic++]=m,bg|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function Eg(i,l,f,m){return yd(i,l,f,m),wd(i)}function sc(i,l){return yd(i,null,null,l),wd(i)}function Sw(i,l,f){i.lanes|=f;var m=i.alternate;m!==null&&(m.lanes|=f);for(var E=!1,S=i.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(E=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,E&&l!==null&&(E=31-en(f),i=S.hiddenUpdates,m=i[E],m===null?i[E]=[l]:m.push(l),l.lane=f|536870912),S):null}function wd(i){if(50<Zu)throw Zu=0,I1=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ac={};function GI(i,l,f,m){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(i,l,f,m){return new GI(i,l,f,m)}function Tg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ma(i,l){var f=i.alternate;return f===null?(f=zi(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Cw(i,l){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,l=f.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function xd(i,l,f,m,E,S){var B=0;if(m=i,typeof i=="function")Tg(i)&&(B=1);else if(typeof i=="string")B=Y3(i,f,Ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=zi(31,f,l,E),i.elementType=O,i.lanes=S,i;case M:return hl(f.children,E,S,l);case P:B=8,E|=24;break;case q:return i=zi(12,f,l,E|2),i.elementType=q,i.lanes=S,i;case ie:return i=zi(13,f,l,E),i.elementType=ie,i.lanes=S,i;case se:return i=zi(19,f,l,E),i.elementType=se,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case F:B=10;break e;case K:B=9;break e;case $:B=11;break e;case V:B=14;break e;case L:B=16,m=null;break e}B=29,f=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=zi(B,f,l,E),l.elementType=i,l.type=m,l.lanes=S,l}function hl(i,l,f,m){return i=zi(7,i,m,l),i.lanes=f,i}function Ag(i,l,f){return i=zi(6,i,null,l),i.lanes=f,i}function _g(i,l,f){return l=zi(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var oc=[],lc=0,vd=null,bd=0,ds=[],hs=0,gl=null,ya=1,wa="";function pl(i,l){oc[lc++]=bd,oc[lc++]=vd,vd=i,bd=l}function Iw(i,l,f){ds[hs++]=ya,ds[hs++]=wa,ds[hs++]=gl,gl=i;var m=ya;i=wa;var E=32-en(m)-1;m&=~(1<<E),f+=1;var S=32-en(l)+E;if(30<S){var B=E-E%5;S=(m&(1<<B)-1).toString(32),m>>=B,E-=B,ya=1<<32-en(l)+E|f<<E|m,wa=S+i}else ya=1<<S|f<<E|m,wa=i}function Sg(i){i.return!==null&&(pl(i,1),Iw(i,1,0))}function Cg(i){for(;i===vd;)vd=oc[--lc],oc[lc]=null,bd=oc[--lc],oc[lc]=null;for(;i===gl;)gl=ds[--hs],ds[hs]=null,wa=ds[--hs],ds[hs]=null,ya=ds[--hs],ds[hs]=null}var pi=null,rr=null,ln=!1,ml=null,Hs=!1,Ig=Error(r(519));function yl(i){var l=Error(r(418,""));throw Ru(us(l,i)),Ig}function Rw(i){var l=i.stateNode,f=i.type,m=i.memoizedProps;switch(l[or]=i,l[xn]=m,f){case"dialog":Ut("cancel",l),Ut("close",l);break;case"iframe":case"object":case"embed":Ut("load",l);break;case"video":case"audio":for(f=0;f<Ju.length;f++)Ut(Ju[f],l);break;case"source":Ut("error",l);break;case"img":case"image":case"link":Ut("error",l),Ut("load",l);break;case"details":Ut("toggle",l);break;case"input":Ut("invalid",l),zn(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),no(l);break;case"select":Ut("invalid",l);break;case"textarea":Ut("invalid",l),Rn(l,m.value,m.defaultValue,m.children),no(l)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||Yv(l.textContent,f)?(m.popover!=null&&(Ut("beforetoggle",l),Ut("toggle",l)),m.onScroll!=null&&Ut("scroll",l),m.onScrollEnd!=null&&Ut("scrollend",l),m.onClick!=null&&(l.onclick=th),l=!0):l=!1,l||yl(i)}function Nw(i){for(pi=i.return;pi;)switch(pi.tag){case 5:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:pi=pi.return}}function Cu(i){if(i!==pi)return!1;if(!ln)return Nw(i),ln=!0,!1;var l=i.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||G1(i.type,i.memoizedProps)),f=!f),f&&rr&&yl(i),Nw(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(f=i.data,f==="/$"){if(l===0){rr=Is(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;i=i.nextSibling}rr=null}}else l===27?(l=rr,Ao(i.type)?(i=X1,X1=null,rr=i):rr=l):rr=pi?Is(i.stateNode.nextSibling):null;return!0}function Iu(){rr=pi=null,ln=!1}function Mw(){var i=ml;return i!==null&&(Ci===null?Ci=i:Ci.push.apply(Ci,i),ml=null),i}function Ru(i){ml===null?ml=[i]:ml.push(i)}var Rg=ye(null),wl=null,xa=null;function lo(i,l,f){Oe(Rg,l._currentValue),l._currentValue=f}function va(i){i._currentValue=Rg.current,Ne(Rg)}function Ng(i,l,f){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===f)break;i=i.return}}function Mg(i,l,f,m){var E=i.child;for(E!==null&&(E.return=i);E!==null;){var S=E.dependencies;if(S!==null){var B=E.child;S=S.firstContext;e:for(;S!==null;){var Q=S;S=E;for(var oe=0;oe<l.length;oe++)if(Q.context===l[oe]){S.lanes|=f,Q=S.alternate,Q!==null&&(Q.lanes|=f),Ng(S.return,f,i),m||(B=null);break e}S=Q.next}}else if(E.tag===18){if(B=E.return,B===null)throw Error(r(341));B.lanes|=f,S=B.alternate,S!==null&&(S.lanes|=f),Ng(B,f,i),B=null}else B=E.child;if(B!==null)B.return=E;else for(B=E;B!==null;){if(B===i){B=null;break}if(E=B.sibling,E!==null){E.return=B.return,B=E;break}B=B.return}E=B}}function Nu(i,l,f,m){i=null;for(var E=l,S=!1;E!==null;){if(!S){if((E.flags&524288)!==0)S=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var B=E.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var Q=E.type;h(E.pendingProps.value,B.value)||(i!==null?i.push(Q):i=[Q])}}else if(E===We.current){if(B=E.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(i!==null?i.push(af):i=[af])}E=E.return}i!==null&&Mg(l,i,f,m),l.flags|=262144}function Ed(i){for(i=i.firstContext;i!==null;){if(!h(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xl(i){wl=i,xa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function si(i){return Dw(wl,i)}function Td(i,l){return wl===null&&xl(i),Dw(i,l)}function Dw(i,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},xa===null){if(i===null)throw Error(r(308));xa=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else xa=xa.next=l;return f}var qI=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(f,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(f){return f()})}},YI=n.unstable_scheduleCallback,WI=n.unstable_NormalPriority,Ar={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dg(){return{controller:new qI,data:new Map,refCount:0}}function Mu(i){i.refCount--,i.refCount===0&&YI(WI,function(){i.controller.abort()})}var Du=null,Og=0,cc=0,uc=null;function XI(i,l){if(Du===null){var f=Du=[];Og=0,cc=P1(),uc={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Og++,l.then(Ow,Ow),l}function Ow(){if(--Og===0&&Du!==null){uc!==null&&(uc.status="fulfilled");var i=Du;Du=null,cc=0,uc=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function KI(i,l){var f=[],m={status:"pending",value:null,reason:null,then:function(E){f.push(E)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var E=0;E<f.length;E++)(0,f[E])(l)},function(E){for(m.status="rejected",m.reason=E,E=0;E<f.length;E++)(0,f[E])(void 0)}),m}var kw=ae.S;ae.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&XI(i,l),kw!==null&&kw(i,l)};var vl=ye(null);function kg(){var i=vl.current;return i!==null?i:Nn.pooledCache}function Ad(i,l){l===null?Oe(vl,vl.current):Oe(vl,l.pool)}function Pw(){var i=kg();return i===null?null:{parent:Ar._currentValue,pool:i}}var Ou=Error(r(460)),Lw=Error(r(474)),_d=Error(r(542)),Pg={then:function(){}};function Bw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Sd(){}function Vw(i,l,f){switch(f=i[f],f===void 0?i.push(l):f!==l&&(l.then(Sd,Sd),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Fw(i),i;default:if(typeof l.status=="string")l.then(Sd,Sd);else{if(i=Nn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=m}},function(m){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Fw(i),i}throw ku=l,Ou}}var ku=null;function Uw(){if(ku===null)throw Error(r(459));var i=ku;return ku=null,i}function Fw(i){if(i===Ou||i===_d)throw Error(r(483))}var co=!1;function Lg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bg(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function uo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fo(i,l,f){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(gn&2)!==0){var E=m.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),m.pending=l,l=wd(i),Sw(i,null,f),l}return yd(i,m,l,f),wd(i)}function Pu(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,f|=m,l.lanes=f,Fr(i,f)}}function Vg(i,l){var f=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var E=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var B={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?E=S=B:S=S.next=B,f=f.next}while(f!==null);S===null?E=S=l:S=S.next=l}else E=S=l;f={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}var Ug=!1;function Lu(){if(Ug){var i=uc;if(i!==null)throw i}}function Bu(i,l,f,m){Ug=!1;var E=i.updateQueue;co=!1;var S=E.firstBaseUpdate,B=E.lastBaseUpdate,Q=E.shared.pending;if(Q!==null){E.shared.pending=null;var oe=Q,xe=oe.next;oe.next=null,B===null?S=xe:B.next=xe,B=oe;var Ie=i.alternate;Ie!==null&&(Ie=Ie.updateQueue,Q=Ie.lastBaseUpdate,Q!==B&&(Q===null?Ie.firstBaseUpdate=xe:Q.next=xe,Ie.lastBaseUpdate=oe))}if(S!==null){var ke=E.baseState;B=0,Ie=xe=oe=null,Q=S;do{var ve=Q.lane&-536870913,Ae=ve!==Q.lane;if(Ae?(Qt&ve)===ve:(m&ve)===ve){ve!==0&&ve===cc&&(Ug=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var pt=i,dt=Q;ve=l;var En=f;switch(dt.tag){case 1:if(pt=dt.payload,typeof pt=="function"){ke=pt.call(En,ke,ve);break e}ke=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=dt.payload,ve=typeof pt=="function"?pt.call(En,ke,ve):pt,ve==null)break e;ke=T({},ke,ve);break e;case 2:co=!0}}ve=Q.callback,ve!==null&&(i.flags|=64,Ae&&(i.flags|=8192),Ae=E.callbacks,Ae===null?E.callbacks=[ve]:Ae.push(ve))}else Ae={lane:ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ie===null?(xe=Ie=Ae,oe=ke):Ie=Ie.next=Ae,B|=ve;if(Q=Q.next,Q===null){if(Q=E.shared.pending,Q===null)break;Ae=Q,Q=Ae.next,Ae.next=null,E.lastBaseUpdate=Ae,E.shared.pending=null}}while(!0);Ie===null&&(oe=ke),E.baseState=oe,E.firstBaseUpdate=xe,E.lastBaseUpdate=Ie,S===null&&(E.shared.lanes=0),vo|=B,i.lanes=B,i.memoizedState=ke}}function zw(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function jw(i,l){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)zw(f[i],l)}var fc=ye(null),Cd=ye(0);function Hw(i,l){i=Ca,Oe(Cd,i),Oe(fc,l),Ca=i|l.baseLanes}function Fg(){Oe(Cd,Ca),Oe(fc,fc.current)}function zg(){Ca=Cd.current,Ne(fc),Ne(Cd)}var ho=0,Dt=null,vn=null,yr=null,Id=!1,dc=!1,bl=!1,Rd=0,Vu=0,hc=null,QI=0;function fr(){throw Error(r(321))}function jg(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!h(i[f],l[f]))return!1;return!0}function Hg(i,l,f,m,E,S){return ho=S,Dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=i===null||i.memoizedState===null?Sx:Cx,bl=!1,S=f(m,E),bl=!1,dc&&(S=qw(l,f,m,E)),Gw(i),S}function Gw(i){ae.H=Pd;var l=vn!==null&&vn.next!==null;if(ho=0,yr=vn=Dt=null,Id=!1,Vu=0,hc=null,l)throw Error(r(300));i===null||Dr||(i=i.dependencies,i!==null&&Ed(i)&&(Dr=!0))}function qw(i,l,f,m){Dt=i;var E=0;do{if(dc&&(hc=null),Vu=0,dc=!1,25<=E)throw Error(r(301));if(E+=1,yr=vn=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}ae.H=r3,S=l(f,m)}while(dc);return S}function ZI(){var i=ae.H,l=i.useState()[0];return l=typeof l.then=="function"?Uu(l):l,i=i.useState()[0],(vn!==null?vn.memoizedState:null)!==i&&(Dt.flags|=1024),l}function Gg(){var i=Rd!==0;return Rd=0,i}function qg(i,l,f){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~f}function Yg(i){if(Id){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Id=!1}ho=0,yr=vn=Dt=null,dc=!1,Vu=Rd=0,hc=null}function _i(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Dt.memoizedState=yr=i:yr=yr.next=i,yr}function wr(){if(vn===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=vn.next;var l=yr===null?Dt.memoizedState:yr.next;if(l!==null)yr=l,vn=i;else{if(i===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));vn=i,i={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},yr===null?Dt.memoizedState=yr=i:yr=yr.next=i}return yr}function Wg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uu(i){var l=Vu;return Vu+=1,hc===null&&(hc=[]),i=Vw(hc,i,l),l=Dt,(yr===null?l.memoizedState:yr.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?Sx:Cx),i}function Nd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Uu(i);if(i.$$typeof===F)return si(i)}throw Error(r(438,String(i)))}function Xg(i){var l=null,f=Dt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=Dt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Wg(),Dt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(i),m=0;m<i;m++)f[m]=W;return l.index++,f}function ba(i,l){return typeof l=="function"?l(i):l}function Md(i){var l=wr();return Kg(l,vn,i)}function Kg(i,l,f){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var E=i.baseQueue,S=m.pending;if(S!==null){if(E!==null){var B=E.next;E.next=S.next,S.next=B}l.baseQueue=E=S,m.pending=null}if(S=i.baseState,E===null)i.memoizedState=S;else{l=E.next;var Q=B=null,oe=null,xe=l,Ie=!1;do{var ke=xe.lane&-536870913;if(ke!==xe.lane?(Qt&ke)===ke:(ho&ke)===ke){var ve=xe.revertLane;if(ve===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),ke===cc&&(Ie=!0);else if((ho&ve)===ve){xe=xe.next,ve===cc&&(Ie=!0);continue}else ke={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},oe===null?(Q=oe=ke,B=S):oe=oe.next=ke,Dt.lanes|=ve,vo|=ve;ke=xe.action,bl&&f(S,ke),S=xe.hasEagerState?xe.eagerState:f(S,ke)}else ve={lane:ke,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},oe===null?(Q=oe=ve,B=S):oe=oe.next=ve,Dt.lanes|=ke,vo|=ke;xe=xe.next}while(xe!==null&&xe!==l);if(oe===null?B=S:oe.next=Q,!h(S,i.memoizedState)&&(Dr=!0,Ie&&(f=uc,f!==null)))throw f;i.memoizedState=S,i.baseState=B,i.baseQueue=oe,m.lastRenderedState=S}return E===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Qg(i){var l=wr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var m=f.dispatch,E=f.pending,S=l.memoizedState;if(E!==null){f.pending=null;var B=E=E.next;do S=i(S,B.action),B=B.next;while(B!==E);h(S,l.memoizedState)||(Dr=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,m]}function Yw(i,l,f){var m=Dt,E=wr(),S=ln;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=l();var B=!h((vn||E).memoizedState,f);B&&(E.memoizedState=f,Dr=!0),E=E.queue;var Q=Kw.bind(null,m,E,i);if(Fu(2048,8,Q,[i]),E.getSnapshot!==l||B||yr!==null&&yr.memoizedState.tag&1){if(m.flags|=2048,gc(9,Dd(),Xw.bind(null,m,E,f,l),null),Nn===null)throw Error(r(349));S||(ho&124)!==0||Ww(m,l,f)}return f}function Ww(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=Dt.updateQueue,l===null?(l=Wg(),Dt.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function Xw(i,l,f,m){l.value=f,l.getSnapshot=m,Qw(l)&&Zw(i)}function Kw(i,l,f){return f(function(){Qw(l)&&Zw(i)})}function Qw(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!h(i,f)}catch{return!0}}function Zw(i){var l=sc(i,2);l!==null&&Yi(l,i,2)}function Zg(i){var l=_i();if(typeof i=="function"){var f=i;if(i=f(),bl){Jn(!0);try{f()}finally{Jn(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:i},l}function $w(i,l,f,m){return i.baseState=f,Kg(i,vn,typeof m=="function"?m:ba)}function $I(i,l,f,m,E){if(kd(i))throw Error(r(485));if(i=l.action,i!==null){var S={payload:E,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){S.listeners.push(B)}};ae.T!==null?f(!0):S.isTransition=!1,m(S),f=l.pending,f===null?(S.next=l.pending=S,Jw(l,S)):(S.next=f.next,l.pending=f.next=S)}}function Jw(i,l){var f=l.action,m=l.payload,E=i.state;if(l.isTransition){var S=ae.T,B={};ae.T=B;try{var Q=f(E,m),oe=ae.S;oe!==null&&oe(B,Q),ex(i,l,Q)}catch(xe){$g(i,l,xe)}finally{ae.T=S}}else try{S=f(E,m),ex(i,l,S)}catch(xe){$g(i,l,xe)}}function ex(i,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){tx(i,l,m)},function(m){return $g(i,l,m)}):tx(i,l,f)}function tx(i,l,f){l.status="fulfilled",l.value=f,nx(l),i.state=f,l=i.pending,l!==null&&(f=l.next,f===l?i.pending=null:(f=f.next,l.next=f,Jw(i,f)))}function $g(i,l,f){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,nx(l),l=l.next;while(l!==m)}i.action=null}function nx(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function rx(i,l){return l}function ix(i,l){if(ln){var f=Nn.formState;if(f!==null){e:{var m=Dt;if(ln){if(rr){t:{for(var E=rr,S=Hs;E.nodeType!==8;){if(!S){E=null;break t}if(E=Is(E.nextSibling),E===null){E=null;break t}}S=E.data,E=S==="F!"||S==="F"?E:null}if(E){rr=Is(E.nextSibling),m=E.data==="F!";break e}}yl(m)}m=!1}m&&(l=f[0])}}return f=_i(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rx,lastRenderedState:l},f.queue=m,f=Tx.bind(null,Dt,m),m.dispatch=f,m=Zg(!1),S=r1.bind(null,Dt,!1,m.queue),m=_i(),E={state:l,dispatch:null,action:i,pending:null},m.queue=E,f=$I.bind(null,Dt,E,S,f),E.dispatch=f,m.memoizedState=i,[l,f,!1]}function sx(i){var l=wr();return ax(l,vn,i)}function ax(i,l,f){if(l=Kg(i,l,rx)[0],i=Md(ba)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Uu(l)}catch(B){throw B===Ou?_d:B}else m=l;l=wr();var E=l.queue,S=E.dispatch;return f!==l.memoizedState&&(Dt.flags|=2048,gc(9,Dd(),JI.bind(null,E,f),null)),[m,S,i]}function JI(i,l){i.action=l}function ox(i){var l=wr(),f=vn;if(f!==null)return ax(l,f,i);wr(),l=l.memoizedState,f=wr();var m=f.queue.dispatch;return f.memoizedState=i,[l,m,!1]}function gc(i,l,f,m){return i={tag:i,create:f,deps:m,inst:l,next:null},l=Dt.updateQueue,l===null&&(l=Wg(),Dt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=i.next=i:(m=f.next,f.next=i,i.next=m,l.lastEffect=i),i}function Dd(){return{destroy:void 0,resource:void 0}}function lx(){return wr().memoizedState}function Od(i,l,f,m){var E=_i();m=m===void 0?null:m,Dt.flags|=i,E.memoizedState=gc(1|l,Dd(),f,m)}function Fu(i,l,f,m){var E=wr();m=m===void 0?null:m;var S=E.memoizedState.inst;vn!==null&&m!==null&&jg(m,vn.memoizedState.deps)?E.memoizedState=gc(l,S,f,m):(Dt.flags|=i,E.memoizedState=gc(1|l,S,f,m))}function cx(i,l){Od(8390656,8,i,l)}function ux(i,l){Fu(2048,8,i,l)}function fx(i,l){return Fu(4,2,i,l)}function dx(i,l){return Fu(4,4,i,l)}function hx(i,l){if(typeof l=="function"){i=i();var f=l(i);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function gx(i,l,f){f=f!=null?f.concat([i]):null,Fu(4,4,hx.bind(null,l,i),f)}function Jg(){}function px(i,l){var f=wr();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&jg(l,m[1])?m[0]:(f.memoizedState=[i,l],i)}function mx(i,l){var f=wr();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&jg(l,m[1]))return m[0];if(m=i(),bl){Jn(!0);try{i()}finally{Jn(!1)}}return f.memoizedState=[m,l],m}function e1(i,l,f){return f===void 0||(ho&1073741824)!==0?i.memoizedState=l:(i.memoizedState=f,i=xv(),Dt.lanes|=i,vo|=i,f)}function yx(i,l,f,m){return h(f,l)?f:fc.current!==null?(i=e1(i,f,m),h(i,l)||(Dr=!0),i):(ho&42)===0?(Dr=!0,i.memoizedState=f):(i=xv(),Dt.lanes|=i,vo|=i,l)}function wx(i,l,f,m,E){var S=he.p;he.p=S!==0&&8>S?S:8;var B=ae.T,Q={};ae.T=Q,r1(i,!1,l,f);try{var oe=E(),xe=ae.S;if(xe!==null&&xe(Q,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ie=KI(oe,m);zu(i,l,Ie,qi(i))}else zu(i,l,m,qi(i))}catch(ke){zu(i,l,{then:function(){},status:"rejected",reason:ke},qi())}finally{he.p=S,ae.T=B}}function e3(){}function t1(i,l,f,m){if(i.tag!==5)throw Error(r(476));var E=xx(i).queue;wx(i,E,l,be,f===null?e3:function(){return vx(i),f(m)})}function xx(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:be},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:f},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function vx(i){var l=xx(i).next.queue;zu(i,l,{},qi())}function n1(){return si(af)}function bx(){return wr().memoizedState}function Ex(){return wr().memoizedState}function t3(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var f=qi();i=uo(f);var m=fo(l,i,f);m!==null&&(Yi(m,l,f),Pu(m,l,f)),l={cache:Dg()},i.payload=l;return}l=l.return}}function n3(i,l,f){var m=qi();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},kd(i)?Ax(l,f):(f=Eg(i,l,f,m),f!==null&&(Yi(f,i,m),_x(f,l,m)))}function Tx(i,l,f){var m=qi();zu(i,l,f,m)}function zu(i,l,f,m){var E={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(kd(i))Ax(l,E);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var B=l.lastRenderedState,Q=S(B,f);if(E.hasEagerState=!0,E.eagerState=Q,h(Q,B))return yd(i,l,E,0),Nn===null&&md(),!1}catch{}finally{}if(f=Eg(i,l,E,m),f!==null)return Yi(f,i,m),_x(f,l,m),!0}return!1}function r1(i,l,f,m){if(m={lane:2,revertLane:P1(),action:m,hasEagerState:!1,eagerState:null,next:null},kd(i)){if(l)throw Error(r(479))}else l=Eg(i,f,m,2),l!==null&&Yi(l,i,2)}function kd(i){var l=i.alternate;return i===Dt||l!==null&&l===Dt}function Ax(i,l){dc=Id=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function _x(i,l,f){if((f&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,f|=m,l.lanes=f,Fr(i,f)}}var Pd={readContext:si,use:Nd,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr},Sx={readContext:si,use:Nd,useCallback:function(i,l){return _i().memoizedState=[i,l===void 0?null:l],i},useContext:si,useEffect:cx,useImperativeHandle:function(i,l,f){f=f!=null?f.concat([i]):null,Od(4194308,4,hx.bind(null,l,i),f)},useLayoutEffect:function(i,l){return Od(4194308,4,i,l)},useInsertionEffect:function(i,l){Od(4,2,i,l)},useMemo:function(i,l){var f=_i();l=l===void 0?null:l;var m=i();if(bl){Jn(!0);try{i()}finally{Jn(!1)}}return f.memoizedState=[m,l],m},useReducer:function(i,l,f){var m=_i();if(f!==void 0){var E=f(l);if(bl){Jn(!0);try{f(l)}finally{Jn(!1)}}}else E=l;return m.memoizedState=m.baseState=E,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:E},m.queue=i,i=i.dispatch=n3.bind(null,Dt,i),[m.memoizedState,i]},useRef:function(i){var l=_i();return i={current:i},l.memoizedState=i},useState:function(i){i=Zg(i);var l=i.queue,f=Tx.bind(null,Dt,l);return l.dispatch=f,[i.memoizedState,f]},useDebugValue:Jg,useDeferredValue:function(i,l){var f=_i();return e1(f,i,l)},useTransition:function(){var i=Zg(!1);return i=wx.bind(null,Dt,i.queue,!0,!1),_i().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,f){var m=Dt,E=_i();if(ln){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Nn===null)throw Error(r(349));(Qt&124)!==0||Ww(m,l,f)}E.memoizedState=f;var S={value:f,getSnapshot:l};return E.queue=S,cx(Kw.bind(null,m,S,i),[i]),m.flags|=2048,gc(9,Dd(),Xw.bind(null,m,S,f,l),null),f},useId:function(){var i=_i(),l=Nn.identifierPrefix;if(ln){var f=wa,m=ya;f=(m&~(1<<32-en(m)-1)).toString(32)+f,l="«"+l+"R"+f,f=Rd++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=QI++,l="«"+l+"r"+f.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:n1,useFormState:ix,useActionState:ix,useOptimistic:function(i){var l=_i();l.memoizedState=l.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=r1.bind(null,Dt,!0,f),f.dispatch=l,[i,l]},useMemoCache:Xg,useCacheRefresh:function(){return _i().memoizedState=t3.bind(null,Dt)}},Cx={readContext:si,use:Nd,useCallback:px,useContext:si,useEffect:ux,useImperativeHandle:gx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:mx,useReducer:Md,useRef:lx,useState:function(){return Md(ba)},useDebugValue:Jg,useDeferredValue:function(i,l){var f=wr();return yx(f,vn.memoizedState,i,l)},useTransition:function(){var i=Md(ba)[0],l=wr().memoizedState;return[typeof i=="boolean"?i:Uu(i),l]},useSyncExternalStore:Yw,useId:bx,useHostTransitionStatus:n1,useFormState:sx,useActionState:sx,useOptimistic:function(i,l){var f=wr();return $w(f,vn,i,l)},useMemoCache:Xg,useCacheRefresh:Ex},r3={readContext:si,use:Nd,useCallback:px,useContext:si,useEffect:ux,useImperativeHandle:gx,useInsertionEffect:fx,useLayoutEffect:dx,useMemo:mx,useReducer:Qg,useRef:lx,useState:function(){return Qg(ba)},useDebugValue:Jg,useDeferredValue:function(i,l){var f=wr();return vn===null?e1(f,i,l):yx(f,vn.memoizedState,i,l)},useTransition:function(){var i=Qg(ba)[0],l=wr().memoizedState;return[typeof i=="boolean"?i:Uu(i),l]},useSyncExternalStore:Yw,useId:bx,useHostTransitionStatus:n1,useFormState:ox,useActionState:ox,useOptimistic:function(i,l){var f=wr();return vn!==null?$w(f,vn,i,l):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:Xg,useCacheRefresh:Ex},pc=null,ju=0;function Ld(i){var l=ju;return ju+=1,pc===null&&(pc=[]),Vw(pc,i,l)}function Hu(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Bd(i,l){throw l.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Ix(i){var l=i._init;return l(i._payload)}function Rx(i){function l(de,fe){if(i){var we=de.deletions;we===null?(de.deletions=[fe],de.flags|=16):we.push(fe)}}function f(de,fe){if(!i)return null;for(;fe!==null;)l(de,fe),fe=fe.sibling;return null}function m(de){for(var fe=new Map;de!==null;)de.key!==null?fe.set(de.key,de):fe.set(de.index,de),de=de.sibling;return fe}function E(de,fe){return de=ma(de,fe),de.index=0,de.sibling=null,de}function S(de,fe,we){return de.index=we,i?(we=de.alternate,we!==null?(we=we.index,we<fe?(de.flags|=67108866,fe):we):(de.flags|=67108866,fe)):(de.flags|=1048576,fe)}function B(de){return i&&de.alternate===null&&(de.flags|=67108866),de}function Q(de,fe,we,Me){return fe===null||fe.tag!==6?(fe=Ag(we,de.mode,Me),fe.return=de,fe):(fe=E(fe,we),fe.return=de,fe)}function oe(de,fe,we,Me){var tt=we.type;return tt===M?Ie(de,fe,we.props.children,Me,we.key):fe!==null&&(fe.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===L&&Ix(tt)===fe.type)?(fe=E(fe,we.props),Hu(fe,we),fe.return=de,fe):(fe=xd(we.type,we.key,we.props,null,de.mode,Me),Hu(fe,we),fe.return=de,fe)}function xe(de,fe,we,Me){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==we.containerInfo||fe.stateNode.implementation!==we.implementation?(fe=_g(we,de.mode,Me),fe.return=de,fe):(fe=E(fe,we.children||[]),fe.return=de,fe)}function Ie(de,fe,we,Me,tt){return fe===null||fe.tag!==7?(fe=hl(we,de.mode,Me,tt),fe.return=de,fe):(fe=E(fe,we),fe.return=de,fe)}function ke(de,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Ag(""+fe,de.mode,we),fe.return=de,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case I:return we=xd(fe.type,fe.key,fe.props,null,de.mode,we),Hu(we,fe),we.return=de,we;case N:return fe=_g(fe,de.mode,we),fe.return=de,fe;case L:var Me=fe._init;return fe=Me(fe._payload),ke(de,fe,we)}if(le(fe)||G(fe))return fe=hl(fe,de.mode,we,null),fe.return=de,fe;if(typeof fe.then=="function")return ke(de,Ld(fe),we);if(fe.$$typeof===F)return ke(de,Td(de,fe),we);Bd(de,fe)}return null}function ve(de,fe,we,Me){var tt=fe!==null?fe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return tt!==null?null:Q(de,fe,""+we,Me);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case I:return we.key===tt?oe(de,fe,we,Me):null;case N:return we.key===tt?xe(de,fe,we,Me):null;case L:return tt=we._init,we=tt(we._payload),ve(de,fe,we,Me)}if(le(we)||G(we))return tt!==null?null:Ie(de,fe,we,Me,null);if(typeof we.then=="function")return ve(de,fe,Ld(we),Me);if(we.$$typeof===F)return ve(de,fe,Td(de,we),Me);Bd(de,we)}return null}function Ae(de,fe,we,Me,tt){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return de=de.get(we)||null,Q(fe,de,""+Me,tt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case I:return de=de.get(Me.key===null?we:Me.key)||null,oe(fe,de,Me,tt);case N:return de=de.get(Me.key===null?we:Me.key)||null,xe(fe,de,Me,tt);case L:var Bt=Me._init;return Me=Bt(Me._payload),Ae(de,fe,we,Me,tt)}if(le(Me)||G(Me))return de=de.get(we)||null,Ie(fe,de,Me,tt,null);if(typeof Me.then=="function")return Ae(de,fe,we,Ld(Me),tt);if(Me.$$typeof===F)return Ae(de,fe,we,Td(fe,Me),tt);Bd(fe,Me)}return null}function pt(de,fe,we,Me){for(var tt=null,Bt=null,at=fe,ht=fe=0,kr=null;at!==null&&ht<we.length;ht++){at.index>ht?(kr=at,at=null):kr=at.sibling;var sn=ve(de,at,we[ht],Me);if(sn===null){at===null&&(at=kr);break}i&&at&&sn.alternate===null&&l(de,at),fe=S(sn,fe,ht),Bt===null?tt=sn:Bt.sibling=sn,Bt=sn,at=kr}if(ht===we.length)return f(de,at),ln&&pl(de,ht),tt;if(at===null){for(;ht<we.length;ht++)at=ke(de,we[ht],Me),at!==null&&(fe=S(at,fe,ht),Bt===null?tt=at:Bt.sibling=at,Bt=at);return ln&&pl(de,ht),tt}for(at=m(at);ht<we.length;ht++)kr=Ae(at,de,ht,we[ht],Me),kr!==null&&(i&&kr.alternate!==null&&at.delete(kr.key===null?ht:kr.key),fe=S(kr,fe,ht),Bt===null?tt=kr:Bt.sibling=kr,Bt=kr);return i&&at.forEach(function(Ro){return l(de,Ro)}),ln&&pl(de,ht),tt}function dt(de,fe,we,Me){if(we==null)throw Error(r(151));for(var tt=null,Bt=null,at=fe,ht=fe=0,kr=null,sn=we.next();at!==null&&!sn.done;ht++,sn=we.next()){at.index>ht?(kr=at,at=null):kr=at.sibling;var Ro=ve(de,at,sn.value,Me);if(Ro===null){at===null&&(at=kr);break}i&&at&&Ro.alternate===null&&l(de,at),fe=S(Ro,fe,ht),Bt===null?tt=Ro:Bt.sibling=Ro,Bt=Ro,at=kr}if(sn.done)return f(de,at),ln&&pl(de,ht),tt;if(at===null){for(;!sn.done;ht++,sn=we.next())sn=ke(de,sn.value,Me),sn!==null&&(fe=S(sn,fe,ht),Bt===null?tt=sn:Bt.sibling=sn,Bt=sn);return ln&&pl(de,ht),tt}for(at=m(at);!sn.done;ht++,sn=we.next())sn=Ae(at,de,ht,sn.value,Me),sn!==null&&(i&&sn.alternate!==null&&at.delete(sn.key===null?ht:sn.key),fe=S(sn,fe,ht),Bt===null?tt=sn:Bt.sibling=sn,Bt=sn);return i&&at.forEach(function(iR){return l(de,iR)}),ln&&pl(de,ht),tt}function En(de,fe,we,Me){if(typeof we=="object"&&we!==null&&we.type===M&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case I:e:{for(var tt=we.key;fe!==null;){if(fe.key===tt){if(tt=we.type,tt===M){if(fe.tag===7){f(de,fe.sibling),Me=E(fe,we.props.children),Me.return=de,de=Me;break e}}else if(fe.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===L&&Ix(tt)===fe.type){f(de,fe.sibling),Me=E(fe,we.props),Hu(Me,we),Me.return=de,de=Me;break e}f(de,fe);break}else l(de,fe);fe=fe.sibling}we.type===M?(Me=hl(we.props.children,de.mode,Me,we.key),Me.return=de,de=Me):(Me=xd(we.type,we.key,we.props,null,de.mode,Me),Hu(Me,we),Me.return=de,de=Me)}return B(de);case N:e:{for(tt=we.key;fe!==null;){if(fe.key===tt)if(fe.tag===4&&fe.stateNode.containerInfo===we.containerInfo&&fe.stateNode.implementation===we.implementation){f(de,fe.sibling),Me=E(fe,we.children||[]),Me.return=de,de=Me;break e}else{f(de,fe);break}else l(de,fe);fe=fe.sibling}Me=_g(we,de.mode,Me),Me.return=de,de=Me}return B(de);case L:return tt=we._init,we=tt(we._payload),En(de,fe,we,Me)}if(le(we))return pt(de,fe,we,Me);if(G(we)){if(tt=G(we),typeof tt!="function")throw Error(r(150));return we=tt.call(we),dt(de,fe,we,Me)}if(typeof we.then=="function")return En(de,fe,Ld(we),Me);if(we.$$typeof===F)return En(de,fe,Td(de,we),Me);Bd(de,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,fe!==null&&fe.tag===6?(f(de,fe.sibling),Me=E(fe,we),Me.return=de,de=Me):(f(de,fe),Me=Ag(we,de.mode,Me),Me.return=de,de=Me),B(de)):f(de,fe)}return function(de,fe,we,Me){try{ju=0;var tt=En(de,fe,we,Me);return pc=null,tt}catch(at){if(at===Ou||at===_d)throw at;var Bt=zi(29,at,null,de.mode);return Bt.lanes=Me,Bt.return=de,Bt}finally{}}}var mc=Rx(!0),Nx=Rx(!1),gs=ye(null),Gs=null;function go(i){var l=i.alternate;Oe(_r,_r.current&1),Oe(gs,i),Gs===null&&(l===null||fc.current!==null||l.memoizedState!==null)&&(Gs=i)}function Mx(i){if(i.tag===22){if(Oe(_r,_r.current),Oe(gs,i),Gs===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Gs=i)}}else po()}function po(){Oe(_r,_r.current),Oe(gs,gs.current)}function Ea(i){Ne(gs),Gs===i&&(Gs=null),Ne(_r)}var _r=ye(0);function Vd(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||W1(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function i1(i,l,f,m){l=i.memoizedState,f=f(m,l),f=f==null?l:T({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var s1={enqueueSetState:function(i,l,f){i=i._reactInternals;var m=qi(),E=uo(m);E.payload=l,f!=null&&(E.callback=f),l=fo(i,E,m),l!==null&&(Yi(l,i,m),Pu(l,i,m))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var m=qi(),E=uo(m);E.tag=1,E.payload=l,f!=null&&(E.callback=f),l=fo(i,E,m),l!==null&&(Yi(l,i,m),Pu(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=qi(),m=uo(f);m.tag=2,l!=null&&(m.callback=l),l=fo(i,m,f),l!==null&&(Yi(l,i,f),Pu(l,i,f))}};function Dx(i,l,f,m,E,S,B){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,S,B):l.prototype&&l.prototype.isPureReactComponent?!g(f,m)||!g(E,S):!0}function Ox(i,l,f,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==i&&s1.enqueueReplaceState(l,l.state,null)}function El(i,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(i=i.defaultProps){f===l&&(f=T({},f));for(var E in i)f[E]===void 0&&(f[E]=i[E])}return f}var Ud=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function kx(i){Ud(i)}function Px(i){console.error(i)}function Lx(i){Ud(i)}function Fd(i,l){try{var f=i.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function Bx(i,l,f){try{var m=i.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function a1(i,l,f){return f=uo(f),f.tag=3,f.payload={element:null},f.callback=function(){Fd(i,l)},f}function Vx(i){return i=uo(i),i.tag=3,i}function Ux(i,l,f,m){var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var S=m.value;i.payload=function(){return E(S)},i.callback=function(){Bx(l,f,m)}}var B=f.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(i.callback=function(){Bx(l,f,m),typeof E!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var Q=m.stack;this.componentDidCatch(m.value,{componentStack:Q!==null?Q:""})})}function i3(i,l,f,m,E){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&Nu(l,f,E,!0),f=gs.current,f!==null){switch(f.tag){case 13:return Gs===null?N1():f.alternate===null&&ir===0&&(ir=3),f.flags&=-257,f.flags|=65536,f.lanes=E,m===Pg?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),D1(i,m,E)),!1;case 22:return f.flags|=65536,m===Pg?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),D1(i,m,E)),!1}throw Error(r(435,f.tag))}return D1(i,m,E),N1(),!1}if(ln)return l=gs.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,m!==Ig&&(i=Error(r(422),{cause:m}),Ru(us(i,f)))):(m!==Ig&&(l=Error(r(423),{cause:m}),Ru(us(l,f))),i=i.current.alternate,i.flags|=65536,E&=-E,i.lanes|=E,m=us(m,f),E=a1(i.stateNode,m,E),Vg(i,E),ir!==4&&(ir=2)),!1;var S=Error(r(520),{cause:m});if(S=us(S,f),Qu===null?Qu=[S]:Qu.push(S),ir!==4&&(ir=2),l===null)return!0;m=us(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,i=E&-E,f.lanes|=i,i=a1(f.stateNode,m,i),Vg(f,i),!1;case 1:if(l=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(bo===null||!bo.has(S))))return f.flags|=65536,E&=-E,f.lanes|=E,E=Vx(E),Ux(E,i,f,m),Vg(f,E),!1}f=f.return}while(f!==null);return!1}var Fx=Error(r(461)),Dr=!1;function qr(i,l,f,m){l.child=i===null?Nx(l,null,f,m):mc(l,i.child,f,m)}function zx(i,l,f,m,E){f=f.render;var S=l.ref;if("ref"in m){var B={};for(var Q in m)Q!=="ref"&&(B[Q]=m[Q])}else B=m;return xl(l),m=Hg(i,l,f,B,S,E),Q=Gg(),i!==null&&!Dr?(qg(i,l,E),Ta(i,l,E)):(ln&&Q&&Sg(l),l.flags|=1,qr(i,l,m,E),l.child)}function jx(i,l,f,m,E){if(i===null){var S=f.type;return typeof S=="function"&&!Tg(S)&&S.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=S,Hx(i,l,S,m,E)):(i=xd(f.type,null,m,l,l.mode,E),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,!g1(i,E)){var B=S.memoizedProps;if(f=f.compare,f=f!==null?f:g,f(B,m)&&i.ref===l.ref)return Ta(i,l,E)}return l.flags|=1,i=ma(S,m),i.ref=l.ref,i.return=l,l.child=i}function Hx(i,l,f,m,E){if(i!==null){var S=i.memoizedProps;if(g(S,m)&&i.ref===l.ref)if(Dr=!1,l.pendingProps=m=S,g1(i,E))(i.flags&131072)!==0&&(Dr=!0);else return l.lanes=i.lanes,Ta(i,l,E)}return o1(i,l,f,m,E)}function Gx(i,l,f){var m=l.pendingProps,E=m.children,S=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=S!==null?S.baseLanes|f:f,i!==null){for(E=l.child=i.child,S=0;E!==null;)S=S|E.lanes|E.childLanes,E=E.sibling;l.childLanes=S&~m}else l.childLanes=0,l.child=null;return qx(i,l,m,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ad(l,S!==null?S.cachePool:null),S!==null?Hw(l,S):Fg(),Mx(l);else return l.lanes=l.childLanes=536870912,qx(i,l,S!==null?S.baseLanes|f:f,f)}else S!==null?(Ad(l,S.cachePool),Hw(l,S),po(),l.memoizedState=null):(i!==null&&Ad(l,null),Fg(),po());return qr(i,l,E,f),l.child}function qx(i,l,f,m){var E=kg();return E=E===null?null:{parent:Ar._currentValue,pool:E},l.memoizedState={baseLanes:f,cachePool:E},i!==null&&Ad(l,null),Fg(),Mx(l),i!==null&&Nu(i,l,m,!0),null}function zd(i,l){var f=l.ref;if(f===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(l.flags|=4194816)}}function o1(i,l,f,m,E){return xl(l),f=Hg(i,l,f,m,void 0,E),m=Gg(),i!==null&&!Dr?(qg(i,l,E),Ta(i,l,E)):(ln&&m&&Sg(l),l.flags|=1,qr(i,l,f,E),l.child)}function Yx(i,l,f,m,E,S){return xl(l),l.updateQueue=null,f=qw(l,m,f,E),Gw(i),m=Gg(),i!==null&&!Dr?(qg(i,l,S),Ta(i,l,S)):(ln&&m&&Sg(l),l.flags|=1,qr(i,l,f,S),l.child)}function Wx(i,l,f,m,E){if(xl(l),l.stateNode===null){var S=ac,B=f.contextType;typeof B=="object"&&B!==null&&(S=si(B)),S=new f(m,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=s1,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=m,S.state=l.memoizedState,S.refs={},Lg(l),B=f.contextType,S.context=typeof B=="object"&&B!==null?si(B):ac,S.state=l.memoizedState,B=f.getDerivedStateFromProps,typeof B=="function"&&(i1(l,f,B,m),S.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(B=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),B!==S.state&&s1.enqueueReplaceState(S,S.state,null),Bu(l,m,S,E),Lu(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){S=l.stateNode;var Q=l.memoizedProps,oe=El(f,Q);S.props=oe;var xe=S.context,Ie=f.contextType;B=ac,typeof Ie=="object"&&Ie!==null&&(B=si(Ie));var ke=f.getDerivedStateFromProps;Ie=typeof ke=="function"||typeof S.getSnapshotBeforeUpdate=="function",Q=l.pendingProps!==Q,Ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(Q||xe!==B)&&Ox(l,S,m,B),co=!1;var ve=l.memoizedState;S.state=ve,Bu(l,m,S,E),Lu(),xe=l.memoizedState,Q||ve!==xe||co?(typeof ke=="function"&&(i1(l,f,ke,m),xe=l.memoizedState),(oe=co||Dx(l,f,oe,m,ve,xe,B))?(Ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=xe),S.props=m,S.state=xe,S.context=B,m=oe):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,Bg(i,l),B=l.memoizedProps,Ie=El(f,B),S.props=Ie,ke=l.pendingProps,ve=S.context,xe=f.contextType,oe=ac,typeof xe=="object"&&xe!==null&&(oe=si(xe)),Q=f.getDerivedStateFromProps,(xe=typeof Q=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B!==ke||ve!==oe)&&Ox(l,S,m,oe),co=!1,ve=l.memoizedState,S.state=ve,Bu(l,m,S,E),Lu();var Ae=l.memoizedState;B!==ke||ve!==Ae||co||i!==null&&i.dependencies!==null&&Ed(i.dependencies)?(typeof Q=="function"&&(i1(l,f,Q,m),Ae=l.memoizedState),(Ie=co||Dx(l,f,Ie,m,ve,Ae,oe)||i!==null&&i.dependencies!==null&&Ed(i.dependencies))?(xe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ae,oe),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ae,oe)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||B===i.memoizedProps&&ve===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===i.memoizedProps&&ve===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ae),S.props=m,S.state=Ae,S.context=oe,m=Ie):(typeof S.componentDidUpdate!="function"||B===i.memoizedProps&&ve===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===i.memoizedProps&&ve===i.memoizedState||(l.flags|=1024),m=!1)}return S=m,zd(i,l),m=(l.flags&128)!==0,S||m?(S=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,i!==null&&m?(l.child=mc(l,i.child,null,E),l.child=mc(l,null,f,E)):qr(i,l,f,E),l.memoizedState=S.state,i=l.child):i=Ta(i,l,E),i}function Xx(i,l,f,m){return Iu(),l.flags|=256,qr(i,l,f,m),l.child}var l1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function c1(i){return{baseLanes:i,cachePool:Pw()}}function u1(i,l,f){return i=i!==null?i.childLanes&~f:0,l&&(i|=ps),i}function Kx(i,l,f){var m=l.pendingProps,E=!1,S=(l.flags&128)!==0,B;if((B=S)||(B=i!==null&&i.memoizedState===null?!1:(_r.current&2)!==0),B&&(E=!0,l.flags&=-129),B=(l.flags&32)!==0,l.flags&=-33,i===null){if(ln){if(E?go(l):po(),ln){var Q=rr,oe;if(oe=Q){e:{for(oe=Q,Q=Hs;oe.nodeType!==8;){if(!Q){Q=null;break e}if(oe=Is(oe.nextSibling),oe===null){Q=null;break e}}Q=oe}Q!==null?(l.memoizedState={dehydrated:Q,treeContext:gl!==null?{id:ya,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},oe=zi(18,null,null,0),oe.stateNode=Q,oe.return=l,l.child=oe,pi=l,rr=null,oe=!0):oe=!1}oe||yl(l)}if(Q=l.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null))return W1(Q)?l.lanes=32:l.lanes=536870912,null;Ea(l)}return Q=m.children,m=m.fallback,E?(po(),E=l.mode,Q=jd({mode:"hidden",children:Q},E),m=hl(m,E,f,null),Q.return=l,m.return=l,Q.sibling=m,l.child=Q,E=l.child,E.memoizedState=c1(f),E.childLanes=u1(i,B,f),l.memoizedState=l1,m):(go(l),f1(l,Q))}if(oe=i.memoizedState,oe!==null&&(Q=oe.dehydrated,Q!==null)){if(S)l.flags&256?(go(l),l.flags&=-257,l=d1(i,l,f)):l.memoizedState!==null?(po(),l.child=i.child,l.flags|=128,l=null):(po(),E=m.fallback,Q=l.mode,m=jd({mode:"visible",children:m.children},Q),E=hl(E,Q,f,null),E.flags|=2,m.return=l,E.return=l,m.sibling=E,l.child=m,mc(l,i.child,null,f),m=l.child,m.memoizedState=c1(f),m.childLanes=u1(i,B,f),l.memoizedState=l1,l=E);else if(go(l),W1(Q)){if(B=Q.nextSibling&&Q.nextSibling.dataset,B)var xe=B.dgst;B=xe,m=Error(r(419)),m.stack="",m.digest=B,Ru({value:m,source:null,stack:null}),l=d1(i,l,f)}else if(Dr||Nu(i,l,f,!1),B=(f&i.childLanes)!==0,Dr||B){if(B=Nn,B!==null&&(m=f&-f,m=(m&42)!==0?1:ts(m),m=(m&(B.suspendedLanes|f))!==0?0:m,m!==0&&m!==oe.retryLane))throw oe.retryLane=m,sc(i,m),Yi(B,i,m),Fx;Q.data==="$?"||N1(),l=d1(i,l,f)}else Q.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=oe.treeContext,rr=Is(Q.nextSibling),pi=l,ln=!0,ml=null,Hs=!1,i!==null&&(ds[hs++]=ya,ds[hs++]=wa,ds[hs++]=gl,ya=i.id,wa=i.overflow,gl=l),l=f1(l,m.children),l.flags|=4096);return l}return E?(po(),E=m.fallback,Q=l.mode,oe=i.child,xe=oe.sibling,m=ma(oe,{mode:"hidden",children:m.children}),m.subtreeFlags=oe.subtreeFlags&65011712,xe!==null?E=ma(xe,E):(E=hl(E,Q,f,null),E.flags|=2),E.return=l,m.return=l,m.sibling=E,l.child=m,m=E,E=l.child,Q=i.child.memoizedState,Q===null?Q=c1(f):(oe=Q.cachePool,oe!==null?(xe=Ar._currentValue,oe=oe.parent!==xe?{parent:xe,pool:xe}:oe):oe=Pw(),Q={baseLanes:Q.baseLanes|f,cachePool:oe}),E.memoizedState=Q,E.childLanes=u1(i,B,f),l.memoizedState=l1,m):(go(l),f=i.child,i=f.sibling,f=ma(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,i!==null&&(B=l.deletions,B===null?(l.deletions=[i],l.flags|=16):B.push(i)),l.child=f,l.memoizedState=null,f)}function f1(i,l){return l=jd({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function jd(i,l){return i=zi(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function d1(i,l,f){return mc(l,i.child,null,f),i=f1(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Qx(i,l,f){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),Ng(i.return,l,f)}function h1(i,l,f,m,E){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:E}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=E)}function Zx(i,l,f){var m=l.pendingProps,E=m.revealOrder,S=m.tail;if(qr(i,l,m.children,f),m=_r.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Qx(i,f,l);else if(i.tag===19)Qx(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(Oe(_r,m),E){case"forwards":for(f=l.child,E=null;f!==null;)i=f.alternate,i!==null&&Vd(i)===null&&(E=f),f=f.sibling;f=E,f===null?(E=l.child,l.child=null):(E=f.sibling,f.sibling=null),h1(l,!1,E,f,S);break;case"backwards":for(f=null,E=l.child,l.child=null;E!==null;){if(i=E.alternate,i!==null&&Vd(i)===null){l.child=E;break}i=E.sibling,E.sibling=f,f=E,E=i}h1(l,!0,f,null,S);break;case"together":h1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ta(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),vo|=l.lanes,(f&l.childLanes)===0)if(i!==null){if(Nu(i,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,f=ma(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=ma(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function g1(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Ed(i)))}function s3(i,l,f){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),lo(l,Ar,i.memoizedState.cache),Iu();break;case 27:case 5:lt(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:lo(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(go(l),l.flags|=128,null):(f&l.child.childLanes)!==0?Kx(i,l,f):(go(l),i=Ta(i,l,f),i!==null?i.sibling:null);go(l);break;case 19:var E=(i.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(Nu(i,l,f,!1),m=(f&l.childLanes)!==0),E){if(m)return Zx(i,l,f);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Oe(_r,_r.current),m)break;return null;case 22:case 23:return l.lanes=0,Gx(i,l,f);case 24:lo(l,Ar,i.memoizedState.cache)}return Ta(i,l,f)}function $x(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps)Dr=!0;else{if(!g1(i,f)&&(l.flags&128)===0)return Dr=!1,s3(i,l,f);Dr=(i.flags&131072)!==0}else Dr=!1,ln&&(l.flags&1048576)!==0&&Iw(l,bd,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var m=l.elementType,E=m._init;if(m=E(m._payload),l.type=m,typeof m=="function")Tg(m)?(i=El(m,i),l.tag=1,l=Wx(null,l,m,i,f)):(l.tag=0,l=o1(null,l,m,i,f));else{if(m!=null){if(E=m.$$typeof,E===$){l.tag=11,l=zx(null,l,m,i,f);break e}else if(E===V){l.tag=14,l=jx(null,l,m,i,f);break e}}throw l=_e(m)||m,Error(r(306,l,""))}}return l;case 0:return o1(i,l,l.type,l.pendingProps,f);case 1:return m=l.type,E=El(m,l.pendingProps),Wx(i,l,m,E,f);case 3:e:{if(He(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var S=l.memoizedState;E=S.element,Bg(i,l),Bu(l,m,null,f);var B=l.memoizedState;if(m=B.cache,lo(l,Ar,m),m!==S.cache&&Mg(l,[Ar],f,!0),Lu(),m=B.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:B.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=Xx(i,l,m,f);break e}else if(m!==E){E=us(Error(r(424)),l),Ru(E),l=Xx(i,l,m,f);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rr=Is(i.firstChild),pi=l,ln=!0,ml=null,Hs=!0,f=Nx(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Iu(),m===E){l=Ta(i,l,f);break e}qr(i,l,m,f)}l=l.child}return l;case 26:return zd(i,l),i===null?(f=n2(l.type,null,l.pendingProps,null))?l.memoizedState=f:ln||(f=l.type,i=l.pendingProps,m=nh(Ce.current).createElement(f),m[or]=l,m[xn]=i,Wr(m,f,i),tn(m),l.stateNode=m):l.memoizedState=n2(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return lt(l),i===null&&ln&&(m=l.stateNode=Jv(l.type,l.pendingProps,Ce.current),pi=l,Hs=!0,E=rr,Ao(l.type)?(X1=E,rr=Is(m.firstChild)):rr=E),qr(i,l,l.pendingProps.children,f),zd(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&ln&&((E=m=rr)&&(m=O3(m,l.type,l.pendingProps,Hs),m!==null?(l.stateNode=m,pi=l,rr=Is(m.firstChild),Hs=!1,E=!0):E=!1),E||yl(l)),lt(l),E=l.type,S=l.pendingProps,B=i!==null?i.memoizedProps:null,m=S.children,G1(E,S)?m=null:B!==null&&G1(E,B)&&(l.flags|=32),l.memoizedState!==null&&(E=Hg(i,l,ZI,null,null,f),af._currentValue=E),zd(i,l),qr(i,l,m,f),l.child;case 6:return i===null&&ln&&((i=f=rr)&&(f=k3(f,l.pendingProps,Hs),f!==null?(l.stateNode=f,pi=l,rr=null,i=!0):i=!1),i||yl(l)),null;case 13:return Kx(i,l,f);case 4:return He(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=mc(l,null,m,f):qr(i,l,m,f),l.child;case 11:return zx(i,l,l.type,l.pendingProps,f);case 7:return qr(i,l,l.pendingProps,f),l.child;case 8:return qr(i,l,l.pendingProps.children,f),l.child;case 12:return qr(i,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,lo(l,l.type,m.value),qr(i,l,m.children,f),l.child;case 9:return E=l.type._context,m=l.pendingProps.children,xl(l),E=si(E),m=m(E),l.flags|=1,qr(i,l,m,f),l.child;case 14:return jx(i,l,l.type,l.pendingProps,f);case 15:return Hx(i,l,l.type,l.pendingProps,f);case 19:return Zx(i,l,f);case 31:return m=l.pendingProps,f=l.mode,m={mode:m.mode,children:m.children},i===null?(f=jd(m,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=ma(i.child,m),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return Gx(i,l,f);case 24:return xl(l),m=si(Ar),i===null?(E=kg(),E===null&&(E=Nn,S=Dg(),E.pooledCache=S,S.refCount++,S!==null&&(E.pooledCacheLanes|=f),E=S),l.memoizedState={parent:m,cache:E},Lg(l),lo(l,Ar,E)):((i.lanes&f)!==0&&(Bg(i,l),Bu(l,null,null,f),Lu()),E=i.memoizedState,S=l.memoizedState,E.parent!==m?(E={parent:m,cache:m},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),lo(l,Ar,m)):(m=S.cache,lo(l,Ar,m),m!==E.cache&&Mg(l,[Ar],f,!0))),qr(i,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Aa(i){i.flags|=4}function Jx(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!o2(l)){if(l=gs.current,l!==null&&((Qt&4194048)===Qt?Gs!==null:(Qt&62914560)!==Qt&&(Qt&536870912)===0||l!==Gs))throw ku=Pg,Lw;i.flags|=8192}}function Hd(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?$a():536870912,i.lanes|=l,vc|=l)}function Gu(i,l){if(!ln)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Kn(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,m=0;if(l)for(var E=i.child;E!==null;)f|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=i,E=E.sibling;else for(E=i.child;E!==null;)f|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=i,E=E.sibling;return i.subtreeFlags|=m,i.childLanes=f,l}function a3(i,l,f){var m=l.pendingProps;switch(Cg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(l),null;case 1:return Kn(l),null;case 3:return f=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),va(Ar),Ye(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Cu(l)?Aa(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Mw())),Kn(l),null;case 26:return f=l.memoizedState,i===null?(Aa(l),f!==null?(Kn(l),Jx(l,f)):(Kn(l),l.flags&=-16777217)):f?f!==i.memoizedState?(Aa(l),Kn(l),Jx(l,f)):(Kn(l),l.flags&=-16777217):(i.memoizedProps!==m&&Aa(l),Kn(l),l.flags&=-16777217),null;case 27:et(l),f=Ce.current;var E=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Aa(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Kn(l),null}i=Ge.current,Cu(l)?Rw(l):(i=Jv(E,m,f),l.stateNode=i,Aa(l))}return Kn(l),null;case 5:if(et(l),f=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Aa(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Kn(l),null}if(i=Ge.current,Cu(l))Rw(l);else{switch(E=nh(Ce.current),i){case 1:i=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:i=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":i=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":i=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?E.createElement(f,{is:m.is}):E.createElement(f)}}i[or]=l,i[xn]=m;e:for(E=l.child;E!==null;){if(E.tag===5||E.tag===6)i.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===l)break e;for(;E.sibling===null;){if(E.return===null||E.return===l)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}l.stateNode=i;e:switch(Wr(i,f,m),f){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Aa(l)}}return Kn(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Aa(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=Ce.current,Cu(l)){if(i=l.stateNode,f=l.memoizedProps,m=null,E=pi,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}i[or]=l,i=!!(i.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||Yv(i.nodeValue,f)),i||yl(l)}else i=nh(i).createTextNode(m),i[or]=l,l.stateNode=i}return Kn(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(E=Cu(l),m!==null&&m.dehydrated!==null){if(i===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[or]=l}else Iu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Kn(l),E=!1}else E=Mw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(Ea(l),l):(Ea(l),null)}if(Ea(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=m!==null,i=i!==null&&i.memoizedState!==null,f){m=l.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==E&&(m.flags|=2048)}return f!==i&&f&&(l.child.flags|=8192),Hd(l,l.updateQueue),Kn(l),null;case 4:return Ye(),i===null&&U1(l.stateNode.containerInfo),Kn(l),null;case 10:return va(l.type),Kn(l),null;case 19:if(Ne(_r),E=l.memoizedState,E===null)return Kn(l),null;if(m=(l.flags&128)!==0,S=E.rendering,S===null)if(m)Gu(E,!1);else{if(ir!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(S=Vd(i),S!==null){for(l.flags|=128,Gu(E,!1),i=S.updateQueue,l.updateQueue=i,Hd(l,i),l.subtreeFlags=0,i=f,f=l.child;f!==null;)Cw(f,i),f=f.sibling;return Oe(_r,_r.current&1|2),l.child}i=i.sibling}E.tail!==null&&wt()>Yd&&(l.flags|=128,m=!0,Gu(E,!1),l.lanes=4194304)}else{if(!m)if(i=Vd(S),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,Hd(l,i),Gu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!S.alternate&&!ln)return Kn(l),null}else 2*wt()-E.renderingStartTime>Yd&&f!==536870912&&(l.flags|=128,m=!0,Gu(E,!1),l.lanes=4194304);E.isBackwards?(S.sibling=l.child,l.child=S):(i=E.last,i!==null?i.sibling=S:l.child=S,E.last=S)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=wt(),l.sibling=null,i=_r.current,Oe(_r,m?i&1|2:i&1),l):(Kn(l),null);case 22:case 23:return Ea(l),zg(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(Kn(l),l.subtreeFlags&6&&(l.flags|=8192)):Kn(l),f=l.updateQueue,f!==null&&Hd(l,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),i!==null&&Ne(vl),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),va(Ar),Kn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function o3(i,l){switch(Cg(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return va(Ar),Ye(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return et(l),null;case 13:if(Ea(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Iu()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Ne(_r),null;case 4:return Ye(),null;case 10:return va(l.type),null;case 22:case 23:return Ea(l),zg(),i!==null&&Ne(vl),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return va(Ar),null;case 25:return null;default:return null}}function ev(i,l){switch(Cg(l),l.tag){case 3:va(Ar),Ye();break;case 26:case 27:case 5:et(l);break;case 4:Ye();break;case 13:Ea(l);break;case 19:Ne(_r);break;case 10:va(l.type);break;case 22:case 23:Ea(l),zg(),i!==null&&Ne(vl);break;case 24:va(Ar)}}function qu(i,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var E=m.next;f=E;do{if((f.tag&i)===i){m=void 0;var S=f.create,B=f.inst;m=S(),B.destroy=m}f=f.next}while(f!==E)}}catch(Q){In(l,l.return,Q)}}function mo(i,l,f){try{var m=l.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var S=E.next;m=S;do{if((m.tag&i)===i){var B=m.inst,Q=B.destroy;if(Q!==void 0){B.destroy=void 0,E=l;var oe=f,xe=Q;try{xe()}catch(Ie){In(E,oe,Ie)}}}m=m.next}while(m!==S)}}catch(Ie){In(l,l.return,Ie)}}function tv(i){var l=i.updateQueue;if(l!==null){var f=i.stateNode;try{jw(l,f)}catch(m){In(i,i.return,m)}}}function nv(i,l,f){f.props=El(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(m){In(i,l,m)}}function Yu(i,l){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof f=="function"?i.refCleanup=f(m):f.current=m}}catch(E){In(i,l,E)}}function qs(i,l){var f=i.ref,m=i.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(E){In(i,l,E)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(E){In(i,l,E)}else f.current=null}function rv(i){var l=i.type,f=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(E){In(i,i.return,E)}}function p1(i,l,f){try{var m=i.stateNode;I3(m,i.type,f,l),m[xn]=l}catch(E){In(i,i.return,E)}}function iv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ao(i.type)||i.tag===4}function m1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||iv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ao(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function y1(i,l,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(i),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=th));else if(m!==4&&(m===27&&Ao(i.type)&&(f=i.stateNode,l=null),i=i.child,i!==null))for(y1(i,l,f),i=i.sibling;i!==null;)y1(i,l,f),i=i.sibling}function Gd(i,l,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(m!==4&&(m===27&&Ao(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(Gd(i,l,f),i=i.sibling;i!==null;)Gd(i,l,f),i=i.sibling}function sv(i){var l=i.stateNode,f=i.memoizedProps;try{for(var m=i.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Wr(l,m,f),l[or]=i,l[xn]=f}catch(S){In(i,i.return,S)}}var _a=!1,dr=!1,w1=!1,av=typeof WeakSet=="function"?WeakSet:Set,Or=null;function l3(i,l){if(i=i.containerInfo,j1=lh,i=C(i),D(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var E=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var B=0,Q=-1,oe=-1,xe=0,Ie=0,ke=i,ve=null;t:for(;;){for(var Ae;ke!==f||E!==0&&ke.nodeType!==3||(Q=B+E),ke!==S||m!==0&&ke.nodeType!==3||(oe=B+m),ke.nodeType===3&&(B+=ke.nodeValue.length),(Ae=ke.firstChild)!==null;)ve=ke,ke=Ae;for(;;){if(ke===i)break t;if(ve===f&&++xe===E&&(Q=B),ve===S&&++Ie===m&&(oe=B),(Ae=ke.nextSibling)!==null)break;ke=ve,ve=ke.parentNode}ke=Ae}f=Q===-1||oe===-1?null:{start:Q,end:oe}}else f=null}f=f||{start:0,end:0}}else f=null;for(H1={focusedElem:i,selectionRange:f},lh=!1,Or=l;Or!==null;)if(l=Or,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Or=i;else for(;Or!==null;){switch(l=Or,S=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,f=l,E=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var pt=El(f.type,E,f.elementType===f.type);i=m.getSnapshotBeforeUpdate(pt,S),m.__reactInternalSnapshotBeforeUpdate=i}catch(dt){In(f,f.return,dt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,f=i.nodeType,f===9)Y1(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Y1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Or=i;break}Or=l.return}}function ov(i,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:yo(i,f),m&4&&qu(5,f);break;case 1:if(yo(i,f),m&4)if(i=f.stateNode,l===null)try{i.componentDidMount()}catch(B){In(f,f.return,B)}else{var E=El(f.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(E,l,i.__reactInternalSnapshotBeforeUpdate)}catch(B){In(f,f.return,B)}}m&64&&tv(f),m&512&&Yu(f,f.return);break;case 3:if(yo(i,f),m&64&&(i=f.updateQueue,i!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{jw(i,l)}catch(B){In(f,f.return,B)}}break;case 27:l===null&&m&4&&sv(f);case 26:case 5:yo(i,f),l===null&&m&4&&rv(f),m&512&&Yu(f,f.return);break;case 12:yo(i,f);break;case 13:yo(i,f),m&4&&uv(i,f),m&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=y3.bind(null,f),P3(i,f))));break;case 22:if(m=f.memoizedState!==null||_a,!m){l=l!==null&&l.memoizedState!==null||dr,E=_a;var S=dr;_a=m,(dr=l)&&!S?wo(i,f,(f.subtreeFlags&8772)!==0):yo(i,f),_a=E,dr=S}break;case 30:break;default:yo(i,f)}}function lv(i){var l=i.alternate;l!==null&&(i.alternate=null,lv(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&ns(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yn=null,Si=!1;function Sa(i,l,f){for(f=f.child;f!==null;)cv(i,l,f),f=f.sibling}function cv(i,l,f){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Xt,f)}catch{}switch(f.tag){case 26:dr||qs(f,l),Sa(i,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:dr||qs(f,l);var m=Yn,E=Si;Ao(f.type)&&(Yn=f.stateNode,Si=!1),Sa(i,l,f),tf(f.stateNode),Yn=m,Si=E;break;case 5:dr||qs(f,l);case 6:if(m=Yn,E=Si,Yn=null,Sa(i,l,f),Yn=m,Si=E,Yn!==null)if(Si)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(f.stateNode)}catch(S){In(f,l,S)}else try{Yn.removeChild(f.stateNode)}catch(S){In(f,l,S)}break;case 18:Yn!==null&&(Si?(i=Yn,Zv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),uf(i)):Zv(Yn,f.stateNode));break;case 4:m=Yn,E=Si,Yn=f.stateNode.containerInfo,Si=!0,Sa(i,l,f),Yn=m,Si=E;break;case 0:case 11:case 14:case 15:dr||mo(2,f,l),dr||mo(4,f,l),Sa(i,l,f);break;case 1:dr||(qs(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&nv(f,l,m)),Sa(i,l,f);break;case 21:Sa(i,l,f);break;case 22:dr=(m=dr)||f.memoizedState!==null,Sa(i,l,f),dr=m;break;default:Sa(i,l,f)}}function uv(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uf(i)}catch(f){In(l,l.return,f)}}function c3(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new av),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new av),l;default:throw Error(r(435,i.tag))}}function x1(i,l){var f=c3(i);l.forEach(function(m){var E=w3.bind(null,i,m);f.has(m)||(f.add(m),m.then(E,E))})}function ji(i,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var E=f[m],S=i,B=l,Q=B;e:for(;Q!==null;){switch(Q.tag){case 27:if(Ao(Q.type)){Yn=Q.stateNode,Si=!1;break e}break;case 5:Yn=Q.stateNode,Si=!1;break e;case 3:case 4:Yn=Q.stateNode.containerInfo,Si=!0;break e}Q=Q.return}if(Yn===null)throw Error(r(160));cv(S,B,E),Yn=null,Si=!1,S=E.alternate,S!==null&&(S.return=null),E.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)fv(l,i),l=l.sibling}var Cs=null;function fv(i,l){var f=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ji(l,i),Hi(i),m&4&&(mo(3,i,i.return),qu(3,i),mo(5,i,i.return));break;case 1:ji(l,i),Hi(i),m&512&&(dr||f===null||qs(f,f.return)),m&64&&_a&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var E=Cs;if(ji(l,i),Hi(i),m&512&&(dr||f===null||qs(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=i.memoizedState,f===null)if(m===null)if(i.stateNode===null){e:{m=i.type,f=i.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":S=E.getElementsByTagName("title")[0],(!S||S[yi]||S[or]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=E.createElement(m),E.head.insertBefore(S,E.querySelector("head > title"))),Wr(S,m,f),S[or]=i,tn(S),m=S;break e;case"link":var B=s2("link","href",E).get(m+(f.href||""));if(B){for(var Q=0;Q<B.length;Q++)if(S=B[Q],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){B.splice(Q,1);break t}}S=E.createElement(m),Wr(S,m,f),E.head.appendChild(S);break;case"meta":if(B=s2("meta","content",E).get(m+(f.content||""))){for(Q=0;Q<B.length;Q++)if(S=B[Q],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){B.splice(Q,1);break t}}S=E.createElement(m),Wr(S,m,f),E.head.appendChild(S);break;default:throw Error(r(468,m))}S[or]=i,tn(S),m=S}i.stateNode=m}else a2(E,i.type,i.stateNode);else i.stateNode=i2(E,m,i.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?a2(E,i.type,i.stateNode):i2(E,m,i.memoizedProps)):m===null&&i.stateNode!==null&&p1(i,i.memoizedProps,f.memoizedProps)}break;case 27:ji(l,i),Hi(i),m&512&&(dr||f===null||qs(f,f.return)),f!==null&&m&4&&p1(i,i.memoizedProps,f.memoizedProps);break;case 5:if(ji(l,i),Hi(i),m&512&&(dr||f===null||qs(f,f.return)),i.flags&32){E=i.stateNode;try{On(E,"")}catch(Ae){In(i,i.return,Ae)}}m&4&&i.stateNode!=null&&(E=i.memoizedProps,p1(i,E,f!==null?f.memoizedProps:E)),m&1024&&(w1=!0);break;case 6:if(ji(l,i),Hi(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,f=i.stateNode;try{f.nodeValue=m}catch(Ae){In(i,i.return,Ae)}}break;case 3:if(sh=null,E=Cs,Cs=rh(l.containerInfo),ji(l,i),Cs=E,Hi(i),m&4&&f!==null&&f.memoizedState.isDehydrated)try{uf(l.containerInfo)}catch(Ae){In(i,i.return,Ae)}w1&&(w1=!1,dv(i));break;case 4:m=Cs,Cs=rh(i.stateNode.containerInfo),ji(l,i),Hi(i),Cs=m;break;case 12:ji(l,i),Hi(i);break;case 13:ji(l,i),Hi(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(_1=wt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,x1(i,m)));break;case 22:E=i.memoizedState!==null;var oe=f!==null&&f.memoizedState!==null,xe=_a,Ie=dr;if(_a=xe||E,dr=Ie||oe,ji(l,i),dr=Ie,_a=xe,Hi(i),m&8192)e:for(l=i.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(f===null||oe||_a||dr||Tl(i)),f=null,l=i;;){if(l.tag===5||l.tag===26){if(f===null){oe=f=l;try{if(S=oe.stateNode,E)B=S.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{Q=oe.stateNode;var ke=oe.memoizedProps.style,ve=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;Q.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(Ae){In(oe,oe.return,Ae)}}}else if(l.tag===6){if(f===null){oe=l;try{oe.stateNode.nodeValue=E?"":oe.memoizedProps}catch(Ae){In(oe,oe.return,Ae)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,x1(i,f))));break;case 19:ji(l,i),Hi(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,x1(i,m)));break;case 30:break;case 21:break;default:ji(l,i),Hi(i)}}function Hi(i){var l=i.flags;if(l&2){try{for(var f,m=i.return;m!==null;){if(iv(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var E=f.stateNode,S=m1(i);Gd(i,S,E);break;case 5:var B=f.stateNode;f.flags&32&&(On(B,""),f.flags&=-33);var Q=m1(i);Gd(i,Q,B);break;case 3:case 4:var oe=f.stateNode.containerInfo,xe=m1(i);y1(i,xe,oe);break;default:throw Error(r(161))}}catch(Ie){In(i,i.return,Ie)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function dv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;dv(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function yo(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ov(i,l.alternate,l),l=l.sibling}function Tl(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:mo(4,l,l.return),Tl(l);break;case 1:qs(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&nv(l,l.return,f),Tl(l);break;case 27:tf(l.stateNode);case 26:case 5:qs(l,l.return),Tl(l);break;case 22:l.memoizedState===null&&Tl(l);break;case 30:Tl(l);break;default:Tl(l)}i=i.sibling}}function wo(i,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,E=i,S=l,B=S.flags;switch(S.tag){case 0:case 11:case 15:wo(E,S,f),qu(4,S);break;case 1:if(wo(E,S,f),m=S,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(xe){In(m,m.return,xe)}if(m=S,E=m.updateQueue,E!==null){var Q=m.stateNode;try{var oe=E.shared.hiddenCallbacks;if(oe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<oe.length;E++)zw(oe[E],Q)}catch(xe){In(m,m.return,xe)}}f&&B&64&&tv(S),Yu(S,S.return);break;case 27:sv(S);case 26:case 5:wo(E,S,f),f&&m===null&&B&4&&rv(S),Yu(S,S.return);break;case 12:wo(E,S,f);break;case 13:wo(E,S,f),f&&B&4&&uv(E,S);break;case 22:S.memoizedState===null&&wo(E,S,f),Yu(S,S.return);break;case 30:break;default:wo(E,S,f)}l=l.sibling}}function v1(i,l){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Mu(f))}function b1(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Mu(i))}function Ys(i,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)hv(i,l,f,m),l=l.sibling}function hv(i,l,f,m){var E=l.flags;switch(l.tag){case 0:case 11:case 15:Ys(i,l,f,m),E&2048&&qu(9,l);break;case 1:Ys(i,l,f,m);break;case 3:Ys(i,l,f,m),E&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Mu(i)));break;case 12:if(E&2048){Ys(i,l,f,m),i=l.stateNode;try{var S=l.memoizedProps,B=S.id,Q=S.onPostCommit;typeof Q=="function"&&Q(B,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(oe){In(l,l.return,oe)}}else Ys(i,l,f,m);break;case 13:Ys(i,l,f,m);break;case 23:break;case 22:S=l.stateNode,B=l.alternate,l.memoizedState!==null?S._visibility&2?Ys(i,l,f,m):Wu(i,l):S._visibility&2?Ys(i,l,f,m):(S._visibility|=2,yc(i,l,f,m,(l.subtreeFlags&10256)!==0)),E&2048&&v1(B,l);break;case 24:Ys(i,l,f,m),E&2048&&b1(l.alternate,l);break;default:Ys(i,l,f,m)}}function yc(i,l,f,m,E){for(E=E&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=i,B=l,Q=f,oe=m,xe=B.flags;switch(B.tag){case 0:case 11:case 15:yc(S,B,Q,oe,E),qu(8,B);break;case 23:break;case 22:var Ie=B.stateNode;B.memoizedState!==null?Ie._visibility&2?yc(S,B,Q,oe,E):Wu(S,B):(Ie._visibility|=2,yc(S,B,Q,oe,E)),E&&xe&2048&&v1(B.alternate,B);break;case 24:yc(S,B,Q,oe,E),E&&xe&2048&&b1(B.alternate,B);break;default:yc(S,B,Q,oe,E)}l=l.sibling}}function Wu(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=i,m=l,E=m.flags;switch(m.tag){case 22:Wu(f,m),E&2048&&v1(m.alternate,m);break;case 24:Wu(f,m),E&2048&&b1(m.alternate,m);break;default:Wu(f,m)}l=l.sibling}}var Xu=8192;function wc(i){if(i.subtreeFlags&Xu)for(i=i.child;i!==null;)gv(i),i=i.sibling}function gv(i){switch(i.tag){case 26:wc(i),i.flags&Xu&&i.memoizedState!==null&&X3(Cs,i.memoizedState,i.memoizedProps);break;case 5:wc(i);break;case 3:case 4:var l=Cs;Cs=rh(i.stateNode.containerInfo),wc(i),Cs=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Xu,Xu=16777216,wc(i),Xu=l):wc(i));break;default:wc(i)}}function pv(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Ku(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Or=m,yv(m,i)}pv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)mv(i),i=i.sibling}function mv(i){switch(i.tag){case 0:case 11:case 15:Ku(i),i.flags&2048&&mo(9,i,i.return);break;case 3:Ku(i);break;case 12:Ku(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,qd(i)):Ku(i);break;default:Ku(i)}}function qd(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Or=m,yv(m,i)}pv(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:mo(8,l,l.return),qd(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,qd(l));break;default:qd(l)}i=i.sibling}}function yv(i,l){for(;Or!==null;){var f=Or;switch(f.tag){case 0:case 11:case 15:mo(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Mu(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Or=m;else e:for(f=i;Or!==null;){m=Or;var E=m.sibling,S=m.return;if(lv(m),m===f){Or=null;break e}if(E!==null){E.return=S,Or=E;break e}Or=S}}}var u3={getCacheForType:function(i){var l=si(Ar),f=l.data.get(i);return f===void 0&&(f=i(),l.data.set(i,f)),f}},f3=typeof WeakMap=="function"?WeakMap:Map,gn=0,Nn=null,Vt=null,Qt=0,pn=0,Gi=null,xo=!1,xc=!1,E1=!1,Ca=0,ir=0,vo=0,Al=0,T1=0,ps=0,vc=0,Qu=null,Ci=null,A1=!1,_1=0,Yd=1/0,Wd=null,bo=null,Yr=0,Eo=null,bc=null,Ec=0,S1=0,C1=null,wv=null,Zu=0,I1=null;function qi(){if((gn&2)!==0&&Qt!==0)return Qt&-Qt;if(ae.T!==null){var i=cc;return i!==0?i:P1()}return di()}function xv(){ps===0&&(ps=(Qt&536870912)===0||ln?la():536870912);var i=gs.current;return i!==null&&(i.flags|=32),ps}function Yi(i,l,f){(i===Nn&&(pn===2||pn===9)||i.cancelPendingCommit!==null)&&(Tc(i,0),To(i,Qt,ps,!1)),Ur(i,f),((gn&2)===0||i!==Nn)&&(i===Nn&&((gn&2)===0&&(Al|=f),ir===4&&To(i,Qt,ps,!1)),Ws(i))}function vv(i,l,f){if((gn&6)!==0)throw Error(r(327));var m=!f&&(l&124)===0&&(l&i.expiredLanes)===0||cn(i,l),E=m?g3(i,l):M1(i,l,!0),S=m;do{if(E===0){xc&&!m&&To(i,l,0,!1);break}else{if(f=i.current.alternate,S&&!d3(f)){E=M1(i,l,!1),S=!1;continue}if(E===2){if(S=l,i.errorRecoveryDisabledLanes&S)var B=0;else B=i.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){l=B;e:{var Q=i;E=Qu;var oe=Q.current.memoizedState.isDehydrated;if(oe&&(Tc(Q,B).flags|=256),B=M1(Q,B,!1),B!==2){if(E1&&!oe){Q.errorRecoveryDisabledLanes|=S,Al|=S,E=4;break e}S=Ci,Ci=E,S!==null&&(Ci===null?Ci=S:Ci.push.apply(Ci,S))}E=B}if(S=!1,E!==2)continue}}if(E===1){Tc(i,0),To(i,l,0,!0);break}e:{switch(m=i,S=E,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:To(m,l,ps,!xo);break e;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=_1+300-wt(),10<E)){if(To(m,l,ps,!xo),Kt(m,0,!0)!==0)break e;m.timeoutHandle=Kv(bv.bind(null,m,f,Ci,Wd,A1,l,ps,Al,vc,xo,S,2,-0,0),E);break e}bv(m,f,Ci,Wd,A1,l,ps,Al,vc,xo,S,0,-0,0)}}break}while(!0);Ws(i)}function bv(i,l,f,m,E,S,B,Q,oe,xe,Ie,ke,ve,Ae){if(i.timeoutHandle=-1,ke=l.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(sf={stylesheets:null,count:0,unsuspend:W3},gv(l),ke=K3(),ke!==null)){i.cancelPendingCommit=ke(Iv.bind(null,i,l,S,f,m,E,B,Q,oe,Ie,1,ve,Ae)),To(i,S,B,!xe);return}Iv(i,l,S,f,m,E,B,Q,oe)}function d3(i){for(var l=i;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var E=f[m],S=E.getSnapshot;E=E.value;try{if(!h(S(),E))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function To(i,l,f,m){l&=~T1,l&=~Al,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var E=l;0<E;){var S=31-en(E),B=1<<S;m[S]=-1,E&=~B}f!==0&&Di(i,f,l)}function Xd(){return(gn&6)===0?($u(0),!1):!0}function R1(){if(Vt!==null){if(pn===0)var i=Vt.return;else i=Vt,xa=wl=null,Yg(i),pc=null,ju=0,i=Vt;for(;i!==null;)ev(i.alternate,i),i=i.return;Vt=null}}function Tc(i,l){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,N3(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),R1(),Nn=i,Vt=f=ma(i.current,null),Qt=l,pn=0,Gi=null,xo=!1,xc=cn(i,l),E1=!1,vc=ps=T1=Al=vo=ir=0,Ci=Qu=null,A1=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var E=31-en(m),S=1<<E;l|=i[E],m&=~S}return Ca=l,md(),f}function Ev(i,l){Dt=null,ae.H=Pd,l===Ou||l===_d?(l=Uw(),pn=3):l===Lw?(l=Uw(),pn=4):pn=l===Fx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Gi=l,Vt===null&&(ir=1,Fd(i,us(l,i.current)))}function Tv(){var i=ae.H;return ae.H=Pd,i===null?Pd:i}function Av(){var i=ae.A;return ae.A=u3,i}function N1(){ir=4,xo||(Qt&4194048)!==Qt&&gs.current!==null||(xc=!0),(vo&134217727)===0&&(Al&134217727)===0||Nn===null||To(Nn,Qt,ps,!1)}function M1(i,l,f){var m=gn;gn|=2;var E=Tv(),S=Av();(Nn!==i||Qt!==l)&&(Wd=null,Tc(i,l)),l=!1;var B=ir;e:do try{if(pn!==0&&Vt!==null){var Q=Vt,oe=Gi;switch(pn){case 8:R1(),B=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(l=!0);var xe=pn;if(pn=0,Gi=null,Ac(i,Q,oe,xe),f&&xc){B=0;break e}break;default:xe=pn,pn=0,Gi=null,Ac(i,Q,oe,xe)}}h3(),B=ir;break}catch(Ie){Ev(i,Ie)}while(!0);return l&&i.shellSuspendCounter++,xa=wl=null,gn=m,ae.H=E,ae.A=S,Vt===null&&(Nn=null,Qt=0,md()),B}function h3(){for(;Vt!==null;)_v(Vt)}function g3(i,l){var f=gn;gn|=2;var m=Tv(),E=Av();Nn!==i||Qt!==l?(Wd=null,Yd=wt()+500,Tc(i,l)):xc=cn(i,l);e:do try{if(pn!==0&&Vt!==null){l=Vt;var S=Gi;t:switch(pn){case 1:pn=0,Gi=null,Ac(i,l,S,1);break;case 2:case 9:if(Bw(S)){pn=0,Gi=null,Sv(l);break}l=function(){pn!==2&&pn!==9||Nn!==i||(pn=7),Ws(i)},S.then(l,l);break e;case 3:pn=7;break e;case 4:pn=5;break e;case 7:Bw(S)?(pn=0,Gi=null,Sv(l)):(pn=0,Gi=null,Ac(i,l,S,7));break;case 5:var B=null;switch(Vt.tag){case 26:B=Vt.memoizedState;case 5:case 27:var Q=Vt;if(!B||o2(B)){pn=0,Gi=null;var oe=Q.sibling;if(oe!==null)Vt=oe;else{var xe=Q.return;xe!==null?(Vt=xe,Kd(xe)):Vt=null}break t}}pn=0,Gi=null,Ac(i,l,S,5);break;case 6:pn=0,Gi=null,Ac(i,l,S,6);break;case 8:R1(),ir=6;break e;default:throw Error(r(462))}}p3();break}catch(Ie){Ev(i,Ie)}while(!0);return xa=wl=null,ae.H=m,ae.A=E,gn=f,Vt!==null?0:(Nn=null,Qt=0,md(),ir)}function p3(){for(;Vt!==null&&!kt();)_v(Vt)}function _v(i){var l=$x(i.alternate,i,Ca);i.memoizedProps=i.pendingProps,l===null?Kd(i):Vt=l}function Sv(i){var l=i,f=l.alternate;switch(l.tag){case 15:case 0:l=Yx(f,l,l.pendingProps,l.type,void 0,Qt);break;case 11:l=Yx(f,l,l.pendingProps,l.type.render,l.ref,Qt);break;case 5:Yg(l);default:ev(f,l),l=Vt=Cw(l,Ca),l=$x(f,l,Ca)}i.memoizedProps=i.pendingProps,l===null?Kd(i):Vt=l}function Ac(i,l,f,m){xa=wl=null,Yg(l),pc=null,ju=0;var E=l.return;try{if(i3(i,E,l,f,Qt)){ir=1,Fd(i,us(f,i.current)),Vt=null;return}}catch(S){if(E!==null)throw Vt=E,S;ir=1,Fd(i,us(f,i.current)),Vt=null;return}l.flags&32768?(ln||m===1?i=!0:xc||(Qt&536870912)!==0?i=!1:(xo=i=!0,(m===2||m===9||m===3||m===6)&&(m=gs.current,m!==null&&m.tag===13&&(m.flags|=16384))),Cv(l,i)):Kd(l)}function Kd(i){var l=i;do{if((l.flags&32768)!==0){Cv(l,xo);return}i=l.return;var f=a3(l.alternate,l,Ca);if(f!==null){Vt=f;return}if(l=l.sibling,l!==null){Vt=l;return}Vt=l=i}while(l!==null);ir===0&&(ir=5)}function Cv(i,l){do{var f=o3(i.alternate,i);if(f!==null){f.flags&=32767,Vt=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=f}while(i!==null);ir=6,Vt=null}function Iv(i,l,f,m,E,S,B,Q,oe){i.cancelPendingCommit=null;do Qd();while(Yr!==0);if((gn&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=bg,Ja(i,f,S,B,Q,oe),i===Nn&&(Vt=Nn=null,Qt=0),bc=l,Eo=i,Ec=f,S1=S,C1=E,wv=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,x3(qe,function(){return Ov(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null,E=he.p,he.p=2,B=gn,gn|=4;try{l3(i,l,f)}finally{gn=B,he.p=E,ae.T=m}}Yr=1,Rv(),Nv(),Mv()}}function Rv(){if(Yr===1){Yr=0;var i=Eo,l=bc,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=ae.T,ae.T=null;var m=he.p;he.p=2;var E=gn;gn|=4;try{fv(l,i);var S=H1,B=C(i.containerInfo),Q=S.focusedElem,oe=S.selectionRange;if(B!==Q&&Q&&Q.ownerDocument&&A(Q.ownerDocument.documentElement,Q)){if(oe!==null&&D(Q)){var xe=oe.start,Ie=oe.end;if(Ie===void 0&&(Ie=xe),"selectionStart"in Q)Q.selectionStart=xe,Q.selectionEnd=Math.min(Ie,Q.value.length);else{var ke=Q.ownerDocument||document,ve=ke&&ke.defaultView||window;if(ve.getSelection){var Ae=ve.getSelection(),pt=Q.textContent.length,dt=Math.min(oe.start,pt),En=oe.end===void 0?dt:Math.min(oe.end,pt);!Ae.extend&&dt>En&&(B=En,En=dt,dt=B);var de=v(Q,dt),fe=v(Q,En);if(de&&fe&&(Ae.rangeCount!==1||Ae.anchorNode!==de.node||Ae.anchorOffset!==de.offset||Ae.focusNode!==fe.node||Ae.focusOffset!==fe.offset)){var we=ke.createRange();we.setStart(de.node,de.offset),Ae.removeAllRanges(),dt>En?(Ae.addRange(we),Ae.extend(fe.node,fe.offset)):(we.setEnd(fe.node,fe.offset),Ae.addRange(we))}}}}for(ke=[],Ae=Q;Ae=Ae.parentNode;)Ae.nodeType===1&&ke.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<ke.length;Q++){var Me=ke[Q];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}lh=!!j1,H1=j1=null}finally{gn=E,he.p=m,ae.T=f}}i.current=l,Yr=2}}function Nv(){if(Yr===2){Yr=0;var i=Eo,l=bc,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=ae.T,ae.T=null;var m=he.p;he.p=2;var E=gn;gn|=4;try{ov(i,l.alternate,l)}finally{gn=E,he.p=m,ae.T=f}}Yr=3}}function Mv(){if(Yr===4||Yr===3){Yr=0,$n();var i=Eo,l=bc,f=Ec,m=wv;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Yr=5:(Yr=0,bc=Eo=null,Dv(i,i.pendingLanes));var E=i.pendingLanes;if(E===0&&(bo=null),Xn(f),l=l.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Xt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=ae.T,E=he.p,he.p=2,ae.T=null;try{for(var S=i.onRecoverableError,B=0;B<m.length;B++){var Q=m[B];S(Q.value,{componentStack:Q.stack})}}finally{ae.T=l,he.p=E}}(Ec&3)!==0&&Qd(),Ws(i),E=i.pendingLanes,(f&4194090)!==0&&(E&42)!==0?i===I1?Zu++:(Zu=0,I1=i):Zu=0,$u(0)}}function Dv(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Mu(l)))}function Qd(i){return Rv(),Nv(),Mv(),Ov()}function Ov(){if(Yr!==5)return!1;var i=Eo,l=S1;S1=0;var f=Xn(Ec),m=ae.T,E=he.p;try{he.p=32>f?32:f,ae.T=null,f=C1,C1=null;var S=Eo,B=Ec;if(Yr=0,bc=Eo=null,Ec=0,(gn&6)!==0)throw Error(r(331));var Q=gn;if(gn|=4,mv(S.current),hv(S,S.current,B,f),gn=Q,$u(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Xt,S)}catch{}return!0}finally{he.p=E,ae.T=m,Dv(i,l)}}function kv(i,l,f){l=us(f,l),l=a1(i.stateNode,l,2),i=fo(i,l,2),i!==null&&(Ur(i,2),Ws(i))}function In(i,l,f){if(i.tag===3)kv(i,i,f);else for(;l!==null;){if(l.tag===3){kv(l,i,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(bo===null||!bo.has(m))){i=us(f,i),f=Vx(2),m=fo(l,f,2),m!==null&&(Ux(f,m,l,i),Ur(m,2),Ws(m));break}}l=l.return}}function D1(i,l,f){var m=i.pingCache;if(m===null){m=i.pingCache=new f3;var E=new Set;m.set(l,E)}else E=m.get(l),E===void 0&&(E=new Set,m.set(l,E));E.has(f)||(E1=!0,E.add(f),i=m3.bind(null,i,l,f),l.then(i,i))}function m3(i,l,f){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,Nn===i&&(Qt&f)===f&&(ir===4||ir===3&&(Qt&62914560)===Qt&&300>wt()-_1?(gn&2)===0&&Tc(i,0):T1|=f,vc===Qt&&(vc=0)),Ws(i)}function Pv(i,l){l===0&&(l=$a()),i=sc(i,l),i!==null&&(Ur(i,l),Ws(i))}function y3(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),Pv(i,f)}function w3(i,l){var f=0;switch(i.tag){case 13:var m=i.stateNode,E=i.memoizedState;E!==null&&(f=E.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),Pv(i,f)}function x3(i,l){return nt(i,l)}var Zd=null,_c=null,O1=!1,$d=!1,k1=!1,_l=0;function Ws(i){i!==_c&&i.next===null&&(_c===null?Zd=_c=i:_c=_c.next=i),$d=!0,O1||(O1=!0,b3())}function $u(i,l){if(!k1&&$d){k1=!0;do for(var f=!1,m=Zd;m!==null;){if(i!==0){var E=m.pendingLanes;if(E===0)var S=0;else{var B=m.suspendedLanes,Q=m.pingedLanes;S=(1<<31-en(42|i)+1)-1,S&=E&~(B&~Q),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,Uv(m,S))}else S=Qt,S=Kt(m,m===Nn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||cn(m,S)||(f=!0,Uv(m,S));m=m.next}while(f);k1=!1}}function v3(){Lv()}function Lv(){$d=O1=!1;var i=0;_l!==0&&(R3()&&(i=_l),_l=0);for(var l=wt(),f=null,m=Zd;m!==null;){var E=m.next,S=Bv(m,l);S===0?(m.next=null,f===null?Zd=E:f.next=E,E===null&&(_c=f)):(f=m,(i!==0||(S&3)!==0)&&($d=!0)),m=E}$u(i)}function Bv(i,l){for(var f=i.suspendedLanes,m=i.pingedLanes,E=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var B=31-en(S),Q=1<<B,oe=E[B];oe===-1?((Q&f)===0||(Q&m)!==0)&&(E[B]=bs(Q,l)):oe<=l&&(i.expiredLanes|=Q),S&=~Q}if(l=Nn,f=Qt,f=Kt(i,i===l?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,f===0||i===l&&(pn===2||pn===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&an(m),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||cn(i,f)){if(l=f&-f,l===i.callbackPriority)return l;switch(m!==null&&an(m),Xn(f)){case 2:case 8:f=Nr;break;case 32:f=qe;break;case 268435456:f=aa;break;default:f=qe}return m=Vv.bind(null,i),f=nt(f,m),i.callbackPriority=l,i.callbackNode=f,l}return m!==null&&m!==null&&an(m),i.callbackPriority=2,i.callbackNode=null,2}function Vv(i,l){if(Yr!==0&&Yr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(Qd()&&i.callbackNode!==f)return null;var m=Qt;return m=Kt(i,i===Nn?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(vv(i,m,l),Bv(i,wt()),i.callbackNode!=null&&i.callbackNode===f?Vv.bind(null,i):null)}function Uv(i,l){if(Qd())return null;vv(i,l,!0)}function b3(){M3(function(){(gn&6)!==0?nt(Et,v3):Lv()})}function P1(){return _l===0&&(_l=la()),_l}function Fv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:io(""+i)}function zv(i,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,i.id&&f.setAttribute("form",i.id),l.parentNode.insertBefore(f,l),i=new FormData(i),f.parentNode.removeChild(f),i}function E3(i,l,f,m,E){if(l==="submit"&&f&&f.stateNode===E){var S=Fv((E[xn]||null).action),B=m.submitter;B&&(l=(l=B[xn]||null)?Fv(l.formAction):B.getAttribute("formAction"),l!==null&&(S=l,B=null));var Q=new cs("action","action",null,m,E);i.push({event:Q,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(_l!==0){var oe=B?zv(E,B):new FormData(E);t1(f,{pending:!0,data:oe,method:E.method,action:S},null,oe)}}else typeof S=="function"&&(Q.preventDefault(),oe=B?zv(E,B):new FormData(E),t1(f,{pending:!0,data:oe,method:E.method,action:S},S,oe))},currentTarget:E}]})}}for(var L1=0;L1<js.length;L1++){var B1=js[L1],T3=B1.toLowerCase(),A3=B1[0].toUpperCase()+B1.slice(1);Fi(T3,"on"+A3)}Fi(vt,"onAnimationEnd"),Fi(Gr,"onAnimationIteration"),Fi(Ai,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(ri,"onTransitionRun"),Fi(hn,"onTransitionStart"),Fi(Tr,"onTransitionCancel"),Fi(ii,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function jv(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var m=i[f],E=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var B=m.length-1;0<=B;B--){var Q=m[B],oe=Q.instance,xe=Q.currentTarget;if(Q=Q.listener,oe!==S&&E.isPropagationStopped())break e;S=Q,E.currentTarget=xe;try{S(E)}catch(Ie){Ud(Ie)}E.currentTarget=null,S=oe}else for(B=0;B<m.length;B++){if(Q=m[B],oe=Q.instance,xe=Q.currentTarget,Q=Q.listener,oe!==S&&E.isPropagationStopped())break e;S=Q,E.currentTarget=xe;try{S(E)}catch(Ie){Ud(Ie)}E.currentTarget=null,S=oe}}}}function Ut(i,l){var f=l[gr];f===void 0&&(f=l[gr]=new Set);var m=i+"__bubble";f.has(m)||(Hv(l,i,2,!1),f.add(m))}function V1(i,l,f){var m=0;l&&(m|=4),Hv(f,i,m,l)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function U1(i){if(!i[Jd]){i[Jd]=!0,cl.forEach(function(f){f!=="selectionchange"&&(_3.has(f)||V1(f,!1,i),V1(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Jd]||(l[Jd]=!0,V1("selectionchange",!1,l))}}function Hv(i,l,f,m){switch(h2(l)){case 2:var E=$3;break;case 8:E=J3;break;default:E=J1}f=E.bind(null,l,f,i),E=void 0,!ut||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),m?E!==void 0?i.addEventListener(l,f,{capture:!0,passive:E}):i.addEventListener(l,f,!0):E!==void 0?i.addEventListener(l,f,{passive:E}):i.addEventListener(l,f,!1)}function F1(i,l,f,m,E){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var B=m.tag;if(B===3||B===4){var Q=m.stateNode.containerInfo;if(Q===E)break;if(B===4)for(B=m.return;B!==null;){var oe=B.tag;if((oe===3||oe===4)&&B.stateNode.containerInfo===E)return;B=B.return}for(;Q!==null;){if(B=Fn(Q),B===null)return;if(oe=B.tag,oe===5||oe===6||oe===26||oe===27){m=S=B;continue e}Q=Q.parentNode}}m=m.return}Pi(function(){var xe=S,Ie=jr(f),ke=[];e:{var ve=pa.get(i);if(ve!==void 0){var Ae=cs,pt=i;switch(i){case"keypress":if(ls(f)===0)break e;case"keydown":case"keyup":Ae=Fs;break;case"focusin":pt="focus",Ae=_s;break;case"focusout":pt="blur",Ae=_s;break;case"beforeblur":case"afterblur":Ae=_s;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=rn;break;case vt:case Gr:case Ai:Ae=so;break;case ii:Ae=ec;break;case"scroll":case"scrollend":Ae=Er;break;case"wheel":Ae=bi;break;case"copy":case"cut":case"paste":Ae=xt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=zs;break;case"toggle":case"beforetoggle":Ae=tc}var dt=(l&4)!==0,En=!dt&&(i==="scroll"||i==="scrollend"),de=dt?ve!==null?ve+"Capture":null:ve;dt=[];for(var fe=xe,we;fe!==null;){var Me=fe;if(we=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||we===null||de===null||(Me=st(fe,de),Me!=null&&dt.push(ef(fe,Me,we))),En)break;fe=fe.return}0<dt.length&&(ve=new Ae(ve,pt,null,f,Ie),ke.push({event:ve,listeners:dt}))}}if((l&7)===0){e:{if(ve=i==="mouseover"||i==="pointerover",Ae=i==="mouseout"||i==="pointerout",ve&&f!==Oi&&(pt=f.relatedTarget||f.fromElement)&&(Fn(pt)||pt[$r]))break e;if((Ae||ve)&&(ve=Ie.window===Ie?Ie:(ve=Ie.ownerDocument)?ve.defaultView||ve.parentWindow:window,Ae?(pt=f.relatedTarget||f.toElement,Ae=xe,pt=pt?Fn(pt):null,pt!==null&&(En=o(pt),dt=pt.tag,pt!==En||dt!==5&&dt!==27&&dt!==6)&&(pt=null)):(Ae=null,pt=xe),Ae!==pt)){if(dt=xi,Me="onMouseLeave",de="onMouseEnter",fe="mouse",(i==="pointerout"||i==="pointerover")&&(dt=zs,Me="onPointerLeave",de="onPointerEnter",fe="pointer"),En=Ae==null?ve:hi(Ae),we=pt==null?ve:hi(pt),ve=new dt(Me,fe+"leave",Ae,f,Ie),ve.target=En,ve.relatedTarget=we,Me=null,Fn(Ie)===xe&&(dt=new dt(de,fe+"enter",pt,f,Ie),dt.target=we,dt.relatedTarget=En,Me=dt),En=Me,Ae&&pt)t:{for(dt=Ae,de=pt,fe=0,we=dt;we;we=Sc(we))fe++;for(we=0,Me=de;Me;Me=Sc(Me))we++;for(;0<fe-we;)dt=Sc(dt),fe--;for(;0<we-fe;)de=Sc(de),we--;for(;fe--;){if(dt===de||de!==null&&dt===de.alternate)break t;dt=Sc(dt),de=Sc(de)}dt=null}else dt=null;Ae!==null&&Gv(ke,ve,Ae,dt,!1),pt!==null&&En!==null&&Gv(ke,En,pt,dt,!0)}}e:{if(ve=xe?hi(xe):window,Ae=ve.nodeName&&ve.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ve.type==="file")var tt=gd;else if(qn(ve))if(_u)tt=c;else{tt=U;var Bt=rc}else Ae=ve.nodeName,!Ae||Ae.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?xe&&rt(xe.elementType)&&(tt=gd):tt=a;if(tt&&(tt=tt(i,xe))){nr(ke,tt,f,Ie);break e}Bt&&Bt(i,ve,xe),i==="focusout"&&xe&&ve.type==="number"&&xe.memoizedProps.value!=null&&ge(ve,"number",ve.value)}switch(Bt=xe?hi(xe):window,i){case"focusin":(qn(Bt)||Bt.contentEditable==="true")&&(Y=Bt,re=xe,ce=null);break;case"focusout":ce=re=Y=null;break;case"mousedown":ue=!0;break;case"contextmenu":case"mouseup":case"dragend":ue=!1,me(ke,f,Ie);break;case"selectionchange":if(z)break;case"keydown":case"keyup":me(ke,f,Ie)}var at;if(Ei)e:{switch(i){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Ft?Se(i,f)&&(ht="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(ht="onCompositionStart");ht&&(k&&f.locale!=="ko"&&(Ft||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Ft&&(at=Bi()):(ss=Ie,as="value"in ss?ss.value:ss.textContent,Ft=!0)),Bt=eh(xe,ht),0<Bt.length&&(ht=new Vs(ht,i,null,f,Ie),ke.push({event:ht,listeners:Bt}),at?ht.data=at:(at=ze(f),at!==null&&(ht.data=at)))),(at=R?Pn(i,f):zt(i,f))&&(ht=eh(xe,"onBeforeInput"),0<ht.length&&(Bt=new Vs("onBeforeInput","beforeinput",null,f,Ie),ke.push({event:Bt,listeners:ht}),Bt.data=at)),E3(ke,i,xe,f,Ie)}jv(ke,l)})}function ef(i,l,f){return{instance:i,listener:l,currentTarget:f}}function eh(i,l){for(var f=l+"Capture",m=[];i!==null;){var E=i,S=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||S===null||(E=st(i,f),E!=null&&m.unshift(ef(i,E,S)),E=st(i,l),E!=null&&m.push(ef(i,E,S))),i.tag===3)return m;i=i.return}return[]}function Sc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Gv(i,l,f,m,E){for(var S=l._reactName,B=[];f!==null&&f!==m;){var Q=f,oe=Q.alternate,xe=Q.stateNode;if(Q=Q.tag,oe!==null&&oe===m)break;Q!==5&&Q!==26&&Q!==27||xe===null||(oe=xe,E?(xe=st(f,S),xe!=null&&B.unshift(ef(f,xe,oe))):E||(xe=st(f,S),xe!=null&&B.push(ef(f,xe,oe)))),f=f.return}B.length!==0&&i.push({event:l,listeners:B})}var S3=/\r\n?/g,C3=/\u0000|\uFFFD/g;function qv(i){return(typeof i=="string"?i:""+i).replace(S3,`
`).replace(C3,"")}function Yv(i,l){return l=qv(l),qv(i)===l}function th(){}function bn(i,l,f,m,E,S){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||On(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&On(i,""+m);break;case"className":rs(i,"class",m);break;case"tabIndex":rs(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(i,f,m);break;case"style":Mr(i,m,S);break;case"data":if(l!=="object"){rs(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){i.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=io(""+m),i.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(l!=="input"&&bn(i,l,"name",E.name,E,null),bn(i,l,"formEncType",E.formEncType,E,null),bn(i,l,"formMethod",E.formMethod,E,null),bn(i,l,"formTarget",E.formTarget,E,null)):(bn(i,l,"encType",E.encType,E,null),bn(i,l,"method",E.method,E,null),bn(i,l,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=io(""+m),i.setAttribute(f,m);break;case"onClick":m!=null&&(i.onclick=th);break;case"onScroll":m!=null&&Ut("scroll",i);break;case"onScrollEnd":m!=null&&Ut("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(E.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}f=io(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""+m):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":m===!0?i.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,m):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(f,m):i.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(f):i.setAttribute(f,m);break;case"popover":Ut("beforetoggle",i),Ut("toggle",i),De(i,"popover",m);break;case"xlinkActuate":Rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Rt(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Rt(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Rt(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Rt(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":De(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=_n.get(f)||f,De(i,f,m))}}function z1(i,l,f,m,E,S){switch(f){case"style":Mr(i,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(E.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof m=="string"?On(i,m):(typeof m=="number"||typeof m=="bigint")&&On(i,""+m);break;case"onScroll":m!=null&&Ut("scroll",i);break;case"onScrollEnd":m!=null&&Ut("scrollend",i);break;case"onClick":m!=null&&(i.onclick=th);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eo.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(E=f.endsWith("Capture"),l=f.slice(2,E?f.length-7:void 0),S=i[xn]||null,S=S!=null?S[f]:null,typeof S=="function"&&i.removeEventListener(l,S,E),typeof m=="function")){typeof S!="function"&&S!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(l,m,E);break e}f in i?i[f]=m:m===!0?i.setAttribute(f,""):De(i,f,m)}}}function Wr(i,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",i),Ut("load",i);var m=!1,E=!1,S;for(S in f)if(f.hasOwnProperty(S)){var B=f[S];if(B!=null)switch(S){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bn(i,l,S,B,f,null)}}E&&bn(i,l,"srcSet",f.srcSet,f,null),m&&bn(i,l,"src",f.src,f,null);return;case"input":Ut("invalid",i);var Q=S=B=E=null,oe=null,xe=null;for(m in f)if(f.hasOwnProperty(m)){var Ie=f[m];if(Ie!=null)switch(m){case"name":E=Ie;break;case"type":B=Ie;break;case"checked":oe=Ie;break;case"defaultChecked":xe=Ie;break;case"value":S=Ie;break;case"defaultValue":Q=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,l));break;default:bn(i,l,m,Ie,f,null)}}zn(i,S,Q,oe,xe,B,E,!1),no(i);return;case"select":Ut("invalid",i),m=B=S=null;for(E in f)if(f.hasOwnProperty(E)&&(Q=f[E],Q!=null))switch(E){case"value":S=Q;break;case"defaultValue":B=Q;break;case"multiple":m=Q;default:bn(i,l,E,Q,f,null)}l=S,f=B,i.multiple=!!m,l!=null?ne(i,!!m,l,!1):f!=null&&ne(i,!!m,f,!0);return;case"textarea":Ut("invalid",i),S=E=m=null;for(B in f)if(f.hasOwnProperty(B)&&(Q=f[B],Q!=null))switch(B){case"value":m=Q;break;case"defaultValue":E=Q;break;case"children":S=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:bn(i,l,B,Q,f,null)}Rn(i,m,E,S),no(i);return;case"option":for(oe in f)if(f.hasOwnProperty(oe)&&(m=f[oe],m!=null))switch(oe){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:bn(i,l,oe,m,f,null)}return;case"dialog":Ut("beforetoggle",i),Ut("toggle",i),Ut("cancel",i),Ut("close",i);break;case"iframe":case"object":Ut("load",i);break;case"video":case"audio":for(m=0;m<Ju.length;m++)Ut(Ju[m],i);break;case"image":Ut("error",i),Ut("load",i);break;case"details":Ut("toggle",i);break;case"embed":case"source":case"link":Ut("error",i),Ut("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in f)if(f.hasOwnProperty(xe)&&(m=f[xe],m!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:bn(i,l,xe,m,f,null)}return;default:if(rt(l)){for(Ie in f)f.hasOwnProperty(Ie)&&(m=f[Ie],m!==void 0&&z1(i,l,Ie,m,f,void 0));return}}for(Q in f)f.hasOwnProperty(Q)&&(m=f[Q],m!=null&&bn(i,l,Q,m,f,null))}function I3(i,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,S=null,B=null,Q=null,oe=null,xe=null,Ie=null;for(Ae in f){var ke=f[Ae];if(f.hasOwnProperty(Ae)&&ke!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":oe=ke;default:m.hasOwnProperty(Ae)||bn(i,l,Ae,null,m,ke)}}for(var ve in m){var Ae=m[ve];if(ke=f[ve],m.hasOwnProperty(ve)&&(Ae!=null||ke!=null))switch(ve){case"type":S=Ae;break;case"name":E=Ae;break;case"checked":xe=Ae;break;case"defaultChecked":Ie=Ae;break;case"value":B=Ae;break;case"defaultValue":Q=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,l));break;default:Ae!==ke&&bn(i,l,ve,Ae,m,ke)}}Mt(i,B,Q,oe,xe,Ie,S,E);return;case"select":Ae=B=Q=ve=null;for(S in f)if(oe=f[S],f.hasOwnProperty(S)&&oe!=null)switch(S){case"value":break;case"multiple":Ae=oe;default:m.hasOwnProperty(S)||bn(i,l,S,null,m,oe)}for(E in m)if(S=m[E],oe=f[E],m.hasOwnProperty(E)&&(S!=null||oe!=null))switch(E){case"value":ve=S;break;case"defaultValue":Q=S;break;case"multiple":B=S;default:S!==oe&&bn(i,l,E,S,m,oe)}l=Q,f=B,m=Ae,ve!=null?ne(i,!!f,ve,!1):!!m!=!!f&&(l!=null?ne(i,!!f,l,!0):ne(i,!!f,f?[]:"",!1));return;case"textarea":Ae=ve=null;for(Q in f)if(E=f[Q],f.hasOwnProperty(Q)&&E!=null&&!m.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:bn(i,l,Q,null,m,E)}for(B in m)if(E=m[B],S=f[B],m.hasOwnProperty(B)&&(E!=null||S!=null))switch(B){case"value":ve=E;break;case"defaultValue":Ae=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==S&&bn(i,l,B,E,m,S)}je(i,ve,Ae);return;case"option":for(var pt in f)if(ve=f[pt],f.hasOwnProperty(pt)&&ve!=null&&!m.hasOwnProperty(pt))switch(pt){case"selected":i.selected=!1;break;default:bn(i,l,pt,null,m,ve)}for(oe in m)if(ve=m[oe],Ae=f[oe],m.hasOwnProperty(oe)&&ve!==Ae&&(ve!=null||Ae!=null))switch(oe){case"selected":i.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:bn(i,l,oe,ve,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in f)ve=f[dt],f.hasOwnProperty(dt)&&ve!=null&&!m.hasOwnProperty(dt)&&bn(i,l,dt,null,m,ve);for(xe in m)if(ve=m[xe],Ae=f[xe],m.hasOwnProperty(xe)&&ve!==Ae&&(ve!=null||Ae!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,l));break;default:bn(i,l,xe,ve,m,Ae)}return;default:if(rt(l)){for(var En in f)ve=f[En],f.hasOwnProperty(En)&&ve!==void 0&&!m.hasOwnProperty(En)&&z1(i,l,En,void 0,m,ve);for(Ie in m)ve=m[Ie],Ae=f[Ie],!m.hasOwnProperty(Ie)||ve===Ae||ve===void 0&&Ae===void 0||z1(i,l,Ie,ve,m,Ae);return}}for(var de in f)ve=f[de],f.hasOwnProperty(de)&&ve!=null&&!m.hasOwnProperty(de)&&bn(i,l,de,null,m,ve);for(ke in m)ve=m[ke],Ae=f[ke],!m.hasOwnProperty(ke)||ve===Ae||ve==null&&Ae==null||bn(i,l,ke,ve,m,Ae)}var j1=null,H1=null;function nh(i){return i.nodeType===9?i:i.ownerDocument}function Wv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function G1(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var q1=null;function R3(){var i=window.event;return i&&i.type==="popstate"?i===q1?!1:(q1=i,!0):(q1=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,N3=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,M3=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(i){return Qv.resolve(null).then(i).catch(D3)}:Kv;function D3(i){setTimeout(function(){throw i})}function Ao(i){return i==="head"}function Zv(i,l){var f=l,m=0,E=0;do{var S=f.nextSibling;if(i.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(0<m&&8>m){f=m;var B=i.ownerDocument;if(f&1&&tf(B.documentElement),f&2&&tf(B.body),f&4)for(f=B.head,tf(f),B=f.firstChild;B;){var Q=B.nextSibling,oe=B.nodeName;B[yi]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&B.rel.toLowerCase()==="stylesheet"||f.removeChild(B),B=Q}}if(E===0){i.removeChild(S),uf(l);return}E--}else f==="$"||f==="$?"||f==="$!"?E++:m=f.charCodeAt(0)-48;else m=0;f=S}while(f);uf(l)}function Y1(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Y1(f),ns(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function O3(i,l,f,m){for(;i.nodeType===1;){var E=f;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[yi])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==E.rel||i.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||i.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||i.getAttribute("title")!==(E.title==null?null:E.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(E.src==null?null:E.src)||i.getAttribute("type")!==(E.type==null?null:E.type)||i.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var S=E.name==null?null:""+E.name;if(E.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Is(i.nextSibling),i===null)break}return null}function k3(i,l,f){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=Is(i.nextSibling),i===null))return null;return i}function W1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function P3(i,l){var f=i.ownerDocument;if(i.data!=="$?"||f.readyState==="complete")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Is(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var X1=null;function $v(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}function Jv(i,l,f){switch(l=nh(f),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function tf(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);ns(i)}var ms=new Map,e2=new Set;function rh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ia=he.d;he.d={f:L3,r:B3,D:V3,C:U3,L:F3,m:z3,X:H3,S:j3,M:G3};function L3(){var i=Ia.f(),l=Xd();return i||l}function B3(i){var l=zr(i);l!==null&&l.tag===5&&l.type==="form"?vx(l):Ia.r(i)}var Cc=typeof document>"u"?null:document;function t2(i,l,f){var m=Cc;if(m&&typeof l=="string"&&l){var E=An(l);E='link[rel="'+i+'"][href="'+E+'"]',typeof f=="string"&&(E+='[crossorigin="'+f+'"]'),e2.has(E)||(e2.add(E),i={rel:i,crossOrigin:f,href:l},m.querySelector(E)===null&&(l=m.createElement("link"),Wr(l,"link",i),tn(l),m.head.appendChild(l)))}}function V3(i){Ia.D(i),t2("dns-prefetch",i,null)}function U3(i,l){Ia.C(i,l),t2("preconnect",i,l)}function F3(i,l,f){Ia.L(i,l,f);var m=Cc;if(m&&i&&l){var E='link[rel="preload"][as="'+An(l)+'"]';l==="image"&&f&&f.imageSrcSet?(E+='[imagesrcset="'+An(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(E+='[imagesizes="'+An(f.imageSizes)+'"]')):E+='[href="'+An(i)+'"]';var S=E;switch(l){case"style":S=Ic(i);break;case"script":S=Rc(i)}ms.has(S)||(i=T({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:i,as:l},f),ms.set(S,i),m.querySelector(E)!==null||l==="style"&&m.querySelector(nf(S))||l==="script"&&m.querySelector(rf(S))||(l=m.createElement("link"),Wr(l,"link",i),tn(l),m.head.appendChild(l)))}}function z3(i,l){Ia.m(i,l);var f=Cc;if(f&&i){var m=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+An(m)+'"][href="'+An(i)+'"]',S=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Rc(i)}if(!ms.has(S)&&(i=T({rel:"modulepreload",href:i},l),ms.set(S,i),f.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(rf(S)))return}m=f.createElement("link"),Wr(m,"link",i),tn(m),f.head.appendChild(m)}}}function j3(i,l,f){Ia.S(i,l,f);var m=Cc;if(m&&i){var E=pr(m).hoistableStyles,S=Ic(i);l=l||"default";var B=E.get(S);if(!B){var Q={loading:0,preload:null};if(B=m.querySelector(nf(S)))Q.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":l},f),(f=ms.get(S))&&K1(i,f);var oe=B=m.createElement("link");tn(oe),Wr(oe,"link",i),oe._p=new Promise(function(xe,Ie){oe.onload=xe,oe.onerror=Ie}),oe.addEventListener("load",function(){Q.loading|=1}),oe.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,ih(B,l,m)}B={type:"stylesheet",instance:B,count:1,state:Q},E.set(S,B)}}}function H3(i,l){Ia.X(i,l);var f=Cc;if(f&&i){var m=pr(f).hoistableScripts,E=Rc(i),S=m.get(E);S||(S=f.querySelector(rf(E)),S||(i=T({src:i,async:!0},l),(l=ms.get(E))&&Q1(i,l),S=f.createElement("script"),tn(S),Wr(S,"link",i),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(E,S))}}function G3(i,l){Ia.M(i,l);var f=Cc;if(f&&i){var m=pr(f).hoistableScripts,E=Rc(i),S=m.get(E);S||(S=f.querySelector(rf(E)),S||(i=T({src:i,async:!0,type:"module"},l),(l=ms.get(E))&&Q1(i,l),S=f.createElement("script"),tn(S),Wr(S,"link",i),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(E,S))}}function n2(i,l,f,m){var E=(E=Ce.current)?rh(E):null;if(!E)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Ic(f.href),f=pr(E).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=Ic(f.href);var S=pr(E).hoistableStyles,B=S.get(i);if(B||(E=E.ownerDocument||E,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,B),(S=E.querySelector(nf(i)))&&!S._p&&(B.instance=S,B.state.loading=5),ms.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ms.set(i,f),S||q3(E,i,f,B.state))),l&&m===null)throw Error(r(528,""));return B}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Rc(f),f=pr(E).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ic(i){return'href="'+An(i)+'"'}function nf(i){return'link[rel="stylesheet"]['+i+"]"}function r2(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function q3(i,l,f,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Wr(l,"link",f),tn(l),i.head.appendChild(l))}function Rc(i){return'[src="'+An(i)+'"]'}function rf(i){return"script[async]"+i}function i2(i,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+An(f.href)+'"]');if(m)return l.instance=m,tn(m),m;var E=T({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),tn(m),Wr(m,"style",E),ih(m,f.precedence,i),l.instance=m;case"stylesheet":E=Ic(f.href);var S=i.querySelector(nf(E));if(S)return l.state.loading|=4,l.instance=S,tn(S),S;m=r2(f),(E=ms.get(E))&&K1(m,E),S=(i.ownerDocument||i).createElement("link"),tn(S);var B=S;return B._p=new Promise(function(Q,oe){B.onload=Q,B.onerror=oe}),Wr(S,"link",m),l.state.loading|=4,ih(S,f.precedence,i),l.instance=S;case"script":return S=Rc(f.src),(E=i.querySelector(rf(S)))?(l.instance=E,tn(E),E):(m=f,(E=ms.get(S))&&(m=T({},f),Q1(m,E)),i=i.ownerDocument||i,E=i.createElement("script"),tn(E),Wr(E,"link",m),i.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,ih(m,f.precedence,i));return l.instance}function ih(i,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,S=E,B=0;B<m.length;B++){var Q=m[B];if(Q.dataset.precedence===l)S=Q;else if(S!==E)break}S?S.parentNode.insertBefore(i,S.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(i,l.firstChild))}function K1(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Q1(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var sh=null;function s2(i,l,f){if(sh===null){var m=new Map,E=sh=new Map;E.set(f,m)}else E=sh,m=E.get(f),m||(m=new Map,E.set(f,m));if(m.has(i))return m;for(m.set(i,null),f=f.getElementsByTagName(i),E=0;E<f.length;E++){var S=f[E];if(!(S[yi]||S[or]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var B=S.getAttribute(l)||"";B=i+B;var Q=m.get(B);Q?Q.push(S):m.set(B,[S])}}return m}function a2(i,l,f){i=i.ownerDocument||i,i.head.insertBefore(f,l==="title"?i.querySelector("head > title"):null)}function Y3(i,l,f){if(f===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function o2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var sf=null;function W3(){}function X3(i,l,f){if(sf===null)throw Error(r(475));var m=sf;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var E=Ic(f.href),S=i.querySelector(nf(E));if(S){i=S._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=ah.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=S,tn(S);return}S=i.ownerDocument||i,f=r2(f),(E=ms.get(E))&&K1(f,E),S=S.createElement("link"),tn(S);var B=S;B._p=new Promise(function(Q,oe){B.onload=Q,B.onerror=oe}),Wr(S,"link",f),l.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=ah.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function K3(){if(sf===null)throw Error(r(475));var i=sf;return i.stylesheets&&i.count===0&&Z1(i,i.stylesheets),0<i.count?function(l){var f=setTimeout(function(){if(i.stylesheets&&Z1(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f)}}:null}function ah(){if(this.count--,this.count===0){if(this.stylesheets)Z1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var oh=null;function Z1(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,oh=new Map,l.forEach(Q3,i),oh=null,ah.call(i))}function Q3(i,l){if(!(l.state.loading&4)){var f=oh.get(i);if(f)var m=f.get(null);else{f=new Map,oh.set(i,f);for(var E=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<E.length;S++){var B=E[S];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(f.set(B.dataset.precedence,B),m=B)}m&&f.set(null,m)}E=l.instance,B=E.getAttribute("data-precedence"),S=f.get(B)||m,S===m&&f.set(null,E),f.set(B,E),this.count++,m=ah.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),S?S.parentNode.insertBefore(E,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(E,i.firstChild)),l.state.loading|=4}}var af={$$typeof:F,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function Z3(i,l,f,m,E,S,B,Q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=S,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function l2(i,l,f,m,E,S,B,Q,oe,xe,Ie,ke){return i=new Z3(i,l,f,B,Q,oe,xe,ke),l=1,S===!0&&(l|=24),S=zi(3,null,null,l),i.current=S,S.stateNode=i,l=Dg(),l.refCount++,i.pooledCache=l,l.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:l},Lg(S),i}function c2(i){return i?(i=ac,i):ac}function u2(i,l,f,m,E,S){E=c2(E),m.context===null?m.context=E:m.pendingContext=E,m=uo(l),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=fo(i,m,l),f!==null&&(Yi(f,i,l),Pu(f,i,l))}function f2(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function $1(i,l){f2(i,l),(i=i.alternate)&&f2(i,l)}function d2(i){if(i.tag===13){var l=sc(i,67108864);l!==null&&Yi(l,i,67108864),$1(i,67108864)}}var lh=!0;function $3(i,l,f,m){var E=ae.T;ae.T=null;var S=he.p;try{he.p=2,J1(i,l,f,m)}finally{he.p=S,ae.T=E}}function J3(i,l,f,m){var E=ae.T;ae.T=null;var S=he.p;try{he.p=8,J1(i,l,f,m)}finally{he.p=S,ae.T=E}}function J1(i,l,f,m){if(lh){var E=ep(m);if(E===null)F1(i,l,m,ch,f),g2(i,m);else if(tR(E,i,l,f,m))m.stopPropagation();else if(g2(i,m),l&4&&-1<eR.indexOf(i)){for(;E!==null;){var S=zr(E);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var B=on(S.pendingLanes);if(B!==0){var Q=S;for(Q.pendingLanes|=2,Q.entangledLanes|=2;B;){var oe=1<<31-en(B);Q.entanglements[1]|=oe,B&=~oe}Ws(S),(gn&6)===0&&(Yd=wt()+500,$u(0))}}break;case 13:Q=sc(S,2),Q!==null&&Yi(Q,S,2),Xd(),$1(S,2)}if(S=ep(m),S===null&&F1(i,l,m,ch,f),S===E)break;E=S}E!==null&&m.stopPropagation()}else F1(i,l,m,null,f)}}function ep(i){return i=jr(i),tp(i)}var ch=null;function tp(i){if(ch=null,i=Fn(i),i!==null){var l=o(i);if(l===null)i=null;else{var f=l.tag;if(f===13){if(i=d(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return ch=i,null}function h2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pt()){case Et:return 2;case Nr:return 8;case qe:case vs:return 32;case aa:return 268435456;default:return 32}default:return 32}}var np=!1,_o=null,So=null,Co=null,of=new Map,lf=new Map,Io=[],eR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g2(i,l){switch(i){case"focusin":case"focusout":_o=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":of.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":lf.delete(l.pointerId)}}function cf(i,l,f,m,E,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[E]},l!==null&&(l=zr(l),l!==null&&d2(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),i)}function tR(i,l,f,m,E){switch(l){case"focusin":return _o=cf(_o,i,l,f,m,E),!0;case"dragenter":return So=cf(So,i,l,f,m,E),!0;case"mouseover":return Co=cf(Co,i,l,f,m,E),!0;case"pointerover":var S=E.pointerId;return of.set(S,cf(of.get(S)||null,i,l,f,m,E)),!0;case"gotpointercapture":return S=E.pointerId,lf.set(S,cf(lf.get(S)||null,i,l,f,m,E)),!0}return!1}function p2(i){var l=Fn(i.target);if(l!==null){var f=o(l);if(f!==null){if(l=f.tag,l===13){if(l=d(f),l!==null){i.blockedOn=l,ca(i.priority,function(){if(f.tag===13){var m=qi();m=ts(m);var E=sc(f,m);E!==null&&Yi(E,f,m),$1(f,m)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=ep(i.nativeEvent);if(f===null){f=i.nativeEvent;var m=new f.constructor(f.type,f);Oi=m,f.target.dispatchEvent(m),Oi=null}else return l=zr(f),l!==null&&d2(l),i.blockedOn=f,!1;l.shift()}return!0}function m2(i,l,f){uh(i)&&f.delete(l)}function nR(){np=!1,_o!==null&&uh(_o)&&(_o=null),So!==null&&uh(So)&&(So=null),Co!==null&&uh(Co)&&(Co=null),of.forEach(m2),lf.forEach(m2)}function fh(i,l){i.blockedOn===l&&(i.blockedOn=null,np||(np=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nR)))}var dh=null;function y2(i){dh!==i&&(dh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){dh===i&&(dh=null);for(var l=0;l<i.length;l+=3){var f=i[l],m=i[l+1],E=i[l+2];if(typeof m!="function"){if(tp(m||f)===null)continue;break}var S=zr(f);S!==null&&(i.splice(l,3),l-=3,t1(S,{pending:!0,data:E,method:f.method,action:m},m,E))}}))}function uf(i){function l(oe){return fh(oe,i)}_o!==null&&fh(_o,i),So!==null&&fh(So,i),Co!==null&&fh(Co,i),of.forEach(l),lf.forEach(l);for(var f=0;f<Io.length;f++){var m=Io[f];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Io.length&&(f=Io[0],f.blockedOn===null);)p2(f),f.blockedOn===null&&Io.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var E=f[m],S=f[m+1],B=E[xn]||null;if(typeof S=="function")B||y2(f);else if(B){var Q=null;if(S&&S.hasAttribute("formAction")){if(E=S,B=S[xn]||null)Q=B.formAction;else if(tp(E)!==null)continue}else Q=B.action;typeof Q=="function"?f[m+1]=Q:(f.splice(m,3),m-=3),y2(f)}}}function rp(i){this._internalRoot=i}hh.prototype.render=rp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,m=qi();u2(f,m,i,l,null,null)},hh.prototype.unmount=rp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;u2(i.current,2,null,i,null,null),Xd(),l[$r]=null}};function hh(i){this._internalRoot=i}hh.prototype.unstable_scheduleHydration=function(i){if(i){var l=di();i={blockedOn:null,target:i,priority:l};for(var f=0;f<Io.length&&l!==0&&l<Io[f].priority;f++);Io.splice(f,0,i),f===0&&p2(i)}};var w2=e.version;if(w2!=="19.1.0")throw Error(r(527,w2,"19.1.0"));he.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=w(l),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var rR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Xt=gh.inject(rR),Jt=gh}catch{}}return df.createRoot=function(i,l){if(!s(i))throw Error(r(299));var f=!1,m="",E=kx,S=Px,B=Lx,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Q=l.unstable_transitionCallbacks)),l=l2(i,1,!1,null,null,f,m,E,S,B,Q,null),i[$r]=l.current,U1(i),new rp(l)},df.hydrateRoot=function(i,l,f){if(!s(i))throw Error(r(299));var m=!1,E="",S=kx,B=Px,Q=Lx,oe=null,xe=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(B=f.onCaughtError),f.onRecoverableError!==void 0&&(Q=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(oe=f.unstable_transitionCallbacks),f.formState!==void 0&&(xe=f.formState)),l=l2(i,1,!0,l,f??null,m,E,S,B,Q,oe,xe),l.context=c2(null),f=l.current,m=qi(),m=ts(m),E=uo(m),E.callback=null,fo(f,E,m),f=m,l.current.lanes=f,Ur(l,f),Ws(l),i[$r]=l.current,U1(i),new hh(l)},df.version="19.1.0",df}var I2;function hR(){if(I2)return ap.exports;I2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ap.exports=dR(),ap.exports}var gR=hR(),hf={},R2;function pR(){if(R2)return hf;R2=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.parse=d,hf.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function d(I,N){const M=new o,P=I.length;if(P<2)return M;const q=(N==null?void 0:N.decode)||T;let j=0;do{const K=I.indexOf("=",j);if(K===-1)break;const F=I.indexOf(";",j),$=F===-1?P:F;if(K>$){j=I.lastIndexOf(";",K-1)+1;continue}const ie=p(I,j,K),se=w(I,K,ie),V=I.slice(ie,se);if(M[V]===void 0){let L=p(I,K+1,$),O=w(I,$,L);const W=q(I.slice(L,O));M[V]=W}j=$+1}while(j<P);return M}function p(I,N,M){do{const P=I.charCodeAt(N);if(P!==32&&P!==9)return N}while(++N<M);return M}function w(I,N,M){for(;N>M;){const P=I.charCodeAt(--N);if(P!==32&&P!==9)return N+1}return M}function y(I,N,M){const P=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const q=P(N);if(!e.test(q))throw new TypeError(`argument val is invalid: ${N}`);let j=I+"="+q;if(!M)return j;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);j+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);j+="; Domain="+M.domain}if(M.path){if(!r.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);j+="; Path="+M.path}if(M.expires){if(!_(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);j+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(j+="; HttpOnly"),M.secure&&(j+="; Secure"),M.partitioned&&(j+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return j}function T(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function _(I){return s.call(I)==="[object Date]"}return hf}pR();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var N2="popstate";function mR(n={}){function e(s,o){let{pathname:d="/",search:p="",hash:w=""}=Fl(s.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),gm("",{pathname:d,search:p,hash:w},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let d=s.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let w=s.location.href,y=w.indexOf("#");p=y===-1?w:w.slice(0,y)}return p+"#"+(typeof o=="string"?o:Bf(o))}function r(s,o){Os(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return wR(e,t,r,n)}function Qn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Os(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yR(){return Math.random().toString(36).substring(2,10)}function M2(n,e){return{usr:n.state,key:n.key,idx:e}}function gm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fl(e):e,state:t,key:e&&e.key||r||yR()}}function Bf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function wR(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,d=s.history,p="POP",w=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function _(){p="POP";let q=T(),j=q==null?null:q-y;y=q,w&&w({action:p,location:P.location,delta:j})}function I(q,j){p="PUSH";let K=gm(P.location,q,j);t&&t(K,q),y=T()+1;let F=M2(K,y),$=P.createHref(K);try{d.pushState(F,"",$)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign($)}o&&w&&w({action:p,location:P.location,delta:1})}function N(q,j){p="REPLACE";let K=gm(P.location,q,j);t&&t(K,q),y=T();let F=M2(K,y),$=P.createHref(K);d.replaceState(F,"",$),o&&w&&w({action:p,location:P.location,delta:0})}function M(q){let j=s.location.origin!=="null"?s.location.origin:s.location.href,K=typeof q=="string"?q:Bf(q);return K=K.replace(/ $/,"%20"),Qn(j,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,j)}let P={get action(){return p},get location(){return n(s,d)},listen(q){if(w)throw new Error("A history only accepts one active listener");return s.addEventListener(N2,_),w=q,()=>{s.removeEventListener(N2,_),w=null}},createHref(q){return e(s,q)},createURL:M,encodeLocation(q){let j=M(q);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:I,replace:N,go(q){return d.go(q)}};return P}function JT(n,e,t="/"){return xR(n,e,t,!1)}function xR(n,e,t,r){let s=typeof e=="string"?Fl(e):e,o=Fa(s.pathname||"/",t);if(o==null)return null;let d=eA(n);vR(d);let p=null;for(let w=0;p==null&&w<d.length;++w){let y=MR(o);p=RR(d[w],y,r)}return p}function eA(n,e=[],t=[],r=""){let s=(o,d,p)=>{let w={relativePath:p===void 0?o.path||"":p,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};w.relativePath.startsWith("/")&&(Qn(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length));let y=La([r,w.relativePath]),T=t.concat(w);o.children&&o.children.length>0&&(Qn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),eA(o.children,e,T,y)),!(o.path==null&&!o.index)&&e.push({path:y,score:CR(y,o.index),routesMeta:T})};return n.forEach((o,d)=>{var p;if(o.path===""||!((p=o.path)!=null&&p.includes("?")))s(o,d);else for(let w of tA(o.path))s(o,d,w)}),e}function tA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let d=tA(r.join("/")),p=[];return p.push(...d.map(w=>w===""?o:[o,w].join("/"))),s&&p.push(...d),p.map(w=>n.startsWith("/")&&w===""?"/":w)}function vR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:IR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var bR=/^:[\w-]+$/,ER=3,TR=2,AR=1,_R=10,SR=-2,D2=n=>n==="*";function CR(n,e){let t=n.split("/"),r=t.length;return t.some(D2)&&(r+=SR),e&&(r+=TR),t.filter(s=>!D2(s)).reduce((s,o)=>s+(bR.test(o)?ER:o===""?AR:_R),r)}function IR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function RR(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",d=[];for(let p=0;p<r.length;++p){let w=r[p],y=p===r.length-1,T=o==="/"?e:e.slice(o.length)||"/",_=Qh({path:w.relativePath,caseSensitive:w.caseSensitive,end:y},T),I=w.route;if(!_&&y&&t&&!r[r.length-1].route.index&&(_=Qh({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},T)),!_)return null;Object.assign(s,_.params),d.push({params:s,pathname:La([o,_.pathname]),pathnameBase:PR(La([o,_.pathnameBase])),route:I}),_.pathnameBase!=="/"&&(o=La([o,_.pathnameBase]))}return d}function Qh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=NR(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],d=o.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:r.reduce((y,{paramName:T,isOptional:_},I)=>{if(T==="*"){let M=p[I]||"";d=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const N=p[I];return _&&!N?y[T]=void 0:y[T]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:o,pathnameBase:d,pattern:n}}function NR(n,e=!1,t=!0){Os(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,w)=>(r.push({paramName:p,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function MR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Os(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Fa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function DR(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Fl(n):n;return{pathname:t?t.startsWith("/")?t:OR(t,e):e,search:LR(r),hash:BR(s)}}function OR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function up(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nA(n){let e=kR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function rA(n,e,t,r=!1){let s;typeof n=="string"?s=Fl(n):(s={...n},Qn(!s.pathname||!s.pathname.includes("?"),up("?","pathname","search",s)),Qn(!s.pathname||!s.pathname.includes("#"),up("#","pathname","hash",s)),Qn(!s.search||!s.search.includes("#"),up("#","search","hash",s)));let o=n===""||s.pathname==="",d=o?"/":s.pathname,p;if(d==null)p=t;else{let _=e.length-1;if(!r&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),_-=1;s.pathname=I.join("/")}p=_>=0?e[_]:"/"}let w=DR(s,p),y=d&&d!=="/"&&d.endsWith("/"),T=(o||d===".")&&t.endsWith("/");return!w.pathname.endsWith("/")&&(y||T)&&(w.pathname+="/"),w}var La=n=>n.join("/").replace(/\/\/+/g,"/"),PR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function VR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var iA=["POST","PUT","PATCH","DELETE"];new Set(iA);var UR=["GET",...iA];new Set(UR);var fu=Z.createContext(null);fu.displayName="DataRouter";var D0=Z.createContext(null);D0.displayName="DataRouterState";var sA=Z.createContext({isTransitioning:!1});sA.displayName="ViewTransition";var FR=Z.createContext(new Map);FR.displayName="Fetchers";var zR=Z.createContext(null);zR.displayName="Await";var sa=Z.createContext(null);sa.displayName="Navigation";var $f=Z.createContext(null);$f.displayName="Location";var Wa=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Wa.displayName="Route";var cy=Z.createContext(null);cy.displayName="RouteError";function jR(n,{relative:e}={}){Qn(Jf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Z.useContext(sa),{hash:s,pathname:o,search:d}=ed(n,{relative:e}),p=o;return t!=="/"&&(p=o==="/"?t:La([t,o])),r.createHref({pathname:p,search:d,hash:s})}function Jf(){return Z.useContext($f)!=null}function zl(){return Qn(Jf(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext($f).location}var aA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oA(n){Z.useContext(sa).static||Z.useLayoutEffect(n)}function lA(){let{isDataRoute:n}=Z.useContext(Wa);return n?t4():HR()}function HR(){Qn(Jf(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(fu),{basename:e,navigator:t}=Z.useContext(sa),{matches:r}=Z.useContext(Wa),{pathname:s}=zl(),o=JSON.stringify(nA(r)),d=Z.useRef(!1);return oA(()=>{d.current=!0}),Z.useCallback((w,y={})=>{if(Os(d.current,aA),!d.current)return;if(typeof w=="number"){t.go(w);return}let T=rA(w,JSON.parse(o),s,y.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:La([e,T.pathname])),(y.replace?t.replace:t.push)(T,y.state,y)},[e,t,o,s,n])}Z.createContext(null);function ed(n,{relative:e}={}){let{matches:t}=Z.useContext(Wa),{pathname:r}=zl(),s=JSON.stringify(nA(t));return Z.useMemo(()=>rA(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function GR(n,e){return cA(n,e)}function cA(n,e,t,r){var K;Qn(Jf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=Z.useContext(sa),{matches:d}=Z.useContext(Wa),p=d[d.length-1],w=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",_=p&&p.route;{let F=_&&_.path||"";uA(y,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let I=zl(),N;if(e){let F=typeof e=="string"?Fl(e):e;Qn(T==="/"||((K=F.pathname)==null?void 0:K.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${F.pathname}" was given in the \`location\` prop.`),N=F}else N=I;let M=N.pathname||"/",P=M;if(T!=="/"){let F=T.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(F.length).join("/")}let q=!o&&t&&t.matches&&t.matches.length>0?t.matches:JT(n,{pathname:P});Os(_||q!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Os(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=KR(q&&q.map(F=>Object.assign({},F,{params:Object.assign({},w,F.params),pathname:La([T,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?T:La([T,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),d,t,r);return e&&j?Z.createElement($f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},j):j}function qR(){let n=e4(),e=VR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:s},t):null,d)}var YR=Z.createElement(qR,null),WR=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Z.createElement(Wa.Provider,{value:this.props.routeContext},Z.createElement(cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XR({routeContext:n,match:e,children:t}){let r=Z.useContext(fu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Wa.Provider,{value:n},t)}function KR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let w=s.findIndex(y=>y.route.id&&(o==null?void 0:o[y.route.id])!==void 0);Qn(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,w+1))}let d=!1,p=-1;if(t)for(let w=0;w<s.length;w++){let y=s[w];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=w),y.route.id){let{loaderData:T,errors:_}=t,I=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||I){d=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((w,y,T)=>{let _,I=!1,N=null,M=null;t&&(_=o&&y.route.id?o[y.route.id]:void 0,N=y.route.errorElement||YR,d&&(p<0&&T===0?(uA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):p===T&&(I=!0,M=y.route.hydrateFallbackElement||null)));let P=e.concat(s.slice(0,T+1)),q=()=>{let j;return _?j=N:I?j=M:y.route.Component?j=Z.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=w,Z.createElement(XR,{match:y,routeContext:{outlet:w,matches:P,isDataRoute:t!=null},children:j})};return t&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?Z.createElement(WR,{location:t.location,revalidation:t.revalidation,component:N,error:_,children:q(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):q()},null)}function uy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QR(n){let e=Z.useContext(fu);return Qn(e,uy(n)),e}function ZR(n){let e=Z.useContext(D0);return Qn(e,uy(n)),e}function $R(n){let e=Z.useContext(Wa);return Qn(e,uy(n)),e}function fy(n){let e=$R(n),t=e.matches[e.matches.length-1];return Qn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function JR(){return fy("useRouteId")}function e4(){var r;let n=Z.useContext(cy),e=ZR("useRouteError"),t=fy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function t4(){let{router:n}=QR("useNavigate"),e=fy("useNavigate"),t=Z.useRef(!1);return oA(()=>{t.current=!0}),Z.useCallback(async(s,o={})=>{Os(t.current,aA),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var O2={};function uA(n,e,t){!e&&!O2[n]&&(O2[n]=!0,Os(!1,t))}Z.memo(n4);function n4({routes:n,future:e,state:t}){return cA(n,void 0,t,e)}function wf(n){Qn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Qn(!Jf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=Z.useMemo(()=>({basename:d,navigator:s,static:o,future:{}}),[d,s,o]);typeof t=="string"&&(t=Fl(t));let{pathname:w="/",search:y="",hash:T="",state:_=null,key:I="default"}=t,N=Z.useMemo(()=>{let M=Fa(w,d);return M==null?null:{location:{pathname:M,search:y,hash:T,state:_,key:I},navigationType:r}},[d,w,y,T,_,I,r]);return Os(N!=null,`<Router basename="${d}"> is not able to match the URL "${w}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Z.createElement(sa.Provider,{value:p},Z.createElement($f.Provider,{children:e,value:N}))}function i4({children:n,location:e}){return GR(pm(n),e)}function pm(n,e=[]){let t=[];return Z.Children.forEach(n,(r,s)=>{if(!Z.isValidElement(r))return;let o=[...e,s];if(r.type===Z.Fragment){t.push.apply(t,pm(r.props.children,o));return}Qn(r.type===wf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=pm(r.props.children,o)),t.push(d)}),t}var Ph="get",Lh="application/x-www-form-urlencoded";function O0(n){return n!=null&&typeof n.tagName=="string"}function s4(n){return O0(n)&&n.tagName.toLowerCase()==="button"}function a4(n){return O0(n)&&n.tagName.toLowerCase()==="form"}function o4(n){return O0(n)&&n.tagName.toLowerCase()==="input"}function l4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function c4(n,e){return n.button===0&&(!e||e==="_self")&&!l4(n)}var mh=null;function u4(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var f4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(n){return n!=null&&!f4.has(n)?(Os(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lh}"`),null):n}function d4(n,e){let t,r,s,o,d;if(a4(n)){let p=n.getAttribute("action");r=p?Fa(p,e):null,t=n.getAttribute("method")||Ph,s=fp(n.getAttribute("enctype"))||Lh,o=new FormData(n)}else if(s4(n)||o4(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=n.getAttribute("formaction")||p.getAttribute("action");if(r=w?Fa(w,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Ph,s=fp(n.getAttribute("formenctype"))||fp(p.getAttribute("enctype"))||Lh,o=new FormData(p,n),!u4()){let{name:y,type:T,value:_}=n;if(T==="image"){let I=y?`${y}.`:"";o.append(`${I}x`,"0"),o.append(`${I}y`,"0")}else y&&o.append(y,_)}}else{if(O0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ph,r=null,s=Lh,d=n}return o&&s==="text/plain"&&(d=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:d}}function dy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function h4(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g4(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function p4(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let d=await h4(o,t);return d.links?d.links():[]}return[]}));return x4(r.flat(1).filter(g4).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function k2(n,e,t,r,s,o){let d=(w,y)=>t[y]?w.route.id!==t[y].route.id:!0,p=(w,y)=>{var T;return t[y].pathname!==w.pathname||((T=t[y].route.path)==null?void 0:T.endsWith("*"))&&t[y].params["*"]!==w.params["*"]};return o==="assets"?e.filter((w,y)=>d(w,y)||p(w,y)):o==="data"?e.filter((w,y)=>{var _;let T=r.routes[w.route.id];if(!T||!T.hasLoader)return!1;if(d(w,y)||p(w,y))return!0;if(w.route.shouldRevalidate){let I=w.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function m4(n,e,{includeHydrateFallback:t}={}){return y4(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function y4(n){return[...new Set(n)]}function w4(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function x4(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(w4(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}var v4=new Set([100,101,204,205]);function b4(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Fa(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function fA(){let n=Z.useContext(fu);return dy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function E4(){let n=Z.useContext(D0);return dy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hy=Z.createContext(void 0);hy.displayName="FrameworkContext";function dA(){let n=Z.useContext(hy);return dy(n,"You must render this element inside a <HydratedRouter> element"),n}function T4(n,e){let t=Z.useContext(hy),[r,s]=Z.useState(!1),[o,d]=Z.useState(!1),{onFocus:p,onBlur:w,onMouseEnter:y,onMouseLeave:T,onTouchStart:_}=e,I=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let P=j=>{j.forEach(K=>{d(K.isIntersecting)})},q=new IntersectionObserver(P,{threshold:.5});return I.current&&q.observe(I.current),()=>{q.disconnect()}}},[n]),Z.useEffect(()=>{if(r){let P=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(P)}}},[r]);let N=()=>{s(!0)},M=()=>{s(!1),d(!1)};return t?n!=="intent"?[o,I,{}]:[o,I,{onFocus:gf(p,N),onBlur:gf(w,M),onMouseEnter:gf(y,N),onMouseLeave:gf(T,M),onTouchStart:gf(_,N)}]:[!1,I,{}]}function gf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function A4({page:n,...e}){let{router:t}=fA(),r=Z.useMemo(()=>JT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Z.createElement(S4,{page:n,matches:r,...e}):null}function _4(n){let{manifest:e,routeModules:t}=dA(),[r,s]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return p4(n,e,t).then(d=>{o||s(d)}),()=>{o=!0}},[n,e,t]),r}function S4({page:n,matches:e,...t}){let r=zl(),{manifest:s,routeModules:o}=dA(),{basename:d}=fA(),{loaderData:p,matches:w}=E4(),y=Z.useMemo(()=>k2(n,e,w,s,r,"data"),[n,e,w,s,r]),T=Z.useMemo(()=>k2(n,e,w,s,r,"assets"),[n,e,w,s,r]),_=Z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,P=!1;if(e.forEach(j=>{var F;let K=s.routes[j.route.id];!K||!K.hasLoader||(!y.some($=>$.route.id===j.route.id)&&j.route.id in p&&((F=o[j.route.id])!=null&&F.shouldRevalidate)||K.hasClientLoader?P=!0:M.add(j.route.id))}),M.size===0)return[];let q=b4(n,d);return P&&M.size>0&&q.searchParams.set("_routes",e.filter(j=>M.has(j.route.id)).map(j=>j.route.id).join(",")),[q.pathname+q.search]},[d,p,r,s,y,e,n,o]),I=Z.useMemo(()=>m4(T,s),[T,s]),N=_4(T);return Z.createElement(Z.Fragment,null,_.map(M=>Z.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),I.map(M=>Z.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),N.map(({key:M,link:P})=>Z.createElement("link",{key:M,...P})))}function C4(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var hA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hA&&(window.__reactRouterVersion="7.5.1")}catch{}function I4({basename:n,children:e,window:t}){let r=Z.useRef();r.current==null&&(r.current=mR({window:t,v5Compat:!0}));let s=r.current,[o,d]=Z.useState({action:s.action,location:s.location}),p=Z.useCallback(w=>{Z.startTransition(()=>d(w))},[d]);return Z.useLayoutEffect(()=>s.listen(p),[s,p]),Z.createElement(r4,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var gA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pA=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:d,state:p,target:w,to:y,preventScrollReset:T,viewTransition:_,...I},N){let{basename:M}=Z.useContext(sa),P=typeof y=="string"&&gA.test(y),q,j=!1;if(typeof y=="string"&&P&&(q=y,hA))try{let O=new URL(window.location.href),W=y.startsWith("//")?new URL(O.protocol+y):new URL(y),X=Fa(W.pathname,M);W.origin===O.origin&&X!=null?y=X+W.search+W.hash:j=!0}catch{Os(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=jR(y,{relative:s}),[F,$,ie]=T4(r,I),se=D4(y,{replace:d,state:p,target:w,preventScrollReset:T,relative:s,viewTransition:_});function V(O){e&&e(O),O.defaultPrevented||se(O)}let L=Z.createElement("a",{...I,...ie,href:q||K,onClick:j||o?e:V,ref:C4(N,$),target:w,"data-discover":!P&&t==="render"?"true":void 0});return F&&!P?Z.createElement(Z.Fragment,null,L,Z.createElement(A4,{page:K})):L});pA.displayName="Link";var R4=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:d,viewTransition:p,children:w,...y},T){let _=ed(d,{relative:y.relative}),I=zl(),N=Z.useContext(D0),{navigator:M,basename:P}=Z.useContext(sa),q=N!=null&&B4(_)&&p===!0,j=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,K=I.pathname,F=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(K=K.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&P&&(F=Fa(F,P)||F);const $=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ie=K===j||!s&&K.startsWith(j)&&K.charAt($)==="/",se=F!=null&&(F===j||!s&&F.startsWith(j)&&F.charAt(j.length)==="/"),V={isActive:ie,isPending:se,isTransitioning:q},L=ie?e:void 0,O;typeof r=="function"?O=r(V):O=[r,ie?"active":null,se?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(V):o;return Z.createElement(pA,{...y,"aria-current":L,className:O,ref:T,style:W,to:d,viewTransition:p},typeof w=="function"?w(V):w)});R4.displayName="NavLink";var N4=Z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:d=Ph,action:p,onSubmit:w,relative:y,preventScrollReset:T,viewTransition:_,...I},N)=>{let M=P4(),P=L4(p,{relative:y}),q=d.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&gA.test(p),K=F=>{if(w&&w(F),F.defaultPrevented)return;F.preventDefault();let $=F.nativeEvent.submitter,ie=($==null?void 0:$.getAttribute("formmethod"))||d;M($||F.currentTarget,{fetcherKey:e,method:ie,navigate:t,replace:s,state:o,relative:y,preventScrollReset:T,viewTransition:_})};return Z.createElement("form",{ref:N,method:q,action:P,onSubmit:r?w:K,...I,"data-discover":!j&&n==="render"?"true":void 0})});N4.displayName="Form";function M4(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mA(n){let e=Z.useContext(fu);return Qn(e,M4(n)),e}function D4(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:d}={}){let p=lA(),w=zl(),y=ed(n,{relative:o});return Z.useCallback(T=>{if(c4(T,e)){T.preventDefault();let _=t!==void 0?t:Bf(w)===Bf(y);p(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:d})}},[w,p,y,t,r,e,n,s,o,d])}var O4=0,k4=()=>`__${String(++O4)}__`;function P4(){let{router:n}=mA("useSubmit"),{basename:e}=Z.useContext(sa),t=JR();return Z.useCallback(async(r,s={})=>{let{action:o,method:d,encType:p,formData:w,body:y}=d4(r,e);if(s.navigate===!1){let T=s.fetcherKey||k4();await n.fetch(T,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:w,body:y,formMethod:s.method||d,formEncType:s.encType||p,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:w,body:y,formMethod:s.method||d,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function L4(n,{relative:e}={}){let{basename:t}=Z.useContext(sa),r=Z.useContext(Wa);Qn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ed(n||".",{relative:e})},d=zl();if(n==null){o.search=d.search;let p=new URLSearchParams(o.search),w=p.getAll("index");if(w.some(T=>T==="")){p.delete("index"),w.filter(_=>_).forEach(_=>p.append("index",_));let T=p.toString();o.search=T?`?${T}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:La([t,o.pathname])),Bf(o)}function B4(n,e={}){let t=Z.useContext(sA);Qn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mA("useViewTransitionState"),s=ed(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Fa(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=Fa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qh(s.pathname,d)!=null||Qh(s.pathname,o)!=null}new TextEncoder;[...v4];var yA=$T();function ft(n,e){const t=e.split(".");let r=n;for(const s of t){if(typeof r=="boolean"||typeof r=="string")return r;if(r==null||typeof r!="object")return;r=r[s]}return r}function V4(n){const{theme:e,clearTheme:t,applyTheme:r,...s}=n;return s}function Cr(n,e){let t=V4(n);return e&&(t={...e,...n}),t}const tl={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};tl.defaultMerge;function U4(n,e){return e}function F4(n,e){return n.filter(t=>t!==void 0)}var P2;(function(n){n[n.NOT=0]="NOT",n[n.RECORD=1]="RECORD",n[n.ARRAY=2]="ARRAY",n[n.SET=3]="SET",n[n.MAP=4]="MAP",n[n.OTHER=5]="OTHER"})(P2||(P2={}));function L2(n){return typeof n!="object"||n===null?0:Array.isArray(n)?2:H4(n)?1:n instanceof Set?3:n instanceof Map?4:5}function z4(n){const e=new Set;for(const t of n)for(const r of[...Object.keys(t),...Object.getOwnPropertySymbols(t)])e.add(r);return e}function j4(n,e){return typeof n=="object"&&Object.prototype.propertyIsEnumerable.call(n,e)}function wA(n){var r;let e=0,t=(r=n[0])==null?void 0:r[Symbol.iterator]();return{[Symbol.iterator](){return{next(){var s;do{if(t===void 0)return{done:!0,value:void 0};const o=t.next();if(o.done===!0){e+=1,t=(s=n[e])==null?void 0:s[Symbol.iterator]();continue}return{done:!1,value:o.value}}while(!0)}}}}}const B2=["[object Object]","[object Module]"];function H4(n){if(!B2.includes(Object.prototype.toString.call(n)))return!1;const{constructor:e}=n;if(e===void 0)return!0;const t=e.prototype;return!(t===null||typeof t!="object"||!B2.includes(Object.prototype.toString.call(t))||!t.hasOwnProperty("isPrototypeOf"))}function G4(n,e,t){const r={};for(const s of z4(n)){const o=[];for(const w of n)j4(w,s)&&o.push(w[s]);if(o.length===0)continue;const d=e.metaDataUpdater(t,{key:s,parents:n}),p=vA(o,e,d);p!==tl.skip&&(s==="__proto__"?Object.defineProperty(r,s,{value:p,configurable:!0,enumerable:!0,writable:!0}):r[s]=p)}return r}function q4(n){return n.flat()}function Y4(n){return new Set(wA(n))}function W4(n){return new Map(wA(n))}function X4(n){return n.at(-1)}const yh={mergeRecords:G4,mergeArrays:q4,mergeSets:Y4,mergeMaps:W4,mergeOthers:X4};function K4(...n){return xA({})(...n)}function xA(n,e){const t=Q4(n,r);function r(...s){return vA(s,t,e)}return r}function Q4(n,e){return{defaultMergeFunctions:yh,mergeFunctions:{...yh,...Object.fromEntries(Object.entries(n).filter(([t,r])=>Object.hasOwn(yh,t)).map(([t,r])=>r===!1?[t,yh.mergeOthers]:[t,r]))},metaDataUpdater:n.metaDataUpdater??U4,deepmerge:e,useImplicitDefaultMerging:n.enableImplicitDefaultMerging??!1,filterValues:n.filterValues===!1?void 0:n.filterValues??F4,actions:tl}}function vA(n,e,t){var o;const r=((o=e.filterValues)==null?void 0:o.call(e,n,t))??n;if(r.length===0)return;if(r.length===1)return dp(r,e,t);const s=L2(r[0]);if(s!==0&&s!==5){for(let d=1;d<r.length;d++)if(L2(r[d])!==s)return dp(r,e,t)}switch(s){case 1:return Z4(r,e,t);case 2:return $4(r,e,t);case 3:return J4(r,e,t);case 4:return eN(r,e,t);default:return dp(r,e,t)}}function Z4(n,e,t){const r=e.mergeFunctions.mergeRecords(n,e,t);return r===tl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(n,e,t):r}function $4(n,e,t){const r=e.mergeFunctions.mergeArrays(n,e,t);return r===tl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(n):r}function J4(n,e,t){const r=e.mergeFunctions.mergeSets(n,e,t);return r===tl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(n):r}function eN(n,e,t){const r=e.mergeFunctions.mergeMaps(n,e,t);return r===tl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(n):r}function dp(n,e,t){const r=e.mergeFunctions.mergeOthers(n,e,t);return r===tl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(n):r}function Bh(n){var e,t,r;if(Array.isArray(n)){for(t=Array(e=n.length);e--;)t[e]=(r=n[e])&&typeof r=="object"?Bh(r):r;return t}if(Object.prototype.toString.call(n)==="[object Object]"){t={};for(e in n)e==="__proto__"?Object.defineProperty(t,e,{value:Bh(n[e]),configurable:!0,enumerable:!0,writable:!0}):t[e]=(r=n[e])&&typeof r=="object"?Bh(r):r;return t}return n}const bA={dark:void 0,prefix:void 0};function tN(){return bA.dark}function EA(){return bA.prefix}const V2=new Map;function nN(n){if(!n.trim().length)return n;const e=n,t=V2.get(e);if(t)return t;const s=n.split(/(\s+)/).map(o=>{if(/^\s+$/.test(o))return o;const d=o,p=d.match(/^([^:]+:)?(.+)$/);if(p){const[,w="",y]=p;for(const[T,_]of rN)if(T.test(y))return w+y.replace(T,_)}return d}).join("");return V2.set(e,s),s}const rN=[[/^shadow-sm$/,"shadow-xs"],[/^shadow$/,"shadow-sm"],[/^drop-shadow-sm$/,"drop-shadow-xs"],[/^drop-shadow$/,"drop-shadow-sm"],[/^blur-sm$/,"blur-xs"],[/^blur$/,"blur-sm"],[/^rounded-sm$/,"rounded-xs"],[/^rounded$/,"rounded-sm"],[/^ring$/,"ring-3"]];function iN(n){return xA({mergeOthers:(e,t)=>{if(e.some(r=>typeof r=="string")){const r=e.filter(d=>typeof d=="string"),s=new Set,o=[];for(const d of r){const p=[...new Set(d.split(/\s+/))];o.push(p.filter(w=>!s.has(w)).join(" "));for(const w of p)s.add(w)}return n(o)}return t.actions.defaultMerge}})}const sN="4.1.4";function TA(){try{return parseInt(sN.split(".")[0],10)}catch{return}}function mm(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;if(Array.isArray(n))return n.length!==e.length?!1:n.every((r,s)=>mm(r,e[s]));if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();const t=Object.keys(n);return t.length!==Object.keys(e).length?!1:t.every(r=>Object.prototype.hasOwnProperty.call(e,r)&&mm(n[r],e[r]))}return n!==n&&e!==e}const gy="-",aN=n=>{const e=lN(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:d=>{const p=d.split(gy);return p[0]===""&&p.length!==1&&p.shift(),AA(p,e)||oN(d)},getConflictingClassGroupIds:(d,p)=>{const w=t[d]||[];return p&&r[d]?[...w,...r[d]]:w}}},AA=(n,e)=>{var d;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?AA(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(gy);return(d=e.validators.find(({validator:p})=>p(o)))==null?void 0:d.classGroupId},U2=/^\[(.+)\]$/,oN=n=>{if(U2.test(n)){const e=U2.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},lN=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return uN(Object.entries(n.classGroups),t).forEach(([o,d])=>{ym(d,r,o,e)}),r},ym=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:F2(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(cN(s)){ym(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,d])=>{ym(d,F2(e,o),t,r)})})},F2=(n,e)=>{let t=n;return e.split(gy).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},cN=n=>n.isThemeGetter,uN=(n,e)=>e?n.map(([t,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([d,p])=>[e+d,p])):o);return[t,s]}):n,fN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,d)=>{t.set(o,d),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let d=t.get(o);if(d!==void 0)return d;if((d=r.get(o))!==void 0)return s(o,d),d},set(o,d){t.has(o)?t.set(o,d):s(o,d)}}},_A="!",dN=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],o=e.length,d=p=>{const w=[];let y=0,T=0,_;for(let q=0;q<p.length;q++){let j=p[q];if(y===0){if(j===s&&(r||p.slice(q,q+o)===e)){w.push(p.slice(T,q)),T=q+o;continue}if(j==="/"){_=q;continue}}j==="["?y++:j==="]"&&y--}const I=w.length===0?p:p.substring(T),N=I.startsWith(_A),M=N?I.substring(1):I,P=_&&_>T?_-T:void 0;return{modifiers:w,hasImportantModifier:N,baseClassName:M,maybePostfixModifierPosition:P}};return t?p=>t({className:p,parseClassName:d}):d},hN=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},gN=n=>({cache:fN(n.cacheSize),parseClassName:dN(n),...aN(n)}),pN=/\s+/,mN=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],d=n.trim().split(pN);let p="";for(let w=d.length-1;w>=0;w-=1){const y=d[w],{modifiers:T,hasImportantModifier:_,baseClassName:I,maybePostfixModifierPosition:N}=t(y);let M=!!N,P=r(M?I.substring(0,N):I);if(!P){if(!M){p=y+(p.length>0?" "+p:p);continue}if(P=r(I),!P){p=y+(p.length>0?" "+p:p);continue}M=!1}const q=hN(T).join(":"),j=_?q+_A:q,K=j+P;if(o.includes(K))continue;o.push(K);const F=s(P,M);for(let $=0;$<F.length;++$){const ie=F[$];o.push(j+ie)}p=y+(p.length>0?" "+p:p)}return p};function yN(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=SA(e))&&(r&&(r+=" "),r+=t);return r}const SA=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=SA(n[r]))&&(t&&(t+=" "),t+=e);return t};function z2(n,...e){let t,r,s,o=d;function d(w){const y=e.reduce((T,_)=>_(T),n());return t=gN(y),r=t.cache.get,s=t.cache.set,o=p,p(w)}function p(w){const y=r(w);if(y)return y;const T=mN(w,t);return s(w,T),T}return function(){return o(yN.apply(null,arguments))}}const Ln=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},CA=/^\[(?:([a-z-]+):)?(.+)\]$/i,wN=/^\d+\/\d+$/,xN=new Set(["px","full","screen"]),vN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ra=n=>Gc(n)||xN.has(n)||wN.test(n),No=n=>du(n,"length",DN),Gc=n=>!!n&&!Number.isNaN(Number(n)),hp=n=>du(n,"number",Gc),pf=n=>!!n&&Number.isInteger(Number(n)),_N=n=>n.endsWith("%")&&Gc(n.slice(0,-1)),It=n=>CA.test(n),Mo=n=>vN.test(n),SN=new Set(["length","size","percentage"]),CN=n=>du(n,SN,IA),IN=n=>du(n,"position",IA),RN=new Set(["image","url"]),NN=n=>du(n,RN,kN),MN=n=>du(n,"",ON),mf=()=>!0,du=(n,e,t)=>{const r=CA.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},DN=n=>bN.test(n)&&!EN.test(n),IA=()=>!1,ON=n=>TN.test(n),kN=n=>AN.test(n),j2=()=>{const n=Ln("colors"),e=Ln("spacing"),t=Ln("blur"),r=Ln("brightness"),s=Ln("borderColor"),o=Ln("borderRadius"),d=Ln("borderSpacing"),p=Ln("borderWidth"),w=Ln("contrast"),y=Ln("grayscale"),T=Ln("hueRotate"),_=Ln("invert"),I=Ln("gap"),N=Ln("gradientColorStops"),M=Ln("gradientColorStopPositions"),P=Ln("inset"),q=Ln("margin"),j=Ln("opacity"),K=Ln("padding"),F=Ln("saturate"),$=Ln("scale"),ie=Ln("sepia"),se=Ln("skew"),V=Ln("space"),L=Ln("translate"),O=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",It,e],G=()=>[It,e],H=()=>["",Ra,No],_e=()=>["auto",Gc,It],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>["start","end","center","between","around","evenly","stretch"],Re=()=>["","0",It],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ye=()=>[Gc,It];return{cacheSize:500,separator:":",theme:{colors:[mf],spacing:[Ra,No],blur:["none","",Mo,It],brightness:ye(),borderColor:[n],borderRadius:["none","","full",Mo,It],borderSpacing:G(),borderWidth:H(),contrast:ye(),grayscale:Re(),hueRotate:ye(),invert:Re(),gap:G(),gradientColorStops:[n],gradientColorStopPositions:[_N,No],inset:X(),margin:X(),opacity:ye(),padding:G(),saturate:ye(),scale:ye(),sepia:Re(),skew:ye(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",It]}],container:["container"],columns:[{columns:[Mo]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),It]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[P]}],"inset-x":[{"inset-x":[P]}],"inset-y":[{"inset-y":[P]}],start:[{start:[P]}],end:[{end:[P]}],top:[{top:[P]}],right:[{right:[P]}],bottom:[{bottom:[P]}],left:[{left:[P]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pf,It]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",It]}],grow:[{grow:Re()}],shrink:[{shrink:Re()}],order:[{order:["first","last","none",pf,It]}],"grid-cols":[{"grid-cols":[mf]}],"col-start-end":[{col:["auto",{span:["full",pf,It]},It]}],"col-start":[{"col-start":_e()}],"col-end":[{"col-end":_e()}],"grid-rows":[{"grid-rows":[mf]}],"row-start-end":[{row:["auto",{span:[pf,It]},It]}],"row-start":[{"row-start":_e()}],"row-end":[{"row-end":_e()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",It]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",It]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...be()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...be(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...be(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[K]}],px:[{px:[K]}],py:[{py:[K]}],ps:[{ps:[K]}],pe:[{pe:[K]}],pt:[{pt:[K]}],pr:[{pr:[K]}],pb:[{pb:[K]}],pl:[{pl:[K]}],m:[{m:[q]}],mx:[{mx:[q]}],my:[{my:[q]}],ms:[{ms:[q]}],me:[{me:[q]}],mt:[{mt:[q]}],mr:[{mr:[q]}],mb:[{mb:[q]}],ml:[{ml:[q]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",It,e]}],"min-w":[{"min-w":[It,e,"min","max","fit"]}],"max-w":[{"max-w":[It,e,"none","full","min","max","fit","prose",{screen:[Mo]},Mo]}],h:[{h:[It,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[It,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[It,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[It,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Mo,No]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hp]}],"font-family":[{font:[mf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",It]}],"line-clamp":[{"line-clamp":["none",Gc,hp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ra,It]}],"list-image":[{"list-image":["none",It]}],"list-style-type":[{list:["none","disc","decimal",It]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ra,No]}],"underline-offset":[{"underline-offset":["auto",Ra,It]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),IN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},NN]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[M]}],"gradient-via-pos":[{via:[M]}],"gradient-to-pos":[{to:[M]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Ra,It]}],"outline-w":[{outline:[Ra,No]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Ra,No]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Mo,MN]}],"shadow-color":[{shadow:[mf]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[w]}],"drop-shadow":[{"drop-shadow":["","none",Mo,It]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[T]}],invert:[{invert:[_]}],saturate:[{saturate:[F]}],sepia:[{sepia:[ie]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[w]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[T]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",It]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",It]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",It]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[pf,It]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",It]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ra,No,hp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PN=(n,{cacheSize:e,prefix:t,separator:r,experimentalParseClassName:s,extend:o={},override:d={}})=>{xf(n,"cacheSize",e),xf(n,"prefix",t),xf(n,"separator",r),xf(n,"experimentalParseClassName",s);for(const p in d)LN(n[p],d[p]);for(const p in o)BN(n[p],o[p]);return n},xf=(n,e,t)=>{t!==void 0&&(n[e]=t)},LN=(n,e)=>{if(e)for(const t in e)xf(n,t,e[t])},BN=(n,e)=>{if(e)for(const t in e){const r=e[t];r!==void 0&&(n[t]=(n[t]||[]).concat(r))}},VN=(n,...e)=>typeof n=="function"?z2(j2,n,...e):z2(()=>PN(j2(),n),...e),py="-",UN=n=>{const e=zN(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:d=>{const p=d.split(py);return p[0]===""&&p.length!==1&&p.shift(),RA(p,e)||FN(d)},getConflictingClassGroupIds:(d,p)=>{const w=t[d]||[];return p&&r[d]?[...w,...r[d]]:w}}},RA=(n,e)=>{var d;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?RA(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(py);return(d=e.validators.find(({validator:p})=>p(o)))==null?void 0:d.classGroupId},H2=/^\[(.+)\]$/,FN=n=>{if(H2.test(n)){const e=H2.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},zN=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)wm(t[s],r,s,e);return r},wm=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:G2(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(jN(s)){wm(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,d])=>{wm(d,G2(e,o),t,r)})})},G2=(n,e)=>{let t=n;return e.split(py).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},jN=n=>n.isThemeGetter,HN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,d)=>{t.set(o,d),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let d=t.get(o);if(d!==void 0)return d;if((d=r.get(o))!==void 0)return s(o,d),d},set(o,d){t.has(o)?t.set(o,d):s(o,d)}}},xm="!",vm=":",GN=vm.length,qN=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const o=[];let d=0,p=0,w=0,y;for(let M=0;M<s.length;M++){let P=s[M];if(d===0&&p===0){if(P===vm){o.push(s.slice(w,M)),w=M+GN;continue}if(P==="/"){y=M;continue}}P==="["?d++:P==="]"?d--:P==="("?p++:P===")"&&p--}const T=o.length===0?s:s.substring(w),_=YN(T),I=_!==T,N=y&&y>w?y-w:void 0;return{modifiers:o,hasImportantModifier:I,baseClassName:_,maybePostfixModifierPosition:N}};if(e){const s=e+vm,o=r;r=d=>d.startsWith(s)?o(d.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=o=>t({className:o,parseClassName:s})}return r},YN=n=>n.endsWith(xm)?n.substring(0,n.length-1):n.startsWith(xm)?n.substring(1):n,WN=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(d=>{d[0]==="["||e[d]?(s.push(...o.sort(),d),o=[]):o.push(d)}),s.push(...o.sort()),s}},XN=n=>({cache:HN(n.cacheSize),parseClassName:qN(n),sortModifiers:WN(n),...UN(n)}),KN=/\s+/,QN=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,d=[],p=n.trim().split(KN);let w="";for(let y=p.length-1;y>=0;y-=1){const T=p[y],{isExternal:_,modifiers:I,hasImportantModifier:N,baseClassName:M,maybePostfixModifierPosition:P}=t(T);if(_){w=T+(w.length>0?" "+w:w);continue}let q=!!P,j=r(q?M.substring(0,P):M);if(!j){if(!q){w=T+(w.length>0?" "+w:w);continue}if(j=r(M),!j){w=T+(w.length>0?" "+w:w);continue}q=!1}const K=o(I).join(":"),F=N?K+xm:K,$=F+j;if(d.includes($))continue;d.push($);const ie=s(j,q);for(let se=0;se<ie.length;++se){const V=ie[se];d.push(F+V)}w=T+(w.length>0?" "+w:w)}return w};function ZN(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=NA(e))&&(r&&(r+=" "),r+=t);return r}const NA=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=NA(n[r]))&&(t&&(t+=" "),t+=e);return t};function q2(n,...e){let t,r,s,o=d;function d(w){const y=e.reduce((T,_)=>_(T),n());return t=XN(y),r=t.cache.get,s=t.cache.set,o=p,p(w)}function p(w){const y=r(w);if(y)return y;const T=QN(w,t);return s(w,T),T}return function(){return o(ZN.apply(null,arguments))}}const Pr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},MA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$N=/^\d+\/\d+$/,JN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nc=n=>$N.test(n),Ht=n=>!!n&&!Number.isNaN(Number(n)),Sl=n=>!!n&&Number.isInteger(Number(n)),Y2=n=>n.endsWith("%")&&Ht(n.slice(0,-1)),Do=n=>JN.test(n),iM=()=>!0,sM=n=>eM.test(n)&&!tM.test(n),my=()=>!1,aM=n=>nM.test(n),oM=n=>rM.test(n),lM=n=>!Ke(n)&&!Qe(n),cM=n=>hu(n,PA,my),Ke=n=>MA.test(n),Cl=n=>hu(n,LA,sM),gp=n=>hu(n,vM,Ht),uM=n=>hu(n,OA,my),fM=n=>hu(n,kA,oM),dM=n=>hu(n,my,aM),Qe=n=>DA.test(n),wh=n=>gu(n,LA),hM=n=>gu(n,bM),gM=n=>gu(n,OA),pM=n=>gu(n,PA),mM=n=>gu(n,kA),yM=n=>gu(n,EM,!0),hu=(n,e,t)=>{const r=MA.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},gu=(n,e,t=!1)=>{const r=DA.exec(n);return r?r[1]?e(r[1]):t:!1},OA=n=>n==="position",wM=new Set(["image","url"]),kA=n=>wM.has(n),xM=new Set(["length","size","percentage"]),PA=n=>xM.has(n),LA=n=>n==="length",vM=n=>n==="number",bM=n=>n==="family-name",EM=n=>n==="shadow",W2=()=>{const n=Pr("color"),e=Pr("font"),t=Pr("text"),r=Pr("font-weight"),s=Pr("tracking"),o=Pr("leading"),d=Pr("breakpoint"),p=Pr("container"),w=Pr("spacing"),y=Pr("radius"),T=Pr("shadow"),_=Pr("inset-shadow"),I=Pr("drop-shadow"),N=Pr("blur"),M=Pr("perspective"),P=Pr("aspect"),q=Pr("ease"),j=Pr("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["auto","hidden","clip","visible","scroll"],ie=()=>["auto","contain","none"],se=()=>[Nc,"px","full","auto",Qe,Ke,w],V=()=>[Sl,"none","subgrid",Qe,Ke],L=()=>["auto",{span:["full",Sl,Qe,Ke]},Qe,Ke],O=()=>[Sl,"auto",Qe,Ke],W=()=>["auto","min","max","fr",Qe,Ke],X=()=>[Qe,Ke,w],G=()=>["start","end","center","between","around","evenly","stretch","baseline"],H=()=>["start","end","center","stretch"],_e=()=>[Qe,Ke,w],le=()=>["px",..._e()],ae=()=>["px","auto",..._e()],he=()=>[Nc,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",Qe,Ke,w],be=()=>[n,Qe,Ke],Re=()=>[Y2,Cl],ee=()=>["","none","full",y,Qe,Ke],ye=()=>["",Ht,wh,Cl],Ne=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ge=()=>["","none",N,Qe,Ke],it=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe,Ke],Ce=()=>["none",Ht,Qe,Ke],We=()=>["none",Ht,Qe,Ke],He=()=>[Ht,Qe,Ke],Ye=()=>[Nc,"full","px",Qe,Ke,w];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Do],breakpoint:[Do],color:[iM],container:[Do],"drop-shadow":[Do],ease:["in","out","in-out"],font:[lM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Do],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Do],shadow:[Do],spacing:[Ht],text:[Do],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nc,Ke,Qe,P]}],container:["container"],columns:[{columns:[Ht,Ke,Qe,p]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ke,Qe]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:ie()}],"overscroll-x":[{"overscroll-x":ie()}],"overscroll-y":[{"overscroll-y":ie()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[Sl,"auto",Qe,Ke]}],basis:[{basis:[Nc,"full","auto",Qe,Ke,p,w]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ht,Nc,"auto","initial","none",Ke]}],grow:[{grow:["",Ht,Qe,Ke]}],shrink:[{shrink:["",Ht,Qe,Ke]}],order:[{order:[Sl,"first","last","none",Qe,Ke]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...G(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...G()]}],"align-items":[{items:[...H(),"baseline"]}],"align-self":[{self:["auto",...H(),"baseline"]}],"place-content":[{"place-content":G()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:le()}],px:[{px:le()}],py:[{py:le()}],ps:[{ps:le()}],pe:[{pe:le()}],pt:[{pt:le()}],pr:[{pr:le()}],pb:[{pb:le()}],pl:[{pl:le()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":_e()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_e()}],"space-y-reverse":["space-y-reverse"],size:[{size:he()}],w:[{w:[p,"screen",...he()]}],"min-w":[{"min-w":[p,"screen","none",...he()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...he()]}],h:[{h:["screen",...he()]}],"min-h":[{"min-h":["screen","none",...he()]}],"max-h":[{"max-h":["screen",...he()]}],"font-size":[{text:["base",t,wh,Cl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Qe,gp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Y2,Ke]}],"font-family":[{font:[hM,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Qe,Ke]}],"line-clamp":[{"line-clamp":[Ht,"none",Qe,gp]}],leading:[{leading:[Qe,Ke,o,w]}],"list-image":[{"list-image":["none",Qe,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:be()}],"text-color":[{text:be()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ht,"from-font","auto",Qe,Cl]}],"text-decoration-color":[{decoration:be()}],"underline-offset":[{"underline-offset":[Ht,"auto",Qe,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",..._e()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),gM,uM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",pM,cM]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sl,Qe,Ke],radial:["",Qe,Ke],conic:[Sl,Qe,Ke]},mM,fM]}],"bg-color":[{bg:be()}],"gradient-from-pos":[{from:Re()}],"gradient-via-pos":[{via:Re()}],"gradient-to-pos":[{to:Re()}],"gradient-from":[{from:be()}],"gradient-via":[{via:be()}],"gradient-to":[{to:be()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:be()}],"border-color-x":[{"border-x":be()}],"border-color-y":[{"border-y":be()}],"border-color-s":[{"border-s":be()}],"border-color-e":[{"border-e":be()}],"border-color-t":[{"border-t":be()}],"border-color-r":[{"border-r":be()}],"border-color-b":[{"border-b":be()}],"border-color-l":[{"border-l":be()}],"divide-color":[{divide:be()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ht,Qe,Ke]}],"outline-w":[{outline:["",Ht,wh,Cl]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",T,yM,dM]}],"shadow-color":[{shadow:be()}],"inset-shadow":[{"inset-shadow":["none",Qe,Ke,_]}],"inset-shadow-color":[{"inset-shadow":be()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:be()}],"ring-offset-w":[{"ring-offset":[Ht,Cl]}],"ring-offset-color":[{"ring-offset":be()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":be()}],opacity:[{opacity:[Ht,Qe,Ke]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],filter:[{filter:["","none",Qe,Ke]}],blur:[{blur:Ge()}],brightness:[{brightness:[Ht,Qe,Ke]}],contrast:[{contrast:[Ht,Qe,Ke]}],"drop-shadow":[{"drop-shadow":["","none",I,Qe,Ke]}],grayscale:[{grayscale:["",Ht,Qe,Ke]}],"hue-rotate":[{"hue-rotate":[Ht,Qe,Ke]}],invert:[{invert:["",Ht,Qe,Ke]}],saturate:[{saturate:[Ht,Qe,Ke]}],sepia:[{sepia:["",Ht,Qe,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Ke]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[Ht,Qe,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Ht,Qe,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ht,Qe,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ht,Qe,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Ht,Qe,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Ht,Qe,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Ht,Qe,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Ht,Qe,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_e()}],"border-spacing-x":[{"border-spacing-x":_e()}],"border-spacing-y":[{"border-spacing-y":_e()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ht,"initial",Qe,Ke]}],ease:[{ease:["linear","initial",q,Qe,Ke]}],delay:[{delay:[Ht,Qe,Ke]}],animate:[{animate:["none",j,Qe,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,Qe,Ke]}],"perspective-origin":[{"perspective-origin":it()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Qe,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:it()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:be()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:be()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_e()}],"scroll-mx":[{"scroll-mx":_e()}],"scroll-my":[{"scroll-my":_e()}],"scroll-ms":[{"scroll-ms":_e()}],"scroll-me":[{"scroll-me":_e()}],"scroll-mt":[{"scroll-mt":_e()}],"scroll-mr":[{"scroll-mr":_e()}],"scroll-mb":[{"scroll-mb":_e()}],"scroll-ml":[{"scroll-ml":_e()}],"scroll-p":[{"scroll-p":_e()}],"scroll-px":[{"scroll-px":_e()}],"scroll-py":[{"scroll-py":_e()}],"scroll-ps":[{"scroll-ps":_e()}],"scroll-pe":[{"scroll-pe":_e()}],"scroll-pt":[{"scroll-pt":_e()}],"scroll-pr":[{"scroll-pr":_e()}],"scroll-pb":[{"scroll-pb":_e()}],"scroll-pl":[{"scroll-pl":_e()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Ke]}],fill:[{fill:["none",...be()]}],"stroke-w":[{stroke:[Ht,wh,Cl,gp]}],stroke:[{stroke:["none",...be()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},TM=(n,{cacheSize:e,prefix:t,experimentalParseClassName:r,extend:s={},override:o={}})=>(vf(n,"cacheSize",e),vf(n,"prefix",t),vf(n,"experimentalParseClassName",r),xh(n.theme,o.theme),xh(n.classGroups,o.classGroups),xh(n.conflictingClassGroups,o.conflictingClassGroups),xh(n.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),vf(n,"orderSensitiveModifiers",o.orderSensitiveModifiers),vh(n.theme,s.theme),vh(n.classGroups,s.classGroups),vh(n.conflictingClassGroups,s.conflictingClassGroups),vh(n.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),BA(n,s,"orderSensitiveModifiers"),n),vf=(n,e,t)=>{t!==void 0&&(n[e]=t)},xh=(n,e)=>{if(e)for(const t in e)vf(n,t,e[t])},vh=(n,e)=>{if(e)for(const t in e)BA(n,e,t)},BA=(n,e,t)=>{const r=e[t];r!==void 0&&(n[t]=n[t]?n[t].concat(r):r)},AM=(n,...e)=>typeof n=="function"?q2(W2,n,...e):q2(()=>TM(W2(),n),...e),X2=new Map;function qt(...n){const e=EA(),t=TA(),r=`${e}.${t}`,s=X2.get(r);if(s)return s(...n);const o=(t===3?VN:AM)({extend:{classGroups:{"bg-image":["bg-arrow-down-icon","bg-check-icon","bg-dash-icon","bg-dot-icon"],shadow:["shadow-sm-light"]}},prefix:e});return X2.set(r,o),o(...n)}function Ir(...n){return _M(()=>SM(...n),n)}function _M(n,e){const t=Z.useRef(),r=Z.useRef();return(!t.current||!mm(t.current,e))&&(t.current=e,r.current=n()),r.current}function SM([n,...e],t,r){const s=tN(),o=EA(),d=TA(),p=e!=null&&e.length?e==null?void 0:e.filter(I=>I!==void 0):void 0,w=t!=null&&t.length?t==null?void 0:t.filter(I=>I!==void 0):void 0,y=r!=null&&r.length?r==null?void 0:r.filter(I=>I!==void 0):void 0,T=w!=null&&w.length||s===!1||d===4||o?Bh(n):n;if(w!=null&&w.length){const I=bm(T,!1);let N=!1;for(const M of w)M&&(N=!0),CM(I,M);N&&RM(T,I)}(d===4||o)&&MM(T,I=>(d===4&&(I=nN(I)),I));let _=T;if(p!=null&&p.length&&(_=iN(qt)(T,...p)),y!=null&&y.length&&(p!=null&&p.length)){const I=bm(T,"merge");let N=!1;for(const M of y)M!=="merge"&&(N=!0),IM(I,M);N&&NM(_,K4(T,...e),I)}return _}function CM(n,e){function t(r,s){if(typeof s=="boolean")if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return s;if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function IM(n,e){function t(r,s){if(typeof s=="string")if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return s;if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function RM(n,e){function t(r,s){if(s===!0)if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return"";if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function NM(n,e,t){function r(s,o,d){if(d==="replace")if(typeof s=="object"&&s!==null)for(const p in s)s[p]=r(s[p],o[p],d);else return o;if(typeof d=="object"&&d!==null)for(const p in d)s[p]=r(s[p],o[p],d[p]);return s}r(n,e,t)}function MM(n,e){function t(r){if(typeof r=="string")return e(r);if(Array.isArray(r))for(let s=0;s<r.length;s++)r[s]=t(r[s]);else if(typeof r=="object"&&r!==null)for(const s in r)r[s]=t(r[s]);return r}t(n)}function bm(n,e){if(n===null||typeof n!="object")return e;const t={};for(const r in n)t[r]=bm(n[r],e);return t}const VA=Z.forwardRef((n,e)=>te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:te.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M5.293 7.293a1 1 0 0 1 1.414 0L10 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));VA.displayName="ChevronDownIcon";const DM=Z.createContext(void 0);function Rr(){return Z.useContext(DM)??{}}const yy={root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"p-5 first:rounded-t-lg last:rounded-b-lg dark:bg-gray-900"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between p-5 text-left font-medium text-gray-500 first:rounded-t-lg last:rounded-b-lg dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white"}}};function UA(n){var N,M,P;const e=Rr(),t=Ir([yy.root,(M=(N=e.theme)==null?void 0:N.accordion)==null?void 0:M.root,n.theme],[ft(e.clearTheme,"accordion.root"),n.clearTheme],[ft(e.applyTheme,"accordion.root"),n.applyTheme]),{alwaysOpen:r=!1,arrowIcon:s=VA,children:o,flush:d=!1,collapseAll:p=!1,className:w,...y}=Cr(n,(P=e.props)==null?void 0:P.accordion),[T,_]=Z.useState(p?-1:0),I=Z.useMemo(()=>Z.Children.map(o,(q,j)=>Z.cloneElement(q,{alwaysOpen:r,arrowIcon:s,flush:d,isOpen:T===j,setOpen:()=>_(T===j?-1:j)})),[r,s,o,d,T]);return te.jsx("div",{className:qt(t.base,t.flush[d?"on":"off"],w),"data-testid":"flowbite-accordion",...y,children:I})}UA.displayName="Accordion";const FA=Z.createContext(void 0);function zA(){const n=Z.useContext(FA);if(!n)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return n}function jA(n){var d,p,w;const{isOpen:e}=zA(),t=Rr(),r=Ir([yy.content,(p=(d=t.theme)==null?void 0:d.accordion)==null?void 0:p.content,n.theme],[ft(t.clearTheme,"accordion.content"),n.clearTheme],[ft(t.applyTheme,"accordion.content"),n.applyTheme]),{className:s,...o}=Cr(n,(w=t.props)==null?void 0:w.accordionContent);return te.jsx("div",{className:qt(r.base,s),"data-testid":"flowbite-accordion-content",hidden:!e,...o})}jA.displayName="AccordionContent";function HA({children:n,...e}){const{alwaysOpen:t}=e,[r,s]=Z.useState(e.isOpen),o=t?{...e,isOpen:r,setOpen:()=>s(!r)}:e;return te.jsx(FA.Provider,{value:o,children:n})}HA.displayName="AccordionPanel";function GA(n){var I,N,M;const{arrowIcon:e,flush:t,isOpen:r,setOpen:s}=zA(),o=()=>typeof s<"u"&&s(),d=Rr(),p=Ir([yy.title,(N=(I=d.theme)==null?void 0:I.accordion)==null?void 0:N.title,n.theme],[ft(d.clearTheme,"accordion.title"),n.clearTheme],[ft(d.applyTheme,"accordion.title"),n.applyTheme]),{as:w="h2",children:y,className:T,..._}=Cr(n,(M=d.props)==null?void 0:M.accordionTitle);return te.jsxs("button",{className:qt(p.base,p.flush[t?"on":"off"],p.open[r?"on":"off"],T),onClick:o,type:"button",..._,children:[te.jsx(w,{className:p.heading,"data-testid":"flowbite-accordion-heading",children:y}),e&&te.jsx(e,{"aria-hidden":!0,className:qt(p.arrow.base,p.arrow.open[r?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})}GA.displayName="AccordionTitle";const qA=Z.forwardRef(({children:n,as:e,href:t,type:r="button",...s},o)=>{const d=e||(t?"a":"button");return Z.createElement(d,{ref:o,href:t,type:r,...s},n)});qA.displayName="ButtonBase";const OM=Z.createContext(void 0);function kM(){return Z.useContext(OM)}const PM={base:"relative flex items-center justify-center rounded-lg text-center font-medium focus:outline-none focus:ring-4",disabled:"pointer-events-none opacity-50",fullSized:"w-full",grouped:"rounded-none border-l-0 first:rounded-s-lg first:border-l last:rounded-e-lg focus:ring-2",pill:"rounded-full",size:{xs:"h-8 px-3 text-xs",sm:"h-9 px-3 text-sm",md:"h-10 px-5 text-sm",lg:"h-12 px-5 text-base",xl:"h-[52px] px-6 text-base"},color:{default:"bg-primary-700 text-white hover:bg-primary-800 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",alternative:"border border-gray-200 bg-white text-gray-900 hover:bg-gray-100 hover:text-primary-700 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-700",blue:"bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",cyan:"bg-cyan-700 text-white hover:bg-cyan-800 focus:ring-cyan-300 dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800",dark:"bg-gray-800 text-white hover:bg-gray-900 focus:ring-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700",gray:"bg-gray-700 text-white hover:bg-gray-800 focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800",green:"bg-green-700 text-white hover:bg-green-800 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",indigo:"bg-indigo-700 text-white hover:bg-indigo-800 focus:ring-indigo-300 dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-indigo-800",light:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-700",lime:"bg-lime-700 text-white hover:bg-lime-800 focus:ring-lime-300 dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:ring-lime-800",pink:"bg-pink-700 text-white hover:bg-pink-800 focus:ring-pink-300 dark:bg-pink-600 dark:hover:bg-pink-700 dark:focus:ring-pink-800",purple:"bg-purple-700 text-white hover:bg-purple-800 focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-800",red:"bg-red-700 text-white hover:bg-red-800 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",teal:"bg-teal-700 text-white hover:bg-teal-800 focus:ring-teal-300 dark:bg-teal-600 dark:hover:bg-teal-700 dark:focus:ring-teal-800",yellow:"bg-yellow-400 text-white hover:bg-yellow-500 focus:ring-yellow-300 dark:bg-yellow-600 dark:hover:bg-yellow-400 dark:focus:ring-yellow-900"},outlineColor:{default:"border border-primary-700 text-primary-700 hover:border-primary-800 hover:bg-primary-800 hover:text-white focus:ring-primary-300 dark:border-primary-600 dark:text-primary-500 dark:hover:border-primary-700 dark:hover:bg-primary-700 dark:hover:text-white dark:focus:ring-primary-800",blue:"border border-blue-700 text-blue-700 hover:border-blue-800 hover:bg-blue-800 hover:text-white focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:border-blue-700 dark:hover:bg-blue-700 dark:hover:text-white dark:focus:ring-blue-800",cyan:"border border-cyan-700 text-cyan-700 hover:border-cyan-800 hover:bg-cyan-800 hover:text-white focus:ring-cyan-300 dark:border-cyan-500 dark:text-cyan-500 dark:hover:border-cyan-700 dark:hover:bg-cyan-700 dark:hover:text-white dark:focus:ring-cyan-800",dark:"border border-gray-800 text-gray-800 hover:border-gray-900 hover:bg-gray-900 hover:text-white focus:ring-gray-300 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:ring-gray-800",gray:"border border-gray-700 text-gray-700 hover:border-gray-800 hover:bg-gray-800 hover:text-white focus:ring-gray-300 dark:border-gray-600 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-800",green:"border border-green-700 text-green-700 hover:border-green-800 hover:bg-green-800 hover:text-white focus:ring-green-300 dark:border-green-600 dark:text-green-500 dark:hover:border-green-700 dark:hover:bg-green-700 dark:hover:text-white dark:focus:ring-green-800",indigo:"border border-indigo-700 text-indigo-700 hover:border-indigo-800 hover:bg-indigo-800 hover:text-white focus:ring-indigo-300 dark:border-indigo-600 dark:text-indigo-400 dark:hover:border-indigo-700 dark:hover:bg-indigo-700 dark:hover:text-white dark:focus:ring-indigo-800",lime:"border border-lime-700 text-lime-700 hover:border-lime-800 hover:bg-lime-800 hover:text-white focus:ring-lime-300 dark:border-lime-600 dark:text-lime-500 dark:hover:border-lime-700 dark:hover:bg-lime-700 dark:hover:text-white dark:focus:ring-lime-800",pink:"border border-pink-700 text-pink-700 hover:border-pink-800 hover:bg-pink-800 hover:text-white focus:ring-pink-300 dark:border-pink-600 dark:text-pink-500 dark:hover:border-pink-700 dark:hover:bg-pink-700 dark:hover:text-white dark:focus:ring-pink-800",purple:"border border-purple-700 text-purple-700 hover:border-purple-800 hover:bg-purple-800 hover:text-white focus:ring-purple-300 dark:border-purple-600 dark:text-purple-400 dark:hover:border-purple-700 dark:hover:bg-purple-700 dark:hover:text-white dark:focus:ring-purple-800",red:"border border-red-700 text-red-700 hover:border-red-800 hover:bg-red-800 hover:text-white focus:ring-red-300 dark:border-red-600 dark:text-red-500 dark:hover:border-red-700 dark:hover:bg-red-700 dark:hover:text-white dark:focus:ring-red-800",teal:"border border-teal-700 text-teal-700 hover:border-teal-800 hover:bg-teal-800 hover:text-white focus:ring-teal-300 dark:border-teal-600 dark:text-teal-400 dark:hover:border-teal-700 dark:hover:bg-teal-700 dark:hover:text-white dark:focus:ring-teal-800",yellow:"border border-yellow-400 text-yellow-400 hover:border-yellow-500 hover:bg-yellow-500 hover:text-white focus:ring-yellow-300 dark:border-yellow-300 dark:text-yellow-300 dark:hover:border-yellow-400 dark:hover:bg-yellow-400 dark:hover:text-white dark:focus:ring-yellow-900"}},$s=Z.forwardRef((n,e)=>{var q,j;const t=Rr(),r=Ir([PM,(q=t.theme)==null?void 0:q.button,n.theme],[ft(t.clearTheme,"button"),n.clearTheme],[ft(t.applyTheme,"button"),n.applyTheme]),{children:s,className:o,color:d="default",disabled:p,fullSized:w,outline:y,pill:T,size:_="md",...I}=Cr(n,(j=t.props)==null?void 0:j.button),N=kM(),M=(N==null?void 0:N.outline)??y,P=(N==null?void 0:N.pill)??T;return te.jsx(qA,{ref:e,disabled:p,className:qt(r.base,r.size[_],P&&r.pill,p&&r.disabled,w&&r.fullSized,M?r.outlineColor[d]:r.color[d],N&&r.grouped,o),...I,children:s})});$s.displayName="Button";const LM={root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},qc=Z.forwardRef((n,e)=>{var N,M;const t=Rr(),r=Ir([LM,(N=t.theme)==null?void 0:N.card,n.theme],[ft(t.clearTheme,"card"),n.clearTheme],[ft(t.applyTheme,"card"),n.applyTheme]),{children:s,className:o,horizontal:d,href:p,imgAlt:w,imgSrc:y,renderImage:T,..._}=Cr(n,(M=t.props)==null?void 0:M.card),I=typeof p>"u"?"div":"a";return te.jsxs(I,{ref:e,"data-testid":"flowbite-card",href:p,className:qt(r.root.base,r.root.horizontal[d?"on":"off"],p&&r.root.href,o),..._,children:[(T==null?void 0:T(r,!!d))??(y&&te.jsx("img",{"data-testid":"flowbite-card-image",alt:w??"",src:y,className:qt(r.img.base,r.img.horizontal[n.horizontal?"on":"off"])})),te.jsx("div",{className:r.root.children,children:s})]})});qc.displayName="Card";function k0(){return typeof window<"u"}function nl(n){return YA(n)?(n.nodeName||"").toLowerCase():"#document"}function es(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Xa(n){var e;return(e=(YA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function YA(n){return k0()?n instanceof Node||n instanceof es(n).Node:!1}function ar(n){return k0()?n instanceof Element||n instanceof es(n).Element:!1}function Br(n){return k0()?n instanceof HTMLElement||n instanceof es(n).HTMLElement:!1}function Em(n){return!k0()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof es(n).ShadowRoot}function td(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=xs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function BM(n){return["table","td","th"].includes(nl(n))}function P0(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function wy(n){const e=L0(),t=ar(n)?xs(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function VM(n){let e=za(n);for(;Br(e)&&!Ba(e);){if(wy(e))return e;if(P0(e))return null;e=za(e)}return null}function L0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ba(n){return["html","body","#document"].includes(nl(n))}function xs(n){return es(n).getComputedStyle(n)}function B0(n){return ar(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function za(n){if(nl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Em(n)&&n.host||Xa(n);return Em(e)?e.host:e}function WA(n){const e=za(n);return Ba(e)?n.ownerDocument?n.ownerDocument.body:n.body:Br(e)&&td(e)?e:WA(e)}function Yc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=WA(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),d=es(s);if(o){const p=Tm(d);return e.concat(d,d.visualViewport||[],td(s)?s:[],p&&t?Yc(p):[])}return e.concat(s,Yc(s,[],t))}function Tm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Il(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Ki(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&Em(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function XA(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function KA(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function UM(n){return n.mozInputSource===0&&n.isTrusted?!0:Am()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function FM(n){return jM()?!1:!Am()&&n.width===0&&n.height===0||Am()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function zM(){return/apple/i.test(navigator.vendor)}function Am(){const n=/android/i;return n.test(XA())||n.test(KA())}function jM(){return KA().includes("jsdom/")}function K2(n,e){return["mouse","pen"].includes(n)}function HM(n){return"nativeEvent"in n}function GM(n){return n.matches("html,body")}function Rs(n){return(n==null?void 0:n.ownerDocument)||document}function pp(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function Ml(n){return"composedPath"in n?n.composedPath()[0]:n.target}const qM="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function QA(n){return Br(n)&&n.matches(qM)}function mp(n){n.preventDefault(),n.stopPropagation()}function YM(n){return n?n.getAttribute("role")==="combobox"&&QA(n):!1}const Q2=Math.min,Cf=Math.max,Zh=Math.round,Js=n=>({x:n,y:n});function ZA(n){return n.split("-")[0]}function WM(n){return n.split("-")[1]}function XM(n){return n==="x"?"y":"x"}function KM(n){return n==="y"?"height":"width"}function $A(n){return["top","bottom"].includes(ZA(n))?"y":"x"}function QM(n){return XM($A(n))}function JA(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var ZM=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],$h=ZM.join(","),e_=typeof Element>"u",tu=e_?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Jh=!e_&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},e0=function n(e,t){var r;t===void 0&&(t=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=s===""||s==="true",d=o||t&&e&&n(e.parentNode);return d},$M=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},JM=function(e,t,r){if(e0(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll($h));return t&&tu.call(e,$h)&&s.unshift(e),s=s.filter(r),s},eD=function n(e,t,r){for(var s=[],o=Array.from(e);o.length;){var d=o.shift();if(!e0(d,!1))if(d.tagName==="SLOT"){var p=d.assignedElements(),w=p.length?p:d.children,y=n(w,!0,r);r.flatten?s.push.apply(s,y):s.push({scopeParent:d,candidates:y})}else{var T=tu.call(d,$h);T&&r.filter(d)&&(t||!e.includes(d))&&s.push(d);var _=d.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(d),I=!e0(_,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(d));if(_&&I){var N=n(_===!0?d.children:_.children,!0,r);r.flatten?s.push.apply(s,N):s.push({scopeParent:d,candidates:N})}else o.unshift.apply(o,d.children)}}return s},t_=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},n_=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||$M(e))&&!t_(e)?0:e.tabIndex},tD=function(e,t){var r=n_(e);return r<0&&t&&!t_(e)?0:r},nD=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},r_=function(e){return e.tagName==="INPUT"},rD=function(e){return r_(e)&&e.type==="hidden"},iD=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},sD=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},aD=function(e){if(!e.name)return!0;var t=e.form||Jh(e),r=function(p){return t.querySelectorAll('input[type="radio"][name="'+p+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var o=sD(s,e.form);return!o||o===e},oD=function(e){return r_(e)&&e.type==="radio"},lD=function(e){return oD(e)&&!aD(e)},cD=function(e){var t,r=e&&Jh(e),s=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var d,p,w;for(o=!!((d=s)!==null&&d!==void 0&&(p=d.ownerDocument)!==null&&p!==void 0&&p.contains(s)||e!=null&&(w=e.ownerDocument)!==null&&w!==void 0&&w.contains(e));!o&&s;){var y,T,_;r=Jh(s),s=(y=r)===null||y===void 0?void 0:y.host,o=!!((T=s)!==null&&T!==void 0&&(_=T.ownerDocument)!==null&&_!==void 0&&_.contains(s))}}return o},Z2=function(e){var t=e.getBoundingClientRect(),r=t.width,s=t.height;return r===0&&s===0},uD=function(e,t){var r=t.displayCheck,s=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=tu.call(e,"details>summary:first-of-type"),d=o?e.parentElement:e;if(tu.call(d,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var p=e;e;){var w=e.parentElement,y=Jh(e);if(w&&!w.shadowRoot&&s(w)===!0)return Z2(e);e.assignedSlot?e=e.assignedSlot:!w&&y!==e.ownerDocument?e=y.host:e=w}e=p}if(cD(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Z2(e);return!1},fD=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var s=t.children.item(r);if(s.tagName==="LEGEND")return tu.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},dD=function(e,t){return!(t.disabled||e0(t)||rD(t)||uD(t,e)||iD(t)||fD(t))},_m=function(e,t){return!(lD(t)||n_(t)<0||!dD(e,t))},hD=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},gD=function n(e){var t=[],r=[];return e.forEach(function(s,o){var d=!!s.scopeParent,p=d?s.scopeParent:s,w=tD(p,d),y=d?n(s.candidates):p;w===0?d?t.push.apply(t,y):t.push(p):r.push({documentOrder:o,tabIndex:w,item:s,isScope:d,content:y})}),r.sort(nD).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(t)},V0=function(e,t){t=t||{};var r;return t.getShadowRoot?r=eD([e],t.includeContainer,{filter:_m.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:hD}):r=JM(e,t.includeContainer,_m.bind(null,t)),gD(r)},pD=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return tu.call(e,$h)===!1?!1:_m(t,e)};function $2(n,e,t){let{reference:r,floating:s}=n;const o=$A(e),d=QM(e),p=KM(d),w=ZA(e),y=o==="y",T=r.x+r.width/2-s.width/2,_=r.y+r.height/2-s.height/2,I=r[p]/2-s[p]/2;let N;switch(w){case"top":N={x:T,y:r.y-s.height};break;case"bottom":N={x:T,y:r.y+r.height};break;case"right":N={x:r.x+r.width,y:_};break;case"left":N={x:r.x-s.width,y:_};break;default:N={x:r.x,y:r.y}}switch(WM(e)){case"start":N[d]-=I*(t&&y?-1:1);break;case"end":N[d]+=I*(t&&y?-1:1);break}return N}const mD=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:d}=t,p=o.filter(Boolean),w=await(d.isRTL==null?void 0:d.isRTL(e));let y=await d.getElementRects({reference:n,floating:e,strategy:s}),{x:T,y:_}=$2(y,r,w),I=r,N={},M=0;for(let P=0;P<p.length;P++){const{name:q,fn:j}=p[P],{x:K,y:F,data:$,reset:ie}=await j({x:T,y:_,initialPlacement:r,placement:I,strategy:s,middlewareData:N,rects:y,platform:d,elements:{reference:n,floating:e}});T=K??T,_=F??_,N={...N,[q]:{...N[q],...$}},ie&&M<=50&&(M++,typeof ie=="object"&&(ie.placement&&(I=ie.placement),ie.rects&&(y=ie.rects===!0?await d.getElementRects({reference:n,floating:e,strategy:s}):ie.rects),{x:T,y:_}=$2(y,I,w)),P=-1)}return{x:T,y:_,placement:I,strategy:s,middlewareData:N}};function i_(n){const e=xs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Br(n),o=s?n.offsetWidth:t,d=s?n.offsetHeight:r,p=Zh(t)!==o||Zh(r)!==d;return p&&(t=o,r=d),{width:t,height:r,$:p}}function s_(n){return ar(n)?n:n.contextElement}function Wc(n){const e=s_(n);if(!Br(e))return Js(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=i_(e);let d=(o?Zh(t.width):t.width)/r,p=(o?Zh(t.height):t.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const yD=Js(0);function a_(n){const e=es(n);return!L0()||!e.visualViewport?yD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==es(n)?!1:e}function Vf(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=s_(n);let d=Js(1);e&&(r?ar(r)&&(d=Wc(r)):d=Wc(n));const p=wD(o,t,r)?a_(o):Js(0);let w=(s.left+p.x)/d.x,y=(s.top+p.y)/d.y,T=s.width/d.x,_=s.height/d.y;if(o){const I=es(o),N=r&&ar(r)?es(r):r;let M=I,P=Tm(M);for(;P&&r&&N!==M;){const q=Wc(P),j=P.getBoundingClientRect(),K=xs(P),F=j.left+(P.clientLeft+parseFloat(K.paddingLeft))*q.x,$=j.top+(P.clientTop+parseFloat(K.paddingTop))*q.y;w*=q.x,y*=q.y,T*=q.x,_*=q.y,w+=F,y+=$,M=es(P),P=Tm(M)}}return JA({width:T,height:_,x:w,y})}function xy(n,e){const t=B0(n).scrollLeft;return e?e.left+t:Vf(Xa(n)).left+t}function o_(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:xy(n,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function xD(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const o=s==="fixed",d=Xa(r),p=e?P0(e.floating):!1;if(r===d||p&&o)return t;let w={scrollLeft:0,scrollTop:0},y=Js(1);const T=Js(0),_=Br(r);if((_||!_&&!o)&&((nl(r)!=="body"||td(d))&&(w=B0(r)),Br(r))){const N=Vf(r);y=Wc(r),T.x=N.x+r.clientLeft,T.y=N.y+r.clientTop}const I=d&&!_&&!o?o_(d,w,!0):Js(0);return{width:t.width*y.x,height:t.height*y.y,x:t.x*y.x-w.scrollLeft*y.x+T.x+I.x,y:t.y*y.y-w.scrollTop*y.y+T.y+I.y}}function vD(n){return Array.from(n.getClientRects())}function bD(n){const e=Xa(n),t=B0(n),r=n.ownerDocument.body,s=Cf(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Cf(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let d=-t.scrollLeft+xy(n);const p=-t.scrollTop;return xs(r).direction==="rtl"&&(d+=Cf(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:d,y:p}}function ED(n,e){const t=es(n),r=Xa(n),s=t.visualViewport;let o=r.clientWidth,d=r.clientHeight,p=0,w=0;if(s){o=s.width,d=s.height;const y=L0();(!y||y&&e==="fixed")&&(p=s.offsetLeft,w=s.offsetTop)}return{width:o,height:d,x:p,y:w}}function TD(n,e){const t=Vf(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,o=Br(n)?Wc(n):Js(1),d=n.clientWidth*o.x,p=n.clientHeight*o.y,w=s*o.x,y=r*o.y;return{width:d,height:p,x:w,y}}function J2(n,e,t){let r;if(e==="viewport")r=ED(n,t);else if(e==="document")r=bD(Xa(n));else if(ar(e))r=TD(e,t);else{const s=a_(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return JA(r)}function l_(n,e){const t=za(n);return t===e||!ar(t)||Ba(t)?!1:xs(t).position==="fixed"||l_(t,e)}function AD(n,e){const t=e.get(n);if(t)return t;let r=Yc(n,[],!1).filter(p=>ar(p)&&nl(p)!=="body"),s=null;const o=xs(n).position==="fixed";let d=o?za(n):n;for(;ar(d)&&!Ba(d);){const p=xs(d),w=wy(d);!w&&p.position==="fixed"&&(s=null),(o?!w&&!s:!w&&p.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||td(d)&&!w&&l_(n,d))?r=r.filter(T=>T!==d):s=p,d=za(d)}return e.set(n,r),r}function _D(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const d=[...t==="clippingAncestors"?P0(e)?[]:AD(e,this._c):[].concat(t),r],p=d[0],w=d.reduce((y,T)=>{const _=J2(e,T,s);return y.top=Cf(_.top,y.top),y.right=Q2(_.right,y.right),y.bottom=Q2(_.bottom,y.bottom),y.left=Cf(_.left,y.left),y},J2(e,p,s));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}}function SD(n){const{width:e,height:t}=i_(n);return{width:e,height:t}}function CD(n,e,t){const r=Br(e),s=Xa(e),o=t==="fixed",d=Vf(n,!0,o,e);let p={scrollLeft:0,scrollTop:0};const w=Js(0);if(r||!r&&!o)if((nl(e)!=="body"||td(s))&&(p=B0(e)),r){const I=Vf(e,!0,o,e);w.x=I.x+e.clientLeft,w.y=I.y+e.clientTop}else s&&(w.x=xy(s));const y=s&&!r&&!o?o_(s,p):Js(0),T=d.left+p.scrollLeft-w.x-y.x,_=d.top+p.scrollTop-w.y-y.y;return{x:T,y:_,width:d.width,height:d.height}}function yp(n){return xs(n).position==="static"}function eb(n,e){if(!Br(n)||xs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Xa(n)===t&&(t=t.ownerDocument.body),t}function c_(n,e){const t=es(n);if(P0(n))return t;if(!Br(n)){let s=za(n);for(;s&&!Ba(s);){if(ar(s)&&!yp(s))return s;s=za(s)}return t}let r=eb(n,e);for(;r&&BM(r)&&yp(r);)r=eb(r,e);return r&&Ba(r)&&yp(r)&&!wy(r)?t:r||VM(n)||t}const ID=async function(n){const e=this.getOffsetParent||c_,t=this.getDimensions,r=await t(n.floating);return{reference:CD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RD(n){return xs(n).direction==="rtl"}const ND={convertOffsetParentRelativeRectToViewportRelativeRect:xD,getDocumentElement:Xa,getClippingRect:_D,getOffsetParent:c_,getElementRects:ID,getClientRects:vD,getDimensions:SD,getScale:Wc,isElement:ar,isRTL:RD},MD=(n,e,t)=>{const r=new Map,s={platform:ND,...t},o={...s.platform,_c:r};return mD(n,e,{...s,platform:o})};var Vh=typeof document<"u"?Z.useLayoutEffect:Z.useEffect;function t0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!t0(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!t0(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function u_(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function tb(n,e){const t=u_(n);return Math.round(e*t)/t}function wp(n){const e=Z.useRef(n);return Vh(()=>{e.current=n}),e}function DD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:d}={},transform:p=!0,whileElementsMounted:w,open:y}=n,[T,_]=Z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[I,N]=Z.useState(r);t0(I,r)||N(r);const[M,P]=Z.useState(null),[q,j]=Z.useState(null),K=Z.useCallback(be=>{be!==se.current&&(se.current=be,P(be))},[]),F=Z.useCallback(be=>{be!==V.current&&(V.current=be,j(be))},[]),$=o||M,ie=d||q,se=Z.useRef(null),V=Z.useRef(null),L=Z.useRef(T),O=w!=null,W=wp(w),X=wp(s),G=wp(y),H=Z.useCallback(()=>{if(!se.current||!V.current)return;const be={placement:e,strategy:t,middleware:I};X.current&&(be.platform=X.current),MD(se.current,V.current,be).then(Re=>{const ee={...Re,isPositioned:G.current!==!1};_e.current&&!t0(L.current,ee)&&(L.current=ee,yA.flushSync(()=>{_(ee)}))})},[I,e,t,X,G]);Vh(()=>{y===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,_(be=>({...be,isPositioned:!1})))},[y]);const _e=Z.useRef(!1);Vh(()=>(_e.current=!0,()=>{_e.current=!1}),[]),Vh(()=>{if($&&(se.current=$),ie&&(V.current=ie),$&&ie){if(W.current)return W.current($,ie,H);H()}},[$,ie,H,W,O]);const le=Z.useMemo(()=>({reference:se,floating:V,setReference:K,setFloating:F}),[K,F]),ae=Z.useMemo(()=>({reference:$,floating:ie}),[$,ie]),he=Z.useMemo(()=>{const be={position:t,left:0,top:0};if(!ae.floating)return be;const Re=tb(ae.floating,T.x),ee=tb(ae.floating,T.y);return p?{...be,transform:"translate("+Re+"px, "+ee+"px)",...u_(ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Re,top:ee}},[t,p,ae.floating,T.x,T.y]);return Z.useMemo(()=>({...T,update:H,refs:le,elements:ae,floatingStyles:he}),[T,H,le,ae,he])}function Sm(n){return Z.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},n)}const f_={...lR},OD=f_.useInsertionEffect,kD=OD||(n=>n());function Da(n){const e=Z.useRef(()=>{});return kD(()=>{e.current=n}),Z.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var $i=typeof document<"u"?Z.useLayoutEffect:Z.useEffect;let nb=!1,PD=0;const rb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+PD++;function LD(){const[n,e]=Z.useState(()=>nb?rb():void 0);return $i(()=>{n==null&&e(rb())},[]),Z.useEffect(()=>{nb=!0},[]),n}const BD=f_.useId,vy=BD||LD;function VD(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(s=>s(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(s=>s!==t))||[])}}}const UD=Z.createContext(null),FD=Z.createContext(null),d_=()=>{var n;return((n=Z.useContext(UD))==null?void 0:n.id)||null},by=()=>Z.useContext(FD);function Uf(n){return"data-floating-ui-"+n}function xp(n){const e=Z.useRef(n);return $i(()=>{e.current=n}),e}let ib=0;function Mc(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:s=!1}=e;r&&cancelAnimationFrame(ib);const o=()=>n==null?void 0:n.focus({preventScroll:t});s?o():ib=requestAnimationFrame(o)}function sb(n,e){var t;let r=[],s=(t=n.find(o=>o.id===e))==null?void 0:t.parentId;for(;s;){const o=n.find(d=>d.id===s);s=o==null?void 0:o.parentId,o&&(r=r.concat(o))}return r}function If(n,e){let t=n.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),r=t;for(;r.length;)r=n.filter(s=>{var o;return(o=r)==null?void 0:o.some(d=>{var p;return s.parentId===d.id&&((p=s.context)==null?void 0:p.open)})}),t=t.concat(r);return t}let Dc=new WeakMap,bh=new WeakSet,Eh={},vp=0;const zD=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,h_=n=>n&&(n.host||h_(n.parentNode)),jD=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=h_(t);return n.contains(r)?r:null}).filter(t=>t!=null);function HD(n,e,t,r){const s="data-floating-ui-inert",o=r?"inert":t?"aria-hidden":null,d=jD(e,n),p=new Set,w=new Set(d),y=[];Eh[s]||(Eh[s]=new WeakMap);const T=Eh[s];d.forEach(_),I(e),p.clear();function _(N){!N||p.has(N)||(p.add(N),N.parentNode&&_(N.parentNode))}function I(N){!N||w.has(N)||[].forEach.call(N.children,M=>{if(nl(M)!=="script")if(p.has(M))I(M);else{const P=o?M.getAttribute(o):null,q=P!==null&&P!=="false",j=Dc.get(M)||0,K=o?j+1:j,F=(T.get(M)||0)+1;Dc.set(M,K),T.set(M,F),y.push(M),K===1&&q&&bh.add(M),F===1&&M.setAttribute(s,""),!q&&o&&M.setAttribute(o,"true")}})}return vp++,()=>{y.forEach(N=>{const M=Dc.get(N)||0,P=o?M-1:M,q=(T.get(N)||0)-1;Dc.set(N,P),T.set(N,q),P||(!bh.has(N)&&o&&N.removeAttribute(o),bh.delete(N)),q||N.removeAttribute(s)}),vp--,vp||(Dc=new WeakMap,Dc=new WeakMap,bh=new WeakSet,Eh={})}}function ab(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=Rs(n[0]).body;return HD(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const U0=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function g_(n,e){const t=V0(n,U0());e==="prev"&&t.reverse();const r=t.indexOf(Il(Rs(n)));return t.slice(r+1)[0]}function p_(){return g_(document.body,"next")}function m_(){return g_(document.body,"prev")}function Rf(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Ki(t,r)}function GD(n){V0(n,U0()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function ob(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}const F0={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let qD;function lb(n){n.key==="Tab"&&(n.target,clearTimeout(qD))}const n0=Z.forwardRef(function(e,t){const[r,s]=Z.useState();$i(()=>(zM()&&s("button"),document.addEventListener("keydown",lb),()=>{document.removeEventListener("keydown",lb)}),[]);const o={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Uf("focus-guard")]:"",style:F0};return te.jsx("span",{...e,...o})}),y_=Z.createContext(null),cb=Uf("portal");function YD(n){n===void 0&&(n={});const{id:e,root:t}=n,r=vy(),s=w_(),[o,d]=Z.useState(null),p=Z.useRef(null);return $i(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{p.current=null})},[o]),$i(()=>{if(!r||p.current)return;const w=e?document.getElementById(e):null;if(!w)return;const y=document.createElement("div");y.id=r,y.setAttribute(cb,""),w.appendChild(y),p.current=y,d(y)},[e,r]),$i(()=>{if(t===null||!r||p.current)return;let w=t||(s==null?void 0:s.portalNode);w&&!ar(w)&&(w=w.current),w=w||document.body;let y=null;e&&(y=document.createElement("div"),y.id=e,w.appendChild(y));const T=document.createElement("div");T.id=r,T.setAttribute(cb,""),w=y||w,w.appendChild(T),p.current=T,d(T)},[e,t,r,s]),o}function WD(n){const{children:e,id:t,root:r,preserveTabOrder:s=!0}=n,o=YD({id:t,root:r}),[d,p]=Z.useState(null),w=Z.useRef(null),y=Z.useRef(null),T=Z.useRef(null),_=Z.useRef(null),I=d==null?void 0:d.modal,N=d==null?void 0:d.open,M=!!d&&!d.modal&&d.open&&s&&!!(r||o);return Z.useEffect(()=>{if(!o||!s||I)return;function P(q){o&&Rf(q)&&(q.type==="focusin"?ob:GD)(o)}return o.addEventListener("focusin",P,!0),o.addEventListener("focusout",P,!0),()=>{o.removeEventListener("focusin",P,!0),o.removeEventListener("focusout",P,!0)}},[o,s,I]),Z.useEffect(()=>{o&&(N||ob(o))},[N,o]),te.jsxs(y_.Provider,{value:Z.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:w,afterOutsideRef:y,beforeInsideRef:T,afterInsideRef:_,portalNode:o,setFocusManagerState:p}),[s,o]),children:[M&&o&&te.jsx(n0,{"data-type":"outside",ref:w,onFocus:P=>{if(Rf(P,o)){var q;(q=T.current)==null||q.focus()}else{const j=m_()||(d==null?void 0:d.domReference);j==null||j.focus()}}}),M&&o&&te.jsx("span",{"aria-owns":o.id,style:F0}),o&&yA.createPortal(e,o),M&&o&&te.jsx(n0,{"data-type":"outside",ref:y,onFocus:P=>{if(Rf(P,o)){var q;(q=_.current)==null||q.focus()}else{const j=p_()||(d==null?void 0:d.domReference);j==null||j.focus(),d!=null&&d.closeOnFocusOut&&(d==null||d.onOpenChange(!1,P.nativeEvent,"focus-out"))}}})]})}const w_=()=>Z.useContext(y_),Cm="data-floating-ui-focusable";function ub(n){return n?n.hasAttribute(Cm)?n:n.querySelector("["+Cm+"]")||n:null}const XD=20;let Rl=[];function bp(n){Rl=Rl.filter(e=>e.isConnected),n&&nl(n)!=="body"&&(Rl.push(n),Rl.length>XD&&(Rl=Rl.slice(-20)))}function fb(){return Rl.slice().reverse().find(n=>n.isConnected)}function KD(n){const e=U0();return pD(n,e)?n:V0(n,e)[0]||n}const QD=Z.forwardRef(function(e,t){return te.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:F0})});function ZD(n){const{context:e,children:t,disabled:r=!1,order:s=["content"],guards:o=!0,initialFocus:d=0,returnFocus:p=!0,restoreFocus:w=!1,modal:y=!0,visuallyHiddenDismiss:T=!1,closeOnFocusOut:_=!0,outsideElementsInert:I=!1}=n,{open:N,onOpenChange:M,events:P,dataRef:q,elements:{domReference:j,floating:K}}=e,F=Da(()=>{var Ye;return(Ye=q.current.floatingContext)==null?void 0:Ye.nodeId}),$=typeof d=="number"&&d<0,ie=YM(j)&&$,se=zD(),V=se?o:!0,L=!V||se&&I,O=xp(s),W=xp(d),X=xp(p),G=by(),H=w_(),_e=Z.useRef(null),le=Z.useRef(null),ae=Z.useRef(!1),he=Z.useRef(!1),be=Z.useRef(-1),Re=H!=null,ee=ub(K),ye=Da(function(Ye){return Ye===void 0&&(Ye=ee),Ye?V0(Ye,U0()):[]}),Ne=Da(Ye=>{const lt=ye(Ye);return O.current.map(et=>j&&et==="reference"?j:ee&&et==="floating"?ee:lt).filter(Boolean).flat()});Z.useEffect(()=>{if(r||!y)return;function Ye(et){if(et.key==="Tab"){Ki(ee,Il(Rs(ee)))&&ye().length===0&&!ie&&mp(et);const yt=Ne(),nt=Ml(et);O.current[0]==="reference"&&nt===j&&(mp(et),et.shiftKey?Mc(yt[yt.length-1]):Mc(yt[1])),O.current[1]==="floating"&&nt===ee&&et.shiftKey&&(mp(et),Mc(yt[0]))}}const lt=Rs(ee);return lt.addEventListener("keydown",Ye),()=>{lt.removeEventListener("keydown",Ye)}},[r,j,ee,y,O,ie,ye,Ne]),Z.useEffect(()=>{if(r||!K)return;function Ye(lt){const et=Ml(lt),nt=ye().indexOf(et);nt!==-1&&(be.current=nt)}return K.addEventListener("focusin",Ye),()=>{K.removeEventListener("focusin",Ye)}},[r,K,ye]),Z.useEffect(()=>{if(r||!_)return;function Ye(){he.current=!0,setTimeout(()=>{he.current=!1})}function lt(et){const yt=et.relatedTarget;queueMicrotask(()=>{const nt=F(),an=!(Ki(j,yt)||Ki(K,yt)||Ki(yt,K)||Ki(H==null?void 0:H.portalNode,yt)||yt!=null&&yt.hasAttribute(Uf("focus-guard"))||G&&(If(G.nodesRef.current,nt).find(kt=>{var $n,wt;return Ki(($n=kt.context)==null?void 0:$n.elements.floating,yt)||Ki((wt=kt.context)==null?void 0:wt.elements.domReference,yt)})||sb(G.nodesRef.current,nt).find(kt=>{var $n,wt,Pt;return[($n=kt.context)==null?void 0:$n.elements.floating,ub((wt=kt.context)==null?void 0:wt.elements.floating)].includes(yt)||((Pt=kt.context)==null?void 0:Pt.elements.domReference)===yt})));if(w&&an&&Il(Rs(ee))===Rs(ee).body){Br(ee)&&ee.focus();const kt=be.current,$n=ye(),wt=$n[kt]||$n[$n.length-1]||ee;Br(wt)&&wt.focus()}(ie||!y)&&yt&&an&&!he.current&&yt!==fb()&&(ae.current=!0,M(!1,et,"focus-out"))})}if(K&&Br(j))return j.addEventListener("focusout",lt),j.addEventListener("pointerdown",Ye),K.addEventListener("focusout",lt),()=>{j.removeEventListener("focusout",lt),j.removeEventListener("pointerdown",Ye),K.removeEventListener("focusout",lt)}},[r,j,K,ee,y,G,H,M,_,w,ye,ie,F]);const Oe=Z.useRef(null),Ge=Z.useRef(null),it=Sm([Oe,H==null?void 0:H.beforeInsideRef]),Ce=Sm([Ge,H==null?void 0:H.afterInsideRef]);Z.useEffect(()=>{var Ye;if(r||!K)return;const lt=Array.from((H==null||(Ye=H.portalNode)==null?void 0:Ye.querySelectorAll("["+Uf("portal")+"]"))||[]),et=G&&!y?sb(G==null?void 0:G.nodesRef.current,F()).map(an=>{var kt;return(kt=an.context)==null?void 0:kt.elements.floating}):[],yt=[K,...lt,...et,_e.current,le.current,Oe.current,Ge.current,H==null?void 0:H.beforeOutsideRef.current,H==null?void 0:H.afterOutsideRef.current,O.current.includes("reference")||ie?j:null].filter(an=>an!=null),nt=y||ie?ab(yt,!L,L):ab(yt);return()=>{nt()}},[r,j,K,y,O,H,ie,V,L,G,F]),$i(()=>{if(r||!Br(ee))return;const Ye=Rs(ee),lt=Il(Ye);queueMicrotask(()=>{const et=Ne(ee),yt=W.current,nt=(typeof yt=="number"?et[yt]:yt.current)||ee,an=Ki(ee,lt);!$&&!an&&N&&Mc(nt,{preventScroll:nt===ee})})},[r,N,ee,$,Ne,W]),$i(()=>{if(r||!ee)return;let Ye=!1;const lt=Rs(ee),et=Il(lt);let nt=q.current.openEvent;bp(et);function an(wt){let{open:Pt,reason:Et,event:Nr,nested:qe}=wt;Pt&&(nt=Nr),Et==="escape-key"&&j&&bp(j),["hover","safe-polygon"].includes(Et)&&Nr.type==="mouseleave"&&(ae.current=!0),Et==="outside-press"&&(qe?(ae.current=!1,Ye=!0):ae.current=!(UM(Nr)||FM(Nr)))}P.on("openchange",an);const kt=lt.createElement("span");kt.setAttribute("tabindex","-1"),kt.setAttribute("aria-hidden","true"),Object.assign(kt.style,F0),Re&&j&&j.insertAdjacentElement("afterend",kt);function $n(){return typeof X.current=="boolean"?fb()||kt:X.current.current||kt}return()=>{P.off("openchange",an);const wt=Il(lt),Pt=Ki(K,wt)||G&&If(G.nodesRef.current,F()).some(qe=>{var vs;return Ki((vs=qe.context)==null?void 0:vs.elements.floating,wt)});(Pt||nt&&["click","mousedown"].includes(nt.type))&&j&&bp(j);const Nr=$n();queueMicrotask(()=>{const qe=KD(Nr);X.current&&!ae.current&&Br(qe)&&(!(qe!==wt&&wt!==lt.body)||Pt)&&qe.focus({preventScroll:Ye}),kt.remove()})}},[r,K,ee,X,q,P,G,Re,j,F]),Z.useEffect(()=>{queueMicrotask(()=>{ae.current=!1})},[r]),$i(()=>{if(!r&&H)return H.setFocusManagerState({modal:y,closeOnFocusOut:_,open:N,onOpenChange:M,domReference:j}),()=>{H.setFocusManagerState(null)}},[r,H,y,N,M,_,j]),$i(()=>{if(r||!ee||typeof MutationObserver!="function"||$)return;const Ye=()=>{const et=ee.getAttribute("tabindex"),yt=ye(),nt=Il(Rs(K)),an=yt.indexOf(nt);an!==-1&&(be.current=an),O.current.includes("floating")||nt!==j&&yt.length===0?et!=="0"&&ee.setAttribute("tabindex","0"):et!=="-1"&&ee.setAttribute("tabindex","-1")};Ye();const lt=new MutationObserver(Ye);return lt.observe(ee,{childList:!0,subtree:!0,attributes:!0}),()=>{lt.disconnect()}},[r,K,ee,j,O,ye,$]);function We(Ye){return r||!T||!y?null:te.jsx(QD,{ref:Ye==="start"?_e:le,onClick:lt=>M(!1,lt.nativeEvent),children:typeof T=="string"?T:"Dismiss"})}const He=!r&&V&&(y?!ie:!0)&&(Re||y);return te.jsxs(te.Fragment,{children:[He&&te.jsx(n0,{"data-type":"inside",ref:it,onFocus:Ye=>{if(y){const et=Ne();Mc(s[0]==="reference"?et[0]:et[et.length-1])}else if(H!=null&&H.preserveTabOrder&&H.portalNode)if(ae.current=!1,Rf(Ye,H.portalNode)){const et=p_()||j;et==null||et.focus()}else{var lt;(lt=H.beforeOutsideRef.current)==null||lt.focus()}}}),!ie&&We("start"),t,We("end"),He&&te.jsx(n0,{"data-type":"inside",ref:Ce,onFocus:Ye=>{if(y)Mc(Ne()[0]);else if(H!=null&&H.preserveTabOrder&&H.portalNode)if(_&&(ae.current=!0),Rf(Ye,H.portalNode)){const et=m_()||j;et==null||et.focus()}else{var lt;(lt=H.afterOutsideRef.current)==null||lt.focus()}}})]})}let Th=0;function $D(){const n=/iP(hone|ad|od)|iOS/.test(XA()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,o=e.left?parseFloat(e.left):window.scrollX,d=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",s&&(e[r]=s+"px"),n){var p,w;const y=((p=window.visualViewport)==null?void 0:p.offsetLeft)||0,T=((w=window.visualViewport)==null?void 0:w.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(d-Math.floor(T))+"px",left:-(o-Math.floor(y))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),n&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(o,d))}}let db=()=>{};const JD=Z.forwardRef(function(e,t){const{lockScroll:r=!1,...s}=e;return $i(()=>{if(r)return Th++,Th===1&&(db=$D()),()=>{Th--,Th===0&&db()}},[r]),te.jsx("div",{ref:t,...s,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...s.style}})});function hb(n){return Br(n.target)&&n.target.tagName==="BUTTON"}function gb(n){return QA(n)}function eO(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:s,elements:{domReference:o}}=n,{enabled:d=!0,event:p="click",toggle:w=!0,ignoreMouse:y=!1,keyboardHandlers:T=!0,stickIfOpen:_=!0}=e,I=Z.useRef(),N=Z.useRef(!1),M=Z.useMemo(()=>({onPointerDown(P){I.current=P.pointerType},onMouseDown(P){const q=I.current;P.button===0&&p!=="click"&&(K2(q)&&y||(t&&w&&(!(s.current.openEvent&&_)||s.current.openEvent.type==="mousedown")?r(!1,P.nativeEvent,"click"):(P.preventDefault(),r(!0,P.nativeEvent,"click"))))},onClick(P){const q=I.current;if(p==="mousedown"&&I.current){I.current=void 0;return}K2(q)&&y||(t&&w&&(!(s.current.openEvent&&_)||s.current.openEvent.type==="click")?r(!1,P.nativeEvent,"click"):r(!0,P.nativeEvent,"click"))},onKeyDown(P){I.current=void 0,!(P.defaultPrevented||!T||hb(P))&&(P.key===" "&&!gb(o)&&(P.preventDefault(),N.current=!0),P.key==="Enter"&&r(!(t&&w),P.nativeEvent,"click"))},onKeyUp(P){P.defaultPrevented||!T||hb(P)||gb(o)||P.key===" "&&N.current&&(N.current=!1,r(!(t&&w),P.nativeEvent,"click"))}}),[s,o,p,y,T,r,t,_,w]);return Z.useMemo(()=>d?{reference:M}:{},[d,M])}const tO={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},nO={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},pb=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n==null?void 0:n.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n==null?void 0:n.outsidePress)!=null?t:!0}};function rO(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:s,dataRef:o}=n,{enabled:d=!0,escapeKey:p=!0,outsidePress:w=!0,outsidePressEvent:y="pointerdown",referencePress:T=!1,referencePressEvent:_="pointerdown",ancestorScroll:I=!1,bubbles:N,capture:M}=e,P=by(),q=Da(typeof w=="function"?w:()=>!1),j=typeof w=="function"?q:w,K=Z.useRef(!1),F=Z.useRef(!1),{escapeKey:$,outsidePress:ie}=pb(N),{escapeKey:se,outsidePress:V}=pb(M),L=Z.useRef(!1),O=Da(le=>{var ae;if(!t||!d||!p||le.key!=="Escape"||L.current)return;const he=(ae=o.current.floatingContext)==null?void 0:ae.nodeId,be=P?If(P.nodesRef.current,he):[];if(!$&&(le.stopPropagation(),be.length>0)){let Re=!0;if(be.forEach(ee=>{var ye;if((ye=ee.context)!=null&&ye.open&&!ee.context.dataRef.current.__escapeKeyBubbles){Re=!1;return}}),!Re)return}r(!1,HM(le)?le.nativeEvent:le,"escape-key")}),W=Da(le=>{var ae;const he=()=>{var be;O(le),(be=Ml(le))==null||be.removeEventListener("keydown",he)};(ae=Ml(le))==null||ae.addEventListener("keydown",he)}),X=Da(le=>{var ae;const he=K.current;K.current=!1;const be=F.current;if(F.current=!1,y==="click"&&be||he||typeof j=="function"&&!j(le))return;const Re=Ml(le),ee="["+Uf("inert")+"]",ye=Rs(s.floating).querySelectorAll(ee);let Ne=ar(Re)?Re:null;for(;Ne&&!Ba(Ne);){const Ce=za(Ne);if(Ba(Ce)||!ar(Ce))break;Ne=Ce}if(ye.length&&ar(Re)&&!GM(Re)&&!Ki(Re,s.floating)&&Array.from(ye).every(Ce=>!Ki(Ne,Ce)))return;if(Br(Re)&&_e){const Ce=Ba(Re),We=xs(Re),He=/auto|scroll/,Ye=Ce||He.test(We.overflowX),lt=Ce||He.test(We.overflowY),et=Ye&&Re.clientWidth>0&&Re.scrollWidth>Re.clientWidth,yt=lt&&Re.clientHeight>0&&Re.scrollHeight>Re.clientHeight,nt=We.direction==="rtl",an=yt&&(nt?le.offsetX<=Re.offsetWidth-Re.clientWidth:le.offsetX>Re.clientWidth),kt=et&&le.offsetY>Re.clientHeight;if(an||kt)return}const Oe=(ae=o.current.floatingContext)==null?void 0:ae.nodeId,Ge=P&&If(P.nodesRef.current,Oe).some(Ce=>{var We;return pp(le,(We=Ce.context)==null?void 0:We.elements.floating)});if(pp(le,s.floating)||pp(le,s.domReference)||Ge)return;const it=P?If(P.nodesRef.current,Oe):[];if(it.length>0){let Ce=!0;if(it.forEach(We=>{var He;if((He=We.context)!=null&&He.open&&!We.context.dataRef.current.__outsidePressBubbles){Ce=!1;return}}),!Ce)return}r(!1,le,"outside-press")}),G=Da(le=>{var ae;const he=()=>{var be;X(le),(be=Ml(le))==null||be.removeEventListener(y,he)};(ae=Ml(le))==null||ae.addEventListener(y,he)});Z.useEffect(()=>{if(!t||!d)return;o.current.__escapeKeyBubbles=$,o.current.__outsidePressBubbles=ie;let le=-1;function ae(ye){r(!1,ye,"ancestor-scroll")}function he(){window.clearTimeout(le),L.current=!0}function be(){le=window.setTimeout(()=>{L.current=!1},L0()?5:0)}const Re=Rs(s.floating);p&&(Re.addEventListener("keydown",se?W:O,se),Re.addEventListener("compositionstart",he),Re.addEventListener("compositionend",be)),j&&Re.addEventListener(y,V?G:X,V);let ee=[];return I&&(ar(s.domReference)&&(ee=Yc(s.domReference)),ar(s.floating)&&(ee=ee.concat(Yc(s.floating))),!ar(s.reference)&&s.reference&&s.reference.contextElement&&(ee=ee.concat(Yc(s.reference.contextElement)))),ee=ee.filter(ye=>{var Ne;return ye!==((Ne=Re.defaultView)==null?void 0:Ne.visualViewport)}),ee.forEach(ye=>{ye.addEventListener("scroll",ae,{passive:!0})}),()=>{p&&(Re.removeEventListener("keydown",se?W:O,se),Re.removeEventListener("compositionstart",he),Re.removeEventListener("compositionend",be)),j&&Re.removeEventListener(y,V?G:X,V),ee.forEach(ye=>{ye.removeEventListener("scroll",ae)}),window.clearTimeout(le)}},[o,s,p,j,y,t,r,I,d,$,ie,O,se,W,X,V,G]),Z.useEffect(()=>{K.current=!1},[j,y]);const H=Z.useMemo(()=>({onKeyDown:O,...T&&{[tO[_]]:le=>{r(!1,le.nativeEvent,"reference-press")},..._!=="click"&&{onClick(le){r(!1,le.nativeEvent,"reference-press")}}}}),[O,r,T,_]),_e=Z.useMemo(()=>({onKeyDown:O,onMouseDown(){F.current=!0},onMouseUp(){F.current=!0},[nO[y]]:()=>{K.current=!0}}),[O,y]);return Z.useMemo(()=>d?{reference:H,floating:_e}:{},[d,H,_e])}function iO(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=vy(),o=Z.useRef({}),[d]=Z.useState(()=>VD()),p=d_()!=null,[w,y]=Z.useState(r.reference),T=Da((N,M,P)=>{o.current.openEvent=N?M:void 0,d.emit("openchange",{open:N,event:M,reason:P,nested:p}),t==null||t(N,M,P)}),_=Z.useMemo(()=>({setPositionReference:y}),[]),I=Z.useMemo(()=>({reference:w||r.reference||null,floating:r.floating||null,domReference:r.reference}),[w,r.reference,r.floating]);return Z.useMemo(()=>({dataRef:o,open:e,onOpenChange:T,elements:I,events:d,floatingId:s,refs:_}),[e,T,I,d,s,_])}function sO(n){n===void 0&&(n={});const{nodeId:e}=n,t=iO({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,s=r.elements,[o,d]=Z.useState(null),[p,w]=Z.useState(null),T=(s==null?void 0:s.domReference)||o,_=Z.useRef(null),I=by();$i(()=>{T&&(_.current=T)},[T]);const N=DD({...n,elements:{...s,...p&&{reference:p}}}),M=Z.useCallback(F=>{const $=ar(F)?{getBoundingClientRect:()=>F.getBoundingClientRect(),contextElement:F}:F;w($),N.refs.setReference($)},[N.refs]),P=Z.useCallback(F=>{(ar(F)||F===null)&&(_.current=F,d(F)),(ar(N.refs.reference.current)||N.refs.reference.current===null||F!==null&&!ar(F))&&N.refs.setReference(F)},[N.refs]),q=Z.useMemo(()=>({...N.refs,setReference:P,setPositionReference:M,domReference:_}),[N.refs,P,M]),j=Z.useMemo(()=>({...N.elements,domReference:T}),[N.elements,T]),K=Z.useMemo(()=>({...N,...r,refs:q,elements:j,nodeId:e}),[N,q,j,e,r]);return $i(()=>{r.dataRef.current.floatingContext=K;const F=I==null?void 0:I.nodesRef.current.find($=>$.id===e);F&&(F.context=K)}),Z.useMemo(()=>({...N,context:K,refs:q,elements:j}),[N,q,j,K])}const mb="active",yb="selected";function Ep(n,e,t){const r=new Map,s=t==="item";let o=n;if(s&&n){const{[mb]:d,[yb]:p,...w}=n;o=w}return{...t==="floating"&&{tabIndex:-1,[Cm]:""},...o,...e.map(d=>{const p=d?d[t]:null;return typeof p=="function"?n?p(n):null:p}).concat(n).reduce((d,p)=>(p&&Object.entries(p).forEach(w=>{let[y,T]=w;if(!(s&&[mb,yb].includes(y)))if(y.indexOf("on")===0){if(r.has(y)||r.set(y,[]),typeof T=="function"){var _;(_=r.get(y))==null||_.push(T),d[y]=function(){for(var I,N=arguments.length,M=new Array(N),P=0;P<N;P++)M[P]=arguments[P];return(I=r.get(y))==null?void 0:I.map(q=>q(...M)).find(q=>q!==void 0)}}}else d[y]=T}),d),{})}}function aO(n){n===void 0&&(n=[]);const e=n.map(p=>p==null?void 0:p.reference),t=n.map(p=>p==null?void 0:p.floating),r=n.map(p=>p==null?void 0:p.item),s=Z.useCallback(p=>Ep(p,n,"reference"),e),o=Z.useCallback(p=>Ep(p,n,"floating"),t),d=Z.useCallback(p=>Ep(p,n,"item"),r);return Z.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:d}),[s,o,d])}const oO=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function lO(n,e){var t;e===void 0&&(e={});const{open:r,floatingId:s}=n,{enabled:o=!0,role:d="dialog"}=e,p=(t=oO.get(d))!=null?t:d,w=vy(),T=d_()!=null,_=Z.useMemo(()=>p==="tooltip"||d==="label"?{["aria-"+(d==="label"?"labelledby":"describedby")]:r?s:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":r?s:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:w},...p==="menu"&&T&&{role:"menuitem"},...d==="select"&&{"aria-autocomplete":"none"},...d==="combobox"&&{"aria-autocomplete":"list"}},[p,s,T,r,w,d]),I=Z.useMemo(()=>{const M={id:s,...p&&{role:p}};return p==="tooltip"||d==="label"?M:{...M,...p==="menu"&&{"aria-labelledby":w}}},[p,s,w,d]),N=Z.useCallback(M=>{let{active:P,selected:q}=M;const j={role:"option",...P&&{id:s+"-option"}};switch(d){case"select":return{...j,"aria-selected":P&&q};case"combobox":return{...j,...P&&{"aria-selected":!0}}}return{}},[s,d]);return Z.useMemo(()=>o?{reference:_,floating:I,item:N}:{},[o,_,I,N])}const x_=Z.forwardRef((n,e)=>te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:te.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414z",clipRule:"evenodd"})}));x_.displayName="ArrowLeftIcon";const v_=Z.forwardRef((n,e)=>te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:te.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M10.293 3.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L14.586 11H3a1 1 0 1 1 0-2h11.586l-4.293-4.293a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));v_.displayName="ArrowRightIcon";const b_=Z.forwardRef((n,e)=>te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:te.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M6 2a1 1 0 0 0-1 1v1H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1V3a1 1 0 1 0-2 0v1H7V3a1 1 0 0 0-1-1zm0 5a1 1 0 0 0 0 2h8a1 1 0 1 0 0-2H6z",clipRule:"evenodd"})}));b_.displayName="CalendarIcon";const cO={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},Ey=Z.forwardRef((n,e)=>{var N,M;const t=Rr(),r=Ir([cO,(N=t.theme)==null?void 0:N.textInput,n.theme],[ft(t.clearTheme,"textInput"),n.clearTheme],[ft(t.applyTheme,"textInput"),n.applyTheme]),{addon:s,className:o,color:d="gray",icon:p,rightIcon:w,shadow:y,sizing:T="md",type:_="text",...I}=Cr(n,(M=t.props)==null?void 0:M.textInput);return te.jsxs("div",{className:qt(r.base,o),children:[s&&te.jsx("span",{className:r.addon,children:s}),te.jsxs("div",{className:r.field.base,children:[p&&te.jsx("div",{className:r.field.icon.base,children:te.jsx(p,{className:r.field.icon.svg})}),w&&te.jsx("div",{"data-testid":"right-icon",className:r.field.rightIcon.base,children:te.jsx(w,{className:r.field.rightIcon.svg})}),te.jsx("input",{className:qt(r.field.input.base,r.field.input.colors[d],r.field.input.sizes[T],r.field.input.withIcon[p?"on":"off"],r.field.input.withRightIcon[w?"on":"off"],r.field.input.withAddon[s?"on":"off"],r.field.input.withShadow[y?"on":"off"]),type:_,...I,ref:e})]})]})});Ey.displayName="TextInput";const E_=Z.createContext(void 0);function z0(){const n=Z.useContext(E_);if(!n)throw new Error("useDatePickerContext should be used within the DatePickerContext provider!");return n}var Wn=(n=>(n[n.Days=0]="Days",n[n.Months=1]="Months",n[n.Years=2]="Years",n[n.Decades=3]="Decades",n))(Wn||{}),T_=(n=>(n[n.Sunday=0]="Sunday",n[n.Monday=1]="Monday",n[n.Tuesday=2]="Tuesday",n[n.Wednesday=3]="Wednesday",n[n.Thursday=4]="Thursday",n[n.Friday=5]="Friday",n[n.Saturday=6]="Saturday",n))(T_||{});function nu(n,e,t){const r=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime();if(e&&t){const s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),o=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return r>=s&&r<=o}if(e){const s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();return r>=s}if(t){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return r<=s}return!0}function Ff(n,e){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.getTime()===e.getTime()}function Ah(n,e,t){return nu(n,e,t)||(e&&n<e?n=e:t&&n>t&&(n=t)),n}function uO(n,e){const t=new Date(n.getFullYear(),n.getMonth(),1);let s=t.getDay()-e;return s<0&&(s+=7),Ty(t,-s)}function fO(n,e){const t=[],r=new Date(0);r.setDate(r.getDate()-r.getDay()+e);const s=new Intl.DateTimeFormat(n,{weekday:"short"});for(let o=0;o<7;o++)t.push(s.format(Ty(r,o)));return t}function Ty(n,e){const t=new Date(n);return t.setDate(t.getDate()+e),t}function dO(n,e){const t=new Date(n);return t.setMonth(t.getMonth()+e),t}function Vc(n,e){const t=new Date(n);return t.setFullYear(t.getFullYear()+e),t}function Uc(n,e,t){let r={day:"numeric",month:"long",year:"numeric"};return t&&(r=t),new Intl.DateTimeFormat(n,r).format(e)}function Fc(n,e){const t=n.getFullYear();return Math.floor(t/e)*e}function hO(n,e){const t=n.getFullYear(),r=e+9;return t>=e&&t<=r}const gO={root:{base:"relative"},popup:{root:{base:"absolute top-10 z-50 block pt-2",inline:"relative top-0 z-auto",inner:"inline-block rounded-lg bg-white p-4 shadow-lg dark:bg-gray-700"},header:{base:"",title:"px-2 py-3 text-center font-semibold text-gray-900 dark:text-white",selectors:{base:"mb-2 flex justify-between",button:{base:"rounded-lg bg-white px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",prev:"",next:"",view:""}}},view:{base:"p-1"},footer:{base:"mt-2 flex space-x-2",button:{base:"w-full rounded-lg px-5 py-2 text-center text-sm font-medium focus:ring-4 focus:ring-cyan-300",today:"bg-cyan-700 text-white hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700",clear:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}}},views:{days:{header:{base:"mb-1 grid grid-cols-7",title:"h-6 text-center text-sm font-medium leading-6 text-gray-500 dark:text-gray-400"},items:{base:"grid w-64 grid-cols-7",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},months:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},years:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},decades:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}}}};function A_(){const{theme:n,weekStart:e,minDate:t,maxDate:r,viewDate:s,selectedDate:o,changeSelectedDate:d,language:p}=z0(),w=n.views.days,y=fO(p,e),T=uO(s,e);return te.jsxs(te.Fragment,{children:[te.jsx("div",{className:w.header.base,children:y.map((_,I)=>te.jsx("span",{className:w.header.title,children:_},I))}),te.jsx("div",{className:w.items.base,children:[...Array(42)].map((_,I)=>{const N=Ty(T,I),M=Uc(p,N,{day:"numeric"}),P=o&&Ff(o,N),q=!nu(N,t,r);return te.jsx("button",{disabled:q,type:"button",className:qt(w.items.item.base,P&&w.items.item.selected,q&&w.items.item.disabled),onClick:()=>{q||d(N,!0)},children:M},I)})})]})}A_.displayName="DatepickerViewsDays";function __(){const{theme:n,viewDate:e,selectedDate:t,minDate:r,maxDate:s,setViewDate:o,setView:d}=z0(),p=n.views.decades,w=Fc(e,100);return te.jsx("div",{className:p.items.base,children:[...Array(12)].map((y,T)=>{const _=w-10+T*10;new Date(e.getTime()).setFullYear(_+e.getFullYear()%10);const N=new Date(_,0,1),M=Vc(N,9),P=t&&hO(t,_),q=!nu(N,r,s)&&!nu(M,r,s);return te.jsx("button",{disabled:q,type:"button",className:qt(p.items.item.base,P&&p.items.item.selected,q&&p.items.item.disabled),onClick:()=>{q||(t&&o(Vc(e,_-t.getFullYear())),d(Wn.Years))},children:_},T)})})}__.displayName="DatepickerViewsDecades";function S_(){const{theme:n,minDate:e,maxDate:t,selectedDate:r,viewDate:s,language:o,setViewDate:d,setView:p}=z0(),w=n.views.months;return te.jsx("div",{className:w.items.base,children:[...Array(12)].map((y,T)=>{const _=new Date;_.setMonth(T,1),_.setFullYear(s.getFullYear());const I=Uc(o,_,{month:"short"}),N=r&&Ff(r,_),M=!nu(_,e,t);return te.jsx("button",{disabled:M,type:"button",className:qt(w.items.item.base,N&&w.items.item.selected,M&&w.items.item.disabled),onClick:()=>{M||(d(_),p(Wn.Days))},children:I},T)})})}S_.displayName="DatepickerViewsMonth";function C_(){const{theme:n,selectedDate:e,minDate:t,maxDate:r,viewDate:s,setViewDate:o,setView:d}=z0(),p=n.views.years;return te.jsx("div",{className:p.items.base,children:[...Array(12)].map((w,y)=>{const _=Fc(s,10)+y,I=new Date(s.getTime());I.setFullYear(_);const N=e&&Ff(e,I),M=!nu(I,t,r);return te.jsx("button",{disabled:M,type:"button",className:qt(p.items.item.base,N&&p.items.item.selected,M&&p.items.item.disabled),onClick:()=>{M||(o(I),d(Wn.Months))},children:_},y)})})}C_.displayName="DatepickerViewsYears";const I_=Z.forwardRef((n,e)=>{var it,Ce;const t=Rr(),r=Ir([gO,(it=t.theme)==null?void 0:it.datepicker,n.theme],[ft(t.clearTheme,"datepicker"),n.clearTheme],[ft(t.applyTheme,"datepicker"),n.applyTheme]),{title:s,open:o,inline:d=!1,autoHide:p=!0,showClearButton:w=!0,labelClearButton:y="Clear",showTodayButton:T=!0,labelTodayButton:_="Today",defaultValue:I,minDate:N,maxDate:M,language:P="en",weekStart:q=T_.Sunday,className:j,onChange:K,label:F,value:$,...ie}=Cr(n,(Ce=t.props)==null?void 0:Ce.datepicker),se=I?Ah(I,N,M):null,V=Z.useMemo(()=>I?Ah(I,N,M):new Date,[]),[L,O]=Z.useState(o),[W,X]=Z.useState(Wn.Days),[G,H]=Z.useState($??se),[_e,le]=Z.useState($??V),ae=Z.useRef(null),he=Z.useRef(null);function be(We,He){H(We),(We===null||We)&&K&&K(We),p&&W===Wn.Days&&He==!0&&!d&&O(!1)}function Re(){be(se,!0),I&&le(I)}Z.useImperativeHandle(e,()=>({focus(){var We;(We=ae.current)==null||We.focus()},clear(){Re()}}));function ee(We){switch(We){case Wn.Decades:return te.jsx(__,{});case Wn.Years:return te.jsx(C_,{});case Wn.Months:return te.jsx(S_,{});case Wn.Days:default:return te.jsx(A_,{})}}function ye(){switch(W){case Wn.Days:return Wn.Months;case Wn.Months:return Wn.Years;case Wn.Years:return Wn.Decades}return W}function Ne(){switch(W){case Wn.Decades:return`${Fc(_e,100)-10} - ${Fc(_e,100)+100}`;case Wn.Years:return`${Fc(_e,10)} - ${Fc(_e,10)+11}`;case Wn.Months:return Uc(P,_e,{year:"numeric"});case Wn.Days:default:return Uc(P,_e,{month:"long",year:"numeric"})}}function Oe(We,He,Ye){switch(We){case Wn.Days:return new Date(dO(He,Ye));case Wn.Months:return new Date(Vc(He,Ye));case Wn.Years:return new Date(Vc(He,Ye*10));case Wn.Decades:return new Date(Vc(He,Ye*100));default:return new Date(Vc(He,Ye*10))}}Z.useEffect(()=>{const We=He=>{var et,yt;const Ye=(et=he==null?void 0:he.current)==null?void 0:et.contains(He.target),lt=(yt=ae==null?void 0:ae.current)==null?void 0:yt.contains(He.target);!Ye&&!lt&&O(!1)};return document.addEventListener("mousedown",We),()=>{document.removeEventListener("mousedown",We)}},[ae,he,O]),Z.useEffect(()=>{const We=$&&Ah(new Date($),N,M),He=G&&Ah(new Date(G),N,M);He&&We&&!Ff(We,He)&&H(We),G==null&&H(se)},[$,H,le,G]);const Ge=$===null?F:Uc(P,G||new Date);return te.jsx(E_.Provider,{value:{theme:r,language:P,minDate:N,maxDate:M,weekStart:q,isOpen:L,setIsOpen:O,view:W,setView:X,viewDate:_e,setViewDate:le,selectedDate:G,setSelectedDate:H,changeSelectedDate:be},children:te.jsxs("div",{className:qt(r.root.base,j),children:[!d&&te.jsx(Ey,{theme:r.root.input,icon:b_,ref:ae,onFocus:()=>{G&&!Ff(_e,G)&&le(G),O(!0)},value:Ge,defaultValue:se?Uc(P,se):F,readOnly:!0,...ie}),(L||d)&&te.jsx("div",{ref:he,className:qt(r.popup.root.base,d&&r.popup.root.inline),children:te.jsxs("div",{className:r.popup.root.inner,children:[te.jsxs("div",{className:r.popup.header.base,children:[s&&te.jsx("div",{className:r.popup.header.title,children:s}),te.jsxs("div",{className:r.popup.header.selectors.base,children:[te.jsx("button",{type:"button",className:qt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.prev),onClick:()=>le(Oe(W,_e,-1)),children:te.jsx(x_,{})}),te.jsx("button",{type:"button",className:qt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.view),onClick:()=>X(ye()),children:Ne()}),te.jsx("button",{type:"button",className:qt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.next),onClick:()=>le(Oe(W,_e,1)),children:te.jsx(v_,{})})]})]}),te.jsx("div",{className:r.popup.view.base,children:ee(W)}),(w||T)&&te.jsxs("div",{className:r.popup.footer.base,children:[T&&te.jsx("button",{type:"button",className:qt(r.popup.footer.button.base,r.popup.footer.button.today),onClick:()=>{const We=new Date;be(We,!0),le(We)},children:_}),w&&te.jsx("button",{type:"button",className:qt(r.popup.footer.button.base,r.popup.footer.button.clear),onClick:()=>{be(null,!0)},children:y})]})]})})]})})});I_.displayName="Datepicker";const pO={base:"block w-full cursor-pointer rounded-lg border file:-ms-4 file:me-4 file:cursor-pointer file:border-none file:bg-gray-800 file:py-2.5 file:pe-4 file:ps-8 file:text-sm file:font-medium file:leading-[inherit] file:text-white hover:file:bg-gray-700 focus:outline-none focus:ring-1 dark:file:bg-gray-600 dark:hover:file:bg-gray-500",sizes:{sm:"text-xs",md:"text-sm",lg:"text-lg"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}},R_=Z.forwardRef((n,e)=>{var w,y;const t=Rr(),r=Ir([pO,(w=t.theme)==null?void 0:w.fileInput,n.theme],[ft(t.clearTheme,"fileInput"),n.clearTheme],[ft(t.applyTheme,"fileInput"),n.applyTheme]),{className:s,color:o="gray",sizing:d="md",...p}=Cr(n,(y=t.props)==null?void 0:y.fileInput);return te.jsx("input",{ref:e,type:"file",className:qt(r.base,r.colors[o],r.sizes[d],s),...p})});R_.displayName="FileInput";const mO={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},N_=Z.forwardRef((n,e)=>{var w,y;const t=Rr(),r=Ir([mO,(w=t.theme)==null?void 0:w.label,n.theme],[ft(t.clearTheme,"label"),n.clearTheme],[ft(t.applyTheme,"label"),n.applyTheme]),{className:s,color:o="default",disabled:d=!1,...p}=Cr(n,(y=t.props)==null?void 0:y.label);return te.jsx("label",{ref:e,className:qt(r.root.base,r.root.colors[o],d&&r.root.disabled,s),"data-testid":"flowbite-label",...p})});N_.displayName="Label";const M_=Z.createContext(void 0);function j0(){const n=Z.useContext(M_);if(!n)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return n}const nd={root:{base:"bg-white px-2 py-2.5 sm:px-4 dark:border-gray-700 dark:bg-gray-800",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pl-3 pr-4 md:p-0",active:{on:"bg-primary-700 text-white md:bg-transparent md:text-primary-700 dark:text-white",off:"border-b border-gray-100 text-gray-700 hover:bg-gray-50 md:border-0 md:hover:bg-transparent md:hover:text-primary-700 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 md:hidden dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",icon:"h-6 w-6 shrink-0",title:"sr-only"}},D_=Z.forwardRef((n,e)=>{var N,M;const t=Rr(),r=Ir([nd,(N=t.theme)==null?void 0:N.navbar,n.theme],[ft(t.clearTheme,"navbar"),n.clearTheme],[ft(t.applyTheme,"navbar"),n.applyTheme]),{border:s,children:o,className:d,fluid:p=!1,menuOpen:w,rounded:y,...T}=Cr(n,(M=t.props)==null?void 0:M.navbar),[_,I]=Z.useState(w);return te.jsx(M_.Provider,{value:{theme:n.theme,clearTheme:n.clearTheme,applyTheme:n.applyTheme,isOpen:_,setIsOpen:I},children:te.jsx("nav",{ref:e,className:qt(r.root.base,r.root.bordered[s?"on":"off"],r.root.rounded[y?"on":"off"],d),...T,children:te.jsx("div",{className:qt(r.root.inner.base,r.root.inner.fluid[p?"on":"off"]),children:o})})})});D_.displayName="Navbar";const O_=Z.forwardRef((n,e)=>{var T,_,I;const{theme:t,clearTheme:r,applyTheme:s}=j0(),o=Rr(),d=Ir([nd.brand,(_=(T=o.theme)==null?void 0:T.navbar)==null?void 0:_.brand,t==null?void 0:t.brand,n.theme],[ft(o.clearTheme,"navbar.brand"),ft(r,"brand"),n.clearTheme],[ft(o.applyTheme,"navbar.brand"),ft(s,"brand"),n.applyTheme]),{as:p="a",className:w,...y}=Cr(n,(I=o.props)==null?void 0:I.navbarBrand);return te.jsx(p,{ref:e,className:qt(d.base,w),...y})});O_.displayName="NavbarBrand";const k_=Z.forwardRef((n,e)=>{var _,I,N;const{theme:t,clearTheme:r,applyTheme:s,isOpen:o}=j0(),d=Rr(),p=Ir([nd.collapse,(I=(_=d.theme)==null?void 0:_.navbar)==null?void 0:I.collapse,t==null?void 0:t.collapse,n.theme],[ft(d.clearTheme,"navbar.collapse"),ft(r,"collapse"),n.clearTheme],[ft(d.applyTheme,"navbar.collapse"),ft(s,"collapse"),n.applyTheme]),{children:w,className:y,...T}=Cr(n,(N=d.props)==null?void 0:N.navbarCollapse);return te.jsx("div",{ref:e,"data-testid":"flowbite-navbar-collapse",className:qt(p.base,p.hidden[o?"off":"on"],y),...T,children:te.jsx("ul",{className:p.list,children:w})})});k_.displayName="NavbarCollapse";const Im=Z.forwardRef((n,e)=>{var q,j,K;const{theme:t,clearTheme:r,applyTheme:s,setIsOpen:o}=j0(),d=Rr(),p=Ir([nd.link,(j=(q=d.theme)==null?void 0:q.navbar)==null?void 0:j.link,t==null?void 0:t.link,n.theme],[ft(d.clearTheme,"navbar.link"),ft(r,"link"),n.clearTheme],[ft(d.applyTheme,"navbar.link"),ft(s,"link"),n.applyTheme]),{active:w,as:y="a",disabled:T,children:_,className:I,onClick:N,...M}=Cr(n,(K=d.props)==null?void 0:K.navbarLink);function P(F){o(!1),N==null||N(F)}return te.jsx("li",{ref:e,children:te.jsx(y,{className:qt(p.base,w&&p.active.on,!w&&!T&&p.active.off,p.disabled[T?"on":"off"],I),onClick:P,...M,children:_})})});Im.displayName="NavbarLink";const P_=Z.forwardRef((n,e)=>te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",ref:e,...n,children:te.jsx("path",{stroke:"none",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}));P_.displayName="BarsIcon";const L_=Z.forwardRef((n,e)=>{var N,M,P;const{theme:t,clearTheme:r,applyTheme:s,isOpen:o,setIsOpen:d}=j0(),p=Rr(),w=Ir([nd.toggle,(M=(N=p.theme)==null?void 0:N.navbar)==null?void 0:M.toggle,t==null?void 0:t.toggle,n.theme],[ft(p.clearTheme,"navbar.toggle"),ft(r,"toggle"),n.clearTheme],[ft(p.applyTheme,"navbar.toggle"),ft(s,"toggle"),n.applyTheme]),{barIcon:y=P_,className:T,..._}=Cr(n,(P=p.props)==null?void 0:P.navbarToggle);function I(){d(!o)}return te.jsxs("button",{ref:e,"data-testid":"flowbite-navbar-toggle",onClick:I,className:qt(w.base,T),..._,children:[te.jsx("span",{className:w.title,children:"Open main menu"}),te.jsx(y,{"aria-hidden":!0,className:w.icon})]})});L_.displayName="NavbarToggle";const B_=Z.createContext(void 0);function Ay(){const n=Z.useContext(B_);if(!n)throw new Error("useModalContext should be used within the ModalContext provider!");return n}const H0={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900/50 dark:bg-gray-900/80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"flex-1 overflow-auto p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t border-b p-5 dark:border-gray-600",popup:"border-b-0 p-2",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},G0=Z.forwardRef((n,e)=>{var V,L;const[t,r]=Z.useState(void 0),s=Rr(),o=Ir([H0,(V=s.theme)==null?void 0:V.modal,n.theme],[ft(s.clearTheme,"modal"),n.clearTheme],[ft(s.applyTheme,"modal"),n.applyTheme]),{children:d,className:p,dismissible:w=!1,onClose:y,popup:T,position:_="center",root:I,show:N,size:M="2xl",initialFocus:P,...q}=Cr(n,(L=s.props)==null?void 0:L.modal),{context:j}=sO({open:N,onOpenChange:()=>y&&y()}),K=Sm([j.refs.setFloating,e]),F=eO(j),$=rO(j,{outsidePressEvent:"mousedown",enabled:w}),ie=lO(j),{getFloatingProps:se}=aO([F,$,ie]);return N?te.jsx(B_.Provider,{value:{theme:n.theme,clearTheme:n.clearTheme,applyTheme:n.applyTheme,popup:T,onClose:y,setHeaderId:r},children:te.jsx(WD,{root:I,children:te.jsx(JD,{lockScroll:!0,"data-testid":"modal-overlay",className:qt(o.root.base,o.root.positions[_],N?o.root.show.on:o.root.show.off,p),...q,children:te.jsx(ZD,{context:j,initialFocus:P,children:te.jsx("div",{ref:K,...se(q),"aria-labelledby":t,className:qt(o.content.base,o.root.sizes[M]),children:te.jsx("div",{className:o.content.inner,children:d})})})})})}):null});G0.displayName="Modal";const q0=Z.forwardRef((n,e)=>{var T,_,I;const{theme:t,clearTheme:r,applyTheme:s,popup:o}=Ay(),d=Rr(),p=Ir([H0.body,(_=(T=d.theme)==null?void 0:T.modal)==null?void 0:_.body,t==null?void 0:t.body,n.theme],[ft(d.clearTheme,"modal.body"),ft(r,"body"),n.clearTheme],[ft(d.applyTheme,"modal.body"),ft(s,"body"),n.applyTheme]),{className:w,...y}=Cr(n,(I=d.props)==null?void 0:I.modalBody);return te.jsx("div",{ref:e,className:qt(p.base,o&&p.popup,w),...y})});q0.displayName="ModalBody";const V_=Z.forwardRef((n,e)=>{var T,_,I;const{theme:t,clearTheme:r,applyTheme:s,popup:o}=Ay(),d=Rr(),p=Ir([H0.footer,(_=(T=d.theme)==null?void 0:T.modal)==null?void 0:_.footer,t==null?void 0:t.footer,n.theme],[ft(d.clearTheme,"modal.footer"),ft(r,"footer"),n.clearTheme],[ft(d.applyTheme,"modal.footer"),ft(s,"footer"),n.applyTheme]),{className:w,...y}=Cr(n,(I=d.props)==null?void 0:I.modalFooter);return te.jsx("div",{ref:e,className:qt(p.base,!o&&p.popup,w),...y})});V_.displayName="ModalFooter";const U_=Z.forwardRef((n,e)=>te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",ref:e,...n,children:te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}));U_.displayName="OutlineXIcon";const Y0=Z.forwardRef((n,e)=>{var j,K,F;const{theme:t,clearTheme:r,applyTheme:s,popup:o,onClose:d,setHeaderId:p}=Ay(),w=Rr(),y=Ir([H0.header,(K=(j=w.theme)==null?void 0:j.modal)==null?void 0:K.header,t==null?void 0:t.header,n.theme],[ft(w.clearTheme,"modal.header"),ft(r,"header"),n.clearTheme],[ft(w.applyTheme,"modal.header"),ft(s,"header"),n.applyTheme]),{as:T="h3",children:_,className:I,id:N,...M}=Cr(n,(F=w.props)==null?void 0:F.modalHeader),P=Z.useId(),q=N||P;return Z.useLayoutEffect(()=>(p(q),()=>p(void 0)),[q,p]),te.jsxs("div",{ref:e,className:qt(y.base,o&&y.popup,I),...M,children:[te.jsx(T,{id:q,className:y.title,children:_}),te.jsx("button",{"aria-label":"Close",className:y.close.base,type:"button",onClick:d,children:te.jsx(U_,{"aria-hidden":!0,className:y.close.icon})})]})});Y0.displayName="ModalHeader";const yO={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full appearance-none border bg-arrow-down-icon bg-[length:0.75em_0.75em] bg-[position:right_12px_center] bg-no-repeat pr-10 focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},F_=Z.forwardRef((n,e)=>{var _,I;const t=Rr(),r=Ir([yO,(_=t.theme)==null?void 0:_.select,n.theme],[ft(t.clearTheme,"select"),n.clearTheme],[ft(t.applyTheme,"select"),n.applyTheme]),{addon:s,className:o,color:d="gray",icon:p,shadow:w,sizing:y="md",...T}=Cr(n,(I=t.props)==null?void 0:I.select);return te.jsxs("div",{className:qt(r.base,o),children:[s&&te.jsx("span",{className:r.addon,children:s}),te.jsxs("div",{className:r.field.base,children:[p&&te.jsx("div",{className:r.field.icon.base,children:te.jsx(p,{className:r.field.icon.svg})}),te.jsx("select",{ref:e,className:qt(r.field.select.base,r.field.select.colors[d],r.field.select.sizes[y],r.field.select.withIcon[p?"on":"off"],r.field.select.withAddon[s?"on":"off"],r.field.select.withShadow[w?"on":"off"]),...T})]})]})});F_.displayName="Select";var z_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wb=yn.createContext&&yn.createContext(z_),wO=["attr","size","title"];function xO(n,e){if(n==null)return{};var t=vO(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function vO(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function r0(){return r0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r0.apply(this,arguments)}function xb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function i0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xb(Object(t),!0).forEach(function(r){bO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):xb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bO(n,e,t){return e=EO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EO(n){var e=TO(n,"string");return typeof e=="symbol"?e:e+""}function TO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function j_(n){return n&&n.map((e,t)=>yn.createElement(e.tag,i0({key:t},e.attr),j_(e.child)))}function pu(n){return e=>yn.createElement(AO,r0({attr:i0({},n.attr)},e),j_(n.child))}function AO(n){var e=t=>{var{attr:r,size:s,title:o}=n,d=xO(n,wO),p=s||t.size||"1em",w;return t.className&&(w=t.className),n.className&&(w=(w?w+" ":"")+n.className),yn.createElement("svg",r0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,d,{className:w,style:i0(i0({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),o&&yn.createElement("title",null,o),n.children)};return wb!==void 0?yn.createElement(wb.Consumer,null,t=>e(t)):e(z_)}function _O(n){return pu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},child:[]}]})(n)}function SO(n){return pu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(n)}function CO(n){return pu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(n)}function IO(n){return pu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},child:[]}]})(n)}function RO(n){return pu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},child:[]}]})(n)}function H_(n){return pu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"},child:[]}]})(n)}var Tp={exports:{}},Ap,vb;function NO(){if(vb)return Ap;vb=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ap=n,Ap}var _p,bb;function MO(){if(bb)return _p;bb=1;var n=NO();function e(){}function t(){}return t.resetWarningCache=e,_p=function(){function r(d,p,w,y,T,_){if(_!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},_p}var Eb;function DO(){return Eb||(Eb=1,Tp.exports=MO()()),Tp.exports}var OO=DO();const Sp=M0(OO),Tb={delete:te.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-red-500 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:te.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})}),edit:te.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-gray-400 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:te.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"})}),scan:te.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-blue-500 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5v1.5a2.25 2.25 0 002.25 2.25h1.5m9-3.75h1.5a2.25 2.25 0 012.25 2.25v1.5m0 9v1.5a2.25 2.25 0 01-2.25 2.25h-1.5m-9 0h-1.5a2.25 2.25 0 01-2.25-2.25v-1.5"})})};function Ni({action:n,onClick:e,children:t,label:r}){return n==="submit"?te.jsxs($s,{type:"submit",onClick:s=>{s.stopPropagation(),e==null||e(s)},className:"",children:[t," ",r&&r]}):n==="add"?te.jsxs($s,{className:"w-full shadow-lg cursor-pointer",color:"blue",onClick:s=>{s.stopPropagation(),e==null||e(s)},children:["Create ",r]}):n==="scan"?te.jsxs($s,{className:"w-full shadow-lg cursor-pointer",color:"gray",onClick:s=>{s.stopPropagation(),e==null||e(s)},children:[Tb[n]," ",r&&r]}):te.jsx("span",{type:"button",onClick:s=>{s.stopPropagation(),e==null||e(s)},"aria-label":n,className:"p-1 focus:outline-none",children:Tb[n]})}Ni.propTypes={variant:Sp.oneOf(["delete","edit","submit","scan"]).isRequired,onClick:Sp.func,children:Sp.node};Ni.defaultProps={onClick:()=>{},children:null};function zc({type:n,placeholder:e,value:t,onChange:r,required:s,minDate:o,children:d,label:p,id:w,error:y}){const T=Z.useId(),_=w||T,I=t??"",N=t||null;return te.jsxs(te.Fragment,{children:[te.jsx(N_,{htmlFor:_,className:"block mb-2 text-sm font-medium text-gray-700",children:p}),n==="select"&&te.jsx(F_,{id:_,required:s,value:I,onChange:r,className:"w-full",children:d}),n==="file"&&te.jsx(R_,{id:_,onChange:r,required:s,className:"w-full"}),n==="date"&&te.jsx(I_,{id:_,value:N,onChange:M=>r({target:{value:M}}),required:s,minDate:o,className:"w-full"}),["select","file","date"].indexOf(n)<0&&te.jsx(Ey,{id:_,type:n,placeholder:e,value:I,onChange:r,required:s,className:"w-full"}),y&&te.jsx("p",{className:"mt-1 text-sm text-red-600",children:y})]})}function W0({show:n,onClose:e,onSubmit:t,mode:r,title:s,fields:o=[],initialData:d={}}){const[p,w]=Z.useState({}),[y,T]=Z.useState(null),[_,I]=Z.useState({}),N=yn.useRef(!1);Z.useEffect(()=>{if(!n){N.current=!1;return}if(!N.current){if(N.current=!0,r==="edit"){const F={};let $=null;o.forEach(ie=>{if(ie.type==="file"){const se=d[ie.key];se instanceof File?(F[ie.key]=se,$=URL.createObjectURL(se)):typeof se=="string"&&se?(F[ie.key]=null,$=se):F[ie.key]=null}else F[ie.key]=d[ie.key]??(ie.required?"":null)}),w(F),T($)}else if(r==="add"){const F=o.reduce(($,ie)=>($[ie.key]="",$),{});w(F),T(null)}I({})}},[r,o,d,n]);const M=(F,$)=>{w(ie=>({...ie,[F]:$}))},P=()=>{const F={};return r!=="delete"&&o.forEach($=>{const ie=p[$.key];$.required&&$.key!=="shelfId"&&(ie===""||ie==null)&&(F[$.key]=`${$.label||$.key} is required`),$.type==="number"&&ie!==""&&ie!=null&&(!isNaN(ie)&&/^-?\d+(\.\d+)?$/.test(ie.toString())||(F[$.key]=`${$.label||$.key} must be a valid number`))}),F},q=()=>{const F=P();if(Object.keys(F).length){I(F);return}if(r==="delete")t();else if(r==="edit"){console.log("payload",{...p,id:d.id});const $={...p,id:d.id};p.photoUrl==null&&delete $.photoUrl,t($)}else t(p);e()},j=r==="delete",K=j?`Delete ${s}`:`${r==="edit"?"Edit":"Add"} ${s}`;return te.jsx(kO,{show:n,onClose:e,header:K,footer:te.jsx(Ni,{onClick:q,action:"submit",children:j?"Delete":r==="edit"?"Save":"Add"}),children:j?te.jsxs("p",{className:"text-center",children:["Are you sure you want to delete this ",s,"? This action cannot be undone."]}):o.map(F=>{const $=_[F.key];return te.jsxs("div",{className:"mb-4",children:[F.type==="file"&&te.jsxs(te.Fragment,{children:[te.jsx(zc,{id:F.key,type:"file",accept:"image/*",onChange:ie=>{const se=ie.target.files[0];M(F.key,se),T(URL.createObjectURL(se))},label:F.label,error:$}),y&&te.jsx("img",{src:y,alt:"Preview",className:"mt-2 h-32 w-full object-cover rounded-lg"})]}),F.type==="select"&&(()=>{var G;const ie=F.options||[],V={id:"",name:`-- No ${F.label||F.key} --`},L=((G=F.value)==null?void 0:G.id)??p[F.key]??"",O=ie.find(H=>H.id===L)||null,W=ie.filter(H=>H.id!==(O==null?void 0:O.id));let X=[];return r==="add"?L?X=[O,...W,V]:X=[V,...W]:L?X=[O,...W,V]:X=[V,...W],te.jsx(zc,{id:F.key,type:"select",value:L,onChange:H=>M(F.key,H.target.value),label:F.label,error:$,children:X.map(H=>H?te.jsx("option",{value:H.id,children:H.name},H.id):null)})})(),F.type==="date"&&(()=>{const ie=p[F.key]||null;let se=null;if(ie){if(typeof ie=="string"){const L=ie.includes(".")?ie.split("."):ie.split("/");if(L.length===3){const[O,W,X]=L.map(Number);se=new Date(X,W-1,O)}else se=new Date(ie)}else ie instanceof Date&&(se=ie);se&&isNaN(se.getTime())&&(se=null)}let V;if(F.key==="freezingDate")V=new Date;else if(F.key==="expirationDate"){const L=p.freezingDate;if(L)if(typeof L=="string"){const O=L.includes(".")?L.split("."):L.split("/");if(O.length===3){const[W,X,G]=O.map(Number);V=new Date(G,X-1,W)}else V=new Date(L)}else L instanceof Date?V=L:V=new Date;else V=new Date}else V=new Date;return te.jsx(zc,{id:F.key,type:F.type,required:F.required,value:se,onChange:L=>M(F.key,L.target.value),label:F.label,error:$,minDate:V})})(),F.type!=="file"&&F.type!=="select"&&F.type!=="date"&&te.jsx(zc,{id:F.key,type:F.type,placeholder:F.placeholder,required:F.required,value:p[F.key]||"",onChange:ie=>M(F.key,ie.target.value),label:F.label,error:$})]},F.key)})})}function kO({show:n,onClose:e,header:t,children:r,footer:s}){return te.jsxs(G0,{show:n,onClose:e,children:[te.jsx(Y0,{children:t}),te.jsx(q0,{children:r}),te.jsx(V_,{children:s})]})}function PO({show:n,onClose:e,scanError:t,scanResult:r,qrContainerId:s}){return te.jsxs(G0,{show:n,size:"md",popup:!0,onClose:e,children:[te.jsx(Y0,{}),te.jsx(q0,{children:te.jsxs("div",{className:"space-y-4 text-center",children:[te.jsx("h3",{className:"text-xl font-medium text-white-900",children:"Scan QR Code"}),t&&te.jsxs("p",{className:"text-sm text-red-600",children:["Error: ",t]}),te.jsx("div",{id:s,className:"w-full"}),r&&te.jsxs("p",{className:"text-sm text-green-700",children:["Scanned: ",te.jsx("strong",{children:r})]}),te.jsx($s,{color:"gray",onClick:e,children:"Cancel"})]})})]})}function X0(){return te.jsxs(D_,{fluid:!0,rounded:!0,className:"bg-white shadow-sm",children:[te.jsxs(O_,{href:"/",children:[te.jsx(H_,{className:"mr-3 h-6 w-6 text-blue-600"}),te.jsx("span",{className:"self-center whitespace-nowrap text-xl font-semibold text-white",children:"Freezer Manager"})]}),te.jsxs("div",{className:"flex md:order-2 gap-2",children:[te.jsx($s,{color:"light",size:"sm",href:"/login",children:"Login"}),te.jsx($s,{color:"blue",size:"sm",href:"/signup",children:"Sign Up"}),te.jsx(L_,{})]}),te.jsxs(k_,{children:[te.jsxs(Im,{href:"/",className:"flex items-center gap-2",children:[te.jsx(CO,{className:"h-4 w-4"}),"Home"]}),te.jsxs(Im,{href:"/dashboard",className:"flex items-center gap-2",children:[te.jsx(RO,{className:"h-4 w-4"}),"Dashboard"]})]})]})}function LO(){return te.jsxs(te.Fragment,{children:[te.jsx(X0,{}),te.jsxs("div",{className:"min-h-screen bg-gray-900",children:[te.jsx("section",{className:"bg-gray-900 pt-20 pb-16 w-full",children:te.jsx("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:te.jsxs("div",{className:"text-center",children:[te.jsx("div",{className:"flex justify-center mb-8",children:te.jsx(H_,{className:"h-20 w-20 text-blue-600"})}),te.jsx("h1",{className:"mb-6 text-4xl font-extrabold tracking-tight leading-none text-white md:text-5xl lg:text-6xl",children:"Freezer Manager"}),te.jsx("p",{className:"mb-10 text-lg font-normal text-gray-300 lg:text-xl max-w-3xl mx-auto leading-relaxed",children:"Keep track of your frozen inventory with ease. Manage stock, and never lose track of your frozen goods again."}),te.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4",children:[te.jsx($s,{size:"xl",href:"/signup",className:"px-8 py-3",children:"Get Started"}),te.jsx($s,{color:"light",size:"xl",href:"/dashboard",className:"px-8 py-3",children:"View Dashboard"})]})]})})}),te.jsx("section",{className:"py-16 w-full",children:te.jsxs("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:[te.jsxs("div",{className:"text-center mb-16",children:[te.jsx("h2",{className:"mb-4 text-3xl font-extrabold text-white lg:text-4xl",children:"Why Choose Freezer Manager?"}),te.jsx("p",{className:"text-gray-300 text-xl max-w-2xl mx-auto",children:"Everything you need to manage your freezer inventory efficiently"})]}),te.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[te.jsxs(qc,{className:"text-center p-8 border-0 shadow-lg bg-white",children:[te.jsx("div",{className:"flex justify-center mb-6",children:te.jsx(_O,{className:"h-12 w-12 text-blue-600"})}),te.jsx("h3",{className:"mb-4 text-xl font-bold text-white",children:"Real-time Monitoring"}),te.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Monitor expiration dates of all your products in real-time with alerts."})]}),te.jsxs(qc,{className:"text-center p-8 border-0 shadow-lg bg-white",children:[te.jsx("div",{className:"flex justify-center mb-6",children:te.jsx(IO,{className:"h-12 w-12 text-green-600"})}),te.jsx("h3",{className:"mb-4 text-xl font-bold text-white",children:"Smart Alerts"}),te.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Use QR-Codes for products easy and efficient product management."})]}),te.jsxs(qc,{className:"text-center p-8 border-0 shadow-lg bg-white",children:[te.jsx("div",{className:"flex justify-center mb-6",children:te.jsx(SO,{className:"h-12 w-12 text-purple-600"})}),te.jsx("h3",{className:"mb-4 text-xl font-bold text-white",children:"Inventory Tracking"}),te.jsx("p",{className:"text-gray-500 leading-relaxed",children:"Keep detailed records of what's in each freezer with expiration dates and stock levels."})]})]})]})}),te.jsx("section",{className:"bg-gray-900 py-16 w-full",children:te.jsx("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:te.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[te.jsx("h2",{className:"mb-6 text-3xl font-extrabold leading-tight text-white lg:text-4xl",children:"Start managing your freezers today"}),te.jsx("p",{className:"mb-8 font-light text-gray-300 text-lg leading-relaxed",children:"Join thousands of users who trust Freezer Manager to keep their inventory organized and safe."}),te.jsx($s,{size:"xl",href:"/signup",className:"px-10 py-3",children:"Create Free Account"})]})})})]})]})}const BO=()=>{};var Ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},VO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],d=n[t++],p=n[t++],w=((s&7)<<18|(o&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(w>>10)),e[r++]=String.fromCharCode(56320+(w&1023))}else{const o=n[t++],d=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|d&63)}}return e.join("")},q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],d=s+1<n.length,p=d?n[s+1]:0,w=s+2<n.length,y=w?n[s+2]:0,T=o>>2,_=(o&3)<<4|p>>4;let I=(p&15)<<2|y>>6,N=y&63;w||(N=64,d||(I=64)),r.push(t[T],t[_],t[I],t[N])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(G_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):VO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],p=s<n.length?t[n.charAt(s)]:0;++s;const y=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||p==null||y==null||_==null)throw new UO;const I=o<<2|p>>4;if(r.push(I),y!==64){const N=p<<4&240|y>>2;if(r.push(N),_!==64){const M=y<<6&192|_;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class UO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FO=function(n){const e=G_(n);return q_.encodeByteArray(e,!0)},s0=function(n){return FO(n).replace(/\./g,"")},Y_=function(n){try{return q_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=()=>zO().__FIREBASE_DEFAULTS__,HO=()=>{if(typeof process>"u"||typeof Ab>"u")return;const n=Ab.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Y_(n[1]);return e&&JSON.parse(e)},K0=()=>{try{return BO()||jO()||HO()||GO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},W_=n=>{var e,t;return(t=(e=K0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qO=n=>{const e=W_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},X_=()=>{var n;return(n=K0())===null||n===void 0?void 0:n.config},K_=n=>{var e;return(e=K0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[s0(JSON.stringify(t)),s0(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ui())}function KO(){var n;const e=(n=K0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JO(){const n=ui();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function e8(){return!KO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t8(){try{return typeof indexedDB=="object"}catch{return!1}}function n8(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8="FirebaseError";class Ka extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=r8,Object.setPrototypeOf(this,Ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],d=o?i8(o,r):"Error",p=`${this.serviceName}: ${d} (${s}).`;return new Ka(s,p,r)}}function i8(n,e){return n.replace(s8,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const s8=/\{\$([^}]+)}/g;function a8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ol(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],d=e[s];if(_b(o)&&_b(d)){if(!Ol(o,d))return!1}else if(o!==d)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function _b(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Ef(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function o8(n,e){const t=new l8(n,e);return t.subscribe.bind(t)}class l8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");c8(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Cp),s.error===void 0&&(s.error=Cp),s.complete===void 0&&(s.complete=Cp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c8(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(n){return n&&n._delegate?n._delegate:n}class kl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d8(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(o);r===p&&d.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const d=this.instances.get(s);return d&&e(d,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f8(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f8(n){return n===Nl?void 0:n}function d8(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new u8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Gt||(Gt={}));const g8={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},p8=Gt.INFO,m8={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},y8=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=m8[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _y{constructor(e){this.name=e,this._logLevel=p8,this._logHandler=y8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...e),this._logHandler(this,Gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...e),this._logHandler(this,Gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...e),this._logHandler(this,Gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...e),this._logHandler(this,Gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...e),this._logHandler(this,Gt.ERROR,...e)}}const w8=(n,e)=>e.some(t=>n instanceof t);let Sb,Cb;function x8(){return Sb||(Sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v8(){return Cb||(Cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,Rm=new WeakMap,Z_=new WeakMap,Ip=new WeakMap,Sy=new WeakMap;function b8(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",d)},o=()=>{t(jo(n.result)),s()},d=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&Q_.set(t,n)}).catch(()=>{}),Sy.set(e,n),e}function E8(n){if(Rm.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",d),n.removeEventListener("abort",d)},o=()=>{t(),s()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",d),n.addEventListener("abort",d)});Rm.set(n,e)}let Nm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Z_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return jo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function T8(n){Nm=n(Nm)}function A8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rp(this),e,...t);return Z_.set(r,e.sort?e.sort():[e]),jo(r)}:v8().includes(n)?function(...e){return n.apply(Rp(this),e),jo(Q_.get(this))}:function(...e){return jo(n.apply(Rp(this),e))}}function _8(n){return typeof n=="function"?A8(n):(n instanceof IDBTransaction&&E8(n),w8(n,x8())?new Proxy(n,Nm):n)}function jo(n){if(n instanceof IDBRequest)return b8(n);if(Ip.has(n))return Ip.get(n);const e=_8(n);return e!==n&&(Ip.set(n,e),Sy.set(e,n)),e}const Rp=n=>Sy.get(n);function S8(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const d=indexedDB.open(n,e),p=jo(d);return r&&d.addEventListener("upgradeneeded",w=>{r(jo(d.result),w.oldVersion,w.newVersion,jo(d.transaction),w)}),t&&d.addEventListener("blocked",w=>t(w.oldVersion,w.newVersion,w)),p.then(w=>{o&&w.addEventListener("close",()=>o()),s&&w.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const C8=["get","getKey","getAll","getAllKeys","count"],I8=["put","add","delete","clear"],Np=new Map;function Ib(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=I8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||C8.includes(t)))return;const o=async function(d,...p){const w=this.transaction(d,s?"readwrite":"readonly");let y=w.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),s&&w.done]))[0]};return Np.set(e,o),o}T8(n=>({...n,get:(e,t,r)=>Ib(e,t)||n.get(e,t,r),has:(e,t)=>!!Ib(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(N8(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function N8(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",Rb="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new _y("@firebase/app"),M8="@firebase/app-compat",D8="@firebase/analytics-compat",O8="@firebase/analytics",k8="@firebase/app-check-compat",P8="@firebase/app-check",L8="@firebase/auth",B8="@firebase/auth-compat",V8="@firebase/database",U8="@firebase/data-connect",F8="@firebase/database-compat",z8="@firebase/functions",j8="@firebase/functions-compat",H8="@firebase/installations",G8="@firebase/installations-compat",q8="@firebase/messaging",Y8="@firebase/messaging-compat",W8="@firebase/performance",X8="@firebase/performance-compat",K8="@firebase/remote-config",Q8="@firebase/remote-config-compat",Z8="@firebase/storage",$8="@firebase/storage-compat",J8="@firebase/firestore",e6="@firebase/vertexai",t6="@firebase/firestore-compat",n6="firebase",r6="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",i6={[Mm]:"fire-core",[M8]:"fire-core-compat",[O8]:"fire-analytics",[D8]:"fire-analytics-compat",[P8]:"fire-app-check",[k8]:"fire-app-check-compat",[L8]:"fire-auth",[B8]:"fire-auth-compat",[V8]:"fire-rtdb",[U8]:"fire-data-connect",[F8]:"fire-rtdb-compat",[z8]:"fire-fn",[j8]:"fire-fn-compat",[H8]:"fire-iid",[G8]:"fire-iid-compat",[q8]:"fire-fcm",[Y8]:"fire-fcm-compat",[W8]:"fire-perf",[X8]:"fire-perf-compat",[K8]:"fire-rc",[Q8]:"fire-rc-compat",[Z8]:"fire-gcs",[$8]:"fire-gcs-compat",[J8]:"fire-fst",[t6]:"fire-fst-compat",[e6]:"fire-vertex","fire-js":"fire-js",[n6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new Map,s6=new Map,Om=new Map;function Nb(n,e){try{n.container.addComponent(e)}catch(t){ja.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ru(n){const e=n.name;if(Om.has(e))return ja.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,n);for(const t of a0.values())Nb(t,n);for(const t of s6.values())Nb(t,n);return!0}function Cy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ys(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ho=new rd("app","Firebase",a6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=r6;function $_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ho.create("bad-app-name",{appName:String(s)});if(t||(t=X_()),!t)throw Ho.create("no-options");const o=a0.get(s);if(o){if(Ol(t,o.options)&&Ol(r,o.config))return o;throw Ho.create("duplicate-app",{appName:s})}const d=new h8(s);for(const w of Om.values())d.addComponent(w);const p=new o6(t,r,d);return a0.set(s,p),p}function J_(n=Dm){const e=a0.get(n);if(!e&&n===Dm&&X_())return $_();if(!e)throw Ho.create("no-app",{appName:n});return e}function Go(n,e,t){var r;let s=(r=i6[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),d=e.match(/\s|\//);if(o||d){const p=[`Unable to register library "${s}" with version "${e}":`];o&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ja.warn(p.join(" "));return}ru(new kl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="firebase-heartbeat-database",c6=1,zf="firebase-heartbeat-store";let Mp=null;function eS(){return Mp||(Mp=S8(l6,c6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ho.create("idb-open",{originalErrorMessage:n.message})})),Mp}async function u6(n){try{const t=(await eS()).transaction(zf),r=await t.objectStore(zf).get(tS(n));return await t.done,r}catch(e){if(e instanceof Ka)ja.warn(e.message);else{const t=Ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ja.warn(t.message)}}}async function Mb(n,e){try{const r=(await eS()).transaction(zf,"readwrite");await r.objectStore(zf).put(e,tS(n)),await r.done}catch(t){if(t instanceof Ka)ja.warn(t.message);else{const r=Ho.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ja.warn(r.message)}}}function tS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=1024,d6=30;class h6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new p6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Db();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(d=>d.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>d6){const d=m6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ja.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Db(),{heartbeatsToSend:r,unsentEntries:s}=g6(this._heartbeatsCache.heartbeats),o=s0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ja.warn(t),""}}}function Db(){return new Date().toISOString().substring(0,10)}function g6(n,e=f6){const t=[];let r=n.slice();for(const s of n){const o=t.find(d=>d.agent===s.agent);if(o){if(o.dates.push(s.date),Ob(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ob(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class p6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t8()?n8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await u6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Mb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Mb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ob(n){return s0(JSON.stringify({version:2,heartbeats:n})).length}function m6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n){ru(new kl("platform-logger",e=>new R8(e),"PRIVATE")),ru(new kl("heartbeat",e=>new h6(e),"PRIVATE")),Go(Mm,Rb,n),Go(Mm,Rb,"esm2017"),Go("fire-js","")}y6("");var w6="firebase",x6="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go(w6,x6,"app");function Iy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function nS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v6=nS,rS=new rd("auth","Firebase",nS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new _y("@firebase/auth");function b6(n,...e){o0.logLevel<=Gt.WARN&&o0.warn(`Auth (${mu}): ${n}`,...e)}function Uh(n,...e){o0.logLevel<=Gt.ERROR&&o0.error(`Auth (${mu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(n,...e){throw Ry(n,...e)}function ea(n,...e){return Ry(n,...e)}function iS(n,e,t){const r=Object.assign(Object.assign({},v6()),{[e]:t});return new rd("auth","Firebase",r).create(e,{appName:n.name})}function Va(n){return iS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ry(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return rS.create(n,...e)}function gt(n,e,...t){if(!n)throw Ry(e,...t)}function Oa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Uh(e),new Error(e)}function Ha(n,e){n||Oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function E6(){return kb()==="http:"||kb()==="https:"}function kb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E6()||ZO()||"connection"in navigator)?navigator.onLine:!0}function A6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ha(t>e,"Short delay should be less than long delay!"),this.isMobile=XO()||$O()}get(){return T6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n,e){Ha(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C6=new sd(3e4,6e4);function rl(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function il(n,e,t,r,s={}){return aS(n,s,async()=>{let o={},d={};r&&(e==="GET"?d=r:o={body:JSON.stringify(r)});const p=id(Object.assign({key:n.config.apiKey},d)).slice(1),w=await n._getAdditionalHeaders();w["Content-Type"]="application/json",n.languageCode&&(w["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:w},o);return QO()||(y.referrerPolicy="no-referrer"),sS.fetch()(await oS(n,n.config.apiHost,t,p),y)})}async function aS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},_6),e);try{const s=new R6(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const d=await o.json();if("needConfirmation"in d)throw _h(n,"account-exists-with-different-credential",d);if(o.ok&&!("errorMessage"in d))return d;{const p=o.ok?d.errorMessage:d.error.message,[w,y]=p.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(n,"credential-already-in-use",d);if(w==="EMAIL_EXISTS")throw _h(n,"email-already-in-use",d);if(w==="USER_DISABLED")throw _h(n,"user-disabled",d);const T=r[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw iS(n,T,y);ks(n,T)}}catch(s){if(s instanceof Ka)throw s;ks(n,"network-request-failed",{message:String(s)})}}async function ad(n,e,t,r,s={}){const o=await il(n,e,t,r,s);return"mfaPendingCredential"in o&&ks(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function oS(n,e,t,r){const s=`${e}${t}?${r}`,o=n,d=o.config.emulator?Ny(n.config,s):`${n.config.apiScheme}://${s}`;return S6.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(d).toString():d}function I6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ea(this.auth,"network-request-failed")),C6.get())})}}function _h(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ea(n,e,r);return s.customData._tokenResponse=t,s}function Pb(n){return n!==void 0&&n.enterprise!==void 0}class N6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return I6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M6(n,e){return il(n,"GET","/v2/recaptchaConfig",rl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(n,e){return il(n,"POST","/v1/accounts:delete",e)}async function l0(n,e){return il(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O6(n,e=!1){const t=Qr(n),r=await t.getIdToken(e),s=My(r);gt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,d=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Nf(Dp(s.auth_time)),issuedAtTime:Nf(Dp(s.iat)),expirationTime:Nf(Dp(s.exp)),signInProvider:d||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Dp(n){return Number(n)*1e3}function My(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Y_(t);return s?JSON.parse(s):(Uh("Failed to decode base64 JWT payload"),null)}catch(s){return Uh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Lb(n){const e=My(n);return gt(e,"internal-error"),gt(typeof e.exp<"u","internal-error"),gt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ka&&k6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function k6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nf(this.lastLoginAt),this.creationTime=Nf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0(n){var e;const t=n.auth,r=await n.getIdToken(),s=await jf(n,l0(t,{idToken:r}));gt(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const d=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?lS(o.providerUserInfo):[],p=B6(n.providerData,d),w=n.isAnonymous,y=!(n.email&&o.passwordHash)&&!(p!=null&&p.length),T=w?y:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:p,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:T};Object.assign(n,_)}async function L6(n){const e=Qr(n);await c0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B6(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lS(n){return n.map(e=>{var{providerId:t}=e,r=Iy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(n,e){const t=await aS(n,{},async()=>{const r=id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,d=await oS(n,s,"/v1/token",`key=${o}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",sS.fetch()(d,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function U6(n,e){return il(n,"POST","/v2/accounts:revokeToken",rl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gt(e.idToken,"internal-error"),gt(typeof e.idToken<"u","internal-error"),gt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){gt(e.length!==0,"internal-error");const t=Lb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await V6(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,d=new Xc;return r&&(gt(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),s&&(gt(typeof s=="string","internal-error",{appName:e}),d.accessToken=s),o&&(gt(typeof o=="number","internal-error",{appName:e}),d.expirationTime=o),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return Oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(n,e){gt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ms{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await jf(this,this.stsTokenManager.getToken(this.auth,e));return gt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return O6(this,e)}reload(){return L6(this)}_assign(e){this!==e&&(gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await c0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ys(this.auth.app))return Promise.reject(Va(this.auth));const e=await this.getIdToken();return await jf(this,D6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,d,p,w,y,T;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(s=t.email)!==null&&s!==void 0?s:void 0,N=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(d=t.photoURL)!==null&&d!==void 0?d:void 0,P=(p=t.tenantId)!==null&&p!==void 0?p:void 0,q=(w=t._redirectEventId)!==null&&w!==void 0?w:void 0,j=(y=t.createdAt)!==null&&y!==void 0?y:void 0,K=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:F,emailVerified:$,isAnonymous:ie,providerData:se,stsTokenManager:V}=t;gt(F&&V,e,"internal-error");const L=Xc.fromJSON(this.name,V);gt(typeof F=="string",e,"internal-error"),Oo(_,e.name),Oo(I,e.name),gt(typeof $=="boolean",e,"internal-error"),gt(typeof ie=="boolean",e,"internal-error"),Oo(N,e.name),Oo(M,e.name),Oo(P,e.name),Oo(q,e.name),Oo(j,e.name),Oo(K,e.name);const O=new Ms({uid:F,auth:e,email:I,emailVerified:$,displayName:_,isAnonymous:ie,photoURL:M,phoneNumber:N,tenantId:P,stsTokenManager:L,createdAt:j,lastLoginAt:K});return se&&Array.isArray(se)&&(O.providerData=se.map(W=>Object.assign({},W))),q&&(O._redirectEventId=q),O}static async _fromIdTokenResponse(e,t,r=!1){const s=new Xc;s.updateFromServerResponse(t);const o=new Ms({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await c0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];gt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?lS(s.providerUserInfo):[],d=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),p=new Xc;p.updateFromIdToken(r);const w=new Ms({uid:s.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Pm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(w,y),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Map;function ka(n){Ha(n instanceof Function,"Expected a class definition");let e=Bb.get(n);return e?(Ha(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Bb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cS.type="NONE";const Vb=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(n,e,t){return`firebase:${n}:${e}:${t}`}class Kc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Fh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Fh("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await l0(this.auth,{idToken:e}).catch(()=>{});return t?Ms._fromGetAccountInfoResponse(this.auth,t,e):null}return Ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Kc(ka(Vb),e,r);const s=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let o=s[0]||ka(Vb);const d=Fh(r,e.config.apiKey,e.name);let p=null;for(const y of t)try{const T=await y._get(d);if(T){let _;if(typeof T=="string"){const I=await l0(e,{idToken:T}).catch(()=>{});if(!I)break;_=await Ms._fromGetAccountInfoResponse(e,I,T)}else _=Ms._fromJSON(e,T);y!==o&&(p=_),o=y;break}}catch{}const w=s.filter(y=>y._shouldAllowMigration);return!o._shouldAllowMigration||!w.length?new Kc(o,e,r):(o=w[0],p&&await o._set(d,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==o)try{await y._remove(d)}catch{}})),new Kc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pS(e))return"Blackberry";if(mS(e))return"Webos";if(fS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(gS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uS(n=ui()){return/firefox\//i.test(n)}function fS(n=ui()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(n=ui()){return/crios\//i.test(n)}function hS(n=ui()){return/iemobile/i.test(n)}function gS(n=ui()){return/android/i.test(n)}function pS(n=ui()){return/blackberry/i.test(n)}function mS(n=ui()){return/webos/i.test(n)}function Dy(n=ui()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F6(n=ui()){var e;return Dy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z6(){return JO()&&document.documentMode===10}function yS(n=ui()){return Dy(n)||gS(n)||mS(n)||pS(n)||/windows phone/i.test(n)||hS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(n,e=[]){let t;switch(n){case"Browser":t=Ub(ui());break;case"Worker":t=`${Ub(ui())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((d,p)=>{try{const w=e(o);d(w)}catch(w){p(w)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(n,e={}){return il(n,"GET","/v2/passwordPolicy",rl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=6;class q6{constructor(e){var t,r,s,o;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:G6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,d,p;const w={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,w),this.validatePasswordCharacterOptions(e,w),w.isValid&&(w.isValid=(t=w.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),w.isValid&&(w.isValid=(r=w.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),w.isValid&&(w.isValid=(s=w.containsLowercaseLetter)!==null&&s!==void 0?s:!0),w.isValid&&(w.isValid=(o=w.containsUppercaseLetter)!==null&&o!==void 0?o:!0),w.isValid&&(w.isValid=(d=w.containsNumericCharacter)!==null&&d!==void 0?d:!0),w.isValid&&(w.isValid=(p=w.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),w}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fb(this),this.idTokenSubscription=new Fb(this),this.beforeStateQueue=new j6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ka(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Kc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await l0(this,{idToken:e}),r=await Ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ys(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=s==null?void 0:s._redirectEventId,w=await this.tryRedirectSignIn(e);(!d||d===p)&&(w!=null&&w.user)&&(s=w.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await c0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ys(this.app))return Promise.reject(Va(this));const t=e?Qr(e):null;return t&&gt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&gt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ys(this.app)?Promise.reject(Va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ys(this.app)?Promise.reject(Va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ka(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H6(this),t=new q6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await U6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ka(e)||this._popupRedirectResolver;gt(t,this,"argument-error"),this.redirectPersistenceManager=await Kc.create(this,[ka(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||o(this.currentUser)}),typeof t=="function"){const w=e.addObserver(t,r,s);return()=>{d=!0,w()}}else{const w=e.addObserver(t);return()=>{d=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&b6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function jl(n){return Qr(n)}class Fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=o8(t=>this.observer=t)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W6(n){Q0=n}function xS(n){return Q0.loadJS(n)}function X6(){return Q0.recaptchaEnterpriseScript}function K6(){return Q0.gapiScript}function Q6(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Z6{constructor(){this.enterprise=new $6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const J6="recaptcha-enterprise",vS="NO_RECAPTCHA";class e5{constructor(e){this.type=J6,this.auth=jl(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(d,p)=>{M6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(w=>{if(w.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new N6(w);return o.tenantId==null?o._agentRecaptchaConfig=y:o._tenantRecaptchaConfigs[o.tenantId]=y,d(y.siteKey)}}).catch(w=>{p(w)})})}function s(o,d,p){const w=window.grecaptcha;Pb(w)?w.enterprise.ready(()=>{w.enterprise.execute(o,{action:e}).then(y=>{d(y)}).catch(()=>{d(vS)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z6().execute("siteKey",{action:"verify"}):new Promise((o,d)=>{r(this.auth).then(p=>{if(!t&&Pb(window.grecaptcha))s(p,o,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let w=X6();w.length!==0&&(w+=p),xS(w).then(()=>{s(p,o,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function zb(n,e,t,r=!1,s=!1){const o=new e5(n);let d;if(s)d=vS;else try{d=await o.verify(t)}catch{d=await o.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const w=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const w=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:w,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Lm(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await zb(n,e,t,t==="getOobCode");return r(n,d)}else return r(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await zb(n,e,t,t==="getOobCode");return r(n,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(n,e){const t=Cy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Ol(o,e??{}))return s;ks(s,"already-initialized")}return t.initialize({options:e})}function n5(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ka);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function r5(n,e,t){const r=jl(n);gt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=bS(e),{host:d,port:p}=i5(e),w=p===null?"":`:${p}`,y={url:`${o}//${d}${w}/`},T=Object.freeze({host:d,port:p,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){gt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),gt(Ol(y,r.config.emulator)&&Ol(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,s5()}function bS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function i5(n){const e=bS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:jb(r.substr(o.length+1))}}else{const[o,d]=r.split(":");return{host:o,port:jb(d)}}}function jb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function s5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oa("not implemented")}_getIdTokenResponse(e){return Oa("not implemented")}_linkToIdToken(e,t){return Oa("not implemented")}_getReauthenticationResolver(e){return Oa("not implemented")}}async function a5(n,e){return il(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(n,e){return ad(n,"POST","/v1/accounts:signInWithPassword",rl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(n,e){return ad(n,"POST","/v1/accounts:signInWithEmailLink",rl(n,e))}async function c5(n,e){return ad(n,"POST","/v1/accounts:signInWithEmailLink",rl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends Oy{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Hf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,t,"signInWithPassword",o5);case"emailLink":return l5(e,{email:this._email,oobCode:this._password});default:ks(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lm(e,r,"signUpPassword",a5);case"emailLink":return c5(e,{idToken:t,email:this._email,oobCode:this._password});default:ks(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n,e){return ad(n,"POST","/v1/accounts:signInWithIdp",rl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="http://localhost";class Pl extends Oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ks("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Iy(t,["providerId","signInMethod"]);if(!r||!s)return null;const d=new Pl(r,s);return d.idToken=o.idToken||void 0,d.accessToken=o.accessToken||void 0,d.secret=o.secret,d.nonce=o.nonce,d.pendingToken=o.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Qc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Qc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qc(e,t)}buildRequest(){const e={requestUri:u5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=id(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d5(n){const e=bf(Ef(n)).link,t=e?bf(Ef(e)).deep_link_id:null,r=bf(Ef(n)).deep_link_id;return(r?bf(Ef(r)).link:null)||r||t||e||n}class ky{constructor(e){var t,r,s,o,d,p;const w=bf(Ef(e)),y=(t=w.apiKey)!==null&&t!==void 0?t:null,T=(r=w.oobCode)!==null&&r!==void 0?r:null,_=f5((s=w.mode)!==null&&s!==void 0?s:null);gt(y&&T&&_,"argument-error"),this.apiKey=y,this.operation=_,this.code=T,this.continueUrl=(o=w.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(d=w.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(p=w.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=d5(e);try{return new ky(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.providerId=yu.PROVIDER_ID}static credential(e,t){return Hf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ky.parseLink(t);return gt(r,"argument-error"),Hf._fromEmailAndCode(e,r.code,r.tenantId)}}yu.PROVIDER_ID="password";yu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends od{constructor(){super("facebook.com")}static credential(e){return Pl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Bo.credential(t,r)}catch{return null}}}Bo.GOOGLE_SIGN_IN_METHOD="google.com";Bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends od{constructor(){super("github.com")}static credential(e){return Pl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.GITHUB_SIGN_IN_METHOD="github.com";Vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends od{constructor(){super("twitter.com")}static credential(e,t){return Pl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Uo.credential(t,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(n,e){return ad(n,"POST","/v1/accounts:signUp",rl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Ms._fromIdTokenResponse(e,r,s),d=Hb(r);return new Ll({user:o,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Hb(r);return new Ll({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Hb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends Ka{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,u0.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new u0(e,t,r,s)}}function TS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?u0._fromErrorAndOperation(n,o,e,r):o})}async function g5(n,e,t=!1){const r=await jf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ll._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p5(n,e,t=!1){const{auth:r}=n;if(ys(r.app))return Promise.reject(Va(r));const s="reauthenticate";try{const o=await jf(n,TS(r,s,e,n),t);gt(o.idToken,r,"internal-error");const d=My(o.idToken);gt(d,r,"internal-error");const{sub:p}=d;return gt(n.uid===p,r,"user-mismatch"),Ll._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ks(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(n,e,t=!1){if(ys(n.app))return Promise.reject(Va(n));const r="signIn",s=await TS(n,r,e),o=await Ll._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function m5(n,e){return AS(jl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(n){const e=jl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function y5(n,e,t){if(ys(n.app))return Promise.reject(Va(n));const r=jl(n),d=await Lm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h5).catch(w=>{throw w.code==="auth/password-does-not-meet-requirements"&&_S(n),w}),p=await Ll._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function w5(n,e,t){return ys(n.app)?Promise.reject(Va(n)):m5(Qr(n),yu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_S(n),r})}function x5(n,e,t,r){return Qr(n).onIdTokenChanged(e,t,r)}function v5(n,e,t){return Qr(n).beforeAuthStateChanged(e,t)}function b5(n,e,t,r){return Qr(n).onAuthStateChanged(e,t,r)}const f0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(f0,"1"),this.storage.removeItem(f0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=1e3,T5=10;class CS extends SS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,w)=>{this.notifyListeners(d,w)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},o=this.storage.getItem(r);z6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,T5):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},E5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}CS.type="LOCAL";const A5=CS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS extends SS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IS.type="SESSION";const RS=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Z0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,d=this.handlersMap[s];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const p=Array.from(d).map(async y=>y(t.origin,o)),w=await _5(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:w})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Z0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,d;return new Promise((p,w)=>{const y=Py("",20);s.port1.start();const T=setTimeout(()=>{w(new Error("unsupported_event"))},r);d={messageChannel:s,onMessage(_){const I=_;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(T),o=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),p(I.data.response);break;default:clearTimeout(T),clearTimeout(o),w(new Error("invalid_response"));break}}},this.handlers.add(d),s.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(){return window}function C5(n){ta().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){return typeof ta().WorkerGlobalScope<"u"&&typeof ta().importScripts=="function"}async function I5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R5(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function N5(){return NS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="firebaseLocalStorageDb",M5=1,d0="firebaseLocalStorage",DS="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $0(n,e){return n.transaction([d0],e?"readwrite":"readonly").objectStore(d0)}function D5(){const n=indexedDB.deleteDatabase(MS);return new ld(n).toPromise()}function Bm(){const n=indexedDB.open(MS,M5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(d0,{keyPath:DS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(d0)?e(r):(r.close(),await D5(),e(await Bm()))})})}async function Gb(n,e,t){const r=$0(n,!0).put({[DS]:e,value:t});return new ld(r).toPromise()}async function O5(n,e){const t=$0(n,!1).get(e),r=await new ld(t).toPromise();return r===void 0?null:r.value}function qb(n,e){const t=$0(n,!0).delete(e);return new ld(t).toPromise()}const k5=800,P5=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>P5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Z0._getInstance(N5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await I5(),!this.activeServiceWorker)return;this.sender=new S5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await Gb(e,f0,"1"),await qb(e,f0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>O5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=$0(s,!1).getAll();return new ld(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const L5=OS;new sd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(n,e){return e?ka(e):(gt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends Oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function V5(n){return AS(n.auth,new Ly(n),n.bypassAuthState)}function U5(n){const{auth:e,user:t}=n;return gt(t,e,"internal-error"),p5(t,new Ly(n),n.bypassAuthState)}async function F5(n){const{auth:e,user:t}=n;return gt(t,e,"internal-error"),g5(t,new Ly(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:d,type:p}=e;if(d){this.reject(d);return}const w={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(w))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V5;case"linkViaPopup":case"linkViaRedirect":return F5;case"reauthViaPopup":case"reauthViaRedirect":return U5;default:ks(this.auth,"internal-error")}}resolve(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=new sd(2e3,1e4);class jc extends kS{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,jc.currentPopupAction&&jc.currentPopupAction.cancel(),jc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gt(e,this.auth,"internal-error"),e}async onExecution(){Ha(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ea(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ea(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ea(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z5.get())};e()}}jc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="pendingRedirect",zh=new Map;class H5 extends kS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const r=await G5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G5(n,e){const t=W5(e),r=Y5(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function q5(n,e){zh.set(n._key(),e)}function Y5(n){return ka(n._redirectPersistence)}function W5(n){return Fh(j5,n.config.apiKey,n.name)}async function X5(n,e,t=!1){if(ys(n.app))return Promise.reject(Va(n));const r=jl(n),s=B5(r,e),d=await new H5(r,s,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=10*60*1e3;class Q5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!PS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ea(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yb(e))}saveEventToCache(e){this.cachedEventUids.add(Yb(e)),this.lastProcessedEventTime=Date.now()}}function Yb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Z5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(n,e={}){return il(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ek=/^https?/;async function tk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await $5(n);for(const t of e)try{if(nk(t))return}catch{}ks(n,"unauthorized-domain")}function nk(n){const e=km(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!ek.test(t))return!1;if(J5.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new sd(3e4,6e4);function Wb(){const n=ta().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ik(n){return new Promise((e,t)=>{var r,s,o;function d(){Wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wb(),t(ea(n,"network-request-failed"))},timeout:rk.get()})}if(!((s=(r=ta().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ta().gapi)===null||o===void 0)&&o.load)d();else{const p=Q6("iframefcb");return ta()[p]=()=>{gapi.load?d():t(ea(n,"network-request-failed"))},xS(`${K6()}?onload=${p}`).catch(w=>t(w))}}).catch(e=>{throw jh=null,e})}let jh=null;function sk(n){return jh=jh||ik(n),jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new sd(5e3,15e3),ok="__/auth/iframe",lk="emulator/auth/iframe",ck={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fk(n){const e=n.config;gt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ny(e,lk):`https://${n.config.authDomain}/${ok}`,r={apiKey:e.apiKey,appName:n.name,v:mu},s=uk.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${id(r).slice(1)}`}async function dk(n){const e=await sk(n),t=ta().gapi;return gt(t,n,"internal-error"),e.open({where:document.body,url:fk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ck,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const d=ea(n,"network-request-failed"),p=ta().setTimeout(()=>{o(d)},ak.get());function w(){ta().clearTimeout(p),s(r)}r.ping(w).then(w,()=>{o(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gk=500,pk=600,mk="_blank",yk="http://localhost";class Xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wk(n,e,t,r=gk,s=pk){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const w=Object.assign(Object.assign({},hk),{width:r.toString(),height:s.toString(),top:o,left:d}),y=ui().toLowerCase();t&&(p=dS(y)?mk:t),uS(y)&&(e=e||yk,w.scrollbars="yes");const T=Object.entries(w).reduce((I,[N,M])=>`${I}${N}=${M},`,"");if(F6(y)&&p!=="_self")return xk(e||"",p),new Xb(null);const _=window.open(e||"",p,T);gt(_,n,"popup-blocked");try{_.focus()}catch{}return new Xb(_)}function xk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="__/auth/handler",bk="emulator/auth/handler",Ek=encodeURIComponent("fac");async function Kb(n,e,t,r,s,o){gt(n.config.authDomain,n,"auth-domain-config-required"),gt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mu,eventId:s};if(e instanceof ES){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",a8(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,_]of Object.entries({}))d[T]=_}if(e instanceof od){const T=e.getScopes().filter(_=>_!=="");T.length>0&&(d.scopes=T.join(","))}n.tenantId&&(d.tid=n.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const w=await n._getAppCheckToken(),y=w?`#${Ek}=${encodeURIComponent(w)}`:"";return`${Tk(n)}?${id(p).slice(1)}${y}`}function Tk({config:n}){return n.emulator?Ny(n,bk):`https://${n.authDomain}/${vk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class Ak{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RS,this._completeRedirectFn=X5,this._overrideRedirectResult=q5}async _openPopup(e,t,r,s){var o;Ha((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const d=await Kb(e,t,r,km(),s);return wk(e,d,Py())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Kb(e,t,r,km(),s);return C5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ha(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await dk(e),r=new Q5(e);return t.register("authEvent",s=>(gt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},s=>{var o;const d=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Op];d!==void 0&&t(!!d),ks(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yS()||fS()||Dy()}}const _k=Ak;var Qb="@firebase/auth",Zb="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ik(n){ru(new kl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const w={apiKey:d,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wS(n)},y=new Y6(r,s,o,w);return n5(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ru(new kl("auth-internal",e=>{const t=jl(e.getProvider("auth").getImmediate());return(r=>new Sk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Go(Qb,Zb,Ck(n)),Go(Qb,Zb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=5*60,Nk=K_("authIdTokenMaxAge")||Rk;let $b=null;const Mk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Nk)return;const s=t==null?void 0:t.token;$b!==s&&($b=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Dk(n=J_()){const e=Cy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=t5(n,{popupRedirectResolver:_k,persistence:[L5,A5,RS]}),r=K_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const d=Mk(o.toString());v5(t,d,()=>d(t.currentUser)),x5(t,p=>d(p))}}const s=W_("auth");return s&&r5(t,`http://${s}`),t}function Ok(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}W6({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=ea("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",Ok().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ik("Browser");var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qo,LS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,L){function O(){}O.prototype=L.prototype,V.D=L.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(W,X,G){for(var H=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)H[_e-2]=arguments[_e];return L.prototype[X].apply(W,H)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,L,O){O||(O=0);var W=Array(16);if(typeof L=="string")for(var X=0;16>X;++X)W[X]=L.charCodeAt(O++)|L.charCodeAt(O++)<<8|L.charCodeAt(O++)<<16|L.charCodeAt(O++)<<24;else for(X=0;16>X;++X)W[X]=L[O++]|L[O++]<<8|L[O++]<<16|L[O++]<<24;L=V.g[0],O=V.g[1],X=V.g[2];var G=V.g[3],H=L+(G^O&(X^G))+W[0]+3614090360&4294967295;L=O+(H<<7&4294967295|H>>>25),H=G+(X^L&(O^X))+W[1]+3905402710&4294967295,G=L+(H<<12&4294967295|H>>>20),H=X+(O^G&(L^O))+W[2]+606105819&4294967295,X=G+(H<<17&4294967295|H>>>15),H=O+(L^X&(G^L))+W[3]+3250441966&4294967295,O=X+(H<<22&4294967295|H>>>10),H=L+(G^O&(X^G))+W[4]+4118548399&4294967295,L=O+(H<<7&4294967295|H>>>25),H=G+(X^L&(O^X))+W[5]+1200080426&4294967295,G=L+(H<<12&4294967295|H>>>20),H=X+(O^G&(L^O))+W[6]+2821735955&4294967295,X=G+(H<<17&4294967295|H>>>15),H=O+(L^X&(G^L))+W[7]+4249261313&4294967295,O=X+(H<<22&4294967295|H>>>10),H=L+(G^O&(X^G))+W[8]+1770035416&4294967295,L=O+(H<<7&4294967295|H>>>25),H=G+(X^L&(O^X))+W[9]+2336552879&4294967295,G=L+(H<<12&4294967295|H>>>20),H=X+(O^G&(L^O))+W[10]+4294925233&4294967295,X=G+(H<<17&4294967295|H>>>15),H=O+(L^X&(G^L))+W[11]+2304563134&4294967295,O=X+(H<<22&4294967295|H>>>10),H=L+(G^O&(X^G))+W[12]+1804603682&4294967295,L=O+(H<<7&4294967295|H>>>25),H=G+(X^L&(O^X))+W[13]+4254626195&4294967295,G=L+(H<<12&4294967295|H>>>20),H=X+(O^G&(L^O))+W[14]+2792965006&4294967295,X=G+(H<<17&4294967295|H>>>15),H=O+(L^X&(G^L))+W[15]+1236535329&4294967295,O=X+(H<<22&4294967295|H>>>10),H=L+(X^G&(O^X))+W[1]+4129170786&4294967295,L=O+(H<<5&4294967295|H>>>27),H=G+(O^X&(L^O))+W[6]+3225465664&4294967295,G=L+(H<<9&4294967295|H>>>23),H=X+(L^O&(G^L))+W[11]+643717713&4294967295,X=G+(H<<14&4294967295|H>>>18),H=O+(G^L&(X^G))+W[0]+3921069994&4294967295,O=X+(H<<20&4294967295|H>>>12),H=L+(X^G&(O^X))+W[5]+3593408605&4294967295,L=O+(H<<5&4294967295|H>>>27),H=G+(O^X&(L^O))+W[10]+38016083&4294967295,G=L+(H<<9&4294967295|H>>>23),H=X+(L^O&(G^L))+W[15]+3634488961&4294967295,X=G+(H<<14&4294967295|H>>>18),H=O+(G^L&(X^G))+W[4]+3889429448&4294967295,O=X+(H<<20&4294967295|H>>>12),H=L+(X^G&(O^X))+W[9]+568446438&4294967295,L=O+(H<<5&4294967295|H>>>27),H=G+(O^X&(L^O))+W[14]+3275163606&4294967295,G=L+(H<<9&4294967295|H>>>23),H=X+(L^O&(G^L))+W[3]+4107603335&4294967295,X=G+(H<<14&4294967295|H>>>18),H=O+(G^L&(X^G))+W[8]+1163531501&4294967295,O=X+(H<<20&4294967295|H>>>12),H=L+(X^G&(O^X))+W[13]+2850285829&4294967295,L=O+(H<<5&4294967295|H>>>27),H=G+(O^X&(L^O))+W[2]+4243563512&4294967295,G=L+(H<<9&4294967295|H>>>23),H=X+(L^O&(G^L))+W[7]+1735328473&4294967295,X=G+(H<<14&4294967295|H>>>18),H=O+(G^L&(X^G))+W[12]+2368359562&4294967295,O=X+(H<<20&4294967295|H>>>12),H=L+(O^X^G)+W[5]+4294588738&4294967295,L=O+(H<<4&4294967295|H>>>28),H=G+(L^O^X)+W[8]+2272392833&4294967295,G=L+(H<<11&4294967295|H>>>21),H=X+(G^L^O)+W[11]+1839030562&4294967295,X=G+(H<<16&4294967295|H>>>16),H=O+(X^G^L)+W[14]+4259657740&4294967295,O=X+(H<<23&4294967295|H>>>9),H=L+(O^X^G)+W[1]+2763975236&4294967295,L=O+(H<<4&4294967295|H>>>28),H=G+(L^O^X)+W[4]+1272893353&4294967295,G=L+(H<<11&4294967295|H>>>21),H=X+(G^L^O)+W[7]+4139469664&4294967295,X=G+(H<<16&4294967295|H>>>16),H=O+(X^G^L)+W[10]+3200236656&4294967295,O=X+(H<<23&4294967295|H>>>9),H=L+(O^X^G)+W[13]+681279174&4294967295,L=O+(H<<4&4294967295|H>>>28),H=G+(L^O^X)+W[0]+3936430074&4294967295,G=L+(H<<11&4294967295|H>>>21),H=X+(G^L^O)+W[3]+3572445317&4294967295,X=G+(H<<16&4294967295|H>>>16),H=O+(X^G^L)+W[6]+76029189&4294967295,O=X+(H<<23&4294967295|H>>>9),H=L+(O^X^G)+W[9]+3654602809&4294967295,L=O+(H<<4&4294967295|H>>>28),H=G+(L^O^X)+W[12]+3873151461&4294967295,G=L+(H<<11&4294967295|H>>>21),H=X+(G^L^O)+W[15]+530742520&4294967295,X=G+(H<<16&4294967295|H>>>16),H=O+(X^G^L)+W[2]+3299628645&4294967295,O=X+(H<<23&4294967295|H>>>9),H=L+(X^(O|~G))+W[0]+4096336452&4294967295,L=O+(H<<6&4294967295|H>>>26),H=G+(O^(L|~X))+W[7]+1126891415&4294967295,G=L+(H<<10&4294967295|H>>>22),H=X+(L^(G|~O))+W[14]+2878612391&4294967295,X=G+(H<<15&4294967295|H>>>17),H=O+(G^(X|~L))+W[5]+4237533241&4294967295,O=X+(H<<21&4294967295|H>>>11),H=L+(X^(O|~G))+W[12]+1700485571&4294967295,L=O+(H<<6&4294967295|H>>>26),H=G+(O^(L|~X))+W[3]+2399980690&4294967295,G=L+(H<<10&4294967295|H>>>22),H=X+(L^(G|~O))+W[10]+4293915773&4294967295,X=G+(H<<15&4294967295|H>>>17),H=O+(G^(X|~L))+W[1]+2240044497&4294967295,O=X+(H<<21&4294967295|H>>>11),H=L+(X^(O|~G))+W[8]+1873313359&4294967295,L=O+(H<<6&4294967295|H>>>26),H=G+(O^(L|~X))+W[15]+4264355552&4294967295,G=L+(H<<10&4294967295|H>>>22),H=X+(L^(G|~O))+W[6]+2734768916&4294967295,X=G+(H<<15&4294967295|H>>>17),H=O+(G^(X|~L))+W[13]+1309151649&4294967295,O=X+(H<<21&4294967295|H>>>11),H=L+(X^(O|~G))+W[4]+4149444226&4294967295,L=O+(H<<6&4294967295|H>>>26),H=G+(O^(L|~X))+W[11]+3174756917&4294967295,G=L+(H<<10&4294967295|H>>>22),H=X+(L^(G|~O))+W[2]+718787259&4294967295,X=G+(H<<15&4294967295|H>>>17),H=O+(G^(X|~L))+W[9]+3951481745&4294967295,V.g[0]=V.g[0]+L&4294967295,V.g[1]=V.g[1]+(X+(H<<21&4294967295|H>>>11))&4294967295,V.g[2]=V.g[2]+X&4294967295,V.g[3]=V.g[3]+G&4294967295}r.prototype.u=function(V,L){L===void 0&&(L=V.length);for(var O=L-this.blockSize,W=this.B,X=this.h,G=0;G<L;){if(X==0)for(;G<=O;)s(this,V,G),G+=this.blockSize;if(typeof V=="string"){for(;G<L;)if(W[X++]=V.charCodeAt(G++),X==this.blockSize){s(this,W),X=0;break}}else for(;G<L;)if(W[X++]=V[G++],X==this.blockSize){s(this,W),X=0;break}}this.h=X,this.o+=L},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var L=1;L<V.length-8;++L)V[L]=0;var O=8*this.o;for(L=V.length-8;L<V.length;++L)V[L]=O&255,O/=256;for(this.u(V),V=Array(16),L=O=0;4>L;++L)for(var W=0;32>W;W+=8)V[O++]=this.g[L]>>>W&255;return V};function o(V,L){var O=p;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=L(V)}function d(V,L){this.h=L;for(var O=[],W=!0,X=V.length-1;0<=X;X--){var G=V[X]|0;W&&G==L||(O[X]=G,W=!1)}this.g=O}var p={};function w(V){return-128<=V&&128>V?o(V,function(L){return new d([L|0],0>L?-1:0)}):new d([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return q(y(-V));for(var L=[],O=1,W=0;V>=O;W++)L[W]=V/O|0,O*=4294967296;return new d(L,0)}function T(V,L){if(V.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(V.charAt(0)=="-")return q(T(V.substring(1),L));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=y(Math.pow(L,8)),W=_,X=0;X<V.length;X+=8){var G=Math.min(8,V.length-X),H=parseInt(V.substring(X,X+G),L);8>G?(G=y(Math.pow(L,G)),W=W.j(G).add(y(H))):(W=W.j(O),W=W.add(y(H)))}return W}var _=w(0),I=w(1),N=w(16777216);n=d.prototype,n.m=function(){if(P(this))return-q(this).m();for(var V=0,L=1,O=0;O<this.g.length;O++){var W=this.i(O);V+=(0<=W?W:4294967296+W)*L,L*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(P(this))return"-"+q(this).toString(V);for(var L=y(Math.pow(V,6)),O=this,W="";;){var X=$(O,L).g;O=j(O,X.j(L));var G=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=X,M(O))return G+W;for(;6>G.length;)G="0"+G;W=G+W}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(var L=0;L<V.g.length;L++)if(V.g[L]!=0)return!1;return!0}function P(V){return V.h==-1}n.l=function(V){return V=j(this,V),P(V)?-1:M(V)?0:1};function q(V){for(var L=V.g.length,O=[],W=0;W<L;W++)O[W]=~V.g[W];return new d(O,~V.h).add(I)}n.abs=function(){return P(this)?q(this):this},n.add=function(V){for(var L=Math.max(this.g.length,V.g.length),O=[],W=0,X=0;X<=L;X++){var G=W+(this.i(X)&65535)+(V.i(X)&65535),H=(G>>>16)+(this.i(X)>>>16)+(V.i(X)>>>16);W=H>>>16,G&=65535,H&=65535,O[X]=H<<16|G}return new d(O,O[O.length-1]&-2147483648?-1:0)};function j(V,L){return V.add(q(L))}n.j=function(V){if(M(this)||M(V))return _;if(P(this))return P(V)?q(this).j(q(V)):q(q(this).j(V));if(P(V))return q(this.j(q(V)));if(0>this.l(N)&&0>V.l(N))return y(this.m()*V.m());for(var L=this.g.length+V.g.length,O=[],W=0;W<2*L;W++)O[W]=0;for(W=0;W<this.g.length;W++)for(var X=0;X<V.g.length;X++){var G=this.i(W)>>>16,H=this.i(W)&65535,_e=V.i(X)>>>16,le=V.i(X)&65535;O[2*W+2*X]+=H*le,K(O,2*W+2*X),O[2*W+2*X+1]+=G*le,K(O,2*W+2*X+1),O[2*W+2*X+1]+=H*_e,K(O,2*W+2*X+1),O[2*W+2*X+2]+=G*_e,K(O,2*W+2*X+2)}for(W=0;W<L;W++)O[W]=O[2*W+1]<<16|O[2*W];for(W=L;W<2*L;W++)O[W]=0;return new d(O,0)};function K(V,L){for(;(V[L]&65535)!=V[L];)V[L+1]+=V[L]>>>16,V[L]&=65535,L++}function F(V,L){this.g=V,this.h=L}function $(V,L){if(M(L))throw Error("division by zero");if(M(V))return new F(_,_);if(P(V))return L=$(q(V),L),new F(q(L.g),q(L.h));if(P(L))return L=$(V,q(L)),new F(q(L.g),L.h);if(30<V.g.length){if(P(V)||P(L))throw Error("slowDivide_ only works with positive integers.");for(var O=I,W=L;0>=W.l(V);)O=ie(O),W=ie(W);var X=se(O,1),G=se(W,1);for(W=se(W,2),O=se(O,2);!M(W);){var H=G.add(W);0>=H.l(V)&&(X=X.add(O),G=H),W=se(W,1),O=se(O,1)}return L=j(V,X.j(L)),new F(X,L)}for(X=_;0<=V.l(L);){for(O=Math.max(1,Math.floor(V.m()/L.m())),W=Math.ceil(Math.log(O)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),G=y(O),H=G.j(L);P(H)||0<H.l(V);)O-=W,G=y(O),H=G.j(L);M(G)&&(G=I),X=X.add(G),V=j(V,H)}return new F(X,V)}n.A=function(V){return $(this,V).h},n.and=function(V){for(var L=Math.max(this.g.length,V.g.length),O=[],W=0;W<L;W++)O[W]=this.i(W)&V.i(W);return new d(O,this.h&V.h)},n.or=function(V){for(var L=Math.max(this.g.length,V.g.length),O=[],W=0;W<L;W++)O[W]=this.i(W)|V.i(W);return new d(O,this.h|V.h)},n.xor=function(V){for(var L=Math.max(this.g.length,V.g.length),O=[],W=0;W<L;W++)O[W]=this.i(W)^V.i(W);return new d(O,this.h^V.h)};function ie(V){for(var L=V.g.length+1,O=[],W=0;W<L;W++)O[W]=V.i(W)<<1|V.i(W-1)>>>31;return new d(O,V.h)}function se(V,L){var O=L>>5;L%=32;for(var W=V.g.length-O,X=[],G=0;G<W;G++)X[G]=0<L?V.i(G+O)>>>L|V.i(G+O+1)<<32-L:V.i(G+O);return new d(X,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LS=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,qo=d}).apply(typeof Jb<"u"?Jb:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BS,Tf,VS,Hh,Vm,US,FS,zS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,R,k){return b==Array.prototype||b==Object.prototype||(b[R]=k.value),b};function t(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var R=0;R<b.length;++R){var k=b[R];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function s(b,R){if(R)e:{var k=r;b=b.split(".");for(var J=0;J<b.length-1;J++){var pe=b[J];if(!(pe in k))break e;k=k[pe]}b=b[b.length-1],J=k[b],R=R(J),R!=J&&R!=null&&e(k,b,{configurable:!0,writable:!0,value:R})}}function o(b,R){b instanceof String&&(b+="");var k=0,J=!1,pe={next:function(){if(!J&&k<b.length){var Se=k++;return{value:R(Se,b[Se]),done:!1}}return J=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}s("Array.prototype.values",function(b){return b||function(){return o(this,function(R,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function w(b){var R=typeof b;return R=R!="object"?R:b?Array.isArray(b)?"array":R:"null",R=="array"||R=="object"&&typeof b.length=="number"}function y(b){var R=typeof b;return R=="object"&&b!=null||R=="function"}function T(b,R,k){return b.call.apply(b.bind,arguments)}function _(b,R,k){if(!b)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,J),b.apply(R,pe)}}return function(){return b.apply(R,arguments)}}function I(b,R,k){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:_,I.apply(null,arguments)}function N(b,R){var k=Array.prototype.slice.call(arguments,1);return function(){var J=k.slice();return J.push.apply(J,arguments),b.apply(this,J)}}function M(b,R){function k(){}k.prototype=R.prototype,b.aa=R.prototype,b.prototype=new k,b.prototype.constructor=b,b.Qb=function(J,pe,Se){for(var ze=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)ze[Ft-2]=arguments[Ft];return R.prototype[pe].apply(J,ze)}}function P(b){const R=b.length;if(0<R){const k=Array(R);for(let J=0;J<R;J++)k[J]=b[J];return k}return[]}function q(b,R){for(let k=1;k<arguments.length;k++){const J=arguments[k];if(w(J)){const pe=b.length||0,Se=J.length||0;b.length=pe+Se;for(let ze=0;ze<Se;ze++)b[pe+ze]=J[ze]}else b.push(J)}}class j{constructor(R,k){this.i=R,this.j=k,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function K(b){return/^[\s\xa0]*$/.test(b)}function F(){var b=p.navigator;return b&&(b=b.userAgent)?b:""}function $(b){return $[" "](b),b}$[" "]=function(){};var ie=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function se(b,R,k){for(const J in b)R.call(k,b[J],J,b)}function V(b,R){for(const k in b)R.call(void 0,b[k],k,b)}function L(b){const R={};for(const k in b)R[k]=b[k];return R}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(b,R){let k,J;for(let pe=1;pe<arguments.length;pe++){J=arguments[pe];for(k in J)b[k]=J[k];for(let Se=0;Se<O.length;Se++)k=O[Se],Object.prototype.hasOwnProperty.call(J,k)&&(b[k]=J[k])}}function X(b){var R=1;b=b.split(":");const k=[];for(;0<R&&b.length;)k.push(b.shift()),R--;return b.length&&k.push(b.join(":")),k}function G(b){p.setTimeout(()=>{throw b},0)}function H(){var b=Re;let R=null;return b.g&&(R=b.g,b.g=b.g.next,b.g||(b.h=null),R.next=null),R}class _e{constructor(){this.h=this.g=null}add(R,k){const J=le.get();J.set(R,k),this.h?this.h.next=J:this.g=J,this.h=J}}var le=new j(()=>new ae,b=>b.reset());class ae{constructor(){this.next=this.g=this.h=null}set(R,k){this.h=R,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let he,be=!1,Re=new _e,ee=()=>{const b=p.Promise.resolve(void 0);he=()=>{b.then(ye)}};var ye=()=>{for(var b;b=H();){try{b.h.call(b.g)}catch(k){G(k)}var R=le;R.j(b),100>R.h&&(R.h++,b.next=R.g,R.g=b)}be=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(b,R){this.type=b,this.g=this.target=R,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var Ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var b=!1,R=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const k=()=>{};p.addEventListener("test",k,R),p.removeEventListener("test",k,R)}catch{}return b}();function it(b,R){if(Oe.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var k=this.type=b.type,J=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=R,R=b.relatedTarget){if(ie){e:{try{$(R.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(R=null)}}else k=="mouseover"?R=b.fromElement:k=="mouseout"&&(R=b.toElement);this.relatedTarget=R,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:Ce[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&it.aa.h.call(this)}}M(it,Oe);var Ce={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),He=0;function Ye(b,R,k,J,pe){this.listener=b,this.proxy=null,this.src=R,this.type=k,this.capture=!!J,this.ha=pe,this.key=++He,this.da=this.fa=!1}function lt(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function et(b){this.src=b,this.g={},this.h=0}et.prototype.add=function(b,R,k,J,pe){var Se=b.toString();b=this.g[Se],b||(b=this.g[Se]=[],this.h++);var ze=nt(b,R,J,pe);return-1<ze?(R=b[ze],k||(R.fa=!1)):(R=new Ye(R,this.src,Se,!!J,pe),R.fa=k,b.push(R)),R};function yt(b,R){var k=R.type;if(k in b.g){var J=b.g[k],pe=Array.prototype.indexOf.call(J,R,void 0),Se;(Se=0<=pe)&&Array.prototype.splice.call(J,pe,1),Se&&(lt(R),b.g[k].length==0&&(delete b.g[k],b.h--))}}function nt(b,R,k,J){for(var pe=0;pe<b.length;++pe){var Se=b[pe];if(!Se.da&&Se.listener==R&&Se.capture==!!k&&Se.ha==J)return pe}return-1}var an="closure_lm_"+(1e6*Math.random()|0),kt={};function $n(b,R,k,J,pe){if(Array.isArray(R)){for(var Se=0;Se<R.length;Se++)$n(b,R[Se],k,J,pe);return null}return k=Qa(k),b&&b[We]?b.K(R,k,y(J)?!!J.capture:!1,pe):wt(b,R,k,!1,J,pe)}function wt(b,R,k,J,pe,Se){if(!R)throw Error("Invalid event type");var ze=y(pe)?!!pe.capture:!!pe,Ft=aa(b);if(Ft||(b[an]=Ft=new et(b)),k=Ft.add(R,k,J,ze,Se),k.proxy)return k;if(J=Pt(),k.proxy=J,J.src=b,J.listener=k,b.addEventListener)Ge||(pe=ze),pe===void 0&&(pe=!1),b.addEventListener(R.toString(),J,pe);else if(b.attachEvent)b.attachEvent(qe(R.toString()),J);else if(b.addListener&&b.removeListener)b.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Pt(){function b(k){return R.call(b.src,b.listener,k)}const R=vs;return b}function Et(b,R,k,J,pe){if(Array.isArray(R))for(var Se=0;Se<R.length;Se++)Et(b,R[Se],k,J,pe);else J=y(J)?!!J.capture:!!J,k=Qa(k),b&&b[We]?(b=b.i,R=String(R).toString(),R in b.g&&(Se=b.g[R],k=nt(Se,k,J,pe),-1<k&&(lt(Se[k]),Array.prototype.splice.call(Se,k,1),Se.length==0&&(delete b.g[R],b.h--)))):b&&(b=aa(b))&&(R=b.g[R.toString()],b=-1,R&&(b=nt(R,k,J,pe)),(k=-1<b?R[b]:null)&&Nr(k))}function Nr(b){if(typeof b!="number"&&b&&!b.da){var R=b.src;if(R&&R[We])yt(R.i,b);else{var k=b.type,J=b.proxy;R.removeEventListener?R.removeEventListener(k,J,b.capture):R.detachEvent?R.detachEvent(qe(k),J):R.addListener&&R.removeListener&&R.removeListener(J),(k=aa(R))?(yt(k,b),k.h==0&&(k.src=null,R[an]=null)):lt(b)}}}function qe(b){return b in kt?kt[b]:kt[b]="on"+b}function vs(b,R){if(b.da)b=!0;else{R=new it(R,this);var k=b.listener,J=b.ha||b.src;b.fa&&Nr(b),b=k.call(J,R)}return b}function aa(b){return b=b[an],b instanceof et?b:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qa(b){return typeof b=="function"?b:(b[fi]||(b[fi]=function(R){return b.handleEvent(R)}),b[fi])}function Xt(){Ne.call(this),this.i=new et(this),this.M=this,this.F=null}M(Xt,Ne),Xt.prototype[We]=!0,Xt.prototype.removeEventListener=function(b,R,k,J){Et(this,b,R,k,J)};function Jt(b,R){var k,J=b.F;if(J)for(k=[];J;J=J.F)k.push(J);if(b=b.M,J=R.type||R,typeof R=="string")R=new Oe(R,b);else if(R instanceof Oe)R.target=R.target||b;else{var pe=R;R=new Oe(J,b),W(R,pe)}if(pe=!0,k)for(var Se=k.length-1;0<=Se;Se--){var ze=R.g=k[Se];pe=Jn(ze,J,!0,R)&&pe}if(ze=R.g=b,pe=Jn(ze,J,!0,R)&&pe,pe=Jn(ze,J,!1,R)&&pe,k)for(Se=0;Se<k.length;Se++)ze=R.g=k[Se],pe=Jn(ze,J,!1,R)&&pe}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var b=this.i,R;for(R in b.g){for(var k=b.g[R],J=0;J<k.length;J++)lt(k[J]);delete b.g[R],b.h--}}this.F=null},Xt.prototype.K=function(b,R,k,J){return this.i.add(String(b),R,!1,k,J)},Xt.prototype.L=function(b,R,k,J){return this.i.add(String(b),R,!0,k,J)};function Jn(b,R,k,J){if(R=b.i.g[String(R)],!R)return!0;R=R.concat();for(var pe=!0,Se=0;Se<R.length;++Se){var ze=R[Se];if(ze&&!ze.da&&ze.capture==k){var Ft=ze.listener,Pn=ze.ha||ze.src;ze.fa&&yt(b.i,ze),pe=Ft.call(Pn,J)!==!1&&pe}}return pe&&!J.defaultPrevented}function en(b,R,k){if(typeof b=="function")k&&(b=I(b,k));else if(b&&typeof b.handleEvent=="function")b=I(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:p.setTimeout(b,R||0)}function ll(b){b.g=en(()=>{b.g=null,b.i&&(b.i=!1,ll(b))},b.l);const R=b.h;b.h=null,b.m.apply(null,R)}class Za extends Ne{constructor(R,k){super(),this.m=R,this.l=k,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:ll(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(b){Ne.call(this),this.h=b,this.g={}}M(oa,Ne);var wn=[];function Fe(b){se(b.g,function(R,k){this.g.hasOwnProperty(k)&&Nr(R)},b),b.g={}}oa.prototype.N=function(){oa.aa.N.call(this),Fe(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=p.JSON.stringify,Kt=p.JSON.parse,cn=class{stringify(b){return p.JSON.stringify(b,void 0)}parse(b){return p.JSON.parse(b,void 0)}};function bs(){}bs.prototype.h=null;function la(b){return b.h||(b.h=b.i())}function $a(){}var St={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){Oe.call(this,"d")}M(Ur,Oe);function Ja(){Oe.call(this,"c")}M(Ja,Oe);var Di={},Fr=null;function ts(){return Fr=Fr||new Xt}Di.La="serverreachability";function Xn(b){Oe.call(this,Di.La,b)}M(Xn,Oe);function di(b){const R=ts();Jt(R,new Xn(R))}Di.STAT_EVENT="statevent";function ca(b,R){Oe.call(this,Di.STAT_EVENT,b),this.stat=R}M(ca,Oe);function Wt(b){const R=ts();Jt(R,new ca(R,b))}Di.Ma="timingevent";function or(b,R){Oe.call(this,Di.Ma,b),this.size=R}M(or,Oe);function xn(b,R){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){b()},R)}function $r(){this.g=!0}$r.prototype.xa=function(){this.g=!1};function gr(b,R,k,J,pe,Se){b.info(function(){if(b.g)if(Se)for(var ze="",Ft=Se.split("&"),Pn=0;Pn<Ft.length;Pn++){var zt=Ft[Pn].split("=");if(1<zt.length){var Cn=zt[0];zt=zt[1];var qn=Cn.split("_");ze=2<=qn.length&&qn[1]=="type"?ze+(Cn+"="+zt+"&"):ze+(Cn+"=redacted&")}}else ze=null;else ze=Se;return"XMLHTTP REQ ("+J+") [attempt "+pe+"]: "+R+`
`+k+`
`+ze})}function Es(b,R,k,J,pe,Se,ze){b.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+pe+"]: "+R+`
`+k+`
`+Se+" "+ze})}function lr(b,R,k,J){b.info(function(){return"XMLHTTP TEXT ("+R+"): "+yi(b,k)+(J?" "+J:"")})}function Xe(b,R){b.info(function(){return"TIMEOUT: "+R})}$r.prototype.info=function(){};function yi(b,R){if(!b.g)return R;if(!R)return null;try{var k=JSON.parse(R);if(k){for(b=0;b<k.length;b++)if(Array.isArray(k[b])){var J=k[b];if(!(2>J.length)){var pe=J[1];if(Array.isArray(pe)&&!(1>pe.length)){var Se=pe[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var ze=1;ze<pe.length;ze++)pe[ze]=""}}}}return on(k)}catch{return R}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zr;function hi(){}M(hi,bs),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},zr=new hi;function pr(b,R,k,J){this.j=b,this.i=R,this.l=k,this.R=J||1,this.U=new oa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tn}function tn(){this.i=null,this.g="",this.h=!1}var cl={},eo={};function er(b,R,k){b.L=1,b.v=Rn(Mt(R)),b.m=k,b.P=!0,Mn(b,null)}function Mn(b,R){b.F=Date.now(),Jr(b),b.A=Mt(b.v);var k=b.A,J=b.R;Array.isArray(J)||(J=[String(J)]),jn(k.i,"t",J),b.C=0,k=b.j.J,b.h=new tn,b.g=ec(b.j,k?R:null,!b.m),0<b.O&&(b.M=new Za(I(b.Y,b,b.g),b.O)),R=b.U,k=b.g,J=b.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(wn[0]=pe.toString()),pe=wn);for(var Se=0;Se<pe.length;Se++){var ze=$n(k,pe[Se],J||R.handleEvent,!1,R.h||R);if(!ze)break;R.g[ze.key]=ze}R=b.H?L(b.H):{},b.m?(b.u||(b.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,R)):(b.u="GET",b.g.ea(b.A,b.u,null,R)),di(),gr(b.i,b.u,b.A,b.l,b.R,b.m)}pr.prototype.ca=function(b){b=b.target;const R=this.M;R&&xi(b)==3?R.j():this.Y(b)},pr.prototype.Y=function(b){try{if(b==this.g)e:{const qn=xi(this.g);var R=this.g.Ba();const nr=this.g.Z();if(!(3>qn)&&(qn!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||qn!=4||R==7||(R==8||0>=nr?di(3):di(2)),De(this);var k=this.g.Z();this.X=k;t:if(dn(this)){var J=Zl(this.g);b="";var pe=J.length,Se=xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rt(this),rs(this);var ze="";break t}this.h.i=new p.TextDecoder}for(R=0;R<pe;R++)this.h.h=!0,b+=this.h.i.decode(J[R],{stream:!(Se&&R==pe-1)});J.length=0,this.h.g+=b,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=k==200,Es(this.i,this.u,this.A,this.l,this.R,qn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Ft,Pn=this.g;if((Ft=Pn.g?Pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ft)){var zt=Ft;break t}}zt=null}if(k=zt)lr(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wi(this,k);else{this.o=!1,this.s=3,Wt(12),Rt(this),rs(this);break e}}if(this.P){k=!0;let mr;for(;!this.J&&this.C<ze.length;)if(mr=ul(this,ze),mr==eo){qn==4&&(this.s=4,Wt(14),k=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==cl){this.s=4,Wt(15),lr(this.i,this.l,ze,"[Invalid Chunk]"),k=!1;break}else lr(this.i,this.l,mr,null),wi(this,mr);if(dn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qn!=4||ze.length!=0||this.h.h||(this.s=1,Wt(16),k=!1),this.o=this.o&&k,!k)lr(this.i,this.l,ze,"[Invalid Chunked Response]"),Rt(this),rs(this);else if(0<ze.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Ss(Cn),Cn.M=!0,Wt(11))}}else lr(this.i,this.l,ze,null),wi(this,ze);qn==4&&Rt(this),this.o&&!this.J&&(qn==4?Sn(this.j,this):(this.o=!1,Jr(this)))}else nn(this.g),k==400&&0<ze.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Rt(this),rs(this)}}}catch{}finally{}};function dn(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function ul(b,R){var k=b.C,J=R.indexOf(`
`,k);return J==-1?eo:(k=Number(R.substring(k,J)),isNaN(k)?cl:(J+=1,J+k>R.length?eo:(R=R.slice(J,J+k),b.C=J+k,R)))}pr.prototype.cancel=function(){this.J=!0,Rt(this)};function Jr(b){b.S=Date.now()+b.I,to(b,b.I)}function to(b,R){if(b.B!=null)throw Error("WatchDog timer not null");b.B=xn(I(b.ba,b),R)}function De(b){b.B&&(p.clearTimeout(b.B),b.B=null)}pr.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Xe(this.i,this.A),this.L!=2&&(di(),Wt(17)),Rt(this),this.s=2,rs(this)):to(this,this.S-b)};function rs(b){b.j.G==0||b.J||Sn(b.j,b)}function Rt(b){De(b);var R=b.M;R&&typeof R.ma=="function"&&R.ma(),b.M=null,Fe(b.U),b.g&&(R=b.g,b.g=null,R.abort(),R.ma())}function wi(b,R){try{var k=b.j;if(k.G!=0&&(k.g==b||ua(k.h,b))){if(!b.K&&ua(k.h,b)&&k.G==3){try{var J=k.Da.g.parse(R)}catch{J=null}if(Array.isArray(J)&&J.length==3){var pe=J;if(pe[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<b.F)Fs(k),so(k);else break e;fl(k),Wt(18)}}else k.za=pe[1],0<k.za-k.T&&37500>pe[2]&&k.F&&k.v==0&&!k.C&&(k.C=xn(I(k.Za,k),6e3));if(1>=_t(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Hr(k,11)}else if((b.K||k.g==b)&&Fs(k),!K(R))for(pe=k.Da.g.parse(R),R=0;R<pe.length;R++){let zt=pe[R];if(k.T=zt[0],zt=zt[1],k.G==2)if(zt[0]=="c"){k.K=zt[1],k.ia=zt[2];const Cn=zt[3];Cn!=null&&(k.la=Cn,k.j.info("VER="+k.la));const qn=zt[4];qn!=null&&(k.Aa=qn,k.j.info("SVER="+k.Aa));const nr=zt[5];nr!=null&&typeof nr=="number"&&0<nr&&(J=1.5*nr,k.L=J,k.j.info("backChannelRequestTimeoutMs_="+J)),J=k;const mr=b.g;if(mr){const ur=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ur){var Se=J.h;Se.g||ur.indexOf("spdy")==-1&&ur.indexOf("quic")==-1&&ur.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(Ls(Se,Se.h),Se.h=null))}if(J.D){const dl=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(J.ya=dl,je(J.I,J.D,dl))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-b.F,k.j.info("Handshake RTT: "+k.R+"ms")),J=k;var ze=b;if(J.qa=ot(J,J.J?J.ia:null,J.W),ze.K){br(J.h,ze);var Ft=ze,Pn=J.L;Pn&&(Ft.I=Pn),Ft.B&&(De(Ft),Jr(Ft)),J.g=ze}else Jl(J);0<k.i.length&&xt(k)}else zt[0]!="stop"&&zt[0]!="close"||Hr(k,7);else k.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Hr(k,7):vi(k):zt[0]!="noop"&&k.l&&k.l.ta(zt),k.v=0)}}di(4)}catch{}}var Kl=class{constructor(b,R){this.g=b,this.map=R}};function Nt(b){this.l=b||10,p.PerformanceNavigationTiming?(b=p.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lt(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function _t(b){return b.h?1:b.g?b.g.size:0}function ua(b,R){return b.h?b.h==R:b.g?b.g.has(R):!1}function Ls(b,R){b.g?b.g.add(R):b.h=R}function br(b,R){b.h&&b.h==R?b.h=null:b.g&&b.g.has(R)&&b.g.delete(R)}Nt.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Dn(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let R=b.i;for(const k of b.g.values())R=R.concat(k.D);return R}return P(b.i)}function is(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(w(b)){for(var R=[],k=b.length,J=0;J<k;J++)R.push(b[J]);return R}R=[],k=0;for(J in b)R[k++]=b[J];return R}function no(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(w(b)||typeof b=="string"){var R=[];b=b.length;for(var k=0;k<b;k++)R.push(k);return R}R=[],k=0;for(const J in b)R[k++]=J;return R}}}function Tn(b,R){if(b.forEach&&typeof b.forEach=="function")b.forEach(R,void 0);else if(w(b)||typeof b=="string")Array.prototype.forEach.call(b,R,void 0);else for(var k=no(b),J=is(b),pe=J.length,Se=0;Se<pe;Se++)R.call(void 0,J[Se],k&&k[Se],b)}var ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Au(b,R){if(b){b=b.split("&");for(var k=0;k<b.length;k++){var J=b[k].indexOf("="),pe=null;if(0<=J){var Se=b[k].substring(0,J);pe=b[k].substring(J+1)}else Se=b[k];R(Se,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function An(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof An){this.h=b.h,zn(this,b.j),this.o=b.o,this.g=b.g,ge(this,b.s),this.l=b.l;var R=b.i,k=new Oi;k.i=R.i,R.g&&(k.g=new Map(R.g),k.h=R.h),ne(this,k),this.m=b.m}else b&&(R=String(b).match(ei))?(this.h=!1,zn(this,R[1]||"",!0),this.o=On(R[2]||""),this.g=On(R[3]||"",!0),ge(this,R[4]),this.l=On(R[5]||"",!0),ne(this,R[6]||"",!0),this.m=On(R[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}An.prototype.toString=function(){var b=[],R=this.j;R&&b.push(fa(R,Mr,!0),":");var k=this.g;return(k||R=="file")&&(b.push("//"),(R=this.o)&&b.push(fa(R,Mr,!0),"@"),b.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&b.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&b.push("/"),b.push(fa(k,k.charAt(0)=="/"?_n:rt,!0))),(k=this.i.toString())&&b.push("?",k),(k=this.m)&&b.push("#",fa(k,io)),b.join("")};function Mt(b){return new An(b)}function zn(b,R,k){b.j=k?On(R,!0):R,b.j&&(b.j=b.j.replace(/:$/,""))}function ge(b,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);b.s=R}else b.s=null}function ne(b,R,k){R instanceof Oi?(b.i=R,Pi(b.i,b.h)):(k||(R=fa(R,Ql)),b.i=new Oi(R,b.h))}function je(b,R,k){b.i.set(R,k)}function Rn(b){return je(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function On(b,R){return b?R?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function fa(b,R,k){return typeof b=="string"?(b=encodeURI(b).replace(R,ro),k&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function ro(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Mr=/[#\/\?@]/g,rt=/[#\?:]/g,_n=/[#\?]/g,Ql=/[#\?@]/g,io=/#/g;function Oi(b,R){this.h=this.g=null,this.i=b||null,this.j=!!R}function jr(b){b.g||(b.g=new Map,b.h=0,b.i&&Au(b.i,function(R,k){b.add(decodeURIComponent(R.replace(/\+/g," ")),k)}))}n=Oi.prototype,n.add=function(b,R){jr(this),this.i=null,b=ti(this,b);var k=this.g.get(b);return k||this.g.set(b,k=[]),k.push(R),this.h+=1,this};function ki(b,R){jr(b),R=ti(b,R),b.g.has(R)&&(b.i=null,b.h-=b.g.get(R).length,b.g.delete(R))}function Ts(b,R){return jr(b),R=ti(b,R),b.g.has(R)}n.forEach=function(b,R){jr(this),this.g.forEach(function(k,J){k.forEach(function(pe){b.call(R,pe,J,this)},this)},this)},n.na=function(){jr(this);const b=Array.from(this.g.values()),R=Array.from(this.g.keys()),k=[];for(let J=0;J<R.length;J++){const pe=b[J];for(let Se=0;Se<pe.length;Se++)k.push(R[J])}return k},n.V=function(b){jr(this);let R=[];if(typeof b=="string")Ts(this,b)&&(R=R.concat(this.g.get(ti(this,b))));else{b=Array.from(this.g.values());for(let k=0;k<b.length;k++)R=R.concat(b[k])}return R},n.set=function(b,R){return jr(this),this.i=null,b=ti(this,b),Ts(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[R]),this.h+=1,this},n.get=function(b,R){return b?(b=this.V(b),0<b.length?String(b[0]):R):R};function jn(b,R,k){ki(b,R),0<k.length&&(b.i=null,b.g.set(ti(b,R),P(k)),b.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],R=Array.from(this.g.keys());for(var k=0;k<R.length;k++){var J=R[k];const Se=encodeURIComponent(String(J)),ze=this.V(J);for(J=0;J<ze.length;J++){var pe=Se;ze[J]!==""&&(pe+="="+encodeURIComponent(String(ze[J]))),b.push(pe)}}return this.i=b.join("&")};function ti(b,R){return R=String(R),b.j&&(R=R.toLowerCase()),R}function Pi(b,R){R&&!b.j&&(jr(b),b.i=null,b.g.forEach(function(k,J){var pe=J.toLowerCase();J!=pe&&(ki(this,J),jn(this,pe,k))},b)),b.j=R}function st(b,R){const k=new $r;if(p.Image){const J=new Image;J.onload=N(ut,k,"TestLoadImage: loaded",!0,R,J),J.onerror=N(ut,k,"TestLoadImage: error",!1,R,J),J.onabort=N(ut,k,"TestLoadImage: abort",!1,R,J),J.ontimeout=N(ut,k,"TestLoadImage: timeout",!1,R,J),p.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=b}else R(!1)}function Li(b,R){const k=new $r,J=new AbortController,pe=setTimeout(()=>{J.abort(),ut(k,"TestPingServer: timeout",!1,R)},1e4);fetch(b,{signal:J.signal}).then(Se=>{clearTimeout(pe),Se.ok?ut(k,"TestPingServer: ok",!0,R):ut(k,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(pe),ut(k,"TestPingServer: error",!1,R)})}function ut(b,R,k,J,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),J(k)}catch{}}function kn(){this.g=new cn}function ss(b,R,k){const J=k||"";try{Tn(b,function(pe,Se){let ze=pe;y(pe)&&(ze=on(pe)),R.push(J+Se+"="+encodeURIComponent(ze))})}catch(pe){throw R.push(J+"type="+encodeURIComponent("_badmap")),pe}}function as(b){this.l=b.Ub||null,this.j=b.eb||!1}M(as,bs),as.prototype.g=function(){return new os(this.l,this.j)},as.prototype.i=function(b){return function(){return b}}({});function os(b,R){Xt.call(this),this.D=b,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(os,Xt),n=os.prototype,n.open=function(b,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=R,this.readyState=1,ni(this)},n.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(R.body=b),(this.D||p).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},n.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bi(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bi(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}n.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var R=b.value?b.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!b.done}))&&(this.response=this.responseText+=R)}b.done?ls(this):ni(this),this.readyState==3&&Bi(this)}},n.Ra=function(b){this.g&&(this.response=this.responseText=b,ls(this))},n.Qa=function(b){this.g&&(this.response=b,ls(this))},n.ga=function(){this.g&&ls(this)};function ls(b){b.readyState=4,b.l=null,b.j=null,b.v=null,ni(b)}n.setRequestHeader=function(b,R){this.u.append(b,R)},n.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],R=this.h.entries();for(var k=R.next();!k.done;)k=k.value,b.push(k[0]+": "+k[1]),k=R.next();return b.join(`\r
`)};function ni(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function As(b){let R="";return se(b,function(k,J){R+=J,R+=":",R+=k,R+=`\r
`}),R}function Hn(b,R,k){e:{for(J in k){var J=!1;break e}J=!0}J||(k=As(k),typeof b=="string"?k!=null&&encodeURIComponent(String(k)):je(b,R,k))}function $t(b){Xt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M($t,Xt);var cs=/^https?$/i,Vi=["POST","PUT"];n=$t.prototype,n.Ha=function(b){this.J=b},n.ea=function(b,R,k,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);R=R?R.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zr.g(),this.v=this.o?la(this.o):la(zr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(R,String(b),!0),this.B=!1}catch(Se){Er(this,Se);return}if(b=k||"",k=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var pe in J)k.set(pe,J[pe]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Se of J.keys())k.set(Se,J.get(Se));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(k.keys()).find(Se=>Se.toLowerCase()=="content-type"),pe=p.FormData&&b instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Vi,R,void 0))||J||pe||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,ze]of k)this.g.setRequestHeader(Se,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ga(this),this.u=!0,this.g.send(b),this.u=!1}catch(Se){Er(this,Se)}};function Er(b,R){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=R,b.m=5,da(b),Ui(b)}function da(b){b.A||(b.A=!0,Jt(b,"complete"),Jt(b,"error"))}n.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,Jt(this,"complete"),Jt(this,"abort"),Ui(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},n.bb=function(){ha(this)};function ha(b){if(b.h&&typeof d<"u"&&(!b.v[1]||xi(b)!=4||b.Z()!=2)){if(b.u&&xi(b)==4)en(b.Ea,0,b);else if(Jt(b,"readystatechange"),xi(b)==4){b.h=!1;try{const ze=b.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var k;if(!(k=R)){var J;if(J=ze===0){var pe=String(b.D).match(ei)[1]||null;!pe&&p.self&&p.self.location&&(pe=p.self.location.protocol.slice(0,-1)),J=!cs.test(pe?pe.toLowerCase():"")}k=J}if(k)Jt(b,"complete"),Jt(b,"success");else{b.m=6;try{var Se=2<xi(b)?b.g.statusText:""}catch{Se=""}b.l=Se+" ["+b.Z()+"]",da(b)}}finally{Ui(b)}}}}function Ui(b,R){if(b.g){ga(b);const k=b.g,J=b.v[0]?()=>{}:null;b.g=null,b.v=null,R||Jt(b,"ready");try{k.onreadystatechange=J}catch{}}}function ga(b){b.I&&(p.clearTimeout(b.I),b.I=null)}n.isActive=function(){return!!this.g};function xi(b){return b.g?b.g.readyState:0}n.Z=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(b){if(this.g){var R=this.g.responseText;return b&&R.indexOf(b)==0&&(R=R.substring(b.length)),Kt(R)}};function Zl(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function nn(b){const R={};b=(b.g&&2<=xi(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<b.length;J++){if(K(b[J]))continue;var k=X(b[J]);const pe=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const Se=R[pe]||[];R[pe]=Se,Se.push(k)}V(R,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(b,R,k){return k&&k.internalChannelParams&&k.internalChannelParams[b]||R}function _s(b){this.Aa=0,this.i=[],this.j=new $r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,b),this.cb=Bs("retryDelaySeedMs",1e4,b),this.Wa=Bs("forwardChannelMaxRetries",2,b),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new Nt(b&&b.concurrentRequestLimit),this.Da=new kn,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_s.prototype,n.la=8,n.G=1,n.connect=function(b,R,k,J){Wt(0),this.W=b,this.H=R||{},k&&J!==void 0&&(this.H.OSID=k,this.H.OAID=J),this.F=this.X,this.I=ot(this,null,this.W),xt(this)};function vi(b){if(Te(b),b.G==3){var R=b.U++,k=Mt(b.I);if(je(k,"SID",b.K),je(k,"RID",R),je(k,"TYPE","terminate"),Us(b,k),R=new pr(b,b.j,R),R.L=2,R.v=Rn(Mt(k)),k=!1,p.navigator&&p.navigator.sendBeacon)try{k=p.navigator.sendBeacon(R.v.toString(),"")}catch{}!k&&p.Image&&(new Image().src=R.v,k=!0),k||(R.g=ec(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Jr(R)}rn(b)}function so(b){b.g&&(Ss(b),b.g.cancel(),b.g=null)}function Te(b){so(b),b.u&&(p.clearTimeout(b.u),b.u=null),Fs(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&p.clearTimeout(b.s),b.s=null)}function xt(b){if(!Lt(b.h)&&!b.s){b.s=!0;var R=b.Ga;he||ee(),be||(he(),be=!0),Re.add(R,b),b.B=0}}function cr(b,R){return _t(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=R.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=xn(I(b.Ga,b,R),zs(b,b.B)),b.B++,!0)}n.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const pe=new pr(this,this.j,b);let Se=this.o;if(this.S&&(Se?(Se=L(Se),W(Se,this.S)):Se=this.S),this.m!==null||this.O||(pe.H=Se,Se=null),this.P)e:{for(var R=0,k=0;k<this.i.length;k++){t:{var J=this.i[k];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(R+=J,4096<R){R=k;break e}if(R===4096||k===this.i.length-1){R=k+1;break e}}R=1e3}else R=1e3;R=$l(this,pe,R),k=Mt(this.I),je(k,"RID",b),je(k,"CVER",22),this.D&&je(k,"X-HTTP-Session-Id",this.D),Us(this,k),Se&&(this.O?R="headers="+encodeURIComponent(String(As(Se)))+"&"+R:this.m&&Hn(k,this.m,Se)),Ls(this.h,pe),this.Ua&&je(k,"TYPE","init"),this.P?(je(k,"$req",R),je(k,"SID","null"),pe.T=!0,er(pe,k,null)):er(pe,k,R),this.G=2}}else this.G==3&&(b?Vs(this,b):this.i.length==0||Lt(this.h)||Vs(this))};function Vs(b,R){var k;R?k=R.l:k=b.U++;const J=Mt(b.I);je(J,"SID",b.K),je(J,"RID",k),je(J,"AID",b.T),Us(b,J),b.m&&b.o&&Hn(J,b.m,b.o),k=new pr(b,b.j,k,b.B+1),b.m===null&&(k.H=b.o),R&&(b.i=R.D.concat(b.i)),R=$l(b,k,1e3),k.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),Ls(b.h,k),er(k,J,R)}function Us(b,R){b.H&&se(b.H,function(k,J){je(R,J,k)}),b.l&&Tn({},function(k,J){je(R,J,k)})}function $l(b,R,k){k=Math.min(b.i.length,k);var J=b.l?I(b.l.Na,b.l,b):null;e:{var pe=b.i;let Se=-1;for(;;){const ze=["count="+k];Se==-1?0<k?(Se=pe[0].g,ze.push("ofs="+Se)):Se=0:ze.push("ofs="+Se);let Ft=!0;for(let Pn=0;Pn<k;Pn++){let zt=pe[Pn].g;const Cn=pe[Pn].map;if(zt-=Se,0>zt)Se=Math.max(0,pe[Pn].g-100),Ft=!1;else try{ss(Cn,ze,"req"+zt+"_")}catch{J&&J(Cn)}}if(Ft){J=ze.join("&");break e}}}return b=b.i.splice(0,k),R.D=b,J}function Jl(b){if(!b.g&&!b.u){b.Y=1;var R=b.Fa;he||ee(),be||(he(),be=!0),Re.add(R,b),b.v=0}}function fl(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=xn(I(b.Fa,b),zs(b,b.v)),b.v++,!0)}n.Fa=function(){if(this.u=null,Gn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=xn(I(this.ab,this),b)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),so(this),Gn(this))};function Ss(b){b.A!=null&&(p.clearTimeout(b.A),b.A=null)}function Gn(b){b.g=new pr(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var R=Mt(b.qa);je(R,"RID","rpc"),je(R,"SID",b.K),je(R,"AID",b.T),je(R,"CI",b.F?"0":"1"),!b.F&&b.ja&&je(R,"TO",b.ja),je(R,"TYPE","xmlhttp"),Us(b,R),b.m&&b.o&&Hn(R,b.m,b.o),b.L&&(b.g.I=b.L);var k=b.g;b=b.ia,k.L=1,k.v=Rn(Mt(R)),k.m=null,k.P=!0,Mn(k,b)}n.Za=function(){this.C!=null&&(this.C=null,so(this),fl(this),Wt(19))};function Fs(b){b.C!=null&&(p.clearTimeout(b.C),b.C=null)}function Sn(b,R){var k=null;if(b.g==R){Fs(b),Ss(b),b.g=null;var J=2}else if(ua(b.h,R))k=R.D,br(b.h,R),J=1;else return;if(b.G!=0){if(R.o)if(J==1){k=R.m?R.m.length:0,R=Date.now()-R.F;var pe=b.B;J=ts(),Jt(J,new or(J,k)),xt(b)}else Jl(b);else if(pe=R.s,pe==3||pe==0&&0<R.X||!(J==1&&cr(b,R)||J==2&&fl(b)))switch(k&&0<k.length&&(R=b.h,R.i=R.i.concat(k)),pe){case 1:Hr(b,5);break;case 4:Hr(b,10);break;case 3:Hr(b,6);break;default:Hr(b,2)}}}function zs(b,R){let k=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(k*=2),k*R}function Hr(b,R){if(b.j.info("Error code "+R),R==2){var k=I(b.fb,b),J=b.Xa;const pe=!J;J=new An(J||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||zn(J,"https"),Rn(J),pe?st(J.toString(),k):Li(J.toString(),k)}else Wt(2);b.G=0,b.l&&b.l.sa(R),rn(b),Te(b)}n.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function rn(b){if(b.G=0,b.ka=[],b.l){const R=Dn(b.h);(R.length!=0||b.i.length!=0)&&(q(b.ka,R),q(b.ka,b.i),b.h.i.length=0,P(b.i),b.i.length=0),b.l.ra()}}function ot(b,R,k){var J=k instanceof An?Mt(k):new An(k);if(J.g!="")R&&(J.g=R+"."+J.g),ge(J,J.s);else{var pe=p.location;J=pe.protocol,R=R?R+"."+pe.hostname:pe.hostname,pe=+pe.port;var Se=new An(null);J&&zn(Se,J),R&&(Se.g=R),pe&&ge(Se,pe),k&&(Se.l=k),J=Se}return k=b.D,R=b.ya,k&&R&&je(J,k,R),je(J,"VER",b.la),Us(b,J),J}function ec(b,R,k){if(R&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=b.Ca&&!b.pa?new $t(new as({eb:k})):new $t(b.pa),R.Ha(b.J),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function un(){}n=un.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bi(){}bi.prototype.g=function(b,R){return new tr(b,R)};function tr(b,R){Xt.call(this),this.g=new _s(R),this.l=b,this.h=R&&R.messageUrlParams||null,b=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(b?b["X-WebChannel-Content-Type"]=R.messageContentType:b={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(b?b["X-WebChannel-Client-Profile"]=R.va:b={"X-WebChannel-Client-Profile":R.va}),this.g.S=b,(b=R&&R.Sb)&&!K(b)&&(this.g.m=b),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!K(R)&&(this.g.D=R,b=this.h,b!==null&&R in b&&(b=this.h,R in b&&delete b[R])),this.j=new Ei(this)}M(tr,Xt),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){vi(this.g)},tr.prototype.o=function(b){var R=this.g;if(typeof b=="string"){var k={};k.__data__=b,b=k}else this.u&&(k={},k.__data__=on(b),b=k);R.i.push(new Kl(R.Ya++,b)),R.G==3&&xt(R)},tr.prototype.N=function(){this.g.l=null,delete this.j,vi(this.g),delete this.g,tr.aa.N.call(this)};function tc(b){Ur.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var R=b.__sm__;if(R){e:{for(const k in R){b=k;break e}b=void 0}(this.i=b)&&(b=this.i,R=R!==null&&b in R?R[b]:void 0),this.data=R}else this.data=b}M(tc,Ur);function gi(){Ja.call(this),this.status=1}M(gi,Ja);function Ei(b){this.g=b}M(Ei,un),Ei.prototype.ua=function(){Jt(this.g,"a")},Ei.prototype.ta=function(b){Jt(this.g,new tc(b))},Ei.prototype.sa=function(b){Jt(this.g,new gi)},Ei.prototype.ra=function(){Jt(this.g,"b")},bi.prototype.createWebChannel=bi.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,zS=function(){return new bi},FS=function(){return ts()},US=Di,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Hh=ns,Fn.COMPLETE="complete",VS=Fn,$a.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,Tf=$a,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,BS=$t}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const eE="@firebase/firestore",tE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new _y("@firebase/firestore");function kc(){return Bl.logLevel}function Ze(n,...e){if(Bl.logLevel<=Gt.DEBUG){const t=e.map(By);Bl.debug(`Firestore (${wu}): ${n}`,...t)}}function Ga(n,...e){if(Bl.logLevel<=Gt.ERROR){const t=e.map(By);Bl.error(`Firestore (${wu}): ${n}`,...t)}}function iu(n,...e){if(Bl.logLevel<=Gt.WARN){const t=e.map(By);Bl.warn(`Firestore (${wu}): ${n}`,...t)}}function By(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(n="Unexpected state"){const e=`FIRESTORE (${wu}) INTERNAL ASSERTION FAILED: `+n;throw Ga(e),new Error(e)}function fn(n,e){n||mt()}function At(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends Ka{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(li.UNAUTHENTICATED))}shutdown(){}}class Pk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lk{constructor(e){this.t=e,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fn(this.o===void 0);let r=this.i;const s=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let o=new Yo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Yo,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const w=o;e.enqueueRetryable(async()=>{await w.promise,await s(this.currentUser)})},p=w=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(w=>p(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?p(w):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Yo)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fn(typeof r.accessToken=="string"),new jS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fn(e===null||typeof e=="string"),new li(e)}}class Bk{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=li.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Vk{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Bk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uk{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ys(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){fn(this.o===void 0);const r=o=>{o.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const d=o.token!==this.R;return this.R=o.token,Ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new nE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fn(typeof t.token=="string"),this.R=t.token,new nE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Fk(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Ot(n,e){return n<e?-1:n>e?1:0}function Um(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ot(r,s);{const o=HS(),d=zk(o.encode(rE(n,t)),o.encode(rE(e,t)));return d!==0?d:Ot(r,s)}}t+=r>65535?2:1}return Ot(n.length,e.length)}function rE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function zk(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ot(n[t],e[t]);return Ot(n.length,e.length)}function su(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=-62135596800,sE=1e6;class Un{static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sE);return new Un(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Je(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Je(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<iE)throw new Je(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sE}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-iE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Un(0,0))}static max(){return new bt(new Un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="__name__";class Qs{constructor(e,t,r){t===void 0?t=0:t>e.length&&mt(),r===void 0?r=e.length-t:r>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Qs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qs?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Qs.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Ot(e.length,t.length)}static compareSegments(e,t){const r=Qs.isNumericId(e),s=Qs.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Qs.extractNumericId(e).compare(Qs.extractNumericId(t)):Um(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qo.fromString(e.substring(4,e.length-2))}}class Vn extends Qs{construct(e,t,r){return new Vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const jk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends Qs{construct(e,t,r){return new Kr(e,t,r)}static isValidIdentifier(e){return jk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aE}static keyField(){return new Kr([aE])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Je(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const p=e[s];if(p==="\\"){if(s+1===e.length)throw new Je(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new Je(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else p==="`"?(d=!d,s++):p!=="."||d?(r+=p,s++):(o(),s++)}if(o(),d)throw new Je(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Vn.fromString(e))}static fromName(e){return new ct(Vn.fromString(e).popFirst(5))}static empty(){return new ct(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Vn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=-1;function Hk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=bt.fromTimestamp(r===1e9?new Un(t+1,0):new Un(t,r));return new Xo(s,ct.empty(),e)}function Gk(n){return new Xo(n.readTime,n.key,Gf)}class Xo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xo(bt.min(),ct.empty(),Gf)}static max(){return new Xo(bt.max(),ct.empty(),Gf)}}function qk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ct.comparator(n.documentKey,e.documentKey),t!==0?t:Ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(n){if(n.code!==Le.FAILED_PRECONDITION||n.message!==Yk)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,r)=>{t(e)})}static reject(e){return new Pe((t,r)=>{r(e)})}static waitFor(e){return new Pe((t,r)=>{let s=0,o=0,d=!1;e.forEach(p=>{++s,p.next(()=>{++o,d&&o===s&&t()},w=>r(w))}),d=!0,o===s&&t()})}static or(e){let t=Pe.resolve(!1);for(const r of e)t=t.next(s=>s?Pe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new Pe((r,s)=>{const o=e.length,d=new Array(o);let p=0;for(let w=0;w<o;w++){const y=w;t(e[y]).next(T=>{d[y]=T,++p,p===o&&r(d)},T=>s(T))}})}static doWhile(e,t){return new Pe((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function Xk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}J0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-1;function eg(n){return n==null}function h0(n){return n===0&&1/n==-1/0}function Kk(n){return typeof n=="number"&&Number.isInteger(n)&&!h0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="";function Qk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=oE(e)),e=Zk(n.get(t),e);return oE(e)}function Zk(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case qS:t+="";break;default:t+=o}}return t}function oE(n){return n+qS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new Zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=s??Xr.EMPTY,this.right=o??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Xr(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Xr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1;Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,t,r,s,o){return this}insert(e,t,r){return new Xr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(e){return new cE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sr(this.comparator);return t.data=e,t}}class cE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new Ji([])}unionWith(e){let t=new Sr(Kr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ji(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return su(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WS("Invalid base64 string: "+o):o}}(e);return new Zr(t)}static fromUint8Array(e){const t=function(s){let o="";for(let d=0;d<s.length;++d)o+=String.fromCharCode(s[d]);return o}(e);return new Zr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const $k=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ko(n){if(fn(!!n),typeof n=="string"){let e=0;const t=$k.exec(n);if(fn(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hr(n.seconds),nanos:hr(n.nanos)}}function hr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qo(n){return typeof n=="string"?Zr.fromBase64String(n):Zr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="server_timestamp",KS="__type__",QS="__previous_value__",ZS="__local_write_time__";function Uy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KS])===null||t===void 0?void 0:t.stringValue)===XS}function tg(n){const e=n.mapValue.fields[QS];return Uy(e)?tg(e):e}function qf(n){const e=Ko(n.mapValue.fields[ZS].timestampValue);return new Un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,r,s,o,d,p,w,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=w,this.useFetchStreams=y}}const g0="(default)";class Yf{constructor(e,t){this.projectId=e,this.database=t||g0}static empty(){return new Yf("","")}get isDefaultDatabase(){return this.database===g0}isEqual(e){return e instanceof Yf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="__type__",eP="__max__",Ih={mapValue:{}},JS="__vector__",p0="value";function Zo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uy(n)?4:nP(n)?9007199254740991:tP(n)?10:11:mt()}function ia(n,e){if(n===e)return!0;const t=Zo(n);if(t!==Zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qf(n).isEqual(qf(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const d=Ko(s.timestampValue),p=Ko(o.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return Qo(s.bytesValue).isEqual(Qo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return hr(s.geoPointValue.latitude)===hr(o.geoPointValue.latitude)&&hr(s.geoPointValue.longitude)===hr(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return hr(s.integerValue)===hr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const d=hr(s.doubleValue),p=hr(o.doubleValue);return d===p?h0(d)===h0(p):isNaN(d)&&isNaN(p)}return!1}(n,e);case 9:return su(n.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:case 11:return function(s,o){const d=s.mapValue.fields||{},p=o.mapValue.fields||{};if(lE(d)!==lE(p))return!1;for(const w in d)if(d.hasOwnProperty(w)&&(p[w]===void 0||!ia(d[w],p[w])))return!1;return!0}(n,e);default:return mt()}}function Wf(n,e){return(n.values||[]).find(t=>ia(t,e))!==void 0}function au(n,e){if(n===e)return 0;const t=Zo(n),r=Zo(e);if(t!==r)return Ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(o,d){const p=hr(o.integerValue||o.doubleValue),w=hr(d.integerValue||d.doubleValue);return p<w?-1:p>w?1:p===w?0:isNaN(p)?isNaN(w)?0:-1:1}(n,e);case 3:return uE(n.timestampValue,e.timestampValue);case 4:return uE(qf(n),qf(e));case 5:return Um(n.stringValue,e.stringValue);case 6:return function(o,d){const p=Qo(o),w=Qo(d);return p.compareTo(w)}(n.bytesValue,e.bytesValue);case 7:return function(o,d){const p=o.split("/"),w=d.split("/");for(let y=0;y<p.length&&y<w.length;y++){const T=Ot(p[y],w[y]);if(T!==0)return T}return Ot(p.length,w.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,d){const p=Ot(hr(o.latitude),hr(d.latitude));return p!==0?p:Ot(hr(o.longitude),hr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fE(n.arrayValue,e.arrayValue);case 10:return function(o,d){var p,w,y,T;const _=o.fields||{},I=d.fields||{},N=(p=_[p0])===null||p===void 0?void 0:p.arrayValue,M=(w=I[p0])===null||w===void 0?void 0:w.arrayValue,P=Ot(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((T=M==null?void 0:M.values)===null||T===void 0?void 0:T.length)||0);return P!==0?P:fE(N,M)}(n.mapValue,e.mapValue);case 11:return function(o,d){if(o===Ih.mapValue&&d===Ih.mapValue)return 0;if(o===Ih.mapValue)return 1;if(d===Ih.mapValue)return-1;const p=o.fields||{},w=Object.keys(p),y=d.fields||{},T=Object.keys(y);w.sort(),T.sort();for(let _=0;_<w.length&&_<T.length;++_){const I=Um(w[_],T[_]);if(I!==0)return I;const N=au(p[w[_]],y[T[_]]);if(N!==0)return N}return Ot(w.length,T.length)}(n.mapValue,e.mapValue);default:throw mt()}}function uE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ot(n,e);const t=Ko(n),r=Ko(e),s=Ot(t.seconds,r.seconds);return s!==0?s:Ot(t.nanos,r.nanos)}function fE(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=au(t[s],r[s]);if(o)return o}return Ot(t.length,r.length)}function ou(n){return Fm(n)}function Fm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ko(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ct.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Fm(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const d of r)o?o=!1:s+=",",s+=`${d}:${Fm(t.fields[d])}`;return s+"}"}(n.mapValue):mt()}function Gh(n){switch(Zo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tg(n);return e?16+Gh(e):16;case 5:return 2*n.stringValue.length;case 6:return Qo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Gh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return sl(r.fields,(o,d)=>{s+=o.length+Gh(d)}),s}(n.mapValue);default:throw mt()}}function dE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zm(n){return!!n&&"integerValue"in n}function Fy(n){return!!n&&"arrayValue"in n}function hE(n){return!!n&&"nullValue"in n}function gE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function tP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$S])===null||t===void 0?void 0:t.stringValue)===JS}function Mf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mf(t)}setAll(e){let t=Kr.emptyPath(),r={},s=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=p.popLast()}d?r[p.lastSegment()]=Mf(d):s.push(p.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];qh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){sl(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Ri(Mf(this.value))}}function eC(n){const e=[];return sl(n.fields,(t,r)=>{const s=new Kr([t]);if(qh(r)){const o=eC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const d of o)e.push(s.child(d))}else e.push(s)}),new Ji(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,r,s,o,d,p){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ci(e,0,bt.min(),bt.min(),bt.min(),Ri.empty(),0)}static newFoundDocument(e,t,r,s){return new ci(e,1,t,bt.min(),r,s,0)}static newNoDocument(e,t){return new ci(e,2,t,bt.min(),bt.min(),Ri.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,bt.min(),bt.min(),Ri.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t){this.position=e,this.inclusive=t}}function pE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],d=n.position[s];if(o.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),t.key):r=au(d,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ia(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t="asc"){this.field=e,this.dir=t}}function rP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{}class vr extends tC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sP(e,t,r):t==="array-contains"?new lP(e,r):t==="in"?new cP(e,r):t==="not-in"?new uP(e,r):t==="array-contains-any"?new fP(e,r):new vr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aP(e,r):new oP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(au(t,this.value)):t!==null&&Zo(this.value)===Zo(t)&&this.matchesComparison(au(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends tC{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ps(e,t)}matches(e){return nC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nC(n){return n.op==="and"}function rC(n){return iP(n)&&nC(n)}function iP(n){for(const e of n.filters)if(e instanceof Ps)return!1;return!0}function jm(n){if(n instanceof vr)return n.field.canonicalString()+n.op.toString()+ou(n.value);if(rC(n))return n.filters.map(e=>jm(e)).join(",");{const e=n.filters.map(t=>jm(t)).join(",");return`${n.op}(${e})`}}function iC(n,e){return n instanceof vr?function(r,s){return s instanceof vr&&r.op===s.op&&r.field.isEqual(s.field)&&ia(r.value,s.value)}(n,e):n instanceof Ps?function(r,s){return s instanceof Ps&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,d,p)=>o&&iC(d,s.filters[p]),!0):!1}(n,e):void mt()}function sC(n){return n instanceof vr?function(t){return`${t.field.canonicalString()} ${t.op} ${ou(t.value)}`}(n):n instanceof Ps?function(t){return t.op.toString()+" {"+t.getFilters().map(sC).join(" ,")+"}"}(n):"Filter"}class sP extends vr{constructor(e,t,r){super(e,t,r),this.key=ct.fromName(r.referenceValue)}matches(e){const t=ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class aP extends vr{constructor(e,t){super(e,"in",t),this.keys=aC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oP extends vr{constructor(e,t){super(e,"not-in",t),this.keys=aC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ct.fromName(r.referenceValue))}class lP extends vr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fy(t)&&Wf(t.arrayValue,this.value)}}class cP extends vr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wf(this.value.arrayValue,t)}}class uP extends vr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Wf(this.value.arrayValue,t)}}class fP extends vr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t=null,r=[],s=[],o=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=d,this.endAt=p,this.le=null}}function yE(n,e=null,t=[],r=[],s=null,o=null,d=null){return new dP(n,e,t,r,s,o,d)}function zy(n){const e=At(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),eg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ou(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ou(r)).join(",")),e.le=t}return e.le}function jy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mE(n.startAt,e.startAt)&&mE(n.endAt,e.endAt)}function Hm(n){return ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t=null,r=[],s=[],o=null,d="F",p=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=d,this.startAt=p,this.endAt=w,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hP(n,e,t,r,s,o,d,p){return new bu(n,e,t,r,s,o,d,p)}function oC(n){return new bu(n)}function wE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lC(n){return n.collectionGroup!==null}function Df(n){const e=At(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Sr(Kr.comparator);return d.filters.forEach(w=>{w.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Xf(o,r))}),t.has(Kr.keyField().canonicalString())||e.he.push(new Xf(Kr.keyField(),r))}return e.he}function na(n){const e=At(n);return e.Pe||(e.Pe=gP(e,Df(n))),e.Pe}function gP(n,e){if(n.limitType==="F")return yE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Xf(s.field,o)});const t=n.endAt?new m0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new m0(n.startAt.position,n.startAt.inclusive):null;return yE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gm(n,e){const t=n.filters.concat([e]);return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qm(n,e,t){return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ng(n,e){return jy(na(n),na(e))&&n.limitType===e.limitType}function cC(n){return`${zy(na(n))}|lt:${n.limitType}`}function Pc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>sC(s)).join(", ")}]`),eg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ou(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ou(s)).join(",")),`Target(${r})`}(na(n))}; limitType=${n.limitType})`}function rg(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ct.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Df(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(d,p,w){const y=pE(d,p,w);return d.inclusive?y<=0:y<0}(r.startAt,Df(r),s)||r.endAt&&!function(d,p,w){const y=pE(d,p,w);return d.inclusive?y>=0:y>0}(r.endAt,Df(r),s))}(n,e)}function pP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uC(n){return(e,t)=>{let r=!1;for(const s of Df(n)){const o=mP(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function mP(n,e,t){const r=n.field.isKeyField()?ct.comparator(e.key,t.key):function(o,d,p){const w=d.data.field(o),y=p.data.field(o);return w!==null&&y!==null?au(w,y):mt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){sl(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return YS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Zn(ct.comparator);function qa(){return yP}const fC=new Zn(ct.comparator);function Af(...n){let e=fC;for(const t of n)e=e.insert(t.key,t);return e}function dC(n){let e=fC;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Dl(){return Of()}function hC(){return Of()}function Of(){return new Hl(n=>n.toString(),(n,e)=>n.isEqual(e))}const wP=new Zn(ct.comparator),xP=new Sr(ct.comparator);function Yt(...n){let e=xP;for(const t of n)e=e.add(t);return e}const vP=new Sr(Ot);function bP(){return vP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:h0(e)?"-0":e}}function gC(n){return{integerValue:""+n}}function EP(n,e){return Kk(e)?gC(e):Hy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this._=void 0}}function TP(n,e,t){return n instanceof Kf?function(s,o){const d={fields:{[KS]:{stringValue:XS},[ZS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Uy(o)&&(o=tg(o)),o&&(d.fields[QS]=o),{mapValue:d}}(t,e):n instanceof Qf?mC(n,e):n instanceof Zf?yC(n,e):function(s,o){const d=pC(s,o),p=xE(d)+xE(s.Ie);return zm(d)&&zm(s.Ie)?gC(p):Hy(s.serializer,p)}(n,e)}function AP(n,e,t){return n instanceof Qf?mC(n,e):n instanceof Zf?yC(n,e):t}function pC(n,e){return n instanceof y0?function(r){return zm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Kf extends ig{}class Qf extends ig{constructor(e){super(),this.elements=e}}function mC(n,e){const t=wC(e);for(const r of n.elements)t.some(s=>ia(s,r))||t.push(r);return{arrayValue:{values:t}}}class Zf extends ig{constructor(e){super(),this.elements=e}}function yC(n,e){let t=wC(e);for(const r of n.elements)t=t.filter(s=>!ia(s,r));return{arrayValue:{values:t}}}class y0 extends ig{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function xE(n){return hr(n.integerValue||n.doubleValue)}function wC(n){return Fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t){this.field=e,this.transform=t}}function SP(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Qf&&s instanceof Qf||r instanceof Zf&&s instanceof Zf?su(r.elements,s.elements,ia):r instanceof y0&&s instanceof y0?ia(r.Ie,s.Ie):r instanceof Kf&&s instanceof Kf}(n.transform,e.transform)}class CP{constructor(e,t){this.version=e,this.transformResults=t}}class ws{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ws}static exists(e){return new ws(void 0,e)}static updateTime(e){return new ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sg{}function xC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gy(n.key,ws.none()):new cd(n.key,n.data,ws.none());{const t=n.data,r=Ri.empty();let s=new Sr(Kr.comparator);for(let o of e.fields)if(!s.has(o)){let d=t.field(o);d===null&&o.length>1&&(o=o.popLast(),d=t.field(o)),d===null?r.delete(o):r.set(o,d),s=s.add(o)}return new al(n.key,r,new Ji(s.toArray()),ws.none())}}function IP(n,e,t){n instanceof cd?function(s,o,d){const p=s.value.clone(),w=bE(s.fieldTransforms,o,d.transformResults);p.setAll(w),o.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):n instanceof al?function(s,o,d){if(!Yh(s.precondition,o))return void o.convertToUnknownDocument(d.version);const p=bE(s.fieldTransforms,o,d.transformResults),w=o.data;w.setAll(vC(s)),w.setAll(p),o.convertToFoundDocument(d.version,w).setHasCommittedMutations()}(n,e,t):function(s,o,d){o.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function kf(n,e,t,r){return n instanceof cd?function(o,d,p,w){if(!Yh(o.precondition,d))return p;const y=o.value.clone(),T=EE(o.fieldTransforms,w,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof al?function(o,d,p,w){if(!Yh(o.precondition,d))return p;const y=EE(o.fieldTransforms,w,d),T=d.data;return T.setAll(vC(o)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,d,p){return Yh(o.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(n,e,t)}function RP(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=pC(r.transform,s||null);o!=null&&(t===null&&(t=Ri.empty()),t.set(r.field,o))}return t||null}function vE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&su(r,s,(o,d)=>SP(o,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cd extends sg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class al extends sg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bE(n,e,t){const r=new Map;fn(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],d=o.transform,p=e.data.field(o.field);r.set(o.field,AP(d,p,t[s]))}return r}function EE(n,e,t){const r=new Map;for(const s of n){const o=s.transform,d=t.data.field(s.field);r.set(s.field,TP(o,d,e))}return r}class Gy extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NP extends sg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IP(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hC();return this.mutations.forEach(s=>{const o=e.get(s.key),d=o.overlayedDocument;let p=this.applyToLocalView(d,o.mutatedFields);p=t.has(s.key)?null:p;const w=xC(d,p);w!==null&&r.set(s.key,w),d.isValidDocument()||d.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&su(this.mutations,e.mutations,(t,r)=>vE(t,r))&&su(this.baseMutations,e.baseMutations,(t,r)=>vE(t,r))}}class qy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){fn(e.mutations.length===r.length);let s=function(){return wP}();const o=e.mutations;for(let d=0;d<o.length;d++)s=s.insert(o[d].key,r[d].version);return new qy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr,Zt;function kP(n){switch(n){case Le.OK:return mt();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return mt()}}function bC(n){if(n===void 0)return Ga("GRPC error has no .code"),Le.UNKNOWN;switch(n){case xr.OK:return Le.OK;case xr.CANCELLED:return Le.CANCELLED;case xr.UNKNOWN:return Le.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Le.INTERNAL;case xr.UNAVAILABLE:return Le.UNAVAILABLE;case xr.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case xr.NOT_FOUND:return Le.NOT_FOUND;case xr.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case xr.ABORTED:return Le.ABORTED;case xr.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case xr.DATA_LOSS:return Le.DATA_LOSS;default:return mt()}}(Zt=xr||(xr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new qo([4294967295,4294967295],0);function TE(n){const e=HS().encode(n),t=new LS;return t.update(e),new Uint8Array(t.digest())}function AE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qo([t,r],0),new qo([s,o],0)]}class Yy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _f(`Invalid padding: ${t}`);if(r<0)throw new _f(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _f(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _f(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=qo.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(qo.fromNumber(r)));return s.compare(PP)===1&&(s=new qo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=TE(e),[r,s]=AE(t);for(let o=0;o<this.hashCount;o++){const d=this.Ae(r,s,o);if(!this.Re(d))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),d=new Yy(o,s,t);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const t=TE(e),[r,s]=AE(t);for(let o=0;o<this.hashCount;o++){const d=this.Ae(r,s,o);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ag(bt.min(),s,new Zn(Ot),qa(),Yt())}}class ud{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ud(r,t,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class EC{constructor(e,t){this.targetId=e,this.ge=t}}class TC{constructor(e,t,r=Zr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class _E{constructor(){this.pe=0,this.ye=SE(),this.we=Zr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Yt(),t=Yt(),r=Yt();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:mt()}}),new ud(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=SE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,fn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class LP{constructor(e){this.ke=e,this.qe=new Map,this.Qe=qa(),this.$e=Rh(),this.Ue=Rh(),this.Ke=new Zn(Ot)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(Hm(o))if(r===0){const d=new ct(o.path);this.ze(t,d,ci.newNoDocument(d,bt.min()))}else fn(r===1);else{const d=this.et(t);if(d!==r){const p=this.tt(e),w=p?this.nt(p,e,d):1;if(w!==0){this.Ye(t);const y=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let d,p;try{d=Qo(r).toUint8Array()}catch(w){if(w instanceof WS)return iu("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{p=new Yy(d,s,o)}catch(w){return iu(w instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return p.Ee===0?null:p}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${o.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,d)=>{const p=this.Xe(d);if(p){if(o.current&&Hm(p.target)){const w=new ct(p.target.path);this._t(w).has(d)||this.ut(d,w)||this.ze(d,w,ci.newNoDocument(w,e))}o.ve&&(t.set(d,o.Fe()),o.Me())}});let r=Yt();this.Ue.forEach((o,d)=>{let p=!0;d.forEachWhile(w=>{const y=this.Xe(w);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(o))}),this.Qe.forEach((o,d)=>d.setReadTime(e));const s=new ag(e,t,this.Ke,this.Qe,r);return this.Qe=qa(),this.$e=Rh(),this.Ue=Rh(),this.Ke=new Zn(Ot),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new _E,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Sr(Ot),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Sr(Ot),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _E),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Rh(){return new Zn(ct.comparator)}function SE(){return new Zn(ct.comparator)}const BP={asc:"ASCENDING",desc:"DESCENDING"},VP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UP={and:"AND",or:"OR"};class FP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ym(n,e){return n.useProto3Json||eg(e)?e:{value:e}}function w0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zP(n,e){return w0(n,e.toTimestamp())}function ra(n){return fn(!!n),bt.fromTimestamp(function(t){const r=Ko(t);return new Un(r.seconds,r.nanos)}(n))}function Wy(n,e){return Wm(n,e).canonicalString()}function Wm(n,e){const t=function(s){return new Vn(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _C(n){const e=Vn.fromString(n);return fn(NC(e)),e}function Xm(n,e){return Wy(n.databaseId,e.path)}function kp(n,e){const t=_C(e);if(t.get(1)!==n.databaseId.projectId)throw new Je(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Je(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ct(CC(t))}function SC(n,e){return Wy(n.databaseId,e)}function jP(n){const e=_C(n);return e.length===4?Vn.emptyPath():CC(e)}function Km(n){return new Vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CC(n){return fn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function CE(n,e,t){return{name:Xm(n,e),fields:t.value.mapValue.fields}}function HP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(y,T){return y.useProto3Json?(fn(T===void 0||typeof T=="string"),Zr.fromBase64String(T||"")):(fn(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Zr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const T=y.code===void 0?Le.UNKNOWN:bC(y.code);return new Je(T,y.message||"")}(d);t=new TC(r,s,o,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=kp(n,r.document.name),o=ra(r.document.updateTime),d=r.document.createTime?ra(r.document.createTime):bt.min(),p=new Ri({mapValue:{fields:r.document.fields}}),w=ci.newFoundDocument(s,o,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];t=new Wh(y,T,w.key,w)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=kp(n,r.document),o=r.readTime?ra(r.readTime):bt.min(),d=ci.newNoDocument(s,o),p=r.removedTargetIds||[];t=new Wh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=kp(n,r.document),o=r.removedTargetIds||[];t=new Wh([],o,s,null)}else{if(!("filter"in e))return mt();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,d=new OP(s,o),p=r.targetId;t=new EC(p,d)}}return t}function GP(n,e){let t;if(e instanceof cd)t={update:CE(n,e.key,e.value)};else if(e instanceof Gy)t={delete:Xm(n,e.key)};else if(e instanceof al)t={update:CE(n,e.key,e.data),updateMask:JP(e.fieldMask)};else{if(!(e instanceof NP))return mt();t={verify:Xm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,d){const p=d.transform;if(p instanceof Kf)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Qf)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Zf)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof y0)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw mt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:zP(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:mt()}(n,e.precondition)),t}function qP(n,e){return n&&n.length>0?(fn(e!==void 0),n.map(t=>function(s,o){let d=s.updateTime?ra(s.updateTime):ra(o);return d.isEqual(bt.min())&&(d=ra(o)),new CP(d,s.transformResults||[])}(t,e))):[]}function YP(n,e){return{documents:[SC(n,e.path)]}}function WP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=SC(n,s);const o=function(y){if(y.length!==0)return RC(Ps.create(y,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const d=function(y){if(y.length!==0)return y.map(T=>function(I){return{field:Lc(I.field),direction:QP(I.dir)}}(T))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=Ym(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:s}}function XP(n){let e=jP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){fn(r===1);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let o=[];t.where&&(o=function(_){const I=IC(_);return I instanceof Ps&&rC(I)?I.getFilters():[I]}(t.where));let d=[];t.orderBy&&(d=function(_){return _.map(I=>function(M){return new Xf(Bc(M.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(t.orderBy));let p=null;t.limit&&(p=function(_){let I;return I=typeof _=="object"?_.value:_,eg(I)?null:I}(t.limit));let w=null;t.startAt&&(w=function(_){const I=!!_.before,N=_.values||[];return new m0(N,I)}(t.startAt));let y=null;return t.endAt&&(y=function(_){const I=!_.before,N=_.values||[];return new m0(N,I)}(t.endAt)),hP(e,s,d,o,p,"F",w,y)}function KP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bc(t.unaryFilter.field);return vr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bc(t.unaryFilter.field);return vr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Bc(t.unaryFilter.field);return vr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Bc(t.unaryFilter.field);return vr.create(d,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):n.fieldFilter!==void 0?function(t){return vr.create(Bc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ps.create(t.compositeFilter.filters.map(r=>IC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return mt()}}(t.compositeFilter.op))}(n):mt()}function QP(n){return BP[n]}function ZP(n){return VP[n]}function $P(n){return UP[n]}function Lc(n){return{fieldPath:n.canonicalString()}}function Bc(n){return Kr.fromServerFormat(n.fieldPath)}function RC(n){return n instanceof vr?function(t){if(t.op==="=="){if(gE(t.value))return{unaryFilter:{field:Lc(t.field),op:"IS_NAN"}};if(hE(t.value))return{unaryFilter:{field:Lc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gE(t.value))return{unaryFilter:{field:Lc(t.field),op:"IS_NOT_NAN"}};if(hE(t.value))return{unaryFilter:{field:Lc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(t.field),op:ZP(t.op),value:t.value}}}(n):n instanceof Ps?function(t){const r=t.getFilters().map(s=>RC(s));return r.length===1?r[0]:{compositeFilter:{op:$P(t.op),filters:r}}}(n):mt()}function JP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t,r,s,o=bt.min(),d=bt.min(),p=Zr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=w}withSequenceNumber(e){return new Fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.Tt=e}}function t9(n){const e=XP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.Tn=new r9}addToCollectionParentIndex(e,t){return this.Tn.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Pe.resolve()}deleteFieldIndex(e,t){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,t){return Pe.resolve()}getDocumentsMatchingTarget(e,t){return Pe.resolve(null)}getIndexType(e,t){return Pe.resolve(0)}getFieldIndexes(e,t){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,t){return Pe.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,t){return Pe.resolve(Xo.min())}updateCollectionGroup(e,t,r){return Pe.resolve()}updateIndexEntries(e,t){return Pe.resolve()}}class r9{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Sr(Vn.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Sr(Vn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MC=41943040;class Ii{static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(MC,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new lu(0)}static Kn(){return new lu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LruGarbageCollector",i9=1048576;function NE([n,e],[t,r]){const s=Ot(n,t);return s===0?Ot(e,r):s}class s9{constructor(e){this.Hn=e,this.buffer=new Sr(NE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class a9{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ze(RE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vu(t)?Ze(RE,"Ignoring IndexedDB error during garbage collection: ",t):await xu(t)}await this.er(3e5)})}}class o9{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Pe.resolve(J0.ae);const r=new s9(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(IE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,o,d,p,w,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,d=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,p=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(y=Date.now(),kc()<=Gt.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${s} in `+(p-d)+`ms
	Removed ${o} targets in `+(w-p)+`ms
	Removed ${_} documents in `+(y-w)+`ms
Total Duration: ${y-T}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function l9(n,e){return new o9(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.changes=new Hl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&kf(r.mutation,s,Ji.empty(),Un.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Yt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Yt()){const s=Dl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let d=Af();return o.forEach((p,w)=>{d=d.insert(p,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Dl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Yt()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,s){let o=qa();const d=Of(),p=function(){return Of()}();return t.forEach((w,y)=>{const T=r.get(y.key);s.has(y.key)&&(T===void 0||T.mutation instanceof al)?o=o.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),kf(T.mutation,y,T.mutation.getFieldMask(),Un.now())):d.set(y.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,o).next(w=>(w.forEach((y,T)=>d.set(y,T)),t.forEach((y,T)=>{var _;return p.set(y,new u9(T,(_=d.get(y))!==null&&_!==void 0?_:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Of();let s=new Zn((d,p)=>d-p),o=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(w=>{const y=t.get(w);if(y===null)return;let T=r.get(w)||Ji.empty();T=p.applyToLocalView(y,T),r.set(w,T);const _=(s.get(p.batchId)||Yt()).add(w);s=s.insert(p.batchId,_)})}).next(()=>{const d=[],p=s.getReverseIterator();for(;p.hasNext();){const w=p.getNext(),y=w.key,T=w.value,_=hC();T.forEach(I=>{if(!o.has(I)){const N=xC(t.get(I),r.get(I));N!==null&&_.set(I,N),o=o.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,_))}return Pe.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const d=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Pe.resolve(Dl());let p=Gf,w=o;return d.next(y=>Pe.forEach(y,(T,_)=>(p<_.largestBatchId&&(p=_.largestBatchId),o.get(T)?Pe.resolve():this.remoteDocumentCache.getEntry(e,T).next(I=>{w=w.insert(T,I)}))).next(()=>this.populateOverlays(e,y,o)).next(()=>this.computeViews(e,w,y,Yt())).next(T=>({batchId:p,changes:dC(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ct(t)).next(r=>{let s=Af();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let d=Af();return this.indexManager.getCollectionParents(e,o).next(p=>Pe.forEach(p,w=>{const y=function(_,I){return new bu(I,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,w.child(o));return this.getDocumentsMatchingCollectionQuery(e,y,r,s).next(T=>{T.forEach((_,I)=>{d=d.insert(_,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(o=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(d=>{o.forEach((w,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,ci.newInvalidDocument(T)))});let p=Af();return d.forEach((w,y)=>{const T=o.get(w);T!==void 0&&kf(T.mutation,y,Ji.empty(),Un.now()),rg(t,y)&&(p=p.insert(w,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Pe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:ra(s.createTime)}}(t)),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:t9(s.bundledQuery),readTime:ra(s.readTime)}}(t)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.overlays=new Zn(ct.comparator),this.Rr=new Map}getOverlay(e,t){return Pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Dl();return Pe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.Et(e,t,o)}),Pe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Pe.resolve()}getOverlaysForCollection(e,t,r){const s=Dl(),o=t.length+1,d=new ct(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const w=p.getNext().value,y=w.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&w.largestBatchId>r&&s.set(w.getKey(),w)}return Pe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Zn((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let T=o.get(y.largestBatchId);T===null&&(T=Dl(),o=o.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Dl(),w=o.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((y,T)=>p.set(y,T)),!(p.size()>=s)););return Pe.resolve(p)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const d=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new DP(t,r));let o=this.Rr.get(t);o===void 0&&(o=Yt(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.sessionToken=Zr.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Vr=new Sr(Lr.mr),this.gr=new Sr(Lr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Lr(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Lr(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ct(new Vn([])),r=new Lr(t,e),s=new Lr(t,e+1),o=[];return this.gr.forEachInRange([r,s],d=>{this.wr(d),o.push(d.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ct(new Vn([])),r=new Lr(t,e),s=new Lr(t,e+1);let o=Yt();return this.gr.forEachInRange([r,s],d=>{o=o.add(d.key)}),o}containsKey(e){const t=new Lr(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Lr{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ct.comparator(e.key,t.key)||Ot(e.Cr,t.Cr)}static pr(e,t){return Ot(e.Cr,t.Cr)||ct.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Sr(Lr.mr)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MP(o,t,r,s);this.mutationQueue.push(d);for(const p of s)this.Mr=this.Mr.add(new Lr(p.key,o)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Pe.resolve(d)}lookupMutationBatch(e,t){return Pe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),o=s<0?0:s;return Pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?Vy:this.Fr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Lr(t,0),s=new Lr(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,s],d=>{const p=this.Or(d.Cr);o.push(p)}),Pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Sr(Ot);return t.forEach(s=>{const o=new Lr(s,0),d=new Lr(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,d],p=>{r=r.add(p.Cr)})}),Pe.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;ct.isDocumentKey(o)||(o=o.child(""));const d=new Lr(new ct(o),0);let p=new Sr(Ot);return this.Mr.forEachWhile(w=>{const y=w.key.path;return!!r.isPrefixOf(y)&&(y.length===s&&(p=p.add(w.Cr)),!0)},d),Pe.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){fn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Pe.forEach(t.mutations,s=>{const o=new Lr(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Lr(t,0),s=this.Mr.firstAfterOrEqual(r);return Pe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.kr=e,this.docs=function(){return new Zn(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,d=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Pe.resolve(r?r.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let r=qa();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ci.newInvalidDocument(s))}),Pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=qa();const d=t.path,p=new ct(d.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(p);for(;w.hasNext();){const{key:y,value:{document:T}}=w.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||qk(Gk(T),r)<=0||(s.has(T.key)||rg(t,T))&&(o=o.insert(T.key,T.mutableCopy()))}return Pe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){mt()}qr(e,t){return Pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new y9(this)}getSize(e){return Pe.resolve(this.size)}}class y9 extends c9{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Pe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.persistence=e,this.Qr=new Hl(t=>zy(t),jy),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Xy,this.targetCount=0,this.Kr=lu.Un()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Pe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new lu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.zn(t),Pe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.Qr.delete(d),o.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),Pe.waitFor(o).next(()=>s)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Pe.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),Pe.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(d=>{o.push(s.markPotentiallyOrphaned(e,d))}),Pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return Pe.resolve(r)}containsKey(e,t){return Pe.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new J0(0),this.zr=!1,this.zr=!0,this.jr=new g9,this.referenceDelegate=e(this),this.Hr=new w9(this),this.indexManager=new n9,this.remoteDocumentCache=function(s){return new m9(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new e9(t),this.Yr=new d9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new h9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new p9(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const s=new x9(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return Pe.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class x9 extends Wk{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.ti=new Xy,this.ni=null}static ri(e){return new Ky(e)}get ii(){if(this.ni)return this.ni;throw mt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Pe.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.ii,r=>{const s=ct.fromPath(r);return this.si(e,s).next(o=>{o||t.removeEntry(s,bt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Pe.or([()=>Pe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class x0{constructor(e,t){this.persistence=e,this.oi=new Hl(r=>Qk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=l9(this,t)}static ri(e,t){return new x0(e,t)}Zr(){}Xr(e){return Pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Pe.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(o=>o?Pe.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,d=>this.ar(e,d,t).next(p=>{p||(r++,o.removeEntry(d,bt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Pe.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Pe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gh(e.data.value)),t}ar(e,t,r){return Pe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return Pe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Yt(),s=Yt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Qy(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return e8()?8:Xk(ui())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.rs(e,t).next(d=>{o.result=d}).next(()=>{if(!o.result)return this.ss(e,t,s,r).next(d=>{o.result=d})}).next(()=>{if(o.result)return;const d=new v9;return this._s(e,t,d).next(p=>{if(o.result=p,this.Xi)return this.us(e,t,d,p.size)})}).next(()=>o.result)}us(e,t,r,s){return r.documentReadCount<this.es?(kc()<=Gt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",Pc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Pe.resolve()):(kc()<=Gt.DEBUG&&Ze("QueryEngine","Query:",Pc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(kc()<=Gt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",Pc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,na(t))):Pe.resolve())}rs(e,t){if(wE(t))return Pe.resolve(null);let r=na(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=qm(t,null,"F"),r=na(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const d=Yt(...o);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(w=>{const y=this.cs(t,p);return this.ls(t,y,d,w.readTime)?this.rs(e,qm(t,null,"F")):this.hs(e,y,t,w)}))})))}ss(e,t,r,s){return wE(t)||s.isEqual(bt.min())?Pe.resolve(null):this.ns.getDocuments(e,r).next(o=>{const d=this.cs(t,o);return this.ls(t,d,r,s)?Pe.resolve(null):(kc()<=Gt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pc(t)),this.hs(e,d,t,Hk(s,Gf)).next(p=>p))})}cs(e,t){let r=new Sr(uC(e));return t.forEach((s,o)=>{rg(e,o)&&(r=r.add(o))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,r){return kc()<=Gt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Pc(t)),this.ns.getDocumentsMatchingQuery(e,t,Xo.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(d=>{o=o.insert(d.key,d)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LocalStore",E9=3e8;class T9{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Zn(Ot),this.Is=new Hl(o=>zy(o),jy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function A9(n,e,t,r){return new T9(n,e,t,r)}async function OC(n,e){const t=At(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const d=[],p=[];let w=Yt();for(const y of s){d.push(y.batchId);for(const T of y.mutations)w=w.add(T.key)}for(const y of o){p.push(y.batchId);for(const T of y.mutations)w=w.add(T.key)}return t.localDocuments.getDocuments(r,w).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:p}))})})}function _9(n,e){const t=At(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,w,y,T){const _=y.batch,I=_.keys();let N=Pe.resolve();return I.forEach(M=>{N=N.next(()=>T.getEntry(w,M)).next(P=>{const q=y.docVersions.get(M);fn(q!==null),P.version.compareTo(q)<0&&(_.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),T.addEntry(P)))})}),N.next(()=>p.mutationQueue.removeMutationBatch(w,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let w=Yt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(w=w.add(p.batch.mutations[y].key));return w}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function kC(n){const e=At(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function S9(n,e){const t=At(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const p=[];e.targetChanges.forEach((T,_)=>{const I=s.get(_);if(!I)return;p.push(t.Hr.removeMatchingKeys(o,T.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,T.addedDocuments,_)));let N=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?N=N.withResumeToken(Zr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(T.resumeToken,r)),s=s.insert(_,N),function(P,q,j){return P.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=E9?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(I,N,T)&&p.push(t.Hr.updateTargetData(o,N))});let w=qa(),y=Yt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(o,T))}),p.push(C9(o,d,e.documentUpdates).next(T=>{w=T.Vs,y=T.fs})),!r.isEqual(bt.min())){const T=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));p.push(T)}return Pe.waitFor(p).next(()=>d.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,w,y)).next(()=>w)}).then(o=>(t.Ts=s,o))}function C9(n,e,t){let r=Yt(),s=Yt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let d=qa();return t.forEach((p,w)=>{const y=o.get(p);w.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(p)),w.isNoDocument()&&w.version.isEqual(bt.min())?(e.removeEntry(p,w.readTime),d=d.insert(p,w)):!y.isValidDocument()||w.version.compareTo(y.version)>0||w.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(w),d=d.insert(p,w)):Ze(Zy,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",w.version)}),{Vs:d,fs:s}})}function I9(n,e){const t=At(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Vy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R9(n,e){const t=At(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(o=>o?(s=o,Pe.resolve(s)):t.Hr.allocateTargetId(r).next(d=>(s=new Fo(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Qm(n,e,t){const r=At(n),s=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,d=>r.persistence.referenceDelegate.removeTarget(d,s))}catch(d){if(!vu(d))throw d;Ze(Zy,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function ME(n,e,t){const r=At(n);let s=bt.min(),o=Yt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(w,y,T){const _=At(w),I=_.Is.get(T);return I!==void 0?Pe.resolve(_.Ts.get(I)):_.Hr.getTargetData(y,T)}(r,d,na(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,p.targetId).next(w=>{o=w})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,t?s:bt.min(),t?o:Yt())).next(p=>(N9(r,pP(e),p),{documents:p,gs:o})))}function N9(n,e,t){let r=n.Es.get(e)||bt.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class DE{constructor(){this.activeTargetIds=bP()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M9{constructor(){this.ho=new DE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new DE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="ConnectivityMonitor";class kE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ze(OE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ze(OE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh=null;function Zm(){return Nh===null?Nh=function(){return 268435456+Math.round(2147483648*Math.random())}():Nh++,"0x"+Nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",O9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===g0?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,o){const d=Zm(),p=this.bo(e,t.toUriEncodedString());Ze(Pp,`Sending RPC '${e}' ${d}:`,p,r);const w={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(w,s,o),this.vo(e,p,w,r).then(y=>(Ze(Pp,`Received RPC '${e}' ${d}: `,y),y),y=>{throw iu(Pp,`RPC '${e}' ${d} failed with error: `,y,"url: ",p,"request:",r),y})}Co(e,t,r,s,o,d){return this.So(e,t,r,s,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const r=O9[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="WebChannelConnection";class L9 extends k9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const o=Zm();return new Promise((d,p)=>{const w=new BS;w.setWithCredentials(!0),w.listenOnce(VS.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case Hh.NO_ERROR:const T=w.getResponseJson();Ze(oi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(T)),d(T);break;case Hh.TIMEOUT:Ze(oi,`RPC '${e}' ${o} timed out`),p(new Je(Le.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const _=w.getStatus();if(Ze(oi,`RPC '${e}' ${o} failed with status:`,_,"response text:",w.getResponseText()),_>0){let I=w.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const M=function(q){const j=q.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(j)>=0?j:Le.UNKNOWN}(N.status);p(new Je(M,N.message))}else p(new Je(Le.UNKNOWN,"Server responded with status "+w.getStatus()))}else p(new Je(Le.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Ze(oi,`RPC '${e}' ${o} completed.`)}});const y=JSON.stringify(s);Ze(oi,`RPC '${e}' ${o} sending request:`,s),w.send(t,"POST",y,r,15)})}Wo(e,t,r){const s=Zm(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=zS(),p=FS(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(w.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(w.useFetchStreams=!0),this.Do(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const T=o.join("");Ze(oi,`Creating RPC '${e}' stream ${s}: ${T}`,w);const _=d.createWebChannel(T,w);let I=!1,N=!1;const M=new P9({Fo:q=>{N?Ze(oi,`Not sending because RPC '${e}' stream ${s} is closed:`,q):(I||(Ze(oi,`Opening RPC '${e}' stream ${s} transport.`),_.open(),I=!0),Ze(oi,`RPC '${e}' stream ${s} sending:`,q),_.send(q))},Mo:()=>_.close()}),P=(q,j,K)=>{q.listen(j,F=>{try{K(F)}catch($){setTimeout(()=>{throw $},0)}})};return P(_,Tf.EventType.OPEN,()=>{N||(Ze(oi,`RPC '${e}' stream ${s} transport opened.`),M.Qo())}),P(_,Tf.EventType.CLOSE,()=>{N||(N=!0,Ze(oi,`RPC '${e}' stream ${s} transport closed`),M.Uo())}),P(_,Tf.EventType.ERROR,q=>{N||(N=!0,iu(oi,`RPC '${e}' stream ${s} transport errored:`,q),M.Uo(new Je(Le.UNAVAILABLE,"The operation could not be completed")))}),P(_,Tf.EventType.MESSAGE,q=>{var j;if(!N){const K=q.data[0];fn(!!K);const F=K,$=(F==null?void 0:F.error)||((j=F[0])===null||j===void 0?void 0:j.error);if($){Ze(oi,`RPC '${e}' stream ${s} received error:`,$);const ie=$.status;let se=function(O){const W=xr[O];if(W!==void 0)return bC(W)}(ie),V=$.message;se===void 0&&(se=Le.INTERNAL,V="Unknown error status: "+ie+" with message "+$.message),N=!0,M.Uo(new Je(se,V)),_.close()}else Ze(oi,`RPC '${e}' stream ${s} received:`,K),M.Ko(K)}}),P(p,US.STAT_EVENT,q=>{q.stat===Vm.PROXY?Ze(oi,`RPC '${e}' stream ${s} detected buffering proxy`):q.stat===Vm.NOPROXY&&Ze(oi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(n){return new FP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&Ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="PersistentStream";class LC{constructor(e,t,r,s,o,d,p,w){this.Ti=e,this.n_=r,this.r_=s,this.connection=o,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=w,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new PC(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Le.RESOURCE_EXHAUSTED?(Ga(t.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new Je(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ze(PE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ze(PE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B9 extends LC{constructor(e,t,r,s,o,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=HP(this.serializer,e),r=function(o){if(!("targetChange"in o))return bt.min();const d=o.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ra(d.readTime):bt.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Km(this.serializer),t.addTarget=function(o,d){let p;const w=d.target;if(p=Hm(w)?{documents:YP(o,w)}:{query:WP(o,w).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=AC(o,d.resumeToken);const y=Ym(o,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=w0(o,d.snapshotVersion.toTimestamp());const y=Ym(o,d.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const r=KP(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Km(this.serializer),t.removeTarget=e,this.I_(t)}}class V9 extends LC{constructor(e,t,r,s,o,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return fn(!!e.streamToken),this.lastStreamToken=e.streamToken,fn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=qP(e.writeResults,e.commitTime),r=ra(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Km(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>GP(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{}class F9 extends U9{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Je(Le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,d])=>this.connection.So(e,Wm(t,r),s,o,d)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(Le.UNKNOWN,o.toString())})}Co(e,t,r,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,Wm(t,r),s,d,p,o)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Je(Le.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class z9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ga(t),this.N_=!1):Ze("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="RemoteStore";class j9{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(d=>{r.enqueueAndForget(async()=>{Gl(this)&&(Ze(Vl,"Restarting streams for network reachability change."),await async function(w){const y=At(w);y.W_.add(4),await fd(y),y.j_.set("Unknown"),y.W_.delete(4),await lg(y)}(this))})}),this.j_=new z9(r,s)}}async function lg(n){if(Gl(n))for(const e of n.G_)await e(!0)}async function fd(n){for(const e of n.G_)await e(!1)}function BC(n,e){const t=At(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),tw(t)?ew(t):Eu(t).c_()&&Jy(t,e))}function $y(n,e){const t=At(n),r=Eu(t);t.K_.delete(e),r.c_()&&VC(t,e),t.K_.size===0&&(r.c_()?r.P_():Gl(t)&&t.j_.set("Unknown"))}function Jy(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Eu(n).y_(e)}function VC(n,e){n.H_.Ne(e),Eu(n).w_(e)}function ew(n){n.H_=new LP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Eu(n).start(),n.j_.B_()}function tw(n){return Gl(n)&&!Eu(n).u_()&&n.K_.size>0}function Gl(n){return At(n).W_.size===0}function UC(n){n.H_=void 0}async function H9(n){n.j_.set("Online")}async function G9(n){n.K_.forEach((e,t)=>{Jy(n,e)})}async function q9(n,e){UC(n),tw(n)?(n.j_.q_(e),ew(n)):n.j_.set("Unknown")}async function Y9(n,e,t){if(n.j_.set("Online"),e instanceof TC&&e.state===2&&e.cause)try{await async function(s,o){const d=o.cause;for(const p of o.targetIds)s.K_.has(p)&&(await s.remoteSyncer.rejectListen(p,d),s.K_.delete(p),s.H_.removeTarget(p))}(n,e)}catch(r){Ze(Vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await v0(n,r)}else if(e instanceof Wh?n.H_.We(e):e instanceof EC?n.H_.Ze(e):n.H_.je(e),!t.isEqual(bt.min()))try{const r=await kC(n.localStore);t.compareTo(r)>=0&&await function(o,d){const p=o.H_.ot(d);return p.targetChanges.forEach((w,y)=>{if(w.resumeToken.approximateByteSize()>0){const T=o.K_.get(y);T&&o.K_.set(y,T.withResumeToken(w.resumeToken,d))}}),p.targetMismatches.forEach((w,y)=>{const T=o.K_.get(w);if(!T)return;o.K_.set(w,T.withResumeToken(Zr.EMPTY_BYTE_STRING,T.snapshotVersion)),VC(o,w);const _=new Fo(T.target,w,y,T.sequenceNumber);Jy(o,_)}),o.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(r){Ze(Vl,"Failed to raise snapshot:",r),await v0(n,r)}}async function v0(n,e,t){if(!vu(e))throw e;n.W_.add(1),await fd(n),n.j_.set("Offline"),t||(t=()=>kC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ze(Vl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await lg(n)})}function FC(n,e){return e().catch(t=>v0(n,t,e))}async function cg(n){const e=At(n),t=$o(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Vy;for(;W9(e);)try{const s=await I9(e.localStore,r);if(s===null){e.U_.length===0&&t.P_();break}r=s.batchId,X9(e,s)}catch(s){await v0(e,s)}zC(e)&&jC(e)}function W9(n){return Gl(n)&&n.U_.length<10}function X9(n,e){n.U_.push(e);const t=$o(n);t.c_()&&t.S_&&t.b_(e.mutations)}function zC(n){return Gl(n)&&!$o(n).u_()&&n.U_.length>0}function jC(n){$o(n).start()}async function K9(n){$o(n).C_()}async function Q9(n){const e=$o(n);for(const t of n.U_)e.b_(t.mutations)}async function Z9(n,e,t){const r=n.U_.shift(),s=qy.from(r,e,t);await FC(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await cg(n)}async function $9(n,e){e&&$o(n).S_&&await async function(r,s){if(function(d){return kP(d)&&d!==Le.ABORTED}(s.code)){const o=r.U_.shift();$o(r).h_(),await FC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await cg(r)}}(n,e),zC(n)&&jC(n)}async function LE(n,e){const t=At(n);t.asyncQueue.verifyOperationInProgress(),Ze(Vl,"RemoteStore received new credentials");const r=Gl(t);t.W_.add(3),await fd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await lg(t)}async function J9(n,e){const t=At(n);e?(t.W_.delete(2),await lg(t)):e||(t.W_.add(2),await fd(t),t.j_.set("Unknown"))}function Eu(n){return n.J_||(n.J_=function(t,r,s){const o=At(t);return o.M_(),new B9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:H9.bind(null,n),No:G9.bind(null,n),Lo:q9.bind(null,n),p_:Y9.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),tw(n)?ew(n):n.j_.set("Unknown")):(await n.J_.stop(),UC(n))})),n.J_}function $o(n){return n.Y_||(n.Y_=function(t,r,s){const o=At(t);return o.M_(),new V9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:K9.bind(null,n),Lo:$9.bind(null,n),D_:Q9.bind(null,n),v_:Z9.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await cg(n)):(await n.Y_.stop(),n.U_.length>0&&(Ze(Vl,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const d=Date.now()+r,p=new nw(e,t,d,s,o);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(n,e){if(Ga("AsyncQueue",`${e}: ${n}`),vu(n))return new Je(Le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(e){return new Zc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ct.comparator(t.key,r.key):(t,r)=>ct.comparator(t.key,r.key),this.keyedMap=Af(),this.sortedSet=new Zn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Zc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.Z_=new Zn(ct.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):mt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class cu{constructor(e,t,r,s,o,d,p,w,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=w,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,s,o){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new cu(e,t,Zc.emptySet(t),d,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class tL{constructor(){this.queries=VE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=At(t),o=s.queries;s.queries=VE(),o.forEach((d,p)=>{for(const w of p.ta)w.onError(r)})})(this,new Je(Le.ABORTED,"Firestore shutting down"))}}function VE(){return new Hl(n=>cC(n),ng)}async function nL(n,e){const t=At(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(r=2):(o=new eL,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(d){const p=rw(d,`Initialization of query '${Pc(e.query)}' failed`);return void e.onError(p)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&iw(t)}async function rL(n,e){const t=At(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const d=o.ta.indexOf(e);d>=0&&(o.ta.splice(d,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iL(n,e){const t=At(n);let r=!1;for(const s of e){const o=s.query,d=t.queries.get(o);if(d){for(const p of d.ta)p.oa(s)&&(r=!0);d.ea=s}}r&&iw(t)}function sL(n,e,t){const r=At(n),s=r.queries.get(e);if(s)for(const o of s.ta)o.onError(t);r.queries.delete(e)}function iw(n){n.ia.forEach(e=>{e.next()})}var $m,UE;(UE=$m||($m={}))._a="default",UE.Cache="cache";class aL{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.key=e}}class GC{constructor(e){this.key=e}}class oL{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Yt(),this.mutatedKeys=Yt(),this.ya=uC(e),this.wa=new Zc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new BE,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,d=s,p=!1;const w=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,_)=>{const I=s.get(T),N=rg(this.query,_)?_:null,M=!!I&&this.mutatedKeys.has(I.key),P=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let q=!1;I&&N?I.data.isEqual(N.data)?M!==P&&(r.track({type:3,doc:N}),q=!0):this.va(I,N)||(r.track({type:2,doc:N}),q=!0,(w&&this.ya(N,w)>0||y&&this.ya(N,y)<0)&&(p=!0)):!I&&N?(r.track({type:0,doc:N}),q=!0):I&&!N&&(r.track({type:1,doc:I}),q=!0,(w||y)&&(p=!0)),q&&(N?(d=d.add(N),o=P?o.add(T):o.delete(T)):(d=d.delete(T),o=o.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),o=o.delete(T.key),r.track({type:1,doc:T})}return{wa:d,Da:r,ls:p,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,_)=>function(N,M){const P=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return P(N)-P(M)}(T.type,_.type)||this.ya(T.doc,_.doc)),this.Ca(r),s=s!=null&&s;const p=t&&!s?this.Fa():[],w=this.pa.size===0&&this.current&&!s?1:0,y=w!==this.ga;return this.ga=w,d.length!==0||y?{snapshot:new cu(this.query,e.wa,o,d,e.mutatedKeys,w===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new BE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Yt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new GC(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new HC(r))}),t}Oa(e){this.fa=e.gs,this.pa=Yt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return cu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sw="SyncEngine";class lL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cL{constructor(e){this.key=e,this.Ba=!1}}class uL{constructor(e,t,r,s,o,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Hl(p=>cC(p),ng),this.qa=new Map,this.Qa=new Set,this.$a=new Zn(ct.comparator),this.Ua=new Map,this.Ka=new Xy,this.Wa={},this.Ga=new Map,this.za=lu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fL(n,e,t=!0){const r=QC(n);let s;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await qC(r,e,t,!0),s}async function dL(n,e){const t=QC(n);await qC(t,e,!0,!1)}async function qC(n,e,t,r){const s=await R9(n.localStore,na(e)),o=s.targetId,d=n.sharedClientState.addLocalQueryTarget(o,t);let p;return r&&(p=await hL(n,e,o,d==="current",s.resumeToken)),n.isPrimaryClient&&t&&BC(n.remoteStore,s),p}async function hL(n,e,t,r,s){n.Ha=(_,I,N)=>async function(P,q,j,K){let F=q.view.ba(j);F.ls&&(F=await ME(P.localStore,q.query,!1).then(({documents:V})=>q.view.ba(V,F)));const $=K&&K.targetChanges.get(q.targetId),ie=K&&K.targetMismatches.get(q.targetId)!=null,se=q.view.applyChanges(F,P.isPrimaryClient,$,ie);return zE(P,q.targetId,se.Ma),se.snapshot}(n,_,I,N);const o=await ME(n.localStore,e,!0),d=new oL(e,o.gs),p=d.ba(o.documents),w=ud.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),y=d.applyChanges(p,n.isPrimaryClient,w);zE(n,t,y.Ma);const T=new lL(e,t,d);return n.ka.set(e,T),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function gL(n,e,t){const r=At(n),s=r.ka.get(e),o=r.qa.get(s.targetId);if(o.length>1)return r.qa.set(s.targetId,o.filter(d=>!ng(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&$y(r.remoteStore,s.targetId),Jm(r,s.targetId)}).catch(xu)):(Jm(r,s.targetId),await Qm(r.localStore,s.targetId,!0))}async function pL(n,e){const t=At(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$y(t.remoteStore,r.targetId))}async function mL(n,e,t){const r=TL(n);try{const s=await function(d,p){const w=At(d),y=Un.now(),T=p.reduce((N,M)=>N.add(M.key),Yt());let _,I;return w.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=qa(),P=Yt();return w.ds.getEntries(N,T).next(q=>{M=q,M.forEach((j,K)=>{K.isValidDocument()||(P=P.add(j))})}).next(()=>w.localDocuments.getOverlayedDocuments(N,M)).next(q=>{_=q;const j=[];for(const K of p){const F=RP(K,_.get(K.key).overlayedDocument);F!=null&&j.push(new al(K.key,F,eC(F.value.mapValue),ws.exists(!0)))}return w.mutationQueue.addMutationBatch(N,y,j,p)}).next(q=>{I=q;const j=q.applyToLocalDocumentSet(_,P);return w.documentOverlayCache.saveOverlays(N,q.batchId,j)})}).then(()=>({batchId:I.batchId,changes:dC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(d,p,w){let y=d.Wa[d.currentUser.toKey()];y||(y=new Zn(Ot)),y=y.insert(p,w),d.Wa[d.currentUser.toKey()]=y}(r,s.batchId,t),await dd(r,s.changes),await cg(r.remoteStore)}catch(s){const o=rw(s,"Failed to persist write");t.reject(o)}}async function YC(n,e){const t=At(n);try{const r=await S9(t.localStore,e);e.targetChanges.forEach((s,o)=>{const d=t.Ua.get(o);d&&(fn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.Ba=!0:s.modifiedDocuments.size>0?fn(d.Ba):s.removedDocuments.size>0&&(fn(d.Ba),d.Ba=!1))}),await dd(t,r,e)}catch(r){await xu(r)}}function FE(n,e,t){const r=At(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((o,d)=>{const p=d.view.sa(e);p.snapshot&&s.push(p.snapshot)}),function(d,p){const w=At(d);w.onlineState=p;let y=!1;w.queries.forEach((T,_)=>{for(const I of _.ta)I.sa(p)&&(y=!0)}),y&&iw(w)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yL(n,e,t){const r=At(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ua.get(e),o=s&&s.key;if(o){let d=new Zn(ct.comparator);d=d.insert(o,ci.newNoDocument(o,bt.min()));const p=Yt().add(o),w=new ag(bt.min(),new Map,new Zn(Ot),d,p);await YC(r,w),r.$a=r.$a.remove(o),r.Ua.delete(e),aw(r)}else await Qm(r.localStore,e,!1).then(()=>Jm(r,e,t)).catch(xu)}async function wL(n,e){const t=At(n),r=e.batch.batchId;try{const s=await _9(t.localStore,e);XC(t,r,null),WC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await dd(t,s)}catch(s){await xu(s)}}async function xL(n,e,t){const r=At(n);try{const s=await function(d,p){const w=At(d);return w.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return w.mutationQueue.lookupMutationBatch(y,p).next(_=>(fn(_!==null),T=_.keys(),w.mutationQueue.removeMutationBatch(y,_))).next(()=>w.mutationQueue.performConsistencyCheck(y)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(y,T,p)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>w.localDocuments.getDocuments(y,T))})}(r.localStore,e);XC(r,e,t),WC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await dd(r,s)}catch(s){await xu(s)}}function WC(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function XC(n,e,t){const r=At(n);let s=r.Wa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Jm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||KC(n,r)})}function KC(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&($y(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),aw(n))}function zE(n,e,t){for(const r of t)r instanceof HC?(n.Ka.addReference(r.key,e),vL(n,r)):r instanceof GC?(Ze(sw,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||KC(n,r.key)):mt()}function vL(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Ze(sw,"New document in limbo: "+t),n.Qa.add(r),aw(n))}function aw(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ct(Vn.fromString(e)),r=n.za.next();n.Ua.set(r,new cL(t)),n.$a=n.$a.insert(t,r),BC(n.remoteStore,new Fo(na(oC(t.path)),r,"TargetPurposeLimboResolution",J0.ae))}}async function dd(n,e,t){const r=At(n),s=[],o=[],d=[];r.ka.isEmpty()||(r.ka.forEach((p,w)=>{d.push(r.Ha(w,e,t).then(y=>{var T;if((y||t)&&r.isPrimaryClient){const _=y?!y.fromCache:(T=t==null?void 0:t.targetChanges.get(w.targetId))===null||T===void 0?void 0:T.current;r.sharedClientState.updateQueryState(w.targetId,_?"current":"not-current")}if(y){s.push(y);const _=Qy.Yi(w.targetId,y);o.push(_)}}))}),await Promise.all(d),r.La.p_(s),await async function(w,y){const T=At(w);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Pe.forEach(y,I=>Pe.forEach(I.Hi,N=>T.persistence.referenceDelegate.addReference(_,I.targetId,N)).next(()=>Pe.forEach(I.Ji,N=>T.persistence.referenceDelegate.removeReference(_,I.targetId,N)))))}catch(_){if(!vu(_))throw _;Ze(Zy,"Failed to update sequence numbers: "+_)}for(const _ of y){const I=_.targetId;if(!_.fromCache){const N=T.Ts.get(I),M=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(M);T.Ts=T.Ts.insert(I,P)}}}(r.localStore,o))}async function bL(n,e){const t=At(n);if(!t.currentUser.isEqual(e)){Ze(sw,"User change. New user:",e.toKey());const r=await OC(t.localStore,e);t.currentUser=e,function(o,d){o.Ga.forEach(p=>{p.forEach(w=>{w.reject(new Je(Le.CANCELLED,d))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dd(t,r.Rs)}}function EL(n,e){const t=At(n),r=t.Ua.get(e);if(r&&r.Ba)return Yt().add(r.key);{let s=Yt();const o=t.qa.get(e);if(!o)return s;for(const d of o){const p=t.ka.get(d);s=s.unionWith(p.view.Sa)}return s}}function QC(n){const e=At(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yL.bind(null,e),e.La.p_=iL.bind(null,e.eventManager),e.La.Ja=sL.bind(null,e.eventManager),e}function TL(n){const e=At(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xL.bind(null,e),e}class b0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=og(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return A9(this.persistence,new b9,e.initialUser,this.serializer)}Xa(e){return new DC(Ky.ri,this.serializer)}Za(e){return new M9}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}b0.provider={build:()=>new b0};class AL extends b0{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){fn(this.persistence.referenceDelegate instanceof x0);const r=this.persistence.referenceDelegate.garbageCollector;return new a9(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Ii.withCacheSize(this.cacheSizeBytes):Ii.DEFAULT;return new DC(r=>x0.ri(r,t),this.serializer)}}class ey{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bL.bind(null,this.syncEngine),await J9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tL}()}createDatastore(e){const t=og(e.databaseInfo.databaseId),r=function(o){return new L9(o)}(e.databaseInfo);return function(o,d,p,w){return new F9(o,d,p,w)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,d,p){return new j9(r,s,o,d,p)}(this.localStore,this.datastore,e.asyncQueue,t=>FE(this.syncEngine,t,0),function(){return kE.D()?new kE:new D9}())}createSyncEngine(e,t){return function(s,o,d,p,w,y,T){const _=new uL(s,o,d,p,w,y);return T&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=At(s);Ze(Vl,"RemoteStore shutting down."),o.W_.add(5),await fd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ey.provider={build:()=>new ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ga("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="FirestoreClient";class SL{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=li.UNAUTHENTICATED,this.clientId=GS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async d=>{Ze(Jo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(Ze(Jo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=rw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bp(n,e){n.asyncQueue.verifyOperationInProgress(),Ze(Jo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await OC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function jE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CL(n);Ze(Jo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>LE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>LE(e.remoteStore,s)),n._onlineComponents=e}async function CL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze(Jo,"Using user provided OfflineComponentProvider");try{await Bp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Le.FAILED_PRECONDITION||s.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;iu("Error using user provided cache. Falling back to memory cache: "+t),await Bp(n,new b0)}}else Ze(Jo,"Using default OfflineComponentProvider"),await Bp(n,new AL(void 0));return n._offlineComponents}async function ZC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze(Jo,"Using user provided OnlineComponentProvider"),await jE(n,n._uninitializedComponentsProvider._online)):(Ze(Jo,"Using default OnlineComponentProvider"),await jE(n,new ey))),n._onlineComponents}function IL(n){return ZC(n).then(e=>e.syncEngine)}async function RL(n){const e=await ZC(n),t=e.eventManager;return t.onListen=fL.bind(null,e.syncEngine),t.onUnlisten=gL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pL.bind(null,e.syncEngine),t}function NL(n,e,t={}){const r=new Yo;return n.asyncQueue.enqueueAndForget(async()=>function(o,d,p,w,y){const T=new _L({next:I=>{T.su(),d.enqueueAndForget(()=>rL(o,_)),I.fromCache&&w.source==="server"?y.reject(new Je(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),_=new aL(p,T,{includeMetadataChanges:!0,Ta:!0});return nL(o,_)}(await RL(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n,e,t){if(!t)throw new Je(Le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ML(n,e,t,r){if(e===!0&&r===!0)throw new Je(Le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function GE(n){if(!ct.isDocumentKey(n))throw new Je(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qE(n){if(ct.isDocumentKey(n))throw new Je(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ug(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":mt()}function Ya(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Je(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ug(n);throw new Je(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firestore.googleapis.com",YE=!0;class WE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eI,this.ssl=YE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i9)throw new Je(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ML("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$C((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kk;switch(r.type){case"firstParty":return new Vk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=HE.get(t);r&&(Ze("ComponentProvider","Removing Datastore"),HE.delete(t),r.terminate())}(this),Promise.resolve()}}function DL(n,e,t,r={}){var s;const o=(n=Ya(n,fg))._getSettings(),d=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;o.host!==eI&&o.host!==p&&iu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w=Object.assign(Object.assign({},o),{host:p,ssl:!1,emulatorOptions:r});if(!Ol(w,d)&&(n._setSettings(w),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=li.MOCK_USER;else{y=WO(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Je(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new li(_)}n._authCredentials=new Pk(new jS(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ql(this.firestore,e,this._query)}}class Mi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mi(this.firestore,e,this._key)}}class Wo extends ql{constructor(e,t,r){super(e,t,oC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new ct(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function Ds(n,e,...t){if(n=Qr(n),JC("collection","path",e),n instanceof fg){const r=Vn.fromString(e,...t);return qE(r),new Wo(n,null,r)}{if(!(n instanceof Mi||n instanceof Wo))throw new Je(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vn.fromString(e,...t));return qE(r),new Wo(n.firestore,null,r)}}function ol(n,e,...t){if(n=Qr(n),arguments.length===1&&(e=GS.newId()),JC("doc","path",e),n instanceof fg){const r=Vn.fromString(e,...t);return GE(r),new Mi(n,null,new ct(r))}{if(!(n instanceof Mi||n instanceof Wo))throw new Je(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vn.fromString(e,...t));return GE(r),new Mi(n.firestore,n instanceof Wo?n.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new PC(this,"async_queue_retry"),this.Su=()=>{const r=Lp();r&&Ze(XE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Yo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!vu(e))throw e;Ze(XE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(r);throw Ga("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=nw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&mt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Tu extends fg{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new KE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function OL(n,e){const t=typeof n=="object"?n:J_(),r=typeof n=="string"?n:g0,s=Cy(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=qO("firestore");o&&DL(s,...o)}return s}function tI(n){if(n._terminated)throw new Je(Le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kL(n),n._firestoreClient}function kL(n){var e,t,r;const s=n._freezeSettings(),o=function(p,w,y,T){return new Jk(p,w,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,$C(T.experimentalLongPollingOptions),T.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new SL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(p){const w=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(w),_online:w}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(Zr.fromBase64String(e))}catch(t){throw new Je(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uu(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Je(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Je(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Je(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^__.*__$/;class LL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new al(e,this.data,this.fieldMask,t,this.fieldTransforms):new cd(e,this.data,t,this.fieldTransforms)}}class nI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new al(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class cw{constructor(e,t,r,s,o,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return E0(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(rI(this.Lu)&&PL.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class BL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||og(e)}ju(e,t,r,s=!1){return new cw({Lu:e,methodName:t,zu:r,path:Kr.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(n){const e=n._freezeSettings(),t=og(n._databaseId);return new BL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iI(n,e,t,r,s,o={}){const d=n.ju(o.merge||o.mergeFields?2:0,e,t,s);fw("Data must be an object, but it was:",d,r);const p=sI(r,d);let w,y;if(o.merge)w=new Ji(d.fieldMask),y=d.fieldTransforms;else if(o.mergeFields){const T=[];for(const _ of o.mergeFields){const I=ty(e,_,t);if(!d.contains(I))throw new Je(Le.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);oI(T,I)||T.push(I)}w=new Ji(T),y=d.fieldTransforms.filter(_=>w.covers(_.field))}else w=null,y=d.fieldTransforms;return new LL(new Ri(p),w,y)}class pg extends hg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pg}}class uw extends hg{_toFieldTransform(e){return new _P(e.path,new Kf)}isEqual(e){return e instanceof uw}}function VL(n,e,t,r){const s=n.ju(1,e,t);fw("Data must be an object, but it was:",s,r);const o=[],d=Ri.empty();sl(r,(w,y)=>{const T=dw(e,w,t);y=Qr(y);const _=s.Uu(T);if(y instanceof pg)o.push(T);else{const I=hd(y,_);I!=null&&(o.push(T),d.set(T,I))}});const p=new Ji(o);return new nI(d,p,s.fieldTransforms)}function UL(n,e,t,r,s,o){const d=n.ju(1,e,t),p=[ty(e,r,t)],w=[s];if(o.length%2!=0)throw new Je(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<o.length;I+=2)p.push(ty(e,o[I])),w.push(o[I+1]);const y=[],T=Ri.empty();for(let I=p.length-1;I>=0;--I)if(!oI(y,p[I])){const N=p[I];let M=w[I];M=Qr(M);const P=d.Uu(N);if(M instanceof pg)y.push(N);else{const q=hd(M,P);q!=null&&(y.push(N),T.set(N,q))}}const _=new Ji(y);return new nI(T,_,d.fieldTransforms)}function FL(n,e,t,r=!1){return hd(t,n.ju(r?4:3,e))}function hd(n,e){if(aI(n=Qr(n)))return fw("Unsupported field value:",e,n),sI(n,e);if(n instanceof hg)return function(r,s){if(!rI(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const o=[];let d=0;for(const p of r){let w=hd(p,s.Ku(d));w==null&&(w={nullValue:"NULL_VALUE"}),o.push(w),d++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Qr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EP(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Un.fromDate(r);return{timestampValue:w0(s.serializer,o)}}if(r instanceof Un){const o=new Un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:w0(s.serializer,o)}}if(r instanceof ow)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof uu)return{bytesValue:AC(s.serializer,r._byteString)};if(r instanceof Mi){const o=s.databaseId,d=r.firestore._databaseId;if(!d.isEqual(o))throw s.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof lw)return function(d,p){return{mapValue:{fields:{[$S]:{stringValue:JS},[p0]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw p.Wu("VectorValues must only contain numeric values.");return Hy(p.serializer,y)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${ug(r)}`)}(n,e)}function sI(n,e){const t={};return YS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sl(n,(r,s)=>{const o=hd(s,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function aI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Un||n instanceof ow||n instanceof uu||n instanceof Mi||n instanceof hg||n instanceof lw)}function fw(n,e,t){if(!aI(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=ug(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function ty(n,e,t){if((e=Qr(e))instanceof dg)return e._internalPath;if(typeof e=="string")return dw(n,e);throw E0("Field path arguments must be of type string or ",n,!1,void 0,t)}const zL=new RegExp("[~\\*/\\[\\]]");function dw(n,e,t){if(e.search(zL)>=0)throw E0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dg(...e.split("."))._internalPath}catch{throw E0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function E0(n,e,t,r,s){const o=r&&!r.isEmpty(),d=s!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let w="";return(o||d)&&(w+=" (found",o&&(w+=` in field ${r}`),d&&(w+=` in document ${s}`),w+=")"),new Je(Le.INVALID_ARGUMENT,p+n+w)}function oI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jL extends lI{data(){return super.data()}}function mg(n,e){return typeof e=="string"?dw(n,e):e instanceof dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Je(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hw{}class cI extends hw{}function $c(n,e,...t){let r=[];e instanceof hw&&r.push(e),r=r.concat(t),function(o){const d=o.filter(w=>w instanceof gw).length,p=o.filter(w=>w instanceof yg).length;if(d>1||d>0&&p>0)throw new Je(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class yg extends cI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yg(e,t,r)}_apply(e){const t=this._parse(e);return uI(e._query,t),new ql(e.firestore,e.converter,Gm(e._query,t))}_parse(e){const t=gg(e.firestore);return function(o,d,p,w,y,T,_){let I;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new Je(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){ZE(_,T);const M=[];for(const P of _)M.push(QE(w,o,P));I={arrayValue:{values:M}}}else I=QE(w,o,_)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||ZE(_,T),I=FL(p,d,_,T==="in"||T==="not-in");return vr.create(y,T,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ny(n,e,t){const r=e,s=mg("where",n);return yg._create(s,r,t)}class gw extends hw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ps.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let d=s;const p=o.getFlattenedFilters();for(const w of p)uI(d,w),d=Gm(d,w)}(e._query,t),new ql(e.firestore,e.converter,Gm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pw extends cI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pw(e,t)}_apply(e){const t=function(s,o,d){if(s.startAt!==null)throw new Je(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Je(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xf(o,d)}(e._query,this._field,this._direction);return new ql(e.firestore,e.converter,function(s,o){const d=s.explicitOrderBy.concat([o]);return new bu(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Pf(n,e="asc"){const t=e,r=mg("orderBy",n);return pw._create(r,t)}function QE(n,e,t){if(typeof(t=Qr(t))=="string"){if(t==="")throw new Je(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lC(e)&&t.indexOf("/")!==-1)throw new Je(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Vn.fromString(t));if(!ct.isDocumentKey(r))throw new Je(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dE(n,new ct(r))}if(t instanceof Mi)return dE(n,t._key);throw new Je(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ug(t)}.`)}function ZE(n,e){if(!Array.isArray(n)||n.length===0)throw new Je(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uI(n,e){const t=function(s,o){for(const d of s)for(const p of d.getFlattenedFilters())if(o.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Je(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Je(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GL{convertValue(e,t="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return sl(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[p0].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(d=>hr(d.doubleValue));return new lw(o)}convertGeoPoint(e){return new ow(hr(e.latitude),hr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=tg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qf(e));default:return null}}convertTimestamp(e){const t=Ko(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Vn.fromString(e);fn(NC(r));const s=new Yf(r.get(1),r.get(3)),o=new ct(r.popFirst(5));return s.isEqual(t)||Ga(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qL extends lI{constructor(e,t,r,s,o,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Xh extends qL{data(e={}){return super.data(e)}}class YL{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Mh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xh(this._firestore,this._userDataWriter,r.key,r,new Mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Je(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(p=>{const w=new Xh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Mh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);return p.doc,{type:"added",doc:w,oldIndex:-1,newIndex:d++}})}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>o||p.type!==3).map(p=>{const w=new Xh(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Mh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:WL(p.type),doc:w,oldIndex:y,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class XL extends GL{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,t)}}function Ua(n){n=Ya(n,ql);const e=Ya(n.firestore,Tu),t=tI(e),r=new XL(e);return HL(n._query),NL(t,n._query).then(s=>new YL(e,r,n,s))}function KL(n,e,t){n=Ya(n,Mi);const r=Ya(n.firestore,Tu),s=fI(n.converter,e);return xg(r,[iI(gg(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ws.none())])}function wg(n,e,t,...r){n=Ya(n,Mi);const s=Ya(n.firestore,Tu),o=gg(s);let d;return d=typeof(e=Qr(e))=="string"||e instanceof dg?UL(o,"updateDoc",n._key,e,t,r):VL(o,"updateDoc",n._key,e),xg(s,[d.toMutation(n._key,ws.exists(!0))])}function Jc(n){return xg(Ya(n.firestore,Tu),[new Gy(n._key,ws.none())])}function mw(n,e){const t=Ya(n.firestore,Tu),r=ol(n),s=fI(n.converter,e);return xg(t,[iI(gg(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ws.exists(!1))]).then(()=>r)}function xg(n,e){return function(r,s){const o=new Yo;return r.asyncQueue.enqueueAndForget(async()=>mL(await IL(r),s,o)),o.promise}(tI(n),e)}function yw(){return new uw("serverTimestamp")}(function(e,t=!0){(function(s){wu=s})(mu),ru(new kl("firestore",(r,{instanceIdentifier:s,options:o})=>{const d=r.getProvider("app").getImmediate(),p=new Tu(new Lk(r.getProvider("auth-internal")),new Uk(d,r.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Je(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yf(y.options.projectId,T)}(d,s),d);return o=Object.assign({useFetchStreams:t},o),p._setSettings(o),p},"PUBLIC").setMultipleInstances(!0)),Go(eE,tE,e),Go(eE,tE,"esm2017")})();const QL={apiKey:"AIzaSyDDjg-YMs-i_TAem3LJk4j-qrgXYPUIsO8",authDomain:"freezer-manager-36acd.firebaseapp.com",projectId:"freezer-manager-36acd",storageBucket:"freezer-manager-36acd.firebasestorage.app",messagingSenderId:"572471426932",appId:"1:572471426932:web:3a4fca9342a8c9ae883621",measurementId:"G-N8SX67S0SY"},dI=$_(QL),ww=Dk(dI),Vr=OL(dI),ZL=async(n,e)=>{const r=(await y5(ww,n,e)).user;return await KL(ol(Vr,"users",r.uid),{email:r.email,uid:r.uid}),r},hI=async(n,e)=>(await w5(ww,n,e)).user;function gI({text:n,onSubmit:e}){const[t,r]=Z.useState(""),[s,o]=Z.useState(""),d=lA(),p=async w=>{w.preventDefault();try{await e(t,s),d("/dashboard")}catch(y){console.error("Error during authentication:",y),alert(`Authentication failed: ${y.message}`)}finally{}};return te.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 w-80",children:[te.jsx("h2",{className:"font-bold text-4xl",children:n}),te.jsxs("form",{onSubmit:p,className:"flex flex-col gap-4 w-full max-w-sm",children:[te.jsx(zc,{type:"email",placeholder:"Email",value:t,onChange:w=>r(w.target.value),required:!0}),te.jsx(zc,{type:"password",placeholder:"Password",value:s,onChange:w=>o(w.target.value),required:!0}),te.jsx(Ni,{onClick:e,action:"submit",children:n})]})]})}function $L(){const n=async(e,t)=>{try{const r=await hI(e,t);alert(`Успішний вхід: ${r.email}`)}catch(r){alert(`Помилка входу: ${r.message}`)}};return te.jsxs(te.Fragment,{children:[te.jsx(X0,{}),te.jsx("div",{className:"flex flex-col items-center justify-center gap-3 h-full w-full",children:te.jsx(gI,{text:"Login",onSubmit:n})})]})}function JL(){const n=async(e,t)=>{const r=await ZL(e,t);alert(`Успішно зареєстровано: ${r.email}`),await hI(e,t)};return te.jsxs(te.Fragment,{children:[te.jsx(X0,{}),te.jsx("div",{className:"flex flex-col items-center justify-center gap-3 h-full w-full",children:te.jsx(gI,{text:"Sign Up",onSubmit:n})})]})}function vg(){const[n,e]=Z.useState({mode:null}),t=Z.useCallback(s=>e({...s,mode:s.mode}),[]),r=Z.useCallback(()=>e({mode:null}),[]);return{config:n,open:t,close:r}}var $e;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($e||($e={}));var $E=new Map([[$e.QR_CODE,"QR_CODE"],[$e.AZTEC,"AZTEC"],[$e.CODABAR,"CODABAR"],[$e.CODE_39,"CODE_39"],[$e.CODE_93,"CODE_93"],[$e.CODE_128,"CODE_128"],[$e.DATA_MATRIX,"DATA_MATRIX"],[$e.MAXICODE,"MAXICODE"],[$e.ITF,"ITF"],[$e.EAN_13,"EAN_13"],[$e.EAN_8,"EAN_8"],[$e.PDF_417,"PDF_417"],[$e.RSS_14,"RSS_14"],[$e.RSS_EXPANDED,"RSS_EXPANDED"],[$e.UPC_A,"UPC_A"],[$e.UPC_E,"UPC_E"],[$e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),JE;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(JE||(JE={}));function e7(n){return Object.values($e).includes(n)}var el;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(el||(el={}));var Ns=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[el.SCAN_TYPE_CAMERA,el.SCAN_TYPE_FILE],n}(),pI=function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!$E.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,$E.get(e))},n}(),eT=function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n}(),ry;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ry||(ry={}));var mI=function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:ry.UNKWOWN_ERROR}},n}(),yI=function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n}();function Ks(n){return typeof n>"u"||n===null}function t7(n,e,t){return n>t?t:n<e?e:n}var Hc=function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),mn=function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(e){return"Last Match: ".concat(e)},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.torchOnButton=function(){return"Switch On Torch"},n.torchOffButton=function(){return"Switch Off Torch"},n.torchOnFailedMessage=function(){return"Failed to turn on torch"},n.torchOffFailedMessage=function(){return"Failed to turn off torch"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n.fileSelectionChooseImage=function(){return"Choose Image"},n.fileSelectionChooseAnother=function(){return"Choose Another"},n.fileSelectionNoImageSelected=function(){return"No image choosen"},n.anonymousCameraPrefix=function(){return"Anonymous Camera"},n.dragAndDropMessage=function(){return"Or drop an image to scan"},n.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},n.zoom=function(){return"zoom"},n.loadingImage=function(){return"Loading image..."},n.cameraScanAltText=function(){return"Camera based scan"},n.fileScanAltText=function(){return"Fule based scan"},n}(),tT=function(){function n(){}return n.poweredBy=function(){return"Powered by "},n.reportIssues=function(){return"Report issues"},n}(),wI=function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),d=Object.keys(e),p=0,w=d;p<w.length;p++){var y=w[p];if(o.has(y))return t.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},n}(),Sf={exports:{}},n7=Sf.exports,nT;function r7(){return nT||(nT=1,function(n,e){(function(t,r){r(e)})(n7,function(t){function r(U){return U==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,a){U.__proto__=a}||function(U,a){for(var c in a)a.hasOwnProperty(c)&&(U[c]=a[c])};function o(U,a){s(U,a);function c(){this.constructor=U}U.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}function d(U,a){var c=Object.setPrototypeOf;c?c(U,a):U.__proto__=a}function p(U,a){a===void 0&&(a=U.constructor);var c=Error.captureStackTrace;c&&c(U,a)}var w=function(U){o(a,U);function a(c){var u=this.constructor,h=U.call(this,c)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),d(h,u.prototype),p(h),h}return a}(Error);class y extends w{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}y.kind="Exception";class T extends y{}T.kind="ArgumentException";class _ extends y{}_.kind="IllegalArgumentException";class I{constructor(a){if(this.binarizer=a,a===null)throw new _("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,c){return this.binarizer.getBlackRow(a,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,c,u,h){const g=this.binarizer.getLuminanceSource().crop(a,c,u,h);return new I(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends y{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class M{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(a,c,u,h,g){for(;g--;)u[h++]=a[c++]}static currentTimeMillis(){return Date.now()}}class q extends y{}q.kind="IndexOutOfBoundsException";class j extends q{constructor(a=void 0,c=void 0){super(c),this.index=a,this.message=c}}j.kind="ArrayIndexOutOfBoundsException";class K{static fill(a,c){for(let u=0,h=a.length;u<h;u++)a[u]=c}static fillWithin(a,c,u,h){K.rangeCheck(a.length,c,u);for(let g=c;g<u;g++)a[g]=h}static rangeCheck(a,c,u){if(c>u)throw new _("fromIndex("+c+") > toIndex("+u+")");if(c<0)throw new j(c);if(u>a)throw new j(u)}static asList(...a){return a}static create(a,c,u){return Array.from({length:a}).map(g=>Array.from({length:c}).fill(u))}static createInt32Array(a,c,u){return Array.from({length:a}).map(g=>Int32Array.from({length:c}).fill(u))}static equals(a,c){if(!a||!c||!a.length||!c.length||a.length!==c.length)return!1;for(let u=0,h=a.length;u<h;u++)if(a[u]!==c[u])return!1;return!0}static hashCode(a){if(a===null)return 0;let c=1;for(const u of a)c=31*c+u;return c}static fillUint8Array(a,c){for(let u=0;u!==a.length;u++)a[u]=c}static copyOf(a,c){return a.slice(0,c)}static copyOfUint8Array(a,c){if(a.length<=c){const u=new Uint8Array(c);return u.set(a),u}return a.slice(0,c)}static copyOfRange(a,c,u){const h=u-c,g=new Int32Array(h);return P.arraycopy(a,c,g,0,h),g}static binarySearch(a,c,u){u===void 0&&(u=K.numberComparator);let h=0,g=a.length-1;for(;h<=g;){const x=g+h>>1,v=u(c,a[x]);if(v>0)h=x+1;else if(v<0)g=x-1;else return x}return-h-1}static numberComparator(a,c){return a-c}}class F{static numberOfTrailingZeros(a){let c;if(a===0)return 32;let u=31;return c=a<<16,c!==0&&(u-=16,a=c),c=a<<8,c!==0&&(u-=8,a=c),c=a<<4,c!==0&&(u-=4,a=c),c=a<<2,c!==0&&(u-=2,a=c),u-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let c=1;return a>>>16||(c+=16,a<<=16),a>>>24||(c+=8,a<<=8),a>>>28||(c+=4,a<<=4),a>>>30||(c+=2,a<<=2),c-=a>>>31,c}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,c){return Math.trunc(a/c)}static parseInt(a,c=void 0){return parseInt(a,c)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ${constructor(a,c){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,c==null?this.bits=$.makeArray(a):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const c=$.makeArray(a);P.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const c=this.size;if(a>=c)return c;const u=this.bits;let h=Math.floor(a/32),g=u[h];g&=~((1<<(a&31))-1);const x=u.length;for(;g===0;){if(++h===x)return c;g=u[h]}const v=h*32+F.numberOfTrailingZeros(g);return v>c?c:v}getNextUnset(a){const c=this.size;if(a>=c)return c;const u=this.bits;let h=Math.floor(a/32),g=~u[h];g&=~((1<<(a&31))-1);const x=u.length;for(;g===0;){if(++h===x)return c;g=~u[h]}const v=h*32+F.numberOfTrailingZeros(g);return v>c?c:v}setBulk(a,c){this.bits[Math.floor(a/32)]=c}setRange(a,c){if(c<a||a<0||c>this.size)throw new _;if(c===a)return;c--;const u=Math.floor(a/32),h=Math.floor(c/32),g=this.bits;for(let x=u;x<=h;x++){const v=x>u?0:a&31,C=(2<<(x<h?31:c&31))-(1<<v);g[x]|=C}}clear(){const a=this.bits.length,c=this.bits;for(let u=0;u<a;u++)c[u]=0}isRange(a,c,u){if(c<a||a<0||c>this.size)throw new _;if(c===a)return!0;c--;const h=Math.floor(a/32),g=Math.floor(c/32),x=this.bits;for(let v=h;v<=g;v++){const A=v>h?0:a&31,D=(2<<(v<g?31:c&31))-(1<<A)&4294967295;if((x[v]&D)!==(u?D:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,c){if(c<0||c>32)throw new _("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let u=c;u>0;u--)this.appendBit((a>>u-1&1)===1)}appendBitArray(a){const c=a.size;this.ensureCapacity(this.size+c);for(let u=0;u<c;u++)this.appendBit(a.get(u))}xor(a){if(this.size!==a.size)throw new _("Sizes don't match");const c=this.bits;for(let u=0,h=c.length;u<h;u++)c[u]^=a.bits[u]}toBytes(a,c,u,h){for(let g=0;g<h;g++){let x=0;for(let v=0;v<8;v++)this.get(a)&&(x|=1<<7-v),a++;c[u+g]=x}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),u=c+1,h=this.bits;for(let g=0;g<u;g++){let x=h[g];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,a[c-g]=x}if(this.size!==u*32){const g=u*32-this.size;let x=a[0]>>>g;for(let v=1;v<u;v++){const A=a[v];x|=A<<32-g,a[v-1]=x,x=A>>>g}a[u-1]=x}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof $))return!1;const c=a;return this.size===c.size&&K.equals(this.bits,c.bits)}hashCode(){return 31*this.size+K.hashCode(this.bits)}toString(){let a="";for(let c=0,u=this.size;c<u;c++)(c&7)===0&&(a+=" "),a+=this.get(c)?"X":".";return a}clone(){return new $(this.size,this.bits.slice())}}var ie;(function(U){U[U.OTHER=0]="OTHER",U[U.PURE_BARCODE=1]="PURE_BARCODE",U[U.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",U[U.TRY_HARDER=3]="TRY_HARDER",U[U.CHARACTER_SET=4]="CHARACTER_SET",U[U.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",U[U.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",U[U.ASSUME_GS1=7]="ASSUME_GS1",U[U.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",U[U.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",U[U.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ie||(ie={}));var se=ie;class V extends y{static getFormatInstance(){return new V}}V.kind="FormatException";var L;(function(U){U[U.Cp437=0]="Cp437",U[U.ISO8859_1=1]="ISO8859_1",U[U.ISO8859_2=2]="ISO8859_2",U[U.ISO8859_3=3]="ISO8859_3",U[U.ISO8859_4=4]="ISO8859_4",U[U.ISO8859_5=5]="ISO8859_5",U[U.ISO8859_6=6]="ISO8859_6",U[U.ISO8859_7=7]="ISO8859_7",U[U.ISO8859_8=8]="ISO8859_8",U[U.ISO8859_9=9]="ISO8859_9",U[U.ISO8859_10=10]="ISO8859_10",U[U.ISO8859_11=11]="ISO8859_11",U[U.ISO8859_13=12]="ISO8859_13",U[U.ISO8859_14=13]="ISO8859_14",U[U.ISO8859_15=14]="ISO8859_15",U[U.ISO8859_16=15]="ISO8859_16",U[U.SJIS=16]="SJIS",U[U.Cp1250=17]="Cp1250",U[U.Cp1251=18]="Cp1251",U[U.Cp1252=19]="Cp1252",U[U.Cp1256=20]="Cp1256",U[U.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",U[U.UTF8=22]="UTF8",U[U.ASCII=23]="ASCII",U[U.Big5=24]="Big5",U[U.GB18030=25]="GB18030",U[U.EUC_KR=26]="EUC_KR"})(L||(L={}));class O{constructor(a,c,u,...h){this.valueIdentifier=a,this.name=u,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=h,O.VALUE_IDENTIFIER_TO_ECI.set(a,this),O.NAME_TO_ECI.set(u,this);const g=this.values;for(let x=0,v=g.length;x!==v;x++){const A=g[x];O.VALUES_TO_ECI.set(A,this)}for(const x of h)O.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new V("incorect value");const c=O.VALUES_TO_ECI.get(a);if(c===void 0)throw new V("incorect value");return c}static getCharacterSetECIByName(a){const c=O.NAME_TO_ECI.get(a);if(c===void 0)throw new V("incorect value");return c}equals(a){if(!(a instanceof O))return!1;const c=a;return this.getName()===c.getName()}}O.VALUE_IDENTIFIER_TO_ECI=new Map,O.VALUES_TO_ECI=new Map,O.NAME_TO_ECI=new Map,O.Cp437=new O(L.Cp437,Int32Array.from([0,2]),"Cp437"),O.ISO8859_1=new O(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),O.ISO8859_2=new O(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),O.ISO8859_3=new O(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),O.ISO8859_4=new O(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),O.ISO8859_5=new O(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),O.ISO8859_6=new O(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),O.ISO8859_7=new O(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),O.ISO8859_8=new O(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),O.ISO8859_9=new O(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),O.ISO8859_10=new O(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),O.ISO8859_11=new O(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),O.ISO8859_13=new O(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),O.ISO8859_14=new O(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),O.ISO8859_15=new O(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),O.ISO8859_16=new O(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),O.SJIS=new O(L.SJIS,20,"SJIS","Shift_JIS"),O.Cp1250=new O(L.Cp1250,21,"Cp1250","windows-1250"),O.Cp1251=new O(L.Cp1251,22,"Cp1251","windows-1251"),O.Cp1252=new O(L.Cp1252,23,"Cp1252","windows-1252"),O.Cp1256=new O(L.Cp1256,24,"Cp1256","windows-1256"),O.UnicodeBigUnmarked=new O(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),O.UTF8=new O(L.UTF8,26,"UTF8","UTF-8"),O.ASCII=new O(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),O.Big5=new O(L.Big5,28,"Big5"),O.GB18030=new O(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),O.EUC_KR=new O(L.EUC_KR,30,"EUC_KR","EUC-KR");class W extends y{}W.kind="UnsupportedOperationException";class X{static decode(a,c){const u=this.encodingName(c);return this.customDecoder?this.customDecoder(a,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(a,u):new TextDecoder(u).decode(a)}static shouldDecodeOnFallback(a){return!X.isBrowser()&&a==="ISO-8859-1"}static encode(a,c){const u=this.encodingName(c);return this.customEncoder?this.customEncoder(a,u):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof O?a:O.getCharacterSetECIByName(a)}static decodeFallback(a,c){const u=this.encodingCharacterSet(c);if(X.isDecodeFallbackSupported(u)){let h="";for(let g=0,x=a.length;g<x;g++){let v=a[g].toString(16);v.length<2&&(v="0"+v),h+="%"+v}return decodeURIComponent(h)}if(u.equals(O.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new W(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(O.UTF8)||a.equals(O.ISO8859_1)||a.equals(O.ASCII)}static encodeFallback(a){const u=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let g=0;g<u.length;g++)h.push(u[g].charCodeAt(0));return new Uint8Array(h)}}class G{static castAsNonUtf8Char(a,c=null){const u=c?c.getName():this.ISO88591;return X.decode(new Uint8Array([a]),u)}static guessEncoding(a,c){if(c!=null&&c.get(se.CHARACTER_SET)!==void 0)return c.get(se.CHARACTER_SET).toString();const u=a.length;let h=!0,g=!0,x=!0,v=0,A=0,C=0,D=0,z=0,Y=0,re=0,ce=0,ue=0,me=0,Ee=0;const Ve=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let Ue=0;Ue<u&&(h||g||x);Ue++){const Be=a[Ue]&255;x&&(v>0?(Be&128)===0?x=!1:v--:(Be&128)!==0&&((Be&64)===0?x=!1:(v++,(Be&32)===0?A++:(v++,(Be&16)===0?C++:(v++,(Be&8)===0?D++:x=!1))))),h&&(Be>127&&Be<160?h=!1:Be>159&&(Be<192||Be===215||Be===247)&&Ee++),g&&(z>0?Be<64||Be===127||Be>252?g=!1:z--:Be===128||Be===160||Be>239?g=!1:Be>160&&Be<224?(Y++,ce=0,re++,re>ue&&(ue=re)):Be>127?(z++,re=0,ce++,ce>me&&(me=ce)):(re=0,ce=0))}return x&&v>0&&(x=!1),g&&z>0&&(g=!1),x&&(Ve||A+C+D>0)?G.UTF8:g&&(G.ASSUME_SHIFT_JIS||ue>=3||me>=3)?G.SHIFT_JIS:h&&g?ue===2&&Y===2||Ee*10>=u?G.SHIFT_JIS:G.ISO88591:h?G.ISO88591:g?G.SHIFT_JIS:x?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(a,...c){let u=-1;function h(x,v,A,C,D,z){if(x==="%%")return"%";if(c[++u]===void 0)return;x=C?parseInt(C.substr(1)):void 0;let Y=D?parseInt(D.substr(1)):void 0,re;switch(z){case"s":re=c[u];break;case"c":re=c[u][0];break;case"f":re=parseFloat(c[u]).toFixed(x);break;case"p":re=parseFloat(c[u]).toPrecision(x);break;case"e":re=parseFloat(c[u]).toExponential(x);break;case"x":re=parseInt(c[u]).toString(Y||16);break;case"d":re=parseFloat(parseInt(c[u],Y||10).toPrecision(x)).toFixed(0);break}re=typeof re=="object"?JSON.stringify(re):(+re).toString(Y);let ce=parseInt(A),ue=A&&A[0]+""=="0"?"0":" ";for(;re.length<ce;)re=v!==void 0?re+ue:ue+re;return re}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}static getBytes(a,c){return X.encode(a,c)}static getCharCode(a,c=0){return a.charCodeAt(c)}static getCharAt(a){return String.fromCharCode(a)}}G.SHIFT_JIS=O.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=O.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=O.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class H{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=G.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,c,u){for(let h=c;c<c+u;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+1)}substring(a,c){return this.value.substring(a,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+c.length)}}class _e{constructor(a,c,u,h){if(this.width=a,this.height=c,this.rowSize=u,this.bits=h,c==null&&(c=a),this.height=c,a<1||c<1)throw new _("Both dimensions must be greater than 0");u==null&&(u=Math.floor((a+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const c=a.length,u=a[0].length,h=new _e(u,c);for(let g=0;g<c;g++){const x=a[g];for(let v=0;v<u;v++)x[v]&&h.set(v,g)}return h}static parseFromString(a,c,u){if(a===null)throw new _("stringRepresentation cannot be null");const h=new Array(a.length);let g=0,x=0,v=-1,A=0,C=0;for(;C<a.length;)if(a.charAt(C)===`
`||a.charAt(C)==="\r"){if(g>x){if(v===-1)v=g-x;else if(g-x!==v)throw new _("row lengths do not match");x=g,A++}C++}else if(a.substring(C,C+c.length)===c)C+=c.length,h[g]=!0,g++;else if(a.substring(C,C+u.length)===u)C+=u.length,h[g]=!1,g++;else throw new _("illegal character encountered: "+a.substring(C));if(g>x){if(v===-1)v=g-x;else if(g-x!==v)throw new _("row lengths do not match");A++}const D=new _e(v,A);for(let z=0;z<g;z++)h[z]&&D.set(Math.floor(z%v),Math.floor(z/v));return D}get(a,c){const u=c*this.rowSize+Math.floor(a/32);return(this.bits[u]>>>(a&31)&1)!==0}set(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]|=1<<(a&31)&4294967295}unset(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]&=~(1<<(a&31)&4294967295)}flip(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new _("input matrix dimensions do not match");const c=new $(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let g=0,x=this.height;g<x;g++){const v=g*u,A=a.getRow(g,c).getBitArray();for(let C=0;C<u;C++)h[v+C]^=A[C]}}clear(){const a=this.bits,c=a.length;for(let u=0;u<c;u++)a[u]=0}setRegion(a,c,u,h){if(c<0||a<0)throw new _("Left and top must be nonnegative");if(h<1||u<1)throw new _("Height and width must be at least 1");const g=a+u,x=c+h;if(x>this.height||g>this.width)throw new _("The region must fit inside the matrix");const v=this.rowSize,A=this.bits;for(let C=c;C<x;C++){const D=C*v;for(let z=a;z<g;z++)A[D+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(a,c){c==null||c.getSize()<this.width?c=new $(this.width):c.clear();const u=this.rowSize,h=this.bits,g=a*u;for(let x=0;x<u;x++)c.setBulk(x*32,h[g+x]);return c}setRow(a,c){P.arraycopy(c.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),c=this.getHeight();let u=new $(a),h=new $(a);for(let g=0,x=Math.floor((c+1)/2);g<x;g++)u=this.getRow(g,u),h=this.getRow(c-1-g,h),u.reverse(),h.reverse(),this.setRow(g,h),this.setRow(c-1-g,u)}getEnclosingRectangle(){const a=this.width,c=this.height,u=this.rowSize,h=this.bits;let g=a,x=c,v=-1,A=-1;for(let C=0;C<c;C++)for(let D=0;D<u;D++){const z=h[C*u+D];if(z!==0){if(C<x&&(x=C),C>A&&(A=C),D*32<g){let Y=0;for(;(z<<31-Y&4294967295)===0;)Y++;D*32+Y<g&&(g=D*32+Y)}if(D*32+31>v){let Y=31;for(;!(z>>>Y);)Y--;D*32+Y>v&&(v=D*32+Y)}}}return v<g||A<x?null:Int32Array.from([g,x,v-g+1,A-x+1])}getTopLeftOnBit(){const a=this.rowSize,c=this.bits;let u=0;for(;u<c.length&&c[u]===0;)u++;if(u===c.length)return null;const h=u/a;let g=u%a*32;const x=c[u];let v=0;for(;(x<<31-v&4294967295)===0;)v++;return g+=v,Int32Array.from([g,h])}getBottomRightOnBit(){const a=this.rowSize,c=this.bits;let u=c.length-1;for(;u>=0&&c[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/a);let g=Math.floor(u%a)*32;const x=c[u];let v=31;for(;!(x>>>v);)v--;return g+=v,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof _e))return!1;const c=a;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&K.equals(this.bits,c.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+K.hashCode(this.bits),a}toString(a="X ",c="  ",u=`
`){return this.buildToString(a,c,u)}buildToString(a,c,u){let h=new H;for(let g=0,x=this.height;g<x;g++){for(let v=0,A=this.width;v<A;v++)h.append(this.get(v,g)?a:c);h.append(u)}return h.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class le extends y{static getNotFoundInstance(){return new le}}le.kind="NotFoundException";class ae extends M{constructor(a){super(a),this.luminances=ae.EMPTY,this.buckets=new Int32Array(ae.LUMINANCE_BUCKETS)}getBlackRow(a,c){const u=this.getLuminanceSource(),h=u.getWidth();c==null||c.getSize()<h?c=new $(h):c.clear(),this.initArrays(h);const g=u.getRow(a,this.luminances),x=this.buckets;for(let A=0;A<h;A++)x[(g[A]&255)>>ae.LUMINANCE_SHIFT]++;const v=ae.estimateBlackPoint(x);if(h<3)for(let A=0;A<h;A++)(g[A]&255)<v&&c.set(A);else{let A=g[0]&255,C=g[1]&255;for(let D=1;D<h-1;D++){const z=g[D+1]&255;(C*4-A-z)/2<v&&c.set(D),A=C,C=z}}return c}getBlackMatrix(){const a=this.getLuminanceSource(),c=a.getWidth(),u=a.getHeight(),h=new _e(c,u);this.initArrays(c);const g=this.buckets;for(let A=1;A<5;A++){const C=Math.floor(u*A/5),D=a.getRow(C,this.luminances),z=Math.floor(c*4/5);for(let Y=Math.floor(c/5);Y<z;Y++){const re=D[Y]&255;g[re>>ae.LUMINANCE_SHIFT]++}}const x=ae.estimateBlackPoint(g),v=a.getMatrix();for(let A=0;A<u;A++){const C=A*c;for(let D=0;D<c;D++)(v[C+D]&255)<x&&h.set(D,A)}return h}createBinarizer(a){return new ae(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const c=this.buckets;for(let u=0;u<ae.LUMINANCE_BUCKETS;u++)c[u]=0}static estimateBlackPoint(a){const c=a.length;let u=0,h=0,g=0;for(let D=0;D<c;D++)a[D]>g&&(h=D,g=a[D]),a[D]>u&&(u=a[D]);let x=0,v=0;for(let D=0;D<c;D++){const z=D-h,Y=a[D]*z*z;Y>v&&(x=D,v=Y)}if(h>x){const D=h;h=x,x=D}if(x-h<=c/16)throw new le;let A=x-1,C=-1;for(let D=x-1;D>h;D--){const z=D-h,Y=z*z*(x-D)*(u-a[D]);Y>C&&(A=D,C=Y)}return A<<ae.LUMINANCE_SHIFT}}ae.LUMINANCE_BITS=5,ae.LUMINANCE_SHIFT=8-ae.LUMINANCE_BITS,ae.LUMINANCE_BUCKETS=1<<ae.LUMINANCE_BITS,ae.EMPTY=Uint8ClampedArray.from([0]);class he extends ae{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),c=a.getWidth(),u=a.getHeight();if(c>=he.MINIMUM_DIMENSION&&u>=he.MINIMUM_DIMENSION){const h=a.getMatrix();let g=c>>he.BLOCK_SIZE_POWER;(c&he.BLOCK_SIZE_MASK)!==0&&g++;let x=u>>he.BLOCK_SIZE_POWER;(u&he.BLOCK_SIZE_MASK)!==0&&x++;const v=he.calculateBlackPoints(h,g,x,c,u),A=new _e(c,u);he.calculateThresholdForBlock(h,g,x,c,u,v,A),this.matrix=A}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new he(a)}static calculateThresholdForBlock(a,c,u,h,g,x,v){const A=g-he.BLOCK_SIZE,C=h-he.BLOCK_SIZE;for(let D=0;D<u;D++){let z=D<<he.BLOCK_SIZE_POWER;z>A&&(z=A);const Y=he.cap(D,2,u-3);for(let re=0;re<c;re++){let ce=re<<he.BLOCK_SIZE_POWER;ce>C&&(ce=C);const ue=he.cap(re,2,c-3);let me=0;for(let Ve=-2;Ve<=2;Ve++){const Ue=x[Y+Ve];me+=Ue[ue-2]+Ue[ue-1]+Ue[ue]+Ue[ue+1]+Ue[ue+2]}const Ee=me/25;he.thresholdBlock(a,ce,z,Ee,h,v)}}}static cap(a,c,u){return a<c?c:a>u?u:a}static thresholdBlock(a,c,u,h,g,x){for(let v=0,A=u*g+c;v<he.BLOCK_SIZE;v++,A+=g)for(let C=0;C<he.BLOCK_SIZE;C++)(a[A+C]&255)<=h&&x.set(c+C,u+v)}static calculateBlackPoints(a,c,u,h,g){const x=g-he.BLOCK_SIZE,v=h-he.BLOCK_SIZE,A=new Array(u);for(let C=0;C<u;C++){A[C]=new Int32Array(c);let D=C<<he.BLOCK_SIZE_POWER;D>x&&(D=x);for(let z=0;z<c;z++){let Y=z<<he.BLOCK_SIZE_POWER;Y>v&&(Y=v);let re=0,ce=255,ue=0;for(let Ee=0,Ve=D*h+Y;Ee<he.BLOCK_SIZE;Ee++,Ve+=h){for(let Ue=0;Ue<he.BLOCK_SIZE;Ue++){const Be=a[Ve+Ue]&255;re+=Be,Be<ce&&(ce=Be),Be>ue&&(ue=Be)}if(ue-ce>he.MIN_DYNAMIC_RANGE)for(Ee++,Ve+=h;Ee<he.BLOCK_SIZE;Ee++,Ve+=h)for(let Ue=0;Ue<he.BLOCK_SIZE;Ue++)re+=a[Ve+Ue]&255}let me=re>>he.BLOCK_SIZE_POWER*2;if(ue-ce<=he.MIN_DYNAMIC_RANGE&&(me=ce/2,C>0&&z>0)){const Ee=(A[C-1][z]+2*A[C][z-1]+A[C-1][z-1])/4;ce<Ee&&(me=Ee)}A[C][z]=me}}return A}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class be{constructor(a,c){this.width=a,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,c,u,h){throw new W("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new W("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new W("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let c=new H;for(let u=0;u<this.height;u++){const h=this.getRow(u,a);for(let g=0;g<this.width;g++){const x=h[g]&255;let v;x<64?v="#":x<128?v="+":x<192?v=".":v=" ",c.append(v)}c.append(`
`)}return c.toString()}}class Re extends be{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,c){const u=this.delegate.getRow(a,c),h=this.getWidth();for(let g=0;g<h;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const a=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(c);for(let h=0;h<c;h++)u[h]=255-(a[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(a,c,u,h){return new Re(this.delegate.crop(a,c,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Re(this.delegate.rotateCounterClockwise45())}}class ee extends be{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=ee.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const c=a.getContext("2d").getImageData(0,0,a.width,a.height);return ee.toGrayscaleBuffer(c.data,a.width,a.height)}static toGrayscaleBuffer(a,c,u){const h=new Uint8ClampedArray(c*u);for(let g=0,x=0,v=a.length;g<v;g+=4,x++){let A;if(a[g+3]===0)A=255;else{const D=a[g],z=a[g+1],Y=a[g+2];A=306*D+601*z+117*Y+512>>10}h[x]=A}return h}getRow(a,c){if(a<0||a>=this.getHeight())throw new _("Requested row is outside the image: "+a);const u=this.getWidth(),h=a*u;return c===null?c=this.buffer.slice(h,h+u):(c.length<u&&(c=new Uint8ClampedArray(u)),c.set(this.buffer.slice(h,h+u))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,c,u,h){return super.crop(a,c,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const c=this.getTempCanvasElement(),u=c.getContext("2d"),h=a*ee.DEGREE_TO_RADIANS,g=this.canvas.width,x=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*x),A=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*x);return c.width=v,c.height=A,u.translate(v/2,A/2),u.rotate(h),u.drawImage(this.canvas,g/-2,x/-2),this.buffer=ee.makeBufferFromCanvasImageData(c),this}invert(){return new Re(this)}}ee.DEGREE_TO_RADIANS=Math.PI/180;class ye{constructor(a,c,u){this.deviceId=a,this.label=c,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ne=(globalThis||ph||self||window||void 0)&&(globalThis||ph||self||window||void 0).__awaiter||function(U,a,c,u){function h(g){return g instanceof c?g:new c(function(x){x(g)})}return new(c||(c=Promise))(function(g,x){function v(D){try{C(u.next(D))}catch(z){x(z)}}function A(D){try{C(u.throw(D))}catch(z){x(z)}}function C(D){D.done?g(D.value):h(D.value).then(v,A)}C((u=u.apply(U,a||[])).next())})};class Oe{constructor(a,c=500,u){this.reader=a,this.timeBetweenScansMillis=c,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return Ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const u of a){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const g=u.deviceId||u.id,x=u.label||`Video device ${c.length+1}`,v=u.groupId,A={deviceId:g,label:x,kind:h,groupId:v};c.push(A)}return c})}getVideoInputDevices(){return Ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new ye(c.deviceId,c.label))})}findDeviceById(a){return Ne(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(u=>u.deviceId===a):null})}decodeFromInputVideoDevice(a,c){return Ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,c)})}decodeOnceFromVideoDevice(a,c){return Ne(this,void 0,void 0,function*(){this.reset();let u;a?u={deviceId:{exact:a}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,c)})}decodeOnceFromConstraints(a,c){return Ne(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(u,c)})}decodeOnceFromStream(a,c){return Ne(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(a,c);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(a,c,u){return Ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,c,u)})}decodeFromVideoDevice(a,c,u){return Ne(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,c,u)})}decodeFromConstraints(a,c,u){return Ne(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,c,u)})}decodeFromStream(a,c,u){return Ne(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,c);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,c){return Ne(this,void 0,void 0,function*(){const u=this.prepareVideoElement(c);return this.addVideoSource(u,a),this.videoElement=u,this.stream=a,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(a){return new Promise((c,u)=>this.playVideoOnLoad(a,()=>c()))}playVideoOnLoad(a,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",c),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return Ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,c){const u=document.getElementById(a);if(!u)throw new T(`element with id '${a}' not found`);if(u.nodeName.toLowerCase()!==c.toLowerCase())throw new T(`element with id '${a}' must be an ${c} element`);return u}decodeFromImage(a,c){if(!a&&!c)throw new T("either imageElement with a src set or an url must be provided");return c&&!a?this.decodeFromImageUrl(c):this.decodeFromImageElement(a)}decodeFromVideo(a,c){if(!a&&!c)throw new T("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,c,u){if(a===void 0&&c===void 0)throw new T("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrlContinuously(c,u):this.decodeFromVideoElementContinuously(a,u)}decodeFromImageElement(a){if(!a)throw new T("An image element must be provided.");this.reset();const c=this.prepareImageElement(a);this.imageElement=c;let u;return this.isImageLoaded(c)?u=this.decodeOnce(c,!1,!0):u=this._decodeOnLoadImage(c),u}decodeFromVideoElement(a){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(a,c){const u=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(u,c)}_decodeFromVideoElementSetup(a){if(!a)throw new T("A video element must be provided.");this.reset();const c=this.prepareVideoElement(a);return this.videoElement=c,c}decodeFromImageUrl(a){if(!a)throw new T("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const u=this._decodeOnLoadImage(c);return c.src=a,u}decodeFromVideoUrl(a){if(!a)throw new T("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),u=this.decodeFromVideoElement(c);return c.src=a,u}decodeFromVideoUrlContinuously(a,c){if(!a)throw new T("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,c);return u.src=a,h}_decodeOnLoadImage(a){return new Promise((c,u)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(c,u),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return Ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,c){return Ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,c)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let c;return typeof a>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(c=a),c}prepareVideoElement(a){let c;return!a&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(c=a),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(a,c=!0,u=!0){this._stopAsyncDecode=!1;const h=(g,x)=>{if(this._stopAsyncDecode){x(new le("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(a);g(v)}catch(v){const A=c&&v instanceof le,D=(v instanceof N||v instanceof V)&&u;if(A||D)return setTimeout(h,this._timeBetweenDecodingAttempts,g,x);x(v)}};return new Promise((g,x)=>h(g,x))}decodeContinuously(a,c){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);c(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){c(null,h);const g=h instanceof N||h instanceof V,x=h instanceof le;(g||x)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(a){const c=this.createBinaryBitmap(a);return this.decodeBitmap(c)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,c,u){c||(c={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(a,c,u=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const c=this.getCaptureCanvas(a),u=new ee(c),h=new he(u);return new I(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const c=this.createCaptureCanvas(a);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let u,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(u=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(u=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),c.style.width=u+"px",c.style.height=h+"px",c.width=u,c.height=h,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,c){try{a.srcObject=c}catch{a.src=URL.createObjectURL(c)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Ge{constructor(a,c,u=c==null?0:8*c.length,h,g,x=P.currentTimeMillis()){this.text=a,this.rawBytes=c,this.numBits=u,this.resultPoints=h,this.format=g,this.timestamp=x,this.text=a,this.rawBytes=c,u==null?this.numBits=c==null?0:8*c.length:this.numBits=u,this.resultPoints=h,this.format=g,this.resultMetadata=null,x==null?this.timestamp=P.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,c)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const c=this.resultPoints;if(c===null)this.resultPoints=a;else if(a!==null&&a.length>0){const u=new Array(c.length+a.length);P.arraycopy(c,0,u,0,c.length),P.arraycopy(a,0,u,c.length,a.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(U){U[U.AZTEC=0]="AZTEC",U[U.CODABAR=1]="CODABAR",U[U.CODE_39=2]="CODE_39",U[U.CODE_93=3]="CODE_93",U[U.CODE_128=4]="CODE_128",U[U.DATA_MATRIX=5]="DATA_MATRIX",U[U.EAN_8=6]="EAN_8",U[U.EAN_13=7]="EAN_13",U[U.ITF=8]="ITF",U[U.MAXICODE=9]="MAXICODE",U[U.PDF_417=10]="PDF_417",U[U.QR_CODE=11]="QR_CODE",U[U.RSS_14=12]="RSS_14",U[U.RSS_EXPANDED=13]="RSS_EXPANDED",U[U.UPC_A=14]="UPC_A",U[U.UPC_E=15]="UPC_E",U[U.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var Ce=it,We;(function(U){U[U.OTHER=0]="OTHER",U[U.ORIENTATION=1]="ORIENTATION",U[U.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",U[U.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",U[U.ISSUE_NUMBER=4]="ISSUE_NUMBER",U[U.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",U[U.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",U[U.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",U[U.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",U[U.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",U[U.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(We||(We={}));var He=We;class Ye{constructor(a,c,u,h,g=-1,x=-1){this.rawBytes=a,this.text=c,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=x,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class lt{exp(a){return this.expTable[a]}log(a){if(a===0)throw new _;return this.logTable[a]}static addOrSubtract(a,c){return a^c}}class et{constructor(a,c){if(c.length===0)throw new _;this.field=a;const u=c.length;if(u>1&&c[0]===0){let h=1;for(;h<u&&c[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),P.arraycopy(c,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const c=this.coefficients;let u;if(a===1){u=0;for(let x=0,v=c.length;x!==v;x++){const A=c[x];u=lt.addOrSubtract(u,A)}return u}u=c[0];const h=c.length,g=this.field;for(let x=1;x<h;x++)u=lt.addOrSubtract(g.multiply(a,u),c[x]);return u}addOrSubtract(a){if(!this.field.equals(a.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,u=a.coefficients;if(c.length>u.length){const x=c;c=u,u=x}let h=new Int32Array(u.length);const g=u.length-c.length;P.arraycopy(u,0,h,0,g);for(let x=g;x<u.length;x++)h[x]=lt.addOrSubtract(c[x-g],u[x]);return new et(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new _("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const c=this.coefficients,u=c.length,h=a.coefficients,g=h.length,x=new Int32Array(u+g-1),v=this.field;for(let A=0;A<u;A++){const C=c[A];for(let D=0;D<g;D++)x[A+D]=lt.addOrSubtract(x[A+D],v.multiply(C,h[D]))}return new et(v,x)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const c=this.coefficients.length,u=this.field,h=new Int32Array(c),g=this.coefficients;for(let x=0;x<c;x++)h[x]=u.multiply(g[x],a);return new et(u,h)}multiplyByMonomial(a,c){if(a<0)throw new _;if(c===0)return this.field.getZero();const u=this.coefficients,h=u.length,g=new Int32Array(h+a),x=this.field;for(let v=0;v<h;v++)g[v]=x.multiply(u[v],c);return new et(x,g)}divide(a){if(!this.field.equals(a.field))throw new _("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new _("Divide by 0");const c=this.field;let u=c.getZero(),h=this;const g=a.getCoefficient(a.getDegree()),x=c.inverse(g);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const v=h.getDegree()-a.getDegree(),A=c.multiply(h.getCoefficient(h.getDegree()),x),C=a.multiplyByMonomial(v,A),D=c.buildMonomial(v,A);u=u.addOrSubtract(D),h=h.addOrSubtract(C)}return[u,h]}toString(){let a="";for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);if(u!==0){if(u<0?(a+=" - ",u=-u):a.length>0&&(a+=" + "),c===0||u!==1){const h=this.field.log(u);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}c!==0&&(c===1?a+="x":(a+="x^",a+=c))}}return a}}class yt extends y{}yt.kind="ArithmeticException";class nt extends lt{constructor(a,c,u){super(),this.primitive=a,this.size=c,this.generatorBase=u;const h=new Int32Array(c);let g=1;for(let v=0;v<c;v++)h[v]=g,g*=2,g>=c&&(g^=a,g&=c-1);this.expTable=h;const x=new Int32Array(c);for(let v=0;v<c-1;v++)x[h[v]]=v;this.logTable=x,this.zero=new et(this,Int32Array.from([0])),this.one=new et(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new _;if(c===0)return this.zero;const u=new Int32Array(a+1);return u[0]=c,new et(this,u)}inverse(a){if(a===0)throw new yt;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}nt.AZTEC_DATA_12=new nt(4201,4096,1),nt.AZTEC_DATA_10=new nt(1033,1024,1),nt.AZTEC_DATA_6=new nt(67,64,1),nt.AZTEC_PARAM=new nt(19,16,1),nt.QR_CODE_FIELD_256=new nt(285,256,0),nt.DATA_MATRIX_FIELD_256=new nt(301,256,1),nt.AZTEC_DATA_8=nt.DATA_MATRIX_FIELD_256,nt.MAXICODE_FIELD_64=nt.AZTEC_DATA_6;class an extends y{}an.kind="ReedSolomonException";class kt extends y{}kt.kind="IllegalStateException";class $n{constructor(a){this.field=a}decode(a,c){const u=this.field,h=new et(u,a),g=new Int32Array(c);let x=!0;for(let re=0;re<c;re++){const ce=h.evaluateAt(u.exp(re+u.getGeneratorBase()));g[g.length-1-re]=ce,ce!==0&&(x=!1)}if(x)return;const v=new et(u,g),A=this.runEuclideanAlgorithm(u.buildMonomial(c,1),v,c),C=A[0],D=A[1],z=this.findErrorLocations(C),Y=this.findErrorMagnitudes(D,z);for(let re=0;re<z.length;re++){const ce=a.length-1-u.log(z[re]);if(ce<0)throw new an("Bad error location");a[ce]=nt.addOrSubtract(a[ce],Y[re])}}runEuclideanAlgorithm(a,c,u){if(a.getDegree()<c.getDegree()){const re=a;a=c,c=re}const h=this.field;let g=a,x=c,v=h.getZero(),A=h.getOne();for(;x.getDegree()>=(u/2|0);){let re=g,ce=v;if(g=x,v=A,g.isZero())throw new an("r_{i-1} was zero");x=re;let ue=h.getZero();const me=g.getCoefficient(g.getDegree()),Ee=h.inverse(me);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){const Ve=x.getDegree()-g.getDegree(),Ue=h.multiply(x.getCoefficient(x.getDegree()),Ee);ue=ue.addOrSubtract(h.buildMonomial(Ve,Ue)),x=x.addOrSubtract(g.multiplyByMonomial(Ve,Ue))}if(A=ue.multiply(v).addOrSubtract(ce),x.getDegree()>=g.getDegree())throw new kt("Division algorithm failed to reduce polynomial?")}const C=A.getCoefficient(0);if(C===0)throw new an("sigmaTilde(0) was zero");const D=h.inverse(C),z=A.multiplyScalar(D),Y=x.multiplyScalar(D);return[z,Y]}findErrorLocations(a){const c=a.getDegree();if(c===1)return Int32Array.from([a.getCoefficient(1)]);const u=new Int32Array(c);let h=0;const g=this.field;for(let x=1;x<g.getSize()&&h<c;x++)a.evaluateAt(x)===0&&(u[h]=g.inverse(x),h++);if(h!==c)throw new an("Error locator degree does not match number of roots");return u}findErrorMagnitudes(a,c){const u=c.length,h=new Int32Array(u),g=this.field;for(let x=0;x<u;x++){const v=g.inverse(c[x]);let A=1;for(let C=0;C<u;C++)if(x!==C){const D=g.multiply(c[C],v),z=(D&1)===0?D|1:D&-2;A=g.multiply(A,z)}h[x]=g.multiply(a.evaluateAt(v),g.inverse(A)),g.getGeneratorBase()!==0&&(h[x]=g.multiply(h[x],v))}return h}}var wt;(function(U){U[U.UPPER=0]="UPPER",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.DIGIT=3]="DIGIT",U[U.PUNCT=4]="PUNCT",U[U.BINARY=5]="BINARY"})(wt||(wt={}));class Pt{decode(a){this.ddata=a;let c=a.getBits(),u=this.extractBits(c),h=this.correctBits(u),g=Pt.convertBoolArrayToByteArray(h),x=Pt.getEncodedData(h),v=new Ye(g,x,null,null);return v.setNumBits(h.length),v}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let c=a.length,u=wt.UPPER,h=wt.UPPER,g="",x=0;for(;x<c;)if(h===wt.BINARY){if(c-x<5)break;let v=Pt.readCode(a,x,5);if(x+=5,v===0){if(c-x<11)break;v=Pt.readCode(a,x,11)+31,x+=11}for(let A=0;A<v;A++){if(c-x<8){x=c;break}const C=Pt.readCode(a,x,8);g+=G.castAsNonUtf8Char(C),x+=8}h=u}else{let v=h===wt.DIGIT?4:5;if(c-x<v)break;let A=Pt.readCode(a,x,v);x+=v;let C=Pt.getCharacter(h,A);C.startsWith("CTRL_")?(u=h,h=Pt.getTable(C.charAt(5)),C.charAt(6)==="L"&&(u=h)):(g+=C,h=u)}return g}static getTable(a){switch(a){case"L":return wt.LOWER;case"P":return wt.PUNCT;case"M":return wt.MIXED;case"D":return wt.DIGIT;case"B":return wt.BINARY;case"U":default:return wt.UPPER}}static getCharacter(a,c){switch(a){case wt.UPPER:return Pt.UPPER_TABLE[c];case wt.LOWER:return Pt.LOWER_TABLE[c];case wt.MIXED:return Pt.MIXED_TABLE[c];case wt.PUNCT:return Pt.PUNCT_TABLE[c];case wt.DIGIT:return Pt.DIGIT_TABLE[c];default:throw new kt("Bad table")}}correctBits(a){let c,u;this.ddata.getNbLayers()<=2?(u=6,c=nt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,c=nt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,c=nt.AZTEC_DATA_10):(u=12,c=nt.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=a.length/u;if(g<h)throw new V;let x=a.length%u,v=new Int32Array(g);for(let Y=0;Y<g;Y++,x+=u)v[Y]=Pt.readCode(a,x,u);try{new $n(c).decode(v,g-h)}catch(Y){throw new V(Y)}let A=(1<<u)-1,C=0;for(let Y=0;Y<h;Y++){let re=v[Y];if(re===0||re===A)throw new V;(re===1||re===A-1)&&C++}let D=new Array(h*u-C),z=0;for(let Y=0;Y<h;Y++){let re=v[Y];if(re===1||re===A-1)D.fill(re>1,z,z+u-1),z+=u-1;else for(let ce=u-1;ce>=0;--ce)D[z++]=(re&1<<ce)!==0}return D}extractBits(a){let c=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(c?11:14)+u*4,g=new Int32Array(h),x=new Array(this.totalBitsInLayer(u,c));if(c)for(let v=0;v<g.length;v++)g[v]=v;else{let v=h+1+2*F.truncDivision(F.truncDivision(h,2)-1,15),A=h/2,C=F.truncDivision(v,2);for(let D=0;D<A;D++){let z=D+F.truncDivision(D,15);g[A-D-1]=C-z-1,g[A+D]=C+z+1}}for(let v=0,A=0;v<u;v++){let C=(u-v)*4+(c?9:12),D=v*2,z=h-1-D;for(let Y=0;Y<C;Y++){let re=Y*2;for(let ce=0;ce<2;ce++)x[A+re+ce]=a.get(g[D+ce],g[D+Y]),x[A+2*C+re+ce]=a.get(g[D+Y],g[z-ce]),x[A+4*C+re+ce]=a.get(g[z-ce],g[z-Y]),x[A+6*C+re+ce]=a.get(g[z-Y],g[D+ce])}A+=C*8}return x}static readCode(a,c,u){let h=0;for(let g=c;g<c+u;g++)h<<=1,a[g]&&(h|=1);return h}static readByte(a,c){let u=a.length-c;return u>=8?Pt.readCode(a,c,8):Pt.readCode(a,c,u)<<8-u}static convertBoolArrayToByteArray(a){let c=new Uint8Array((a.length+7)/8);for(let u=0;u<c.length;u++)c[u]=Pt.readByte(a,8*u);return c}totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}Pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Et{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,c,u,h){const g=a-u,x=c-h;return Math.sqrt(g*g+x*x)}static sum(a){let c=0;for(let u=0,h=a.length;u!==h;u++){const g=a[u];c+=g}return c}}class Nr{static floatToIntBits(a){return a}}Nr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class qe{constructor(a,c){this.x=a,this.y=c}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof qe){const c=a;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Nr.floatToIntBits(this.x)+Nr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const c=this.distance(a[0],a[1]),u=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let g,x,v;if(u>=c&&u>=h?(x=a[0],g=a[1],v=a[2]):h>=u&&h>=c?(x=a[1],g=a[0],v=a[2]):(x=a[2],g=a[0],v=a[1]),this.crossProductZ(g,x,v)<0){const A=g;g=v,v=A}a[0]=g,a[1]=x,a[2]=v}static distance(a,c){return Et.distance(a.x,a.y,c.x,c.y)}static crossProductZ(a,c,u){const h=c.x,g=c.y;return(u.x-h)*(a.y-g)-(u.y-g)*(a.x-h)}}class vs{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class aa extends vs{constructor(a,c,u,h,g){super(a,c),this.compact=u,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class fi{constructor(a,c,u,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),c==null&&(c=fi.INIT_SIZE),u==null&&(u=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const g=c/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}detect(){let a=this.leftInit,c=this.rightInit,u=this.upInit,h=this.downInit,g=!1,x=!0,v=!1,A=!1,C=!1,D=!1,z=!1;const Y=this.width,re=this.height;for(;x;){x=!1;let ce=!0;for(;(ce||!A)&&c<Y;)ce=this.containsBlackPoint(u,h,c,!1),ce?(c++,x=!0,A=!0):A||c++;if(c>=Y){g=!0;break}let ue=!0;for(;(ue||!C)&&h<re;)ue=this.containsBlackPoint(a,c,h,!0),ue?(h++,x=!0,C=!0):C||h++;if(h>=re){g=!0;break}let me=!0;for(;(me||!D)&&a>=0;)me=this.containsBlackPoint(u,h,a,!1),me?(a--,x=!0,D=!0):D||a--;if(a<0){g=!0;break}let Ee=!0;for(;(Ee||!z)&&u>=0;)Ee=this.containsBlackPoint(a,c,u,!0),Ee?(u--,x=!0,z=!0):z||u--;if(u<0){g=!0;break}x&&(v=!0)}if(!g&&v){const ce=c-a;let ue=null;for(let Ue=1;ue===null&&Ue<ce;Ue++)ue=this.getBlackPointOnSegment(a,h-Ue,a+Ue,h);if(ue==null)throw new le;let me=null;for(let Ue=1;me===null&&Ue<ce;Ue++)me=this.getBlackPointOnSegment(a,u+Ue,a+Ue,u);if(me==null)throw new le;let Ee=null;for(let Ue=1;Ee===null&&Ue<ce;Ue++)Ee=this.getBlackPointOnSegment(c,u+Ue,c-Ue,u);if(Ee==null)throw new le;let Ve=null;for(let Ue=1;Ve===null&&Ue<ce;Ue++)Ve=this.getBlackPointOnSegment(c,h-Ue,c-Ue,h);if(Ve==null)throw new le;return this.centerEdges(Ve,ue,Ee,me)}else throw new le}getBlackPointOnSegment(a,c,u,h){const g=Et.round(Et.distance(a,c,u,h)),x=(u-a)/g,v=(h-c)/g,A=this.image;for(let C=0;C<g;C++){const D=Et.round(a+C*x),z=Et.round(c+C*v);if(A.get(D,z))return new qe(D,z)}return null}centerEdges(a,c,u,h){const g=a.getX(),x=a.getY(),v=c.getX(),A=c.getY(),C=u.getX(),D=u.getY(),z=h.getX(),Y=h.getY(),re=fi.CORR;return g<this.width/2?[new qe(z-re,Y+re),new qe(v+re,A+re),new qe(C-re,D-re),new qe(g+re,x-re)]:[new qe(z+re,Y+re),new qe(v+re,A-re),new qe(C-re,D+re),new qe(g-re,x-re)]}containsBlackPoint(a,c,u,h){const g=this.image;if(h){for(let x=a;x<=c;x++)if(g.get(x,u))return!0}else for(let x=a;x<=c;x++)if(g.get(u,x))return!0;return!1}}fi.INIT_SIZE=10,fi.CORR=1;class Qa{static checkAndNudgePoints(a,c){const u=a.getWidth(),h=a.getHeight();let g=!0;for(let x=0;x<c.length&&g;x+=2){const v=Math.floor(c[x]),A=Math.floor(c[x+1]);if(v<-1||v>u||A<-1||A>h)throw new le;g=!1,v===-1?(c[x]=0,g=!0):v===u&&(c[x]=u-1,g=!0),A===-1?(c[x+1]=0,g=!0):A===h&&(c[x+1]=h-1,g=!0)}g=!0;for(let x=c.length-2;x>=0&&g;x-=2){const v=Math.floor(c[x]),A=Math.floor(c[x+1]);if(v<-1||v>u||A<-1||A>h)throw new le;g=!1,v===-1?(c[x]=0,g=!0):v===u&&(c[x]=u-1,g=!0),A===-1?(c[x+1]=0,g=!0):A===h&&(c[x+1]=h-1,g=!0)}}}class Xt{constructor(a,c,u,h,g,x,v,A,C){this.a11=a,this.a21=c,this.a31=u,this.a12=h,this.a22=g,this.a32=x,this.a13=v,this.a23=A,this.a33=C}static quadrilateralToQuadrilateral(a,c,u,h,g,x,v,A,C,D,z,Y,re,ce,ue,me){const Ee=Xt.quadrilateralToSquare(a,c,u,h,g,x,v,A);return Xt.squareToQuadrilateral(C,D,z,Y,re,ce,ue,me).times(Ee)}transformPoints(a){const c=a.length,u=this.a11,h=this.a12,g=this.a13,x=this.a21,v=this.a22,A=this.a23,C=this.a31,D=this.a32,z=this.a33;for(let Y=0;Y<c;Y+=2){const re=a[Y],ce=a[Y+1],ue=g*re+A*ce+z;a[Y]=(u*re+x*ce+C)/ue,a[Y+1]=(h*re+v*ce+D)/ue}}transformPointsWithValues(a,c){const u=this.a11,h=this.a12,g=this.a13,x=this.a21,v=this.a22,A=this.a23,C=this.a31,D=this.a32,z=this.a33,Y=a.length;for(let re=0;re<Y;re++){const ce=a[re],ue=c[re],me=g*ce+A*ue+z;a[re]=(u*ce+x*ue+C)/me,c[re]=(h*ce+v*ue+D)/me}}static squareToQuadrilateral(a,c,u,h,g,x,v,A){const C=a-u+g-v,D=c-h+x-A;if(C===0&&D===0)return new Xt(u-a,g-u,a,h-c,x-h,c,0,0,1);{const z=u-g,Y=v-g,re=h-x,ce=A-x,ue=z*ce-Y*re,me=(C*ce-Y*D)/ue,Ee=(z*D-C*re)/ue;return new Xt(u-a+me*u,v-a+Ee*v,a,h-c+me*h,A-c+Ee*A,c,me,Ee,1)}}static quadrilateralToSquare(a,c,u,h,g,x,v,A){return Xt.squareToQuadrilateral(a,c,u,h,g,x,v,A).buildAdjoint()}buildAdjoint(){return new Xt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Xt(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class Jt extends Qa{sampleGrid(a,c,u,h,g,x,v,A,C,D,z,Y,re,ce,ue,me,Ee,Ve,Ue){const Be=Xt.quadrilateralToQuadrilateral(h,g,x,v,A,C,D,z,Y,re,ce,ue,me,Ee,Ve,Ue);return this.sampleGridWithTransform(a,c,u,Be)}sampleGridWithTransform(a,c,u,h){if(c<=0||u<=0)throw new le;const g=new _e(c,u),x=new Float32Array(2*c);for(let v=0;v<u;v++){const A=x.length,C=v+.5;for(let D=0;D<A;D+=2)x[D]=D/2+.5,x[D+1]=C;h.transformPoints(x),Qa.checkAndNudgePoints(a,x);try{for(let D=0;D<A;D+=2)a.get(Math.floor(x[D]),Math.floor(x[D+1]))&&g.set(D/2,v)}catch{throw new le}}return g}}class Jn{static setGridSampler(a){Jn.gridSampler=a}static getInstance(){return Jn.gridSampler}}Jn.gridSampler=new Jt;class en{constructor(a,c){this.x=a,this.y=c}toResultPoint(){return new qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ll{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let c=this.getMatrixCenter(),u=this.getBullsEyeCorners(c);if(a){let x=u[0];u[0]=u[2],u[2]=x}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new aa(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new le;let c=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(a[0],a[1],c),this.sampleLine(a[1],a[2],c),this.sampleLine(a[2],a[3],c),this.sampleLine(a[3],a[0],c)]);this.shift=this.getRotation(u,c);let h=0;for(let x=0;x<4;x++){let v=u[(this.shift+x)%4];this.compact?(h<<=7,h+=v>>1&127):(h<<=10,h+=(v>>2&992)+(v>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(a,c){let u=0;a.forEach((h,g,x)=>{let v=(h>>c-2<<1)+(h&1);u=(u<<3)+v}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(F.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new le}getCorrectedParameterData(a,c){let u,h;c?(u=7,h=2):(u=10,h=4);let g=u-h,x=new Int32Array(u);for(let A=u-1;A>=0;--A)x[A]=a&15,a>>=4;try{new $n(nt.AZTEC_PARAM).decode(x,g)}catch{throw new le}let v=0;for(let A=0;A<h;A++)v=(v<<4)+x[A];return v}getBullsEyeCorners(a){let c=a,u=a,h=a,g=a,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(c,x,1,-1),Y=this.getFirstDifferent(u,x,1,1),re=this.getFirstDifferent(h,x,-1,1),ce=this.getFirstDifferent(g,x,-1,-1);if(this.nbCenterLayers>2){let ue=this.distancePoint(ce,z)*this.nbCenterLayers/(this.distancePoint(g,c)*(this.nbCenterLayers+2));if(ue<.75||ue>1.25||!this.isWhiteOrBlackRectangle(z,Y,re,ce))break}c=z,u=Y,h=re,g=ce,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;let v=new qe(c.getX()+.5,c.getY()-.5),A=new qe(u.getX()+.5,u.getY()+.5),C=new qe(h.getX()-.5,h.getY()+.5),D=new qe(g.getX()-.5,g.getY()-.5);return this.expandSquare([v,A,C,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,c,u,h;try{let v=new fi(this.image).detect();a=v[0],c=v[1],u=v[2],h=v[3]}catch{let A=this.image.getWidth()/2,C=this.image.getHeight()/2;a=this.getFirstDifferent(new en(A+7,C-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new en(A+7,C+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new en(A-7,C+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new en(A-7,C-7),!1,-1,-1).toResultPoint()}let g=Et.round((a.getX()+h.getX()+c.getX()+u.getX())/4),x=Et.round((a.getY()+h.getY()+c.getY()+u.getY())/4);try{let v=new fi(this.image,15,g,x).detect();a=v[0],c=v[1],u=v[2],h=v[3]}catch{a=this.getFirstDifferent(new en(g+7,x-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new en(g+7,x+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new en(g-7,x+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new en(g-7,x-7),!1,-1,-1).toResultPoint()}return g=Et.round((a.getX()+h.getX()+c.getX()+u.getX())/4),x=Et.round((a.getY()+h.getY()+c.getY()+u.getY())/4),new en(g,x)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,c,u,h,g){let x=Jn.getInstance(),v=this.getDimension(),A=v/2-this.nbCenterLayers,C=v/2+this.nbCenterLayers;return x.sampleGrid(a,v,v,A,A,C,A,C,C,A,C,c.getX(),c.getY(),u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(a,c,u){let h=0,g=this.distanceResultPoint(a,c),x=g/u,v=a.getX(),A=a.getY(),C=x*(c.getX()-a.getX())/g,D=x*(c.getY()-a.getY())/g;for(let z=0;z<u;z++)this.image.get(Et.round(v+z*C),Et.round(A+z*D))&&(h|=1<<u-z-1);return h}isWhiteOrBlackRectangle(a,c,u,h){let g=3;a=new en(a.getX()-g,a.getY()+g),c=new en(c.getX()-g,c.getY()-g),u=new en(u.getX()+g,u.getY()-g),h=new en(h.getX()+g,h.getY()+g);let x=this.getColor(h,a);if(x===0)return!1;let v=this.getColor(a,c);return v!==x||(v=this.getColor(c,u),v!==x)?!1:(v=this.getColor(u,h),v===x)}getColor(a,c){let u=this.distancePoint(a,c),h=(c.getX()-a.getX())/u,g=(c.getY()-a.getY())/u,x=0,v=a.getX(),A=a.getY(),C=this.image.get(a.getX(),a.getY()),D=Math.ceil(u);for(let Y=0;Y<D;Y++)v+=h,A+=g,this.image.get(Et.round(v),Et.round(A))!==C&&x++;let z=x/u;return z>.1&&z<.9?0:z<=.1===C?1:-1}getFirstDifferent(a,c,u,h){let g=a.getX()+u,x=a.getY()+h;for(;this.isValid(g,x)&&this.image.get(g,x)===c;)g+=u,x+=h;for(g-=u,x-=h;this.isValid(g,x)&&this.image.get(g,x)===c;)g+=u;for(g-=u;this.isValid(g,x)&&this.image.get(g,x)===c;)x+=h;return x-=h,new en(g,x)}expandSquare(a,c,u){let h=u/(2*c),g=a[0].getX()-a[2].getX(),x=a[0].getY()-a[2].getY(),v=(a[0].getX()+a[2].getX())/2,A=(a[0].getY()+a[2].getY())/2,C=new qe(v+h*g,A+h*x),D=new qe(v-h*g,A-h*x);g=a[1].getX()-a[3].getX(),x=a[1].getY()-a[3].getY(),v=(a[1].getX()+a[3].getX())/2,A=(a[1].getY()+a[3].getY())/2;let z=new qe(v+h*g,A+h*x),Y=new qe(v-h*g,A-h*x);return[C,z,D,Y]}isValid(a,c){return a>=0&&a<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(a){let c=Et.round(a.getX()),u=Et.round(a.getY());return this.isValid(c,u)}distancePoint(a,c){return Et.distance(a.getX(),a.getY(),c.getX(),c.getY())}distanceResultPoint(a,c){return Et.distance(a.getX(),a.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class Za{decode(a,c=null){let u=null,h=new ll(a.getBlackMatrix()),g=null,x=null;try{let D=h.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(c,g),x=new Pt().decode(D)}catch(D){u=D}if(x==null)try{let D=h.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(c,g),x=new Pt().decode(D)}catch(D){throw u??D}let v=new Ge(x.getText(),x.getRawBytes(),x.getNumBits(),g,Ce.AZTEC,P.currentTimeMillis()),A=x.getByteSegments();A!=null&&v.putMetadata(He.BYTE_SEGMENTS,A);let C=x.getECLevel();return C!=null&&v.putMetadata(He.ERROR_CORRECTION_LEVEL,C),v}reportFoundResultPoints(a,c){if(a!=null){let u=a.get(se.NEED_RESULT_POINT_CALLBACK);u!=null&&c.forEach((h,g,x)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class oa extends Oe{constructor(a=500){super(new Za,a)}}class wn{decode(a,c){try{return this.doDecode(a,c)}catch{if(c&&c.get(se.TRY_HARDER)===!0&&a.isRotateSupported()){const g=a.rotateCounterClockwise(),x=this.doDecode(g,c),v=x.getResultMetadata();let A=270;v!==null&&v.get(He.ORIENTATION)===!0&&(A=A+v.get(He.ORIENTATION)%360),x.putMetadata(He.ORIENTATION,A);const C=x.getResultPoints();if(C!==null){const D=g.getHeight();for(let z=0;z<C.length;z++)C[z]=new qe(D-C[z].getY()-1,C[z].getX())}return x}else throw new le}}reset(){}doDecode(a,c){const u=a.getWidth(),h=a.getHeight();let g=new $(u);const x=c&&c.get(se.TRY_HARDER)===!0,v=Math.max(1,h>>(x?8:5));let A;x?A=h:A=15;const C=Math.trunc(h/2);for(let D=0;D<A;D++){const z=Math.trunc((D+1)/2),Y=(D&1)===0,re=C+v*(Y?z:-z);if(re<0||re>=h)break;try{g=a.getBlackRow(re,g)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(g.reverse(),c&&c.get(se.NEED_RESULT_POINT_CALLBACK)===!0)){const ue=new Map;c.forEach((me,Ee)=>ue.set(Ee,me)),ue.delete(se.NEED_RESULT_POINT_CALLBACK),c=ue}try{const ue=this.decodeRow(re,g,c);if(ce===1){ue.putMetadata(He.ORIENTATION,180);const me=ue.getResultPoints();me!==null&&(me[0]=new qe(u-me[0].getX()-1,me[0].getY()),me[1]=new qe(u-me[1].getX()-1,me[1].getY()))}return ue}catch{}}}throw new le}static recordPattern(a,c,u){const h=u.length;for(let C=0;C<h;C++)u[C]=0;const g=a.getSize();if(c>=g)throw new le;let x=!a.get(c),v=0,A=c;for(;A<g;){if(a.get(A)!==x)u[v]++;else{if(++v===h)break;u[v]=1,x=!x}A++}if(!(v===h||v===h-1&&A===g))throw new le}static recordPatternInReverse(a,c,u){let h=u.length,g=a.get(c);for(;c>0&&h>=0;)a.get(--c)!==g&&(h--,g=!g);if(h>=0)throw new le;wn.recordPattern(a,c+1,u)}static patternMatchVariance(a,c,u){const h=a.length;let g=0,x=0;for(let C=0;C<h;C++)g+=a[C],x+=c[C];if(g<x)return Number.POSITIVE_INFINITY;const v=g/x;u*=v;let A=0;for(let C=0;C<h;C++){const D=a[C],z=c[C]*v,Y=D>z?D-z:z-D;if(Y>u)return Number.POSITIVE_INFINITY;A+=Y}return A/g}}class Fe extends wn{static findStartPattern(a){const c=a.getSize(),u=a.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),x=u,v=!1;const A=6;for(let C=u;C<c;C++)if(a.get(C)!==v)g[h]++;else{if(h===A-1){let D=Fe.MAX_AVG_VARIANCE,z=-1;for(let Y=Fe.CODE_START_A;Y<=Fe.CODE_START_C;Y++){const re=wn.patternMatchVariance(g,Fe.CODE_PATTERNS[Y],Fe.MAX_INDIVIDUAL_VARIANCE);re<D&&(D=re,z=Y)}if(z>=0&&a.isRange(Math.max(0,x-(C-x)/2),x,!1))return Int32Array.from([x,C,z]);x+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,v=!v}throw new le}static decodeCode(a,c,u){wn.recordPattern(a,u,c);let h=Fe.MAX_AVG_VARIANCE,g=-1;for(let x=0;x<Fe.CODE_PATTERNS.length;x++){const v=Fe.CODE_PATTERNS[x],A=this.patternMatchVariance(c,v,Fe.MAX_INDIVIDUAL_VARIANCE);A<h&&(h=A,g=x)}if(g>=0)return g;throw new le}decodeRow(a,c,u){const h=u&&u.get(se.ASSUME_GS1)===!0,g=Fe.findStartPattern(c),x=g[2];let v=0;const A=new Uint8Array(20);A[v++]=x;let C;switch(x){case Fe.CODE_START_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_START_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_START_C:C=Fe.CODE_CODE_C;break;default:throw new V}let D=!1,z=!1,Y="",re=g[0],ce=g[1];const ue=Int32Array.from([0,0,0,0,0,0]);let me=0,Ee=0,Ve=x,Ue=0,Be=!0,Tt=!1,vt=!1;for(;!D;){const js=z;switch(z=!1,me=Ee,Ee=Fe.decodeCode(c,ue,ce),A[v++]=Ee,Ee!==Fe.CODE_STOP&&(Be=!0),Ee!==Fe.CODE_STOP&&(Ue++,Ve+=Ue*Ee),re=ce,ce+=ue.reduce((Fi,pd)=>Fi+pd,0),Ee){case Fe.CODE_START_A:case Fe.CODE_START_B:case Fe.CODE_START_C:throw new V}switch(C){case Fe.CODE_CODE_A:if(Ee<64)vt===Tt?Y+=String.fromCharCode(32+Ee):Y+=String.fromCharCode(32+Ee+128),vt=!1;else if(Ee<96)vt===Tt?Y+=String.fromCharCode(Ee-64):Y+=String.fromCharCode(Ee+64),vt=!1;else switch(Ee!==Fe.CODE_STOP&&(Be=!1),Ee){case Fe.CODE_FNC_1:h&&(Y.length===0?Y+="]C1":Y+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_A:!Tt&&vt?(Tt=!0,vt=!1):Tt&&vt?(Tt=!1,vt=!1):vt=!0;break;case Fe.CODE_SHIFT:z=!0,C=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_C:C=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:D=!0;break}break;case Fe.CODE_CODE_B:if(Ee<96)vt===Tt?Y+=String.fromCharCode(32+Ee):Y+=String.fromCharCode(32+Ee+128),vt=!1;else switch(Ee!==Fe.CODE_STOP&&(Be=!1),Ee){case Fe.CODE_FNC_1:h&&(Y.length===0?Y+="]C1":Y+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_B:!Tt&&vt?(Tt=!0,vt=!1):Tt&&vt?(Tt=!1,vt=!1):vt=!0;break;case Fe.CODE_SHIFT:z=!0,C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_C:C=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:D=!0;break}break;case Fe.CODE_CODE_C:if(Ee<100)Ee<10&&(Y+="0"),Y+=Ee;else switch(Ee!==Fe.CODE_STOP&&(Be=!1),Ee){case Fe.CODE_FNC_1:h&&(Y.length===0?Y+="]C1":Y+="");break;case Fe.CODE_CODE_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_STOP:D=!0;break}break}js&&(C=C===Fe.CODE_CODE_A?Fe.CODE_CODE_B:Fe.CODE_CODE_A)}const Gr=ce-re;if(ce=c.getNextUnset(ce),!c.isRange(ce,Math.min(c.getSize(),ce+(ce-re)/2),!1))throw new le;if(Ve-=Ue*me,Ve%103!==me)throw new N;const Ai=Y.length;if(Ai===0)throw new le;Ai>0&&Be&&(C===Fe.CODE_CODE_C?Y=Y.substring(0,Ai-2):Y=Y.substring(0,Ai-1));const ri=(g[1]+g[0])/2,hn=re+Gr/2,Tr=A.length,ii=new Uint8Array(Tr);for(let js=0;js<Tr;js++)ii[js]=A[js];const pa=[new qe(ri,a),new qe(hn,a)];return new Ge(Y,ii,0,pa,Ce.CODE_128,new Date().getTime())}}Fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Fe.MAX_AVG_VARIANCE=.25,Fe.MAX_INDIVIDUAL_VARIANCE=.7,Fe.CODE_SHIFT=98,Fe.CODE_CODE_C=99,Fe.CODE_CODE_B=100,Fe.CODE_CODE_A=101,Fe.CODE_FNC_1=102,Fe.CODE_FNC_2=97,Fe.CODE_FNC_3=96,Fe.CODE_FNC_4_A=101,Fe.CODE_FNC_4_B=100,Fe.CODE_START_A=103,Fe.CODE_START_B=104,Fe.CODE_START_C=105,Fe.CODE_STOP=106;class on extends wn{constructor(a=!1,c=!1){super(),this.usingCheckDigit=a,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,c,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=on.findAsteriskPattern(c,h),x=c.getNextSet(g[1]),v=c.getSize(),A,C;do{on.recordPattern(c,x,h);let ue=on.toNarrowWidePattern(h);if(ue<0)throw new le;A=on.patternToChar(ue),this.decodeRowResult+=A,C=x;for(let me of h)x+=me;x=c.getNextSet(x)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let ue of h)D+=ue;let z=x-C-D;if(x!==v&&z*2<D)throw new le;if(this.usingCheckDigit){let ue=this.decodeRowResult.length-1,me=0;for(let Ee=0;Ee<ue;Ee++)me+=on.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ee));if(this.decodeRowResult.charAt(ue)!==on.ALPHABET_STRING.charAt(me%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,ue)}if(this.decodeRowResult.length===0)throw new le;let Y;this.extendedMode?Y=on.decodeExtended(this.decodeRowResult):Y=this.decodeRowResult;let re=(g[1]+g[0])/2,ce=C+D/2;return new Ge(Y,null,0,[new qe(re,a),new qe(ce,a)],Ce.CODE_39,new Date().getTime())}static findAsteriskPattern(a,c){let u=a.getSize(),h=a.getNextSet(0),g=0,x=h,v=!1,A=c.length;for(let C=h;C<u;C++)if(a.get(C)!==v)c[g]++;else{if(g===A-1){if(this.toNarrowWidePattern(c)===on.ASTERISK_ENCODING&&a.isRange(Math.max(0,x-Math.floor((C-x)/2)),x,!1))return[x,C];x+=c[0]+c[1],c.copyWithin(0,2,2+g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,v=!v}throw new le}static toNarrowWidePattern(a){let c=a.length,u=0,h;do{let g=2147483647;for(let A of a)A<g&&A>u&&(g=A);u=g,h=0;let x=0,v=0;for(let A=0;A<c;A++){let C=a[A];C>u&&(v|=1<<c-1-A,h++,x+=C)}if(h===3){for(let A=0;A<c&&h>0;A++){let C=a[A];if(C>u&&(h--,C*2>=x))return-1}return v}}while(h>3);return-1}static patternToChar(a){for(let c=0;c<on.CHARACTER_ENCODINGS.length;c++)if(on.CHARACTER_ENCODINGS[c]===a)return on.ALPHABET_STRING.charAt(c);if(a===on.ASTERISK_ENCODING)return"*";throw new le}static decodeExtended(a){let c=a.length,u="";for(let h=0;h<c;h++){let g=a.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let x=a.charAt(h+1),v="\0";switch(g){case"+":if(x>="A"&&x<="Z")v=String.fromCharCode(x.charCodeAt(0)+32);else throw new V;break;case"$":if(x>="A"&&x<="Z")v=String.fromCharCode(x.charCodeAt(0)-64);else throw new V;break;case"%":if(x>="A"&&x<="E")v=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")v=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")v=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")v=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")v="\0";else if(x==="V")v="@";else if(x==="W")v="`";else if(x==="X"||x==="Y"||x==="Z")v="";else throw new V;break;case"/":if(x>="A"&&x<="O")v=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")v=":";else throw new V;break}u+=v,h++}else u+=g}return u}}on.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",on.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],on.ASTERISK_ENCODING=148;class Kt extends wn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,c,u){let h=this.decodeStart(c),g=this.decodeEnd(c),x=new H;Kt.decodeMiddle(c,h[1],g[0],x);let v=x.toString(),A=null;u!=null&&(A=u.get(se.ALLOWED_LENGTHS)),A==null&&(A=Kt.DEFAULT_ALLOWED_LENGTHS);let C=v.length,D=!1,z=0;for(let ce of A){if(C===ce){D=!0;break}ce>z&&(z=ce)}if(!D&&C>z&&(D=!0),!D)throw new V;const Y=[new qe(h[1],a),new qe(g[0],a)];return new Ge(v,null,0,Y,Ce.ITF,new Date().getTime())}static decodeMiddle(a,c,u,h){let g=new Int32Array(10),x=new Int32Array(5),v=new Int32Array(5);for(g.fill(0),x.fill(0),v.fill(0);c<u;){wn.recordPattern(a,c,g);for(let C=0;C<5;C++){let D=2*C;x[C]=g[D],v[C]=g[D+1]}let A=Kt.decodeDigit(x);h.append(A.toString()),A=this.decodeDigit(v),h.append(A.toString()),g.forEach(function(C){c+=C})}}decodeStart(a){let c=Kt.skipWhiteSpace(a),u=Kt.findGuardPattern(a,c,Kt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(a,u[0]),u}validateQuietZone(a,c){let u=this.narrowLineWidth*10;u=u<c?u:c;for(let h=c-1;u>0&&h>=0&&!a.get(h);h--)u--;if(u!==0)throw new le}static skipWhiteSpace(a){const c=a.getSize(),u=a.getNextSet(0);if(u===c)throw new le;return u}decodeEnd(a){a.reverse();try{let c=Kt.skipWhiteSpace(a),u;try{u=Kt.findGuardPattern(a,c,Kt.END_PATTERN_REVERSED[0])}catch(g){g instanceof le&&(u=Kt.findGuardPattern(a,c,Kt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,u[0]);let h=u[0];return u[0]=a.getSize()-u[1],u[1]=a.getSize()-h,u}finally{a.reverse()}}static findGuardPattern(a,c,u){let h=u.length,g=new Int32Array(h),x=a.getSize(),v=!1,A=0,C=c;g.fill(0);for(let D=c;D<x;D++)if(a.get(D)!==v)g[A]++;else{if(A===h-1){if(wn.patternMatchVariance(g,u,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return[C,D];C+=g[0]+g[1],P.arraycopy(g,2,g,0,A-1),g[A-1]=0,g[A]=0,A--}else A++;g[A]=1,v=!v}throw new le}static decodeDigit(a){let c=Kt.MAX_AVG_VARIANCE,u=-1,h=Kt.PATTERNS.length;for(let g=0;g<h;g++){let x=Kt.PATTERNS[g],v=wn.patternMatchVariance(a,x,Kt.MAX_INDIVIDUAL_VARIANCE);v<c?(c=v,u=g):v===c&&(u=-1)}if(u>=0)return u%10;throw new le}}Kt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Kt.MAX_AVG_VARIANCE=.38,Kt.MAX_INDIVIDUAL_VARIANCE=.5,Kt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Kt.START_PATTERN=Int32Array.from([1,1,1,1]),Kt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class cn extends wn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let c=!1,u,h=0,g=Int32Array.from([0,0,0]);for(;!c;){g=Int32Array.from([0,0,0]),u=cn.findGuardPattern(a,h,!1,this.START_END_PATTERN,g);let x=u[0];h=u[1];let v=x-(h-x);v>=0&&(c=a.isRange(v,x,!1))}return u}static checkChecksum(a){return cn.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let u=parseInt(a.charAt(c-1),10);return cn.getStandardUPCEANChecksum(a.substring(0,c-1))===u}static getStandardUPCEANChecksum(a){let c=a.length,u=0;for(let h=c-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}u*=3;for(let h=c-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}return(1e3-u)%10}static decodeEnd(a,c){return cn.findGuardPattern(a,c,!1,cn.START_END_PATTERN,new Int32Array(cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,c,u,h){return this.findGuardPattern(a,c,u,h,new Int32Array(h.length))}static findGuardPattern(a,c,u,h,g){let x=a.getSize();c=u?a.getNextUnset(c):a.getNextSet(c);let v=0,A=c,C=h.length,D=u;for(let z=c;z<x;z++)if(a.get(z)!==D)g[v]++;else{if(v===C-1){if(wn.patternMatchVariance(g,h,cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return Int32Array.from([A,z]);A+=g[0]+g[1];let Y=g.slice(2,g.length-1);for(let re=0;re<v-1;re++)g[re]=Y[re];g[v-1]=0,g[v]=0,v--}else v++;g[v]=1,D=!D}throw new le}static decodeDigit(a,c,u,h){this.recordPattern(a,u,c);let g=this.MAX_AVG_VARIANCE,x=-1,v=h.length;for(let A=0;A<v;A++){let C=h[A],D=wn.patternMatchVariance(c,C,cn.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,x=A)}if(x>=0)return x;throw new le}}cn.MAX_AVG_VARIANCE=.48,cn.MAX_INDIVIDUAL_VARIANCE=.7,cn.START_END_PATTERN=Int32Array.from([1,1,1]),cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class bs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(c,u,h),x=h.toString(),v=bs.parseExtensionString(x),A=[new qe((u[0]+u[1])/2,a),new qe(g,a)],C=new Ge(x,null,0,A,Ce.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&C.putAllMetadata(v),C}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=c[1],v=0;for(let C=0;C<5&&x<g;C++){let D=cn.decodeDigit(a,h,x,cn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)x+=z;D>=10&&(v|=1<<4-C),C!==4&&(x=a.getNextSet(x),x=a.getNextUnset(x))}if(u.length!==5)throw new le;let A=this.determineCheckDigit(v);if(bs.extensionChecksum(u.toString())!==A)throw new le;return x}static extensionChecksum(a){let c=a.length,u=0;for(let h=c-2;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;u*=3;for(let h=c-1;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(a){for(let c=0;c<10;c++)if(a===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new le}static parseExtensionString(a){if(a.length!==5)return null;let c=bs.parseExtension5String(a);return c==null?null:new Map([[He.SUGGESTED_PRICE,c]])}static parseExtension5String(a){let c;switch(a.charAt(0)){case"0":c="£";break;case"5":c="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let u=parseInt(a.substring(1)),h=(u/100).toString(),g=u%100,x=g<10?"0"+g:g.toString();return c+h+"."+x}}class la{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(c,u,h),x=h.toString(),v=la.parseExtensionString(x),A=[new qe((u[0]+u[1])/2,a),new qe(g,a)],C=new Ge(x,null,0,A,Ce.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&C.putAllMetadata(v),C}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=c[1],v=0;for(let A=0;A<2&&x<g;A++){let C=cn.decodeDigit(a,h,x,cn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+C%10);for(let D of h)x+=D;C>=10&&(v|=1<<1-A),A!==1&&(x=a.getNextSet(x),x=a.getNextUnset(x))}if(u.length!==2)throw new le;if(parseInt(u.toString())%4!==v)throw new le;return x}static parseExtensionString(a){return a.length!==2?null:new Map([[He.ISSUE_NUMBER,parseInt(a)]])}}class $a{static decodeRow(a,c,u){let h=cn.findGuardPattern(c,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new bs().decodeRow(a,c,h)}catch{return new la().decodeRow(a,c,h)}}}$a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class St extends cn{constructor(){super(),this.decodeRowStringBuffer="",St.L_AND_G_PATTERNS=St.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let c=St.L_PATTERNS[a-10],u=new Int32Array(c.length);for(let h=0;h<c.length;h++)u[h]=c[c.length-h-1];St.L_AND_G_PATTERNS[a]=u}}decodeRow(a,c,u){let h=St.findStartGuardPattern(c),g=u==null?null:u.get(se.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Be=new qe((h[0]+h[1])/2,a);g.foundPossibleResultPoint(Be)}let x=this.decodeMiddle(c,h,this.decodeRowStringBuffer),v=x.rowOffset,A=x.resultString;if(g!=null){const Be=new qe(v,a);g.foundPossibleResultPoint(Be)}let C=this.decodeEnd(c,v);if(g!=null){const Be=new qe((C[0]+C[1])/2,a);g.foundPossibleResultPoint(Be)}let D=C[1],z=D+(D-C[0]);if(z>=c.getSize()||!c.isRange(D,z,!1))throw new le;let Y=A.toString();if(Y.length<8)throw new V;if(!St.checkChecksum(Y))throw new N;let re=(h[1]+h[0])/2,ce=(C[1]+C[0])/2,ue=this.getBarcodeFormat(),me=[new qe(re,a),new qe(ce,a)],Ee=new Ge(Y,null,0,me,ue,new Date().getTime()),Ve=0;try{let Be=$a.decodeRow(a,c,C[1]);Ee.putMetadata(He.UPC_EAN_EXTENSION,Be.getText()),Ee.putAllMetadata(Be.getResultMetadata()),Ee.addResultPoints(Be.getResultPoints()),Ve=Be.getText().length}catch{}let Ue=u==null?null:u.get(se.ALLOWED_EAN_EXTENSIONS);if(Ue!=null){let Be=!1;for(let Tt in Ue)if(Ve.toString()===Tt){Be=!0;break}if(!Be)throw new le}return Ee}decodeEnd(a,c){return St.findGuardPattern(a,c,!1,St.START_END_PATTERN,new Int32Array(St.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return St.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let u=parseInt(a.charAt(c-1),10);return St.getStandardUPCEANChecksum(a.substring(0,c-1))===u}static getStandardUPCEANChecksum(a){let c=a.length,u=0;for(let h=c-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}u*=3;for(let h=c-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}return(1e3-u)%10}}class Ur extends St{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=c[1],v=0;for(let C=0;C<6&&x<g;C++){let D=St.decodeDigit(a,h,x,St.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)x+=z;D>=10&&(v|=1<<5-C)}u=Ur.determineFirstDigit(u,v),x=St.findGuardPattern(a,x,!0,St.MIDDLE_PATTERN,new Int32Array(St.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&x<g;C++){let D=St.decodeDigit(a,h,x,St.L_PATTERNS);u+=String.fromCharCode(48+D);for(let z of h)x+=z}return{rowOffset:x,resultString:u}}getBarcodeFormat(){return Ce.EAN_13}static determineFirstDigit(a,c){for(let u=0;u<10;u++)if(c===this.FIRST_DIGIT_ENCODINGS[u])return a=String.fromCharCode(48+u)+a,a;throw new le}}Ur.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ja extends St{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=c[1];for(let A=0;A<4&&x<g;A++){let C=St.decodeDigit(a,h,x,St.L_PATTERNS);u+=String.fromCharCode(48+C);for(let D of h)x+=D}x=St.findGuardPattern(a,x,!0,St.MIDDLE_PATTERN,new Int32Array(St.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<4&&x<g;A++){let C=St.decodeDigit(a,h,x,St.L_PATTERNS);u+=String.fromCharCode(48+C);for(let D of h)x+=D}return{rowOffset:x,resultString:u}}getBarcodeFormat(){return Ce.EAN_8}}class Di extends St{constructor(){super(...arguments),this.ean13Reader=new Ur}getBarcodeFormat(){return Ce.UPC_A}decode(a,c){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,c,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,c,u))}decodeMiddle(a,c,u){return this.ean13Reader.decodeMiddle(a,c,u)}maybeReturnResult(a){let c=a.getText();if(c.charAt(0)==="0"){let u=new Ge(c.substring(1),null,null,a.getResultPoints(),Ce.UPC_A);return a.getResultMetadata()!=null&&u.putAllMetadata(a.getResultMetadata()),u}else throw new le}reset(){this.ean13Reader.reset()}}class Fr extends St{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,c,u){const h=this.decodeMiddleCounters.map(C=>C);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=a.getSize();let x=c[1],v=0;for(let C=0;C<6&&x<g;C++){const D=Fr.decodeDigit(a,h,x,Fr.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let z of h)x+=z;D>=10&&(v|=1<<5-C)}let A=Fr.determineNumSysAndCheckDigit(u,v);return{rowOffset:x,resultString:A}}decodeEnd(a,c){return Fr.findGuardPatternWithoutCounters(a,c,!0,Fr.MIDDLE_END_PATTERN)}checkChecksum(a){return St.checkChecksum(Fr.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,c){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let g=String.fromCharCode(48+u),x=String.fromCharCode(48+h);return g+a+x}throw le.getNotFoundInstance()}getBarcodeFormat(){return Ce.UPC_E}static convertUPCEtoUPCA(a){const c=a.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new H;u.append(a.charAt(0));let h=c[5];switch(h){case 0:case 1:case 2:u.appendChars(c,0,2),u.append(h),u.append("0000"),u.appendChars(c,2,3);break;case 3:u.appendChars(c,0,3),u.append("00000"),u.appendChars(c,3,2);break;case 4:u.appendChars(c,0,4),u.append("00000"),u.append(c[4]);break;default:u.appendChars(c,0,5),u.append("0000"),u.append(h);break}return a.length>=8&&u.append(a.charAt(7)),u.toString()}}Fr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ts extends wn{constructor(a){super();let c=a==null?null:a.get(se.POSSIBLE_FORMATS),u=[];r(c)?(u.push(new Ur),u.push(new Di),u.push(new Ja),u.push(new Fr)):(c.indexOf(Ce.EAN_13)>-1&&u.push(new Ur),c.indexOf(Ce.UPC_A)>-1&&u.push(new Di),c.indexOf(Ce.EAN_8)>-1&&u.push(new Ja),c.indexOf(Ce.UPC_E)>-1&&u.push(new Fr)),this.readers=u}decodeRow(a,c,u){for(let h of this.readers)try{const g=h.decodeRow(a,c,u),x=g.getBarcodeFormat()===Ce.EAN_13&&g.getText().charAt(0)==="0",v=u==null?null:u.get(se.POSSIBLE_FORMATS),A=v==null||v.includes(Ce.UPC_A);if(x&&A){const C=g.getRawBytes(),D=new Ge(g.getText().substring(1),C,C?C.length:null,g.getResultPoints(),Ce.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new le}reset(){for(let a of this.readers)a.reset()}}class Xn extends wn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,c){for(let u=0;u<c.length;u++)if(wn.patternMatchVariance(a,c[u],Xn.MAX_INDIVIDUAL_VARIANCE)<Xn.MAX_AVG_VARIANCE)return u;throw new le}static count(a){return Et.sum(new Int32Array(a))}static increment(a,c){let u=0,h=c[0];for(let g=1;g<a.length;g++)c[g]>h&&(h=c[g],u=g);a[u]++}static decrement(a,c){let u=0,h=c[0];for(let g=1;g<a.length;g++)c[g]<h&&(h=c[g],u=g);a[u]--}static isFinderPattern(a){let c=a[0]+a[1],u=c+a[2]+a[3],h=c/u;if(h>=Xn.MIN_FINDER_PATTERN_RATIO&&h<=Xn.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let v of a)v>x&&(x=v),v<g&&(g=v);return x<10*g}return!1}}Xn.MAX_AVG_VARIANCE=.2,Xn.MAX_INDIVIDUAL_VARIANCE=.45,Xn.MIN_FINDER_PATTERN_RATIO=9.5/12,Xn.MAX_FINDER_PATTERN_RATIO=12.5/14;class di{constructor(a,c){this.value=a,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof di))return!1;const c=a;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ca{constructor(a,c,u,h,g){this.value=a,this.startEnd=c,this.value=a,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new qe(u,g)),this.resultPoints.push(new qe(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof ca))return!1;const c=a;return this.value===c.value}hashCode(){return this.value}}class Wt{constructor(){}static getRSSvalue(a,c,u){let h=0;for(let A of a)h+=A;let g=0,x=0,v=a.length;for(let A=0;A<v-1;A++){let C;for(C=1,x|=1<<A;C<a[A];C++,x&=~(1<<A)){let D=Wt.combins(h-C-1,v-A-2);if(u&&x===0&&h-C-(v-A-1)>=v-A-1&&(D-=Wt.combins(h-C-(v-A),v-A-2)),v-A-1>1){let z=0;for(let Y=h-C-(v-A-2);Y>c;Y--)z+=Wt.combins(h-C-Y-1,v-A-3);D-=z*(v-1-A)}else h-C>c&&D--;g+=D}h-=C}return g}static combins(a,c){let u,h;a-c>c?(h=c,u=a-c):(h=a-c,u=c);let g=1,x=1;for(let v=a;v>u;v--)g*=v,x<=h&&(g/=x,x++);for(;x<=h;)g/=x,x++;return g}}class or{static buildBitArray(a){let c=a.length*2-1;a[a.length-1].getRightChar()==null&&(c-=1);let u=12*c,h=new $(u),g=0,v=a[0].getRightChar().getValue();for(let A=11;A>=0;--A)(v&1<<A)!=0&&h.set(g),g++;for(let A=1;A<a.length;++A){let C=a[A],D=C.getLeftChar().getValue();for(let z=11;z>=0;--z)(D&1<<z)!=0&&h.set(g),g++;if(C.getRightChar()!=null){let z=C.getRightChar().getValue();for(let Y=11;Y>=0;--Y)(z&1<<Y)!=0&&h.set(g),g++}}return h}}class xn{constructor(a,c){c?this.decodedInformation=null:(this.finished=a,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class $r{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class gr extends $r{constructor(a,c){super(a),this.value=c}getValue(){return this.value}isFNC1(){return this.value===gr.FNC1}}gr.FNC1="$";class Es extends $r{constructor(a,c,u){super(a),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class lr extends $r{constructor(a,c,u){if(super(a),c<0||c>10||u<0||u>10)throw new V;this.firstDigit=c,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===lr.FNC1}isSecondDigitFNC1(){return this.secondDigit===lr.FNC1}isAnyFNC1(){return this.firstDigit===lr.FNC1||this.secondDigit===lr.FNC1}}lr.FNC1=10;class Xe{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new le;let c=a.substring(0,2);for(let g of Xe.TWO_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(2,g[2],a):Xe.processFixedAI(2,g[1],a);if(a.length<3)throw new le;let u=a.substring(0,3);for(let g of Xe.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(3,g[2],a):Xe.processFixedAI(3,g[1],a);for(let g of Xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(4,g[2],a):Xe.processFixedAI(4,g[1],a);if(a.length<4)throw new le;let h=a.substring(0,4);for(let g of Xe.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(4,g[2],a):Xe.processFixedAI(4,g[1],a);throw new le}static processFixedAI(a,c,u){if(u.length<a)throw new le;let h=u.substring(0,a);if(u.length<a+c)throw new le;let g=u.substring(a,a+c),x=u.substring(a+c),v="("+h+")"+g,A=Xe.parseFieldsInGeneralPurpose(x);return A==null?v:v+A}static processVariableAI(a,c,u){let h=u.substring(0,a),g;u.length<a+c?g=u.length:g=a+c;let x=u.substring(a,g),v=u.substring(g),A="("+h+")"+x,C=Xe.parseFieldsInGeneralPurpose(v);return C==null?A:A+C}}Xe.VARIABLE_LENGTH=[],Xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Xe.VARIABLE_LENGTH,20],["22",Xe.VARIABLE_LENGTH,29],["30",Xe.VARIABLE_LENGTH,8],["37",Xe.VARIABLE_LENGTH,8],["90",Xe.VARIABLE_LENGTH,30],["91",Xe.VARIABLE_LENGTH,30],["92",Xe.VARIABLE_LENGTH,30],["93",Xe.VARIABLE_LENGTH,30],["94",Xe.VARIABLE_LENGTH,30],["95",Xe.VARIABLE_LENGTH,30],["96",Xe.VARIABLE_LENGTH,30],["97",Xe.VARIABLE_LENGTH,3],["98",Xe.VARIABLE_LENGTH,30],["99",Xe.VARIABLE_LENGTH,30]],Xe.THREE_DIGIT_DATA_LENGTH=[["240",Xe.VARIABLE_LENGTH,30],["241",Xe.VARIABLE_LENGTH,30],["242",Xe.VARIABLE_LENGTH,6],["250",Xe.VARIABLE_LENGTH,30],["251",Xe.VARIABLE_LENGTH,30],["253",Xe.VARIABLE_LENGTH,17],["254",Xe.VARIABLE_LENGTH,20],["400",Xe.VARIABLE_LENGTH,30],["401",Xe.VARIABLE_LENGTH,30],["402",17],["403",Xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Xe.VARIABLE_LENGTH,20],["421",Xe.VARIABLE_LENGTH,15],["422",3],["423",Xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Xe.VARIABLE_LENGTH,15],["391",Xe.VARIABLE_LENGTH,18],["392",Xe.VARIABLE_LENGTH,15],["393",Xe.VARIABLE_LENGTH,18],["703",Xe.VARIABLE_LENGTH,30]],Xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Xe.VARIABLE_LENGTH,20],["8003",Xe.VARIABLE_LENGTH,30],["8004",Xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Xe.VARIABLE_LENGTH,30],["8008",Xe.VARIABLE_LENGTH,12],["8018",18],["8020",Xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Xe.VARIABLE_LENGTH,70],["8200",Xe.VARIABLE_LENGTH,70]];class yi{constructor(a){this.buffer=new H,this.information=a}decodeAllCodes(a,c){let u=c,h=null;do{let g=this.decodeGeneralPurposeField(u,h),x=Xe.parseFieldsInGeneralPurpose(g.getNewString());if(x!=null&&a.append(x),g.isRemaining()?h=""+g.getRemainingValue():h=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let c=a;c<a+3;++c)if(this.information.get(c))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(a,4);return g===0?new lr(this.information.getSize(),lr.FNC1,lr.FNC1):new lr(this.information.getSize(),g-1,lr.FNC1)}let c=this.extractNumericValueFromBitArray(a,7),u=(c-8)/11,h=(c-8)%11;return new lr(a+7,u,h)}extractNumericValueFromBitArray(a,c){return yi.extractNumericValueFromBitArray(this.information,a,c)}static extractNumericValueFromBitArray(a,c,u){let h=0;for(let g=0;g<u;++g)a.get(c+g)&&(h|=1<<u-g-1);return h}decodeGeneralPurposeField(a,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(a);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Es(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Es(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,c;do{let u=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),a=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),a=c.isFinished()):(c=this.parseNumericBlock(),a=c.isFinished()),!(u!==this.current.getPosition())&&!a)break}while(!a);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let c;return a.isSecondDigitFNC1()?c=new Es(this.current.getPosition(),this.buffer.toString()):c=new Es(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new xn(!0,c)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let c=new Es(this.current.getPosition(),this.buffer.toString());return new xn(!0,c)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Es(this.current.getPosition(),this.buffer.toString());return new xn(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Es(this.current.getPosition(),this.buffer.toString());return new xn(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xn(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new gr(a+5,gr.FNC1);if(c>=5&&c<15)return new gr(a+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<90)return new gr(a+7,""+(u+1));if(u>=90&&u<116)return new gr(a+7,""+(u+7));let h=this.extractNumericValueFromBitArray(a,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new V}return new gr(a+8,g)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,6);return u>=16&&u<63}decodeAlphanumeric(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new gr(a+5,gr.FNC1);if(c>=5&&c<15)return new gr(a+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(a,6);if(u>=32&&u<58)return new gr(a+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new kt("Decoding invalid alphanumeric value: "+u)}return new gr(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<5&&c+a<this.information.getSize();++c)if(c===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+c))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let c=a;c<a+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<4&&c+a<this.information.getSize();++c)if(this.information.get(a+c))return!1;return!0}}class ns{constructor(a){this.information=a,this.generalDecoder=new yi(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Fn extends ns{constructor(a){super(a)}encodeCompressedGtin(a,c){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,c,u)}encodeCompressedGtinWithoutAI(a,c,u){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*h,10);g/100===0&&a.append("0"),g/10===0&&a.append("0"),a.append(g)}Fn.appendCheckDigit(a,u)}static appendCheckDigit(a,c){let u=0;for(let h=0;h<13;h++){let g=a.charAt(h+c).charCodeAt(0)-48;u+=(h&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),a.append(u)}}Fn.GTIN_SIZE=40;class zr extends Fn{constructor(a){super(a)}parseInformation(){let a=new H;a.append("(01)");let c=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(zr.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,zr.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(a,zr.HEADER_SIZE+44)}}zr.HEADER_SIZE=4;class hi extends ns{constructor(a){super(a)}parseInformation(){let a=new H;return this.getGeneralDecoder().decodeAllCodes(a,hi.HEADER_SIZE)}}hi.HEADER_SIZE=5;class pr extends Fn{constructor(a){super(a)}encodeCompressedWeight(a,c,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(c,u);this.addWeightCode(a,h);let g=this.checkWeight(h),x=1e5;for(let v=0;v<5;++v)g/x===0&&a.append("0"),x/=10;a.append(g)}}class tn extends pr{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=tn.HEADER_SIZE+pr.GTIN_SIZE+tn.WEIGHT_SIZE)throw new le;let a=new H;return this.encodeCompressedGtin(a,tn.HEADER_SIZE),this.encodeCompressedWeight(a,tn.HEADER_SIZE+pr.GTIN_SIZE,tn.WEIGHT_SIZE),a.toString()}}tn.HEADER_SIZE=5,tn.WEIGHT_SIZE=15;class cl extends tn{constructor(a){super(a)}addWeightCode(a,c){a.append("(3103)")}checkWeight(a){return a}}class eo extends tn{constructor(a){super(a)}addWeightCode(a,c){c<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class er extends Fn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<er.HEADER_SIZE+Fn.GTIN_SIZE)throw new le;let a=new H;this.encodeCompressedGtin(a,er.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(er.HEADER_SIZE+Fn.GTIN_SIZE,er.LAST_DIGIT_SIZE);a.append("(392"),a.append(c),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(er.HEADER_SIZE+Fn.GTIN_SIZE+er.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}er.HEADER_SIZE=8,er.LAST_DIGIT_SIZE=2;class Mn extends Fn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Mn.HEADER_SIZE+Fn.GTIN_SIZE)throw new le;let a=new H;this.encodeCompressedGtin(a,Mn.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Mn.HEADER_SIZE+Fn.GTIN_SIZE,Mn.LAST_DIGIT_SIZE);a.append("(393"),a.append(c),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Mn.HEADER_SIZE+Fn.GTIN_SIZE+Mn.LAST_DIGIT_SIZE,Mn.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(Mn.HEADER_SIZE+Fn.GTIN_SIZE+Mn.LAST_DIGIT_SIZE+Mn.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}Mn.HEADER_SIZE=8,Mn.LAST_DIGIT_SIZE=2,Mn.FIRST_THREE_DIGITS_SIZE=10;class dn extends pr{constructor(a,c,u){super(a),this.dateCode=u,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=dn.HEADER_SIZE+dn.GTIN_SIZE+dn.WEIGHT_SIZE+dn.DATE_SIZE)throw new le;let a=new H;return this.encodeCompressedGtin(a,dn.HEADER_SIZE),this.encodeCompressedWeight(a,dn.HEADER_SIZE+dn.GTIN_SIZE,dn.WEIGHT_SIZE),this.encodeCompressedDate(a,dn.HEADER_SIZE+dn.GTIN_SIZE+dn.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(c,dn.DATE_SIZE);if(u==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=u%32;u/=32;let g=u%12+1;u/=12;let x=u;x/10==0&&a.append("0"),a.append(x),g/10==0&&a.append("0"),a.append(g),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,c){a.append("("),a.append(this.firstAIdigits),a.append(c/1e5),a.append(")")}checkWeight(a){return a%1e5}}dn.HEADER_SIZE=8,dn.WEIGHT_SIZE=20,dn.DATE_SIZE=16;function ul(U){try{if(U.get(1))return new zr(U);if(!U.get(2))return new hi(U);switch(yi.extractNumericValueFromBitArray(U,1,4)){case 4:return new cl(U);case 5:return new eo(U)}switch(yi.extractNumericValueFromBitArray(U,1,5)){case 12:return new er(U);case 13:return new Mn(U)}switch(yi.extractNumericValueFromBitArray(U,1,7)){case 56:return new dn(U,"310","11");case 57:return new dn(U,"320","11");case 58:return new dn(U,"310","13");case 59:return new dn(U,"320","13");case 60:return new dn(U,"310","15");case 61:return new dn(U,"320","15");case 62:return new dn(U,"310","17");case 63:return new dn(U,"320","17")}}catch(a){throw console.log(a),new kt("unknown decoder: "+U)}}class Jr{constructor(a,c,u,h){this.leftchar=a,this.rightchar=c,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,c){return a instanceof Jr?Jr.equalsOrNull(a.leftchar,c.leftchar)&&Jr.equalsOrNull(a.rightchar,c.rightchar)&&Jr.equalsOrNull(a.finderpattern,c.finderpattern):!1}static equalsOrNull(a,c){return a===null?c===null:Jr.equals(a,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class to{constructor(a,c,u){this.pairs=a,this.rowNumber=c,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,c){return a instanceof to?this.checkEqualitity(a,c)&&a.wasReversed===c.wasReversed:!1}checkEqualitity(a,c){if(!a||!c)return;let u;return a.forEach((h,g)=>{c.forEach(x=>{h.getLeftChar().getValue()===x.getLeftChar().getValue()&&h.getRightChar().getValue()===x.getRightChar().getValue()&&h.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(u=!0)})}),u}}class De extends Xn{constructor(a){super(...arguments),this.pairs=new Array(De.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,c,u){this.pairs.length=0,this.startFromEven=!1;try{return De.constructResult(this.decodeRow2pairs(a,c))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,De.constructResult(this.decodeRow2pairs(a,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,c){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,a))}catch(g){if(g instanceof le){if(!this.pairs.length)throw new le;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new le}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return a&&(this.rows=this.rows.reverse()),c}checkRows(a,c){for(let u=c;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let x of a)this.pairs.push(x.getPairs());if(this.pairs.push(h.getPairs()),!De.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(a);g.push(h);try{return this.checkRows(g,u+1)}catch(x){this.verbose&&console.log(x)}}throw new le}static isValidSequence(a){for(let c of De.FINDER_PATTERN_SEQUENCES){if(a.length>c.length)continue;let u=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=c[h]){u=!1;break}if(u)return!0}return!1}storeRow(a,c){let u=0,h=!1,g=!1;for(;u<this.rows.length;){let x=this.rows[u];if(x.getRowNumber()>a){g=x.isEquivalent(this.pairs);break}h=x.isEquivalent(this.pairs),u++}g||h||De.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new to(this.pairs,a,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,c){for(let u of c)if(u.getPairs().length!==a.length){for(let h of u.getPairs())for(let g of a)if(Jr.equals(h,g))break}}static isPartialRow(a,c){for(let u of c){let h=!0;for(let g of a){let x=!1;for(let v of u.getPairs())if(g.equals(v)){x=!0;break}if(!x){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let c=or.buildBitArray(a),h=ul(c).parseInformation(),g=a[0].getFinderPattern().getResultPoints(),x=a[a.length-1].getFinderPattern().getResultPoints(),v=[g[0],g[1],x[0],x[1]];return new Ge(h,null,null,v,Ce.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),c=a.getLeftChar(),u=a.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),g=2;for(let v=1;v<this.pairs.size();++v){let A=this.pairs.get(v);h+=A.getLeftChar().getChecksumPortion(),g++;let C=A.getRightChar();C!=null&&(h+=C.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==c.getValue()}static getNextSecondBar(a,c){let u;return a.get(c)?(u=a.getNextUnset(c),u=a.getNextSet(u)):(u=a.getNextSet(c),u=a.getNextUnset(u)),u}retrieveNextPair(a,c,u){let h=c.length%2==0;this.startFromEven&&(h=!h);let g,x=!0,v=-1;do this.findNextPair(a,c,v),g=this.parseFoundFinderPattern(a,u,h),g==null?v=De.getNextSecondBar(a,this.startEnd[0]):x=!1;while(x);let A=this.decodeDataCharacter(a,g,h,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new le;let C;try{C=this.decodeDataCharacter(a,g,h,!1)}catch(D){C=null,this.verbose&&console.log(D)}return new Jr(A,C,g,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,c,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x;u>=0?x=u:this.isEmptyPair(c)?x=0:x=c[c.length-1].getFinderPattern().getStartEnd()[1];let v=c.length%2!=0;this.startFromEven&&(v=!v);let A=!1;for(;x<g&&(A=!a.get(x),!!A);)x++;let C=0,D=x;for(let z=x;z<g;z++)if(a.get(z)!=A)h[C]++;else{if(C==3){if(v&&De.reverseCounters(h),De.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=z;return}v&&De.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,A=!A}throw new le}static reverseCounters(a){let c=a.length;for(let u=0;u<c/2;++u){let h=a[u];a[u]=a[c-u-1],a[c-u-1]=h}}parseFoundFinderPattern(a,c,u){let h,g,x;if(u){let C=this.startEnd[0]-1;for(;C>=0&&!a.get(C);)C--;C++,h=this.startEnd[0]-C,g=C,x=this.startEnd[1]}else g=this.startEnd[0],x=a.getNextUnset(this.startEnd[1]+1),h=x-this.startEnd[1];let v=this.getDecodeFinderCounters();P.arraycopy(v,0,v,1,v.length-1),v[0]=h;let A;try{A=this.parseFinderValue(v,De.FINDER_PATTERNS)}catch{return null}return new ca(A,[g,x],g,x,c)}decodeDataCharacter(a,c,u,h){let g=this.getDataCharacterCounters();for(let hn=0;hn<g.length;hn++)g[hn]=0;if(h)De.recordPatternInReverse(a,c.getStartEnd()[0],g);else{De.recordPattern(a,c.getStartEnd()[1],g);for(let hn=0,Tr=g.length-1;hn<Tr;hn++,Tr--){let ii=g[hn];g[hn]=g[Tr],g[Tr]=ii}}let x=17,v=Et.sum(new Int32Array(g))/x,A=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(v-A)/A>.3)throw new le;let C=this.getOddCounts(),D=this.getEvenCounts(),z=this.getOddRoundingErrors(),Y=this.getEvenRoundingErrors();for(let hn=0;hn<g.length;hn++){let Tr=1*g[hn]/v,ii=Tr+.5;if(ii<1){if(Tr<.3)throw new le;ii=1}else if(ii>8){if(Tr>8.7)throw new le;ii=8}let pa=hn/2;(hn&1)==0?(C[pa]=ii,z[pa]=Tr-ii):(D[pa]=ii,Y[pa]=Tr-ii)}this.adjustOddEvenCounts(x);let re=4*c.getValue()+(u?0:2)+(h?0:1)-1,ce=0,ue=0;for(let hn=C.length-1;hn>=0;hn--){if(De.isNotA1left(c,u,h)){let Tr=De.WEIGHTS[re][2*hn];ue+=C[hn]*Tr}ce+=C[hn]}let me=0;for(let hn=D.length-1;hn>=0;hn--)if(De.isNotA1left(c,u,h)){let Tr=De.WEIGHTS[re][2*hn+1];me+=D[hn]*Tr}let Ee=ue+me;if((ce&1)!=0||ce>13||ce<4)throw new le;let Ve=(13-ce)/2,Ue=De.SYMBOL_WIDEST[Ve],Be=9-Ue,Tt=Wt.getRSSvalue(C,Ue,!0),vt=Wt.getRSSvalue(D,Be,!1),Gr=De.EVEN_TOTAL_SUBSET[Ve],Ai=De.GSUM[Ve],ri=Tt*Gr+vt+Ai;return new di(ri,Ee)}static isNotA1left(a,c,u){return!(a.getValue()==0&&c&&u)}adjustOddEvenCounts(a){let c=Et.sum(new Int32Array(this.getOddCounts())),u=Et.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;c>13?g=!0:c<4&&(h=!0);let x=!1,v=!1;u>13?v=!0:u<4&&(x=!0);let A=c+u-a,C=(c&1)==1,D=(u&1)==0;if(A==1)if(C){if(D)throw new le;g=!0}else{if(!D)throw new le;v=!0}else if(A==-1)if(C){if(D)throw new le;h=!0}else{if(!D)throw new le;x=!0}else if(A==0){if(C){if(!D)throw new le;c<u?(h=!0,v=!0):(g=!0,x=!0)}else if(D)throw new le}else throw new le;if(h){if(g)throw new le;De.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&De.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(v)throw new le;De.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&De.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}De.SYMBOL_WIDEST=[7,5,4,3,1],De.EVEN_TOTAL_SUBSET=[4,20,52,104,204],De.GSUM=[0,348,1388,2948,3988],De.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],De.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],De.FINDER_PAT_A=0,De.FINDER_PAT_B=1,De.FINDER_PAT_C=2,De.FINDER_PAT_D=3,De.FINDER_PAT_E=4,De.FINDER_PAT_F=5,De.FINDER_PATTERN_SEQUENCES=[[De.FINDER_PAT_A,De.FINDER_PAT_A],[De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B],[De.FINDER_PAT_A,De.FINDER_PAT_C,De.FINDER_PAT_B,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_C],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F]],De.MAX_PAIRS=11;class rs extends di{constructor(a,c,u){super(a,c),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Rt extends Xn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,c,u){const h=this.decodePair(c,!1,a,u);Rt.addOrTally(this.possibleLeftPairs,h),c.reverse();let g=this.decodePair(c,!0,a,u);Rt.addOrTally(this.possibleRightPairs,g),c.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&Rt.checkChecksum(x,v))return Rt.constructResult(x,v)}throw new le}static addOrTally(a,c){if(c==null)return;let u=!1;for(let h of a)if(h.getValue()===c.getValue()){h.incrementCount(),u=!0;break}u||a.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,c){let u=4537077*a.getValue()+c.getValue(),h=new String(u).toString(),g=new H;for(let C=13-h.length;C>0;C--)g.append("0");g.append(h);let x=0;for(let C=0;C<13;C++){let D=g.charAt(C).charCodeAt(0)-48;x+=(C&1)===0?3*D:D}x=10-x%10,x===10&&(x=0),g.append(x.toString());let v=a.getFinderPattern().getResultPoints(),A=c.getFinderPattern().getResultPoints();return new Ge(g.toString(),null,0,[v[0],v[1],A[0],A[1]],Ce.RSS_14,new Date().getTime())}static checkChecksum(a,c){let u=(a.getChecksumPortion()+16*c.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+c.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(a,c,u,h){try{let g=this.findFinderPattern(a,c),x=this.parseFoundFinderPattern(a,u,c,g),v=h==null?null:h.get(se.NEED_RESULT_POINT_CALLBACK);if(v!=null){let D=(g[0]+g[1])/2;c&&(D=a.getSize()-1-D),v.foundPossibleResultPoint(new qe(D,u))}let A=this.decodeDataCharacter(a,x,!0),C=this.decodeDataCharacter(a,x,!1);return new rs(1597*A.getValue()+C.getValue(),A.getChecksumPortion()+4*C.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(a,c,u){let h=this.getDataCharacterCounters();for(let me=0;me<h.length;me++)h[me]=0;if(u)wn.recordPatternInReverse(a,c.getStartEnd()[0],h);else{wn.recordPattern(a,c.getStartEnd()[1]+1,h);for(let me=0,Ee=h.length-1;me<Ee;me++,Ee--){let Ve=h[me];h[me]=h[Ee],h[Ee]=Ve}}let g=u?16:15,x=Et.sum(new Int32Array(h))/g,v=this.getOddCounts(),A=this.getEvenCounts(),C=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let me=0;me<h.length;me++){let Ee=h[me]/x,Ve=Math.floor(Ee+.5);Ve<1?Ve=1:Ve>8&&(Ve=8);let Ue=Math.floor(me/2);(me&1)===0?(v[Ue]=Ve,C[Ue]=Ee-Ve):(A[Ue]=Ve,D[Ue]=Ee-Ve)}this.adjustOddEvenCounts(u,g);let z=0,Y=0;for(let me=v.length-1;me>=0;me--)Y*=9,Y+=v[me],z+=v[me];let re=0,ce=0;for(let me=A.length-1;me>=0;me--)re*=9,re+=A[me],ce+=A[me];let ue=Y+3*re;if(u){if((z&1)!==0||z>12||z<4)throw new le;let me=(12-z)/2,Ee=Rt.OUTSIDE_ODD_WIDEST[me],Ve=9-Ee,Ue=Wt.getRSSvalue(v,Ee,!1),Be=Wt.getRSSvalue(A,Ve,!0),Tt=Rt.OUTSIDE_EVEN_TOTAL_SUBSET[me],vt=Rt.OUTSIDE_GSUM[me];return new di(Ue*Tt+Be+vt,ue)}else{if((ce&1)!==0||ce>10||ce<4)throw new le;let me=(10-ce)/2,Ee=Rt.INSIDE_ODD_WIDEST[me],Ve=9-Ee,Ue=Wt.getRSSvalue(v,Ee,!0),Be=Wt.getRSSvalue(A,Ve,!1),Tt=Rt.INSIDE_ODD_TOTAL_SUBSET[me],vt=Rt.INSIDE_GSUM[me];return new di(Be*Tt+Ue+vt,ue)}}findFinderPattern(a,c){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=a.getSize(),g=!1,x=0;for(;x<h&&(g=!a.get(x),c!==g);)x++;let v=0,A=x;for(let C=x;C<h;C++)if(a.get(C)!==g)u[v]++;else{if(v===3){if(Xn.isFinderPattern(u))return[A,C];A+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,g=!g}throw new le}parseFoundFinderPattern(a,c,u,h){let g=a.get(h[0]),x=h[0]-1;for(;x>=0&&g!==a.get(x);)x--;x++;const v=h[0]-x,A=this.getDecodeFinderCounters(),C=new Int32Array(A.length);P.arraycopy(A,0,C,1,A.length-1),C[0]=v;const D=this.parseFinderValue(C,Rt.FINDER_PATTERNS);let z=x,Y=h[1];return u&&(z=a.getSize()-1-z,Y=a.getSize()-1-Y),new ca(D,[x,h[1]],z,Y,c)}adjustOddEvenCounts(a,c){let u=Et.sum(new Int32Array(this.getOddCounts())),h=Et.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1,v=!1,A=!1;a?(u>12?x=!0:u<4&&(g=!0),h>12?A=!0:h<4&&(v=!0)):(u>11?x=!0:u<5&&(g=!0),h>10?A=!0:h<4&&(v=!0));let C=u+h-c,D=(u&1)===(a?1:0),z=(h&1)===1;if(C===1)if(D){if(z)throw new le;x=!0}else{if(!z)throw new le;A=!0}else if(C===-1)if(D){if(z)throw new le;g=!0}else{if(!z)throw new le;v=!0}else if(C===0){if(D){if(!z)throw new le;u<h?(g=!0,A=!0):(x=!0,v=!0)}else if(z)throw new le}else throw new le;if(g){if(x)throw new le;Xn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Xn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(A)throw new le;Xn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&Xn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Rt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Rt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Rt.OUTSIDE_GSUM=[0,161,961,2015,2715],Rt.INSIDE_GSUM=[0,336,1036,1516],Rt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Rt.INSIDE_ODD_WIDEST=[2,4,6,8],Rt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class wi extends wn{constructor(a,c){super(),this.readers=[],this.verbose=c===!0;const u=a?a.get(se.POSSIBLE_FORMATS):null,h=a&&a.get(se.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ce.EAN_13)||u.includes(Ce.UPC_A)||u.includes(Ce.EAN_8)||u.includes(Ce.UPC_E))&&this.readers.push(new ts(a)),u.includes(Ce.CODE_39)&&this.readers.push(new on(h)),u.includes(Ce.CODE_128)&&this.readers.push(new Fe),u.includes(Ce.ITF)&&this.readers.push(new Kt),u.includes(Ce.RSS_14)&&this.readers.push(new Rt),u.includes(Ce.RSS_EXPANDED)&&this.readers.push(new De(this.verbose))):(this.readers.push(new ts(a)),this.readers.push(new on),this.readers.push(new ts(a)),this.readers.push(new Fe),this.readers.push(new Kt),this.readers.push(new Rt),this.readers.push(new De(this.verbose)))}decodeRow(a,c,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,c,u)}catch{}throw new le}reset(){this.readers.forEach(a=>a.reset())}}class Kl extends Oe{constructor(a=500,c){super(new wi(c),a,c)}}class Nt{constructor(a,c,u){this.ecCodewords=a,this.ecBlocks=[c],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Lt{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(a,c,u,h,g,x){this.versionNumber=a,this.symbolSizeRows=c,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=x;let v=0;const A=x.getECCodewords(),C=x.getECBlocks();for(let D of C)v+=D.getCount()*(D.getDataCodewords()+A);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,c){if((a&1)!==0||(c&1)!==0)throw new V;for(let u of _t.VERSIONS)if(u.symbolSizeRows===a&&u.symbolSizeColumns===c)return u;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new _t(1,10,10,8,8,new Nt(5,new Lt(1,3))),new _t(2,12,12,10,10,new Nt(7,new Lt(1,5))),new _t(3,14,14,12,12,new Nt(10,new Lt(1,8))),new _t(4,16,16,14,14,new Nt(12,new Lt(1,12))),new _t(5,18,18,16,16,new Nt(14,new Lt(1,18))),new _t(6,20,20,18,18,new Nt(18,new Lt(1,22))),new _t(7,22,22,20,20,new Nt(20,new Lt(1,30))),new _t(8,24,24,22,22,new Nt(24,new Lt(1,36))),new _t(9,26,26,24,24,new Nt(28,new Lt(1,44))),new _t(10,32,32,14,14,new Nt(36,new Lt(1,62))),new _t(11,36,36,16,16,new Nt(42,new Lt(1,86))),new _t(12,40,40,18,18,new Nt(48,new Lt(1,114))),new _t(13,44,44,20,20,new Nt(56,new Lt(1,144))),new _t(14,48,48,22,22,new Nt(68,new Lt(1,174))),new _t(15,52,52,24,24,new Nt(42,new Lt(2,102))),new _t(16,64,64,14,14,new Nt(56,new Lt(2,140))),new _t(17,72,72,16,16,new Nt(36,new Lt(4,92))),new _t(18,80,80,18,18,new Nt(48,new Lt(4,114))),new _t(19,88,88,20,20,new Nt(56,new Lt(4,144))),new _t(20,96,96,22,22,new Nt(68,new Lt(4,174))),new _t(21,104,104,24,24,new Nt(56,new Lt(6,136))),new _t(22,120,120,18,18,new Nt(68,new Lt(6,175))),new _t(23,132,132,20,20,new Nt(62,new Lt(8,163))),new _t(24,144,144,22,22,new Nt(62,new Lt(8,156),new Lt(2,155))),new _t(25,8,18,6,16,new Nt(7,new Lt(1,5))),new _t(26,8,32,6,14,new Nt(11,new Lt(1,10))),new _t(27,12,26,10,24,new Nt(14,new Lt(1,16))),new _t(28,12,36,10,16,new Nt(18,new Lt(1,22))),new _t(29,16,36,14,16,new Nt(24,new Lt(1,32))),new _t(30,16,48,14,22,new Nt(28,new Lt(1,49)))]}}_t.VERSIONS=_t.buildVersions();class ua{constructor(a){const c=a.getHeight();if(c<8||c>144||(c&1)!==0)throw new V;this.version=ua.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const c=a.getHeight(),u=a.getWidth();return _t.getVersionForDimensions(c,u)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let c=0,u=4,h=0;const g=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let v=!1,A=!1,C=!1,D=!1;do if(u===g&&h===0&&!v)a[c++]=this.readCorner1(g,x)&255,u-=2,h+=2,v=!0;else if(u===g-2&&h===0&&(x&3)!==0&&!A)a[c++]=this.readCorner2(g,x)&255,u-=2,h+=2,A=!0;else if(u===g+4&&h===2&&(x&7)===0&&!C)a[c++]=this.readCorner3(g,x)&255,u-=2,h+=2,C=!0;else if(u===g-2&&h===0&&(x&7)===4&&!D)a[c++]=this.readCorner4(g,x)&255,u-=2,h+=2,D=!0;else{do u<g&&h>=0&&!this.readMappingMatrix.get(h,u)&&(a[c++]=this.readUtah(u,h,g,x)&255),u-=2,h+=2;while(u>=0&&h<x);u+=1,h+=3;do u>=0&&h<x&&!this.readMappingMatrix.get(h,u)&&(a[c++]=this.readUtah(u,h,g,x)&255),u+=2,h-=2;while(u<g&&h>=0);u+=3,h+=1}while(u<g||h<x);if(c!==this.version.getTotalCodewords())throw new V;return a}readModule(a,c,u,h){return a<0&&(a+=u,c+=4-(u+4&7)),c<0&&(c+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(c,a),this.mappingBitMatrix.get(c,a)}readUtah(a,c,u,h){let g=0;return this.readModule(a-2,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a-2,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c,u,h)&&(g|=1),g<<=1,this.readModule(a,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a,c,u,h)&&(g|=1),g}readCorner1(a,c){let u=0;return this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,1,a,c)&&(u|=1),u<<=1,this.readModule(a-1,2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(2,c-1,a,c)&&(u|=1),u<<=1,this.readModule(3,c-1,a,c)&&(u|=1),u}readCorner2(a,c){let u=0;return this.readModule(a-3,0,a,c)&&(u|=1),u<<=1,this.readModule(a-2,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(0,c-4,a,c)&&(u|=1),u<<=1,this.readModule(0,c-3,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u}readCorner3(a,c){let u=0;return this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(0,c-3,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-3,a,c)&&(u|=1),u<<=1,this.readModule(1,c-2,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u}readCorner4(a,c){let u=0;return this.readModule(a-3,0,a,c)&&(u|=1),u<<=1,this.readModule(a-2,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(2,c-1,a,c)&&(u|=1),u<<=1,this.readModule(3,c-1,a,c)&&(u|=1),u}extractDataRegion(a){const c=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(a.getHeight()!==c)throw new _("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),x=c/h|0,v=u/g|0,A=x*h,C=v*g,D=new _e(C,A);for(let z=0;z<x;++z){const Y=z*h;for(let re=0;re<v;++re){const ce=re*g;for(let ue=0;ue<h;++ue){const me=z*(h+2)+1+ue,Ee=Y+ue;for(let Ve=0;Ve<g;++Ve){const Ue=re*(g+2)+1+Ve;if(a.get(Ue,me)){const Be=ce+Ve;D.set(Be,Ee)}}}}}return D}}class Ls{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c){const u=c.getECBlocks();let h=0;const g=u.getECBlocks();for(let ue of g)h+=ue.getCount();const x=new Array(h);let v=0;for(let ue of g)for(let me=0;me<ue.getCount();me++){const Ee=ue.getDataCodewords(),Ve=u.getECCodewords()+Ee;x[v++]=new Ls(Ee,new Uint8Array(Ve))}const C=x[0].codewords.length-u.getECCodewords(),D=C-1;let z=0;for(let ue=0;ue<D;ue++)for(let me=0;me<v;me++)x[me].codewords[ue]=a[z++];const Y=c.getVersionNumber()===24,re=Y?8:v;for(let ue=0;ue<re;ue++)x[ue].codewords[C-1]=a[z++];const ce=x[0].codewords.length;for(let ue=C;ue<ce;ue++)for(let me=0;me<v;me++){const Ee=Y?(me+8)%v:me,Ve=Y&&Ee>7?ue-1:ue;x[Ee].codewords[Ve]=a[z++]}if(z!==a.length)throw new _;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class br{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new _(""+a);let c=0,u=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(u>0){const x=8-u,v=a<x?a:x,A=x-v,C=255>>8-v<<A;c=(g[h]&C)>>A,a-=v,u+=v,u===8&&(u=0,h++)}if(a>0){for(;a>=8;)c=c<<8|g[h]&255,h++,a-=8;if(a>0){const x=8-a,v=255>>x<<x;c=c<<a|(g[h]&v)>>x,u+=a}}return this.bitOffset=u,this.byteOffset=h,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Dn;(function(U){U[U.PAD_ENCODE=0]="PAD_ENCODE",U[U.ASCII_ENCODE=1]="ASCII_ENCODE",U[U.C40_ENCODE=2]="C40_ENCODE",U[U.TEXT_ENCODE=3]="TEXT_ENCODE",U[U.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",U[U.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",U[U.BASE256_ENCODE=6]="BASE256_ENCODE"})(Dn||(Dn={}));class is{static decode(a){const c=new br(a),u=new H,h=new H,g=new Array;let x=Dn.ASCII_ENCODE;do if(x===Dn.ASCII_ENCODE)x=this.decodeAsciiSegment(c,u,h);else{switch(x){case Dn.C40_ENCODE:this.decodeC40Segment(c,u);break;case Dn.TEXT_ENCODE:this.decodeTextSegment(c,u);break;case Dn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,u);break;case Dn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,u);break;case Dn.BASE256_ENCODE:this.decodeBase256Segment(c,u,g);break;default:throw new V}x=Dn.ASCII_ENCODE}while(x!==Dn.PAD_ENCODE&&c.available()>0);return h.length()>0&&u.append(h.toString()),new Ye(a,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(a,c,u){let h=!1;do{let g=a.readBits(8);if(g===0)throw new V;if(g<=128)return h&&(g+=128),c.append(String.fromCharCode(g-1)),Dn.ASCII_ENCODE;if(g===129)return Dn.PAD_ENCODE;if(g<=229){const x=g-130;x<10&&c.append("0"),c.append(""+x)}else switch(g){case 230:return Dn.C40_ENCODE;case 231:return Dn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:c.append("[)>05"),u.insert(0,"");break;case 237:c.append("[)>06"),u.insert(0,"");break;case 238:return Dn.ANSIX12_ENCODE;case 239:return Dn.TEXT_ENCODE;case 240:return Dn.EDIFACT_ENCODE;case 241:break;default:if(g!==254||a.available()!==0)throw new V;break}}while(a.available()>0);return Dn.ASCII_ENCODE}static decodeC40Segment(a,c){let u=!1;const h=[];let g=0;do{if(a.available()===8)return;const x=a.readBits(8);if(x===254)return;this.parseTwoBytes(x,a.readBits(8),h);for(let v=0;v<3;v++){const A=h[v];switch(g){case 0:if(A<3)g=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[A];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else throw new V;break;case 1:u?(c.append(String.fromCharCode(A+128)),u=!1):c.append(String.fromCharCode(A)),g=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[A];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else switch(A){case 27:c.append("");break;case 30:u=!0;break;default:throw new V}g=0;break;case 3:u?(c.append(String.fromCharCode(A+224)),u=!1):c.append(String.fromCharCode(A+96)),g=0;break;default:throw new V}}}while(a.available()>0)}static decodeTextSegment(a,c){let u=!1,h=[],g=0;do{if(a.available()===8)return;const x=a.readBits(8);if(x===254)return;this.parseTwoBytes(x,a.readBits(8),h);for(let v=0;v<3;v++){const A=h[v];switch(g){case 0:if(A<3)g=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[A];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else throw new V;break;case 1:u?(c.append(String.fromCharCode(A+128)),u=!1):c.append(String.fromCharCode(A)),g=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[A];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else switch(A){case 27:c.append("");break;case 30:u=!0;break;default:throw new V}g=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[A];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C),g=0}else throw new V;break;default:throw new V}}}while(a.available()>0)}static decodeAnsiX12Segment(a,c){const u=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),u);for(let g=0;g<3;g++){const x=u[g];switch(x){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(x<14)c.append(String.fromCharCode(x+44));else if(x<40)c.append(String.fromCharCode(x+51));else throw new V;break}}}while(a.available()>0)}static parseTwoBytes(a,c,u){let h=(a<<8)+c-1,g=Math.floor(h/1600);u[0]=g,h-=g*1600,g=Math.floor(h/40),u[1]=g,u[2]=h-g*40}static decodeEdifactSegment(a,c){do{if(a.available()<=16)return;for(let u=0;u<4;u++){let h=a.readBits(6);if(h===31){const g=8-a.getBitOffset();g!==8&&a.readBits(g);return}(h&32)===0&&(h|=64),c.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,c,u){let h=1+a.getByteOffset();const g=this.unrandomize255State(a.readBits(8),h++);let x;if(g===0?x=a.available()/8|0:g<250?x=g:x=250*(g-249)+this.unrandomize255State(a.readBits(8),h++),x<0)throw new V;const v=new Uint8Array(x);for(let A=0;A<x;A++){if(a.available()<8)throw new V;v[A]=this.unrandomize255State(a.readBits(8),h++)}u.push(v);try{c.append(X.decode(v,G.ISO88591))}catch(A){throw new kt("Platform does not support required encoding: "+A.message)}}static unrandomize255State(a,c){const u=149*c%255+1,h=a-u;return h>=0?h:h+256}}is.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],is.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],is.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],is.TEXT_SHIFT2_SET_CHARS=is.C40_SHIFT2_SET_CHARS,is.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class no{constructor(){this.rsDecoder=new $n(nt.DATA_MATRIX_FIELD_256)}decode(a){const c=new ua(a),u=c.getVersion(),h=c.readCodewords(),g=Ls.getDataBlocks(h,u);let x=0;for(let C of g)x+=C.getNumDataCodewords();const v=new Uint8Array(x),A=g.length;for(let C=0;C<A;C++){const D=g[C],z=D.getCodewords(),Y=D.getNumDataCodewords();this.correctErrors(z,Y);for(let re=0;re<Y;re++)v[re*A+C]=z[re]}return is.decode(v)}correctErrors(a,c){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-c)}catch{throw new N}for(let h=0;h<c;h++)a[h]=u[h]}}class Tn{constructor(a){this.image=a,this.rectangleDetector=new fi(this.image)}detect(){const a=this.rectangleDetector.detect();let c=this.detectSolid1(a);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new le;c=this.shiftToModuleCenter(c);const u=c[0],h=c[1],g=c[2],x=c[3];let v=this.transitionsBetween(u,x)+1,A=this.transitionsBetween(g,x)+1;(v&1)===1&&(v+=1),(A&1)===1&&(A+=1),4*v<7*A&&4*A<7*v&&(v=A=Math.max(v,A));let C=Tn.sampleGrid(this.image,u,h,g,x,v,A);return new vs(C,[u,h,g,x])}static shiftPoint(a,c,u){let h=(c.getX()-a.getX())/(u+1),g=(c.getY()-a.getY())/(u+1);return new qe(a.getX()+h,a.getY()+g)}static moveAway(a,c,u){let h=a.getX(),g=a.getY();return h<c?h-=1:h+=1,g<u?g-=1:g+=1,new qe(h,g)}detectSolid1(a){let c=a[0],u=a[1],h=a[3],g=a[2],x=this.transitionsBetween(c,u),v=this.transitionsBetween(u,h),A=this.transitionsBetween(h,g),C=this.transitionsBetween(g,c),D=x,z=[g,c,u,h];return D>v&&(D=v,z[0]=c,z[1]=u,z[2]=h,z[3]=g),D>A&&(D=A,z[0]=u,z[1]=h,z[2]=g,z[3]=c),D>C&&(z[0]=h,z[1]=g,z[2]=c,z[3]=u),z}detectSolid2(a){let c=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(c,g),v=Tn.shiftPoint(u,h,(x+1)*4),A=Tn.shiftPoint(h,u,(x+1)*4),C=this.transitionsBetween(v,c),D=this.transitionsBetween(A,g);return C<D?(a[0]=c,a[1]=u,a[2]=h,a[3]=g):(a[0]=u,a[1]=h,a[2]=g,a[3]=c),a}correctTopRight(a){let c=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(c,g),v=this.transitionsBetween(u,g),A=Tn.shiftPoint(c,u,(v+1)*4),C=Tn.shiftPoint(h,u,(x+1)*4);x=this.transitionsBetween(A,g),v=this.transitionsBetween(C,g);let D=new qe(g.getX()+(h.getX()-u.getX())/(x+1),g.getY()+(h.getY()-u.getY())/(x+1)),z=new qe(g.getX()+(c.getX()-u.getX())/(v+1),g.getY()+(c.getY()-u.getY())/(v+1));if(!this.isValid(D))return this.isValid(z)?z:null;if(!this.isValid(z))return D;let Y=this.transitionsBetween(A,D)+this.transitionsBetween(C,D),re=this.transitionsBetween(A,z)+this.transitionsBetween(C,z);return Y>re?D:z}shiftToModuleCenter(a){let c=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(c,g)+1,v=this.transitionsBetween(h,g)+1,A=Tn.shiftPoint(c,u,v*4),C=Tn.shiftPoint(h,u,x*4);x=this.transitionsBetween(A,g)+1,v=this.transitionsBetween(C,g)+1,(x&1)===1&&(x+=1),(v&1)===1&&(v+=1);let D=(c.getX()+u.getX()+h.getX()+g.getX())/4,z=(c.getY()+u.getY()+h.getY()+g.getY())/4;c=Tn.moveAway(c,D,z),u=Tn.moveAway(u,D,z),h=Tn.moveAway(h,D,z),g=Tn.moveAway(g,D,z);let Y,re;return A=Tn.shiftPoint(c,u,v*4),A=Tn.shiftPoint(A,g,x*4),Y=Tn.shiftPoint(u,c,v*4),Y=Tn.shiftPoint(Y,h,x*4),C=Tn.shiftPoint(h,g,v*4),C=Tn.shiftPoint(C,u,x*4),re=Tn.shiftPoint(g,h,v*4),re=Tn.shiftPoint(re,c,x*4),[A,Y,C,re]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,c,u,h,g,x,v){return Jn.getInstance().sampleGrid(a,x,v,.5,.5,x-.5,.5,x-.5,v-.5,.5,v-.5,c.getX(),c.getY(),g.getX(),g.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(a,c){let u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.trunc(c.getX()),x=Math.trunc(c.getY()),v=Math.abs(x-h)>Math.abs(g-u);if(v){let ue=u;u=h,h=ue,ue=g,g=x,x=ue}let A=Math.abs(g-u),C=Math.abs(x-h),D=-A/2,z=h<x?1:-1,Y=u<g?1:-1,re=0,ce=this.image.get(v?h:u,v?u:h);for(let ue=u,me=h;ue!==g;ue+=Y){let Ee=this.image.get(v?me:ue,v?ue:me);if(Ee!==ce&&(re++,ce=Ee),D+=C,D>0){if(me===x)break;me+=z,D-=A}}return re}}class ei{constructor(){this.decoder=new no}decode(a,c=null){let u,h;if(c!=null&&c.has(se.PURE_BARCODE)){const C=ei.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(C),h=ei.NO_POINTS}else{const C=new Tn(a.getBlackMatrix()).detect();u=this.decoder.decode(C.getBits()),h=C.getPoints()}const g=u.getRawBytes(),x=new Ge(u.getText(),g,8*g.length,h,Ce.DATA_MATRIX,P.currentTimeMillis()),v=u.getByteSegments();v!=null&&x.putMetadata(He.BYTE_SEGMENTS,v);const A=u.getECLevel();return A!=null&&x.putMetadata(He.ERROR_CORRECTION_LEVEL,A),x}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(c==null||u==null)throw new le;const h=this.moduleSize(c,a);let g=c[1];const x=u[1];let v=c[0];const C=(u[0]-v+1)/h,D=(x-g+1)/h;if(C<=0||D<=0)throw new le;const z=h/2;g+=z,v+=z;const Y=new _e(C,D);for(let re=0;re<D;re++){const ce=g+re*h;for(let ue=0;ue<C;ue++)a.get(v+ue*h,ce)&&Y.set(ue,re)}return Y}static moduleSize(a,c){const u=c.getWidth();let h=a[0];const g=a[1];for(;h<u&&c.get(h,g);)h++;if(h===u)throw new le;const x=h-a[0];if(x===0)throw new le;return x}}ei.NO_POINTS=[];class Au extends Oe{constructor(a=500){super(new ei,a)}}var An;(function(U){U[U.L=0]="L",U[U.M=1]="M",U[U.Q=2]="Q",U[U.H=3]="H"})(An||(An={}));class Mt{constructor(a,c,u){this.value=a,this.stringValue=c,this.bits=u,Mt.FOR_BITS.set(u,this),Mt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Mt.L;case"M":return Mt.M;case"Q":return Mt.Q;case"H":return Mt.H;default:throw new T(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Mt))return!1;const c=a;return this.value===c.value}static forBits(a){if(a<0||a>=Mt.FOR_BITS.size)throw new _;return Mt.FOR_BITS.get(a)}}Mt.FOR_BITS=new Map,Mt.FOR_VALUE=new Map,Mt.L=new Mt(An.L,"L",1),Mt.M=new Mt(An.M,"M",0),Mt.Q=new Mt(An.Q,"Q",3),Mt.H=new Mt(An.H,"H",2);class zn{constructor(a){this.errorCorrectionLevel=Mt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,c){return F.bitCount(a^c)}static decodeFormatInformation(a,c){const u=zn.doDecodeFormatInformation(a,c);return u!==null?u:zn.doDecodeFormatInformation(a^zn.FORMAT_INFO_MASK_QR,c^zn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,c){let u=Number.MAX_SAFE_INTEGER,h=0;for(const g of zn.FORMAT_INFO_DECODE_LOOKUP){const x=g[0];if(x===a||x===c)return new zn(g[1]);let v=zn.numBitsDiffering(a,x);v<u&&(h=g[1],u=v),a!==c&&(v=zn.numBitsDiffering(c,x),v<u&&(h=g[1],u=v))}return u<=3?new zn(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof zn))return!1;const c=a;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}zn.FORMAT_INFO_MASK_QR=21522,zn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ge{constructor(a,...c){this.ecCodewordsPerBlock=a,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const c=this.ecBlocks;for(const u of c)a+=u.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ne{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class je{constructor(a,c,...u){this.versionNumber=a,this.alignmentPatternCenters=c,this.ecBlocks=u;let h=0;const g=u[0].getECCodewordsPerBlock(),x=u[0].getECBlocks();for(const v of x)h+=v.getCount()*(v.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new V;try{return this.getVersionForNumber((a-17)/4)}catch{throw new V}}static getVersionForNumber(a){if(a<1||a>40)throw new _;return je.VERSIONS[a-1]}static decodeVersionInformation(a){let c=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<je.VERSION_DECODE_INFO.length;h++){const g=je.VERSION_DECODE_INFO[h];if(g===a)return je.getVersionForNumber(h+7);const x=zn.numBitsDiffering(a,g);x<c&&(u=h+7,c=x)}return c<=3?je.getVersionForNumber(u):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),c=new _e(a);c.setRegion(0,0,9,9),c.setRegion(a-8,0,8,9),c.setRegion(0,a-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const g=this.alignmentPatternCenters[h]-2;for(let x=0;x<u;x++)h===0&&(x===0||x===u-1)||h===u-1&&x===0||c.setRegion(this.alignmentPatternCenters[x]-2,g,5,5)}return c.setRegion(6,9,1,a-17),c.setRegion(9,6,a-17,1),this.versionNumber>6&&(c.setRegion(a-11,0,3,6),c.setRegion(0,a-11,6,3)),c}toString(){return""+this.versionNumber}}je.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),je.VERSIONS=[new je(1,new Int32Array(0),new ge(7,new ne(1,19)),new ge(10,new ne(1,16)),new ge(13,new ne(1,13)),new ge(17,new ne(1,9))),new je(2,Int32Array.from([6,18]),new ge(10,new ne(1,34)),new ge(16,new ne(1,28)),new ge(22,new ne(1,22)),new ge(28,new ne(1,16))),new je(3,Int32Array.from([6,22]),new ge(15,new ne(1,55)),new ge(26,new ne(1,44)),new ge(18,new ne(2,17)),new ge(22,new ne(2,13))),new je(4,Int32Array.from([6,26]),new ge(20,new ne(1,80)),new ge(18,new ne(2,32)),new ge(26,new ne(2,24)),new ge(16,new ne(4,9))),new je(5,Int32Array.from([6,30]),new ge(26,new ne(1,108)),new ge(24,new ne(2,43)),new ge(18,new ne(2,15),new ne(2,16)),new ge(22,new ne(2,11),new ne(2,12))),new je(6,Int32Array.from([6,34]),new ge(18,new ne(2,68)),new ge(16,new ne(4,27)),new ge(24,new ne(4,19)),new ge(28,new ne(4,15))),new je(7,Int32Array.from([6,22,38]),new ge(20,new ne(2,78)),new ge(18,new ne(4,31)),new ge(18,new ne(2,14),new ne(4,15)),new ge(26,new ne(4,13),new ne(1,14))),new je(8,Int32Array.from([6,24,42]),new ge(24,new ne(2,97)),new ge(22,new ne(2,38),new ne(2,39)),new ge(22,new ne(4,18),new ne(2,19)),new ge(26,new ne(4,14),new ne(2,15))),new je(9,Int32Array.from([6,26,46]),new ge(30,new ne(2,116)),new ge(22,new ne(3,36),new ne(2,37)),new ge(20,new ne(4,16),new ne(4,17)),new ge(24,new ne(4,12),new ne(4,13))),new je(10,Int32Array.from([6,28,50]),new ge(18,new ne(2,68),new ne(2,69)),new ge(26,new ne(4,43),new ne(1,44)),new ge(24,new ne(6,19),new ne(2,20)),new ge(28,new ne(6,15),new ne(2,16))),new je(11,Int32Array.from([6,30,54]),new ge(20,new ne(4,81)),new ge(30,new ne(1,50),new ne(4,51)),new ge(28,new ne(4,22),new ne(4,23)),new ge(24,new ne(3,12),new ne(8,13))),new je(12,Int32Array.from([6,32,58]),new ge(24,new ne(2,92),new ne(2,93)),new ge(22,new ne(6,36),new ne(2,37)),new ge(26,new ne(4,20),new ne(6,21)),new ge(28,new ne(7,14),new ne(4,15))),new je(13,Int32Array.from([6,34,62]),new ge(26,new ne(4,107)),new ge(22,new ne(8,37),new ne(1,38)),new ge(24,new ne(8,20),new ne(4,21)),new ge(22,new ne(12,11),new ne(4,12))),new je(14,Int32Array.from([6,26,46,66]),new ge(30,new ne(3,115),new ne(1,116)),new ge(24,new ne(4,40),new ne(5,41)),new ge(20,new ne(11,16),new ne(5,17)),new ge(24,new ne(11,12),new ne(5,13))),new je(15,Int32Array.from([6,26,48,70]),new ge(22,new ne(5,87),new ne(1,88)),new ge(24,new ne(5,41),new ne(5,42)),new ge(30,new ne(5,24),new ne(7,25)),new ge(24,new ne(11,12),new ne(7,13))),new je(16,Int32Array.from([6,26,50,74]),new ge(24,new ne(5,98),new ne(1,99)),new ge(28,new ne(7,45),new ne(3,46)),new ge(24,new ne(15,19),new ne(2,20)),new ge(30,new ne(3,15),new ne(13,16))),new je(17,Int32Array.from([6,30,54,78]),new ge(28,new ne(1,107),new ne(5,108)),new ge(28,new ne(10,46),new ne(1,47)),new ge(28,new ne(1,22),new ne(15,23)),new ge(28,new ne(2,14),new ne(17,15))),new je(18,Int32Array.from([6,30,56,82]),new ge(30,new ne(5,120),new ne(1,121)),new ge(26,new ne(9,43),new ne(4,44)),new ge(28,new ne(17,22),new ne(1,23)),new ge(28,new ne(2,14),new ne(19,15))),new je(19,Int32Array.from([6,30,58,86]),new ge(28,new ne(3,113),new ne(4,114)),new ge(26,new ne(3,44),new ne(11,45)),new ge(26,new ne(17,21),new ne(4,22)),new ge(26,new ne(9,13),new ne(16,14))),new je(20,Int32Array.from([6,34,62,90]),new ge(28,new ne(3,107),new ne(5,108)),new ge(26,new ne(3,41),new ne(13,42)),new ge(30,new ne(15,24),new ne(5,25)),new ge(28,new ne(15,15),new ne(10,16))),new je(21,Int32Array.from([6,28,50,72,94]),new ge(28,new ne(4,116),new ne(4,117)),new ge(26,new ne(17,42)),new ge(28,new ne(17,22),new ne(6,23)),new ge(30,new ne(19,16),new ne(6,17))),new je(22,Int32Array.from([6,26,50,74,98]),new ge(28,new ne(2,111),new ne(7,112)),new ge(28,new ne(17,46)),new ge(30,new ne(7,24),new ne(16,25)),new ge(24,new ne(34,13))),new je(23,Int32Array.from([6,30,54,78,102]),new ge(30,new ne(4,121),new ne(5,122)),new ge(28,new ne(4,47),new ne(14,48)),new ge(30,new ne(11,24),new ne(14,25)),new ge(30,new ne(16,15),new ne(14,16))),new je(24,Int32Array.from([6,28,54,80,106]),new ge(30,new ne(6,117),new ne(4,118)),new ge(28,new ne(6,45),new ne(14,46)),new ge(30,new ne(11,24),new ne(16,25)),new ge(30,new ne(30,16),new ne(2,17))),new je(25,Int32Array.from([6,32,58,84,110]),new ge(26,new ne(8,106),new ne(4,107)),new ge(28,new ne(8,47),new ne(13,48)),new ge(30,new ne(7,24),new ne(22,25)),new ge(30,new ne(22,15),new ne(13,16))),new je(26,Int32Array.from([6,30,58,86,114]),new ge(28,new ne(10,114),new ne(2,115)),new ge(28,new ne(19,46),new ne(4,47)),new ge(28,new ne(28,22),new ne(6,23)),new ge(30,new ne(33,16),new ne(4,17))),new je(27,Int32Array.from([6,34,62,90,118]),new ge(30,new ne(8,122),new ne(4,123)),new ge(28,new ne(22,45),new ne(3,46)),new ge(30,new ne(8,23),new ne(26,24)),new ge(30,new ne(12,15),new ne(28,16))),new je(28,Int32Array.from([6,26,50,74,98,122]),new ge(30,new ne(3,117),new ne(10,118)),new ge(28,new ne(3,45),new ne(23,46)),new ge(30,new ne(4,24),new ne(31,25)),new ge(30,new ne(11,15),new ne(31,16))),new je(29,Int32Array.from([6,30,54,78,102,126]),new ge(30,new ne(7,116),new ne(7,117)),new ge(28,new ne(21,45),new ne(7,46)),new ge(30,new ne(1,23),new ne(37,24)),new ge(30,new ne(19,15),new ne(26,16))),new je(30,Int32Array.from([6,26,52,78,104,130]),new ge(30,new ne(5,115),new ne(10,116)),new ge(28,new ne(19,47),new ne(10,48)),new ge(30,new ne(15,24),new ne(25,25)),new ge(30,new ne(23,15),new ne(25,16))),new je(31,Int32Array.from([6,30,56,82,108,134]),new ge(30,new ne(13,115),new ne(3,116)),new ge(28,new ne(2,46),new ne(29,47)),new ge(30,new ne(42,24),new ne(1,25)),new ge(30,new ne(23,15),new ne(28,16))),new je(32,Int32Array.from([6,34,60,86,112,138]),new ge(30,new ne(17,115)),new ge(28,new ne(10,46),new ne(23,47)),new ge(30,new ne(10,24),new ne(35,25)),new ge(30,new ne(19,15),new ne(35,16))),new je(33,Int32Array.from([6,30,58,86,114,142]),new ge(30,new ne(17,115),new ne(1,116)),new ge(28,new ne(14,46),new ne(21,47)),new ge(30,new ne(29,24),new ne(19,25)),new ge(30,new ne(11,15),new ne(46,16))),new je(34,Int32Array.from([6,34,62,90,118,146]),new ge(30,new ne(13,115),new ne(6,116)),new ge(28,new ne(14,46),new ne(23,47)),new ge(30,new ne(44,24),new ne(7,25)),new ge(30,new ne(59,16),new ne(1,17))),new je(35,Int32Array.from([6,30,54,78,102,126,150]),new ge(30,new ne(12,121),new ne(7,122)),new ge(28,new ne(12,47),new ne(26,48)),new ge(30,new ne(39,24),new ne(14,25)),new ge(30,new ne(22,15),new ne(41,16))),new je(36,Int32Array.from([6,24,50,76,102,128,154]),new ge(30,new ne(6,121),new ne(14,122)),new ge(28,new ne(6,47),new ne(34,48)),new ge(30,new ne(46,24),new ne(10,25)),new ge(30,new ne(2,15),new ne(64,16))),new je(37,Int32Array.from([6,28,54,80,106,132,158]),new ge(30,new ne(17,122),new ne(4,123)),new ge(28,new ne(29,46),new ne(14,47)),new ge(30,new ne(49,24),new ne(10,25)),new ge(30,new ne(24,15),new ne(46,16))),new je(38,Int32Array.from([6,32,58,84,110,136,162]),new ge(30,new ne(4,122),new ne(18,123)),new ge(28,new ne(13,46),new ne(32,47)),new ge(30,new ne(48,24),new ne(14,25)),new ge(30,new ne(42,15),new ne(32,16))),new je(39,Int32Array.from([6,26,54,82,110,138,166]),new ge(30,new ne(20,117),new ne(4,118)),new ge(28,new ne(40,47),new ne(7,48)),new ge(30,new ne(43,24),new ne(22,25)),new ge(30,new ne(10,15),new ne(67,16))),new je(40,Int32Array.from([6,30,58,86,114,142,170]),new ge(30,new ne(19,118),new ne(6,119)),new ge(28,new ne(18,47),new ne(31,48)),new ge(30,new ne(34,24),new ne(34,25)),new ge(30,new ne(20,15),new ne(61,16)))];var Rn;(function(U){U[U.DATA_MASK_000=0]="DATA_MASK_000",U[U.DATA_MASK_001=1]="DATA_MASK_001",U[U.DATA_MASK_010=2]="DATA_MASK_010",U[U.DATA_MASK_011=3]="DATA_MASK_011",U[U.DATA_MASK_100=4]="DATA_MASK_100",U[U.DATA_MASK_101=5]="DATA_MASK_101",U[U.DATA_MASK_110=6]="DATA_MASK_110",U[U.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class On{constructor(a,c){this.value=a,this.isMasked=c}unmaskBitMatrix(a,c){for(let u=0;u<c;u++)for(let h=0;h<c;h++)this.isMasked(u,h)&&a.flip(h,u)}}On.values=new Map([[Rn.DATA_MASK_000,new On(Rn.DATA_MASK_000,(U,a)=>(U+a&1)===0)],[Rn.DATA_MASK_001,new On(Rn.DATA_MASK_001,(U,a)=>(U&1)===0)],[Rn.DATA_MASK_010,new On(Rn.DATA_MASK_010,(U,a)=>a%3===0)],[Rn.DATA_MASK_011,new On(Rn.DATA_MASK_011,(U,a)=>(U+a)%3===0)],[Rn.DATA_MASK_100,new On(Rn.DATA_MASK_100,(U,a)=>(Math.floor(U/2)+Math.floor(a/3)&1)===0)],[Rn.DATA_MASK_101,new On(Rn.DATA_MASK_101,(U,a)=>U*a%6===0)],[Rn.DATA_MASK_110,new On(Rn.DATA_MASK_110,(U,a)=>U*a%6<3)],[Rn.DATA_MASK_111,new On(Rn.DATA_MASK_111,(U,a)=>(U+a+U*a%3&1)===0)]]);class fa{constructor(a){const c=a.getHeight();if(c<21||(c&3)!==1)throw new V;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let g=0;g<6;g++)a=this.copyBit(g,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let g=5;g>=0;g--)a=this.copyBit(8,g,a);const c=this.bitMatrix.getHeight();let u=0;const h=c-7;for(let g=c-1;g>=h;g--)u=this.copyBit(8,g,u);for(let g=c-8;g<c;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=zn.decodeFormatInformation(a,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),c=Math.floor((a-17)/4);if(c<=6)return je.getVersionForNumber(c);let u=0;const h=a-11;for(let x=5;x>=0;x--)for(let v=a-9;v>=h;v--)u=this.copyBit(v,x,u);let g=je.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;u=0;for(let x=5;x>=0;x--)for(let v=a-9;v>=h;v--)u=this.copyBit(x,v,u);if(g=je.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new V}copyBit(a,c,u){return(this.isMirror?this.bitMatrix.get(c,a):this.bitMatrix.get(a,c))?u<<1|1:u<<1}readCodewords(){const a=this.readFormatInformation(),c=this.readVersion(),u=On.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const g=c.buildFunctionPattern();let x=!0;const v=new Uint8Array(c.getTotalCodewords());let A=0,C=0,D=0;for(let z=h-1;z>0;z-=2){z===6&&z--;for(let Y=0;Y<h;Y++){const re=x?h-1-Y:Y;for(let ce=0;ce<2;ce++)g.get(z-ce,re)||(D++,C<<=1,this.bitMatrix.get(z-ce,re)&&(C|=1),D===8&&(v[A++]=C,D=0,C=0))}x=!x}if(A!==c.getTotalCodewords())throw new V;return v}remask(){if(this.parsedFormatInfo===null)return;const a=On.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let c=0,u=a.getWidth();c<u;c++)for(let h=c+1,g=a.getHeight();h<g;h++)a.get(c,h)!==a.get(h,c)&&(a.flip(h,c),a.flip(c,h))}}class ro{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c,u){if(a.length!==c.getTotalCodewords())throw new _;const h=c.getECBlocksForLevel(u);let g=0;const x=h.getECBlocks();for(const ce of x)g+=ce.getCount();const v=new Array(g);let A=0;for(const ce of x)for(let ue=0;ue<ce.getCount();ue++){const me=ce.getDataCodewords(),Ee=h.getECCodewordsPerBlock()+me;v[A++]=new ro(me,new Uint8Array(Ee))}const C=v[0].codewords.length;let D=v.length-1;for(;D>=0&&v[D].codewords.length!==C;)D--;D++;const z=C-h.getECCodewordsPerBlock();let Y=0;for(let ce=0;ce<z;ce++)for(let ue=0;ue<A;ue++)v[ue].codewords[ce]=a[Y++];for(let ce=D;ce<A;ce++)v[ce].codewords[z]=a[Y++];const re=v[0].codewords.length;for(let ce=z;ce<re;ce++)for(let ue=0;ue<A;ue++){const me=ue<D?ce:ce+1;v[ue].codewords[me]=a[Y++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Mr;(function(U){U[U.TERMINATOR=0]="TERMINATOR",U[U.NUMERIC=1]="NUMERIC",U[U.ALPHANUMERIC=2]="ALPHANUMERIC",U[U.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",U[U.BYTE=4]="BYTE",U[U.ECI=5]="ECI",U[U.KANJI=6]="KANJI",U[U.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",U[U.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",U[U.HANZI=9]="HANZI"})(Mr||(Mr={}));class rt{constructor(a,c,u,h){this.value=a,this.stringValue=c,this.characterCountBitsForVersions=u,this.bits=h,rt.FOR_BITS.set(h,this),rt.FOR_VALUE.set(a,this)}static forBits(a){const c=rt.FOR_BITS.get(a);if(c===void 0)throw new _;return c}getCharacterCountBits(a){const c=a.getVersionNumber();let u;return c<=9?u=0:c<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof rt))return!1;const c=a;return this.value===c.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(Mr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(Mr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(Mr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(Mr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(Mr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(Mr.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(Mr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(Mr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(Mr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(Mr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class _n{static decode(a,c,u,h){const g=new br(a);let x=new H;const v=new Array;let A=-1,C=-1;try{let D=null,z=!1,Y;do{if(g.available()<4)Y=rt.TERMINATOR;else{const re=g.readBits(4);Y=rt.forBits(re)}switch(Y){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:z=!0;break;case rt.STRUCTURED_APPEND:if(g.available()<16)throw new V;A=g.readBits(8),C=g.readBits(8);break;case rt.ECI:const re=_n.parseECIValue(g);if(D=O.getCharacterSetECIByValue(re),D===null)throw new V;break;case rt.HANZI:const ce=g.readBits(4),ue=g.readBits(Y.getCharacterCountBits(c));ce===_n.GB2312_SUBSET&&_n.decodeHanziSegment(g,x,ue);break;default:const me=g.readBits(Y.getCharacterCountBits(c));switch(Y){case rt.NUMERIC:_n.decodeNumericSegment(g,x,me);break;case rt.ALPHANUMERIC:_n.decodeAlphanumericSegment(g,x,me,z);break;case rt.BYTE:_n.decodeByteSegment(g,x,me,D,v,h);break;case rt.KANJI:_n.decodeKanjiSegment(g,x,me);break;default:throw new V}break}}while(Y!==rt.TERMINATOR)}catch{throw new V}return new Ye(a,x.toString(),v.length===0?null:v,u===null?null:u.toString(),A,C)}static decodeHanziSegment(a,c,u){if(u*13>a.available())throw new V;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const x=a.readBits(13);let v=x/96<<8&4294967295|x%96;v<959?v+=41377:v+=42657,h[g]=v>>8&255,h[g+1]=v&255,g+=2,u--}try{c.append(X.decode(h,G.GB2312))}catch(x){throw new V(x)}}static decodeKanjiSegment(a,c,u){if(u*13>a.available())throw new V;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const x=a.readBits(13);let v=x/192<<8&4294967295|x%192;v<7936?v+=33088:v+=49472,h[g]=v>>8,h[g+1]=v,g+=2,u--}try{c.append(X.decode(h,G.SHIFT_JIS))}catch(x){throw new V(x)}}static decodeByteSegment(a,c,u,h,g,x){if(8*u>a.available())throw new V;const v=new Uint8Array(u);for(let C=0;C<u;C++)v[C]=a.readBits(8);let A;h===null?A=G.guessEncoding(v,x):A=h.getName();try{c.append(X.decode(v,A))}catch(C){throw new V(C)}g.push(v)}static toAlphaNumericChar(a){if(a>=_n.ALPHANUMERIC_CHARS.length)throw new V;return _n.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,c,u,h){const g=c.length();for(;u>1;){if(a.available()<11)throw new V;const x=a.readBits(11);c.append(_n.toAlphaNumericChar(Math.floor(x/45))),c.append(_n.toAlphaNumericChar(x%45)),u-=2}if(u===1){if(a.available()<6)throw new V;c.append(_n.toAlphaNumericChar(a.readBits(6)))}if(h)for(let x=g;x<c.length();x++)c.charAt(x)==="%"&&(x<c.length()-1&&c.charAt(x+1)==="%"?c.deleteCharAt(x+1):c.setCharAt(x,""))}static decodeNumericSegment(a,c,u){for(;u>=3;){if(a.available()<10)throw new V;const h=a.readBits(10);if(h>=1e3)throw new V;c.append(_n.toAlphaNumericChar(Math.floor(h/100))),c.append(_n.toAlphaNumericChar(Math.floor(h/10)%10)),c.append(_n.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(a.available()<7)throw new V;const h=a.readBits(7);if(h>=100)throw new V;c.append(_n.toAlphaNumericChar(Math.floor(h/10))),c.append(_n.toAlphaNumericChar(h%10))}else if(u===1){if(a.available()<4)throw new V;const h=a.readBits(4);if(h>=10)throw new V;c.append(_n.toAlphaNumericChar(h))}}static parseECIValue(a){const c=a.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const u=a.readBits(8);return(c&63)<<8&4294967295|u}if((c&224)===192){const u=a.readBits(16);return(c&31)<<16&4294967295|u}throw new V}}_n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_n.GB2312_SUBSET=1;class Ql{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const c=a[0];a[0]=a[2],a[2]=c}}class io{constructor(){this.rsDecoder=new $n(nt.QR_CODE_FIELD_256)}decodeBooleanArray(a,c){return this.decodeBitMatrix(_e.parseFromBooleanArray(a),c)}decodeBitMatrix(a,c){const u=new fa(a);let h=null;try{return this.decodeBitMatrixParser(u,c)}catch(g){h=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,c);return g.setOther(new Ql(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(a,c){const u=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),g=a.readCodewords(),x=ro.getDataBlocks(g,u,h);let v=0;for(const D of x)v+=D.getNumDataCodewords();const A=new Uint8Array(v);let C=0;for(const D of x){const z=D.getCodewords(),Y=D.getNumDataCodewords();this.correctErrors(z,Y);for(let re=0;re<Y;re++)A[C++]=z[re]}return _n.decode(A,u,h,c)}correctErrors(a,c){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-c)}catch{throw new N}for(let h=0;h<c;h++)a[h]=u[h]}}class Oi extends qe{constructor(a,c,u){super(a,c),this.estimatedModuleSize=u}aboutEquals(a,c,u){if(Math.abs(c-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,c,u){const h=(this.getX()+c)/2,g=(this.getY()+a)/2,x=(this.estimatedModuleSize+u)/2;return new Oi(h,g,x)}}class jr{constructor(a,c,u,h,g,x,v){this.image=a,this.startX=c,this.startY=u,this.width=h,this.height=g,this.moduleSize=x,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,c=this.height,u=this.width,h=a+u,g=this.startY+c/2,x=new Int32Array(3),v=this.image;for(let A=0;A<c;A++){const C=g+((A&1)===0?Math.floor((A+1)/2):-Math.floor((A+1)/2));x[0]=0,x[1]=0,x[2]=0;let D=a;for(;D<h&&!v.get(D,C);)D++;let z=0;for(;D<h;){if(v.get(D,C))if(z===1)x[1]++;else if(z===2){if(this.foundPatternCross(x)){const Y=this.handlePossibleCenter(x,C,D);if(Y!==null)return Y}x[0]=x[2],x[1]=1,x[2]=0,z=1}else x[++z]++;else z===1&&z++,x[z]++;D++}if(this.foundPatternCross(x)){const Y=this.handlePossibleCenter(x,C,h);if(Y!==null)return Y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le}static centerFromEnd(a,c){return c-a[2]-a[1]/2}foundPatternCross(a){const c=this.moduleSize,u=c/2;for(let h=0;h<3;h++)if(Math.abs(c-a[h])>=u)return!1;return!0}crossCheckVertical(a,c,u,h){const g=this.image,x=g.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let A=a;for(;A>=0&&g.get(c,A)&&v[1]<=u;)v[1]++,A--;if(A<0||v[1]>u)return NaN;for(;A>=0&&!g.get(c,A)&&v[0]<=u;)v[0]++,A--;if(v[0]>u)return NaN;for(A=a+1;A<x&&g.get(c,A)&&v[1]<=u;)v[1]++,A++;if(A===x||v[1]>u)return NaN;for(;A<x&&!g.get(c,A)&&v[2]<=u;)v[2]++,A++;if(v[2]>u)return NaN;const C=v[0]+v[1]+v[2];return 5*Math.abs(C-h)>=2*h?NaN:this.foundPatternCross(v)?jr.centerFromEnd(v,A):NaN}handlePossibleCenter(a,c,u){const h=a[0]+a[1]+a[2],g=jr.centerFromEnd(a,u),x=this.crossCheckVertical(c,g,2*a[1],h);if(!isNaN(x)){const v=(a[0]+a[1]+a[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(v,x,g))return C.combineEstimate(x,g,v);const A=new Oi(g,x,v);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null}}class ki extends qe{constructor(a,c,u,h){super(a,c),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,c,u){if(Math.abs(c-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,c,u){const h=this.count+1,g=(this.count*this.getX()+c)/h,x=(this.count*this.getY()+a)/h,v=(this.count*this.estimatedModuleSize+u)/h;return new ki(g,x,v,h)}}class Ts{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class jn{constructor(a,c){this.image=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const c=a!=null&&a.get(se.TRY_HARDER)!==void 0,u=a!=null&&a.get(se.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),x=h.getWidth();let v=Math.floor(3*g/(4*jn.MAX_MODULES));(v<jn.MIN_SKIP||c)&&(v=jn.MIN_SKIP);let A=!1;const C=new Int32Array(5);for(let z=v-1;z<g&&!A;z+=v){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let Y=0;for(let re=0;re<x;re++)if(h.get(re,z))(Y&1)===1&&Y++,C[Y]++;else if((Y&1)===0)if(Y===4)if(jn.foundPatternCross(C)){if(this.handlePossibleCenter(C,z,re,u)===!0)if(v=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{const ue=this.findRowSkip();ue>C[2]&&(z+=ue-C[2]-v,re=x-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Y=3;continue}Y=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Y=3;else C[++Y]++;else C[Y]++;jn.foundPatternCross(C)&&this.handlePossibleCenter(C,z,x,u)===!0&&(v=C[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return qe.orderBestPatterns(D),new Ts(D)}static centerFromEnd(a,c){return c-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let c=0;for(let g=0;g<5;g++){const x=a[g];if(x===0)return!1;c+=x}if(c<7)return!1;const u=c/7,h=u/2;return Math.abs(u-a[0])<h&&Math.abs(u-a[1])<h&&Math.abs(3*u-a[2])<3*h&&Math.abs(u-a[3])<h&&Math.abs(u-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,c,u,h){const g=this.getCrossCheckStateCount();let x=0;const v=this.image;for(;a>=x&&c>=x&&v.get(c-x,a-x);)g[2]++,x++;if(a<x||c<x)return!1;for(;a>=x&&c>=x&&!v.get(c-x,a-x)&&g[1]<=u;)g[1]++,x++;if(a<x||c<x||g[1]>u)return!1;for(;a>=x&&c>=x&&v.get(c-x,a-x)&&g[0]<=u;)g[0]++,x++;if(g[0]>u)return!1;const A=v.getHeight(),C=v.getWidth();for(x=1;a+x<A&&c+x<C&&v.get(c+x,a+x);)g[2]++,x++;if(a+x>=A||c+x>=C)return!1;for(;a+x<A&&c+x<C&&!v.get(c+x,a+x)&&g[3]<u;)g[3]++,x++;if(a+x>=A||c+x>=C||g[3]>=u)return!1;for(;a+x<A&&c+x<C&&v.get(c+x,a+x)&&g[4]<u;)g[4]++,x++;if(g[4]>=u)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-h)<2*h&&jn.foundPatternCross(g)}crossCheckVertical(a,c,u,h){const g=this.image,x=g.getHeight(),v=this.getCrossCheckStateCount();let A=a;for(;A>=0&&g.get(c,A);)v[2]++,A--;if(A<0)return NaN;for(;A>=0&&!g.get(c,A)&&v[1]<=u;)v[1]++,A--;if(A<0||v[1]>u)return NaN;for(;A>=0&&g.get(c,A)&&v[0]<=u;)v[0]++,A--;if(v[0]>u)return NaN;for(A=a+1;A<x&&g.get(c,A);)v[2]++,A++;if(A===x)return NaN;for(;A<x&&!g.get(c,A)&&v[3]<u;)v[3]++,A++;if(A===x||v[3]>=u)return NaN;for(;A<x&&g.get(c,A)&&v[4]<u;)v[4]++,A++;if(v[4]>=u)return NaN;const C=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(C-h)>=2*h?NaN:jn.foundPatternCross(v)?jn.centerFromEnd(v,A):NaN}crossCheckHorizontal(a,c,u,h){const g=this.image,x=g.getWidth(),v=this.getCrossCheckStateCount();let A=a;for(;A>=0&&g.get(A,c);)v[2]++,A--;if(A<0)return NaN;for(;A>=0&&!g.get(A,c)&&v[1]<=u;)v[1]++,A--;if(A<0||v[1]>u)return NaN;for(;A>=0&&g.get(A,c)&&v[0]<=u;)v[0]++,A--;if(v[0]>u)return NaN;for(A=a+1;A<x&&g.get(A,c);)v[2]++,A++;if(A===x)return NaN;for(;A<x&&!g.get(A,c)&&v[3]<u;)v[3]++,A++;if(A===x||v[3]>=u)return NaN;for(;A<x&&g.get(A,c)&&v[4]<u;)v[4]++,A++;if(v[4]>=u)return NaN;const C=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(C-h)>=h?NaN:jn.foundPatternCross(v)?jn.centerFromEnd(v,A):NaN}handlePossibleCenter(a,c,u,h){const g=a[0]+a[1]+a[2]+a[3]+a[4];let x=jn.centerFromEnd(a,u),v=this.crossCheckVertical(c,Math.floor(x),a[2],g);if(!isNaN(v)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(v),a[2],g),!isNaN(x)&&(!h||this.crossCheckDiagonal(Math.floor(v),Math.floor(x),a[2],g)))){const A=g/7;let C=!1;const D=this.possibleCenters;for(let z=0,Y=D.length;z<Y;z++){const re=D[z];if(re.aboutEquals(A,v,x)){D[z]=re.combineEstimate(v,x,A),C=!0;break}}if(!C){const z=new ki(x,v,A);D.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const u of this.possibleCenters)if(u.getCount()>=jn.CENTER_QUORUM)if(c==null)c=u;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-u.getX())-Math.abs(c.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,c=0;const u=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=jn.CENTER_QUORUM&&(a++,c+=x.getEstimatedModuleSize());if(a<3)return!1;const h=c/u;let g=0;for(const x of this.possibleCenters)g+=Math.abs(x.getEstimatedModuleSize()-h);return g<=.05*c}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new le;const c=this.possibleCenters;let u;if(a>3){let h=0,g=0;for(const A of this.possibleCenters){const C=A.getEstimatedModuleSize();h+=C,g+=C*C}u=h/a;let x=Math.sqrt(g/a-u*u);c.sort((A,C)=>{const D=Math.abs(C.getEstimatedModuleSize()-u),z=Math.abs(A.getEstimatedModuleSize()-u);return D<z?-1:D>z?1:0});const v=Math.max(.2*u,x);for(let A=0;A<c.length&&c.length>3;A++){const C=c[A];Math.abs(C.getEstimatedModuleSize()-u)>v&&(c.splice(A,1),A--)}}if(c.length>3){let h=0;for(const g of c)h+=g.getEstimatedModuleSize();u=h/c.length,c.sort((g,x)=>{if(x.getCount()===g.getCount()){const v=Math.abs(x.getEstimatedModuleSize()-u),A=Math.abs(g.getEstimatedModuleSize()-u);return v<A?1:v>A?-1:0}else return x.getCount()-g.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}jn.CENTER_QUORUM=2,jn.MIN_SKIP=3,jn.MAX_MODULES=57;class ti{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(se.NEED_RESULT_POINT_CALLBACK);const u=new jn(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(u)}processFinderPatternInfo(a){const c=a.getTopLeft(),u=a.getTopRight(),h=a.getBottomLeft(),g=this.calculateModuleSize(c,u,h);if(g<1)throw new le("No pattern found in proccess finder.");const x=ti.computeDimension(c,u,h,g),v=je.getProvisionalVersionForDimension(x),A=v.getDimensionForVersion()-7;let C=null;if(v.getAlignmentPatternCenters().length>0){const re=u.getX()-c.getX()+h.getX(),ce=u.getY()-c.getY()+h.getY(),ue=1-3/A,me=Math.floor(c.getX()+ue*(re-c.getX())),Ee=Math.floor(c.getY()+ue*(ce-c.getY()));for(let Ve=4;Ve<=16;Ve<<=1)try{C=this.findAlignmentInRegion(g,me,Ee,Ve);break}catch(Ue){if(!(Ue instanceof le))throw Ue}}const D=ti.createTransform(c,u,h,C,x),z=ti.sampleGrid(this.image,D,x);let Y;return C===null?Y=[h,c,u]:Y=[h,c,u,C],new vs(z,Y)}static createTransform(a,c,u,h,g){const x=g-3.5;let v,A,C,D;return h!==null?(v=h.getX(),A=h.getY(),C=x-3,D=C):(v=c.getX()-a.getX()+u.getX(),A=c.getY()-a.getY()+u.getY(),C=x,D=x),Xt.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,C,D,3.5,x,a.getX(),a.getY(),c.getX(),c.getY(),v,A,u.getX(),u.getY())}static sampleGrid(a,c,u){return Jn.getInstance().sampleGridWithTransform(a,u,u,c)}static computeDimension(a,c,u,h){const g=Et.round(qe.distance(a,c)/h),x=Et.round(qe.distance(a,u)/h);let v=Math.floor((g+x)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new le("Dimensions could be not found.")}return v}calculateModuleSize(a,c,u){return(this.calculateModuleSizeOneWay(a,c)+this.calculateModuleSizeOneWay(a,u))/2}calculateModuleSizeOneWay(a,c){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(c.getX()),Math.floor(c.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,c,u,h){let g=this.sizeOfBlackWhiteBlackRun(a,c,u,h),x=1,v=a-(u-a);v<0?(x=a/(a-v),v=0):v>=this.image.getWidth()&&(x=(this.image.getWidth()-1-a)/(v-a),v=this.image.getWidth()-1);let A=Math.floor(c-(h-c)*x);return x=1,A<0?(x=c/(c-A),A=0):A>=this.image.getHeight()&&(x=(this.image.getHeight()-1-c)/(A-c),A=this.image.getHeight()-1),v=Math.floor(a+(v-a)*x),g+=this.sizeOfBlackWhiteBlackRun(a,c,v,A),g-1}sizeOfBlackWhiteBlackRun(a,c,u,h){const g=Math.abs(h-c)>Math.abs(u-a);if(g){let re=a;a=c,c=re,re=u,u=h,h=re}const x=Math.abs(u-a),v=Math.abs(h-c);let A=-x/2;const C=a<u?1:-1,D=c<h?1:-1;let z=0;const Y=u+C;for(let re=a,ce=c;re!==Y;re+=C){const ue=g?ce:re,me=g?re:ce;if(z===1===this.image.get(ue,me)){if(z===2)return Et.distance(re,ce,a,c);z++}if(A+=v,A>0){if(ce===h)break;ce+=D,A-=x}}return z===2?Et.distance(u+C,h,a,c):NaN}findAlignmentInRegion(a,c,u,h){const g=Math.floor(h*a),x=Math.max(0,c-g),v=Math.min(this.image.getWidth()-1,c+g);if(v-x<a*3)throw new le("Alignment top exceeds estimated module size.");const A=Math.max(0,u-g),C=Math.min(this.image.getHeight()-1,u+g);if(C-A<a*3)throw new le("Alignment bottom exceeds estimated module size.");return new jr(this.image,x,A,v-x,C-A,a,this.resultPointCallback).find()}}class Pi{constructor(){this.decoder=new io}getDecoder(){return this.decoder}decode(a,c){let u,h;if(c!=null&&c.get(se.PURE_BARCODE)!==void 0){const A=Pi.extractPureBits(a.getBlackMatrix());u=this.decoder.decodeBitMatrix(A,c),h=Pi.NO_POINTS}else{const A=new ti(a.getBlackMatrix()).detect(c);u=this.decoder.decodeBitMatrix(A.getBits(),c),h=A.getPoints()}u.getOther()instanceof Ql&&u.getOther().applyMirroredCorrection(h);const g=new Ge(u.getText(),u.getRawBytes(),void 0,h,Ce.QR_CODE,void 0),x=u.getByteSegments();x!==null&&g.putMetadata(He.BYTE_SEGMENTS,x);const v=u.getECLevel();return v!==null&&g.putMetadata(He.ERROR_CORRECTION_LEVEL,v),u.hasStructuredAppend()&&(g.putMetadata(He.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(He.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(c===null||u===null)throw new le;const h=this.moduleSize(c,a);let g=c[1],x=u[1],v=c[0],A=u[0];if(v>=A||g>=x)throw new le;if(x-g!==A-v&&(A=v+(x-g),A>=a.getWidth()))throw new le;const C=Math.round((A-v+1)/h),D=Math.round((x-g+1)/h);if(C<=0||D<=0)throw new le;if(D!==C)throw new le;const z=Math.floor(h/2);g+=z,v+=z;const Y=v+Math.floor((C-1)*h)-A;if(Y>0){if(Y>z)throw new le;v-=Y}const re=g+Math.floor((D-1)*h)-x;if(re>0){if(re>z)throw new le;g-=re}const ce=new _e(C,D);for(let ue=0;ue<D;ue++){const me=g+Math.floor(ue*h);for(let Ee=0;Ee<C;Ee++)a.get(v+Math.floor(Ee*h),me)&&ce.set(Ee,ue)}return ce}static moduleSize(a,c){const u=c.getHeight(),h=c.getWidth();let g=a[0],x=a[1],v=!0,A=0;for(;g<h&&x<u;){if(v!==c.get(g,x)){if(++A===5)break;v=!v}g++,x++}if(g===h||x===u)throw new le;return(g-a[0])/7}}Pi.NO_POINTS=new Array;class st{PDF417Common(){}static getBitCountSum(a){return Et.sum(a)}static toIntArray(a){if(a==null||!a.length)return st.EMPTY_INT_ARRAY;const c=new Int32Array(a.length);let u=0;for(const h of a)c[u++]=h;return c}static getCodeword(a){const c=K.binarySearch(st.SYMBOL_TABLE,a&262143);return c<0?-1:(st.CODEWORD_TABLE[c]-1)%st.NUMBER_OF_CODEWORDS}}st.NUMBER_OF_CODEWORDS=929,st.MAX_CODEWORDS_IN_BARCODE=st.NUMBER_OF_CODEWORDS-1,st.MIN_ROWS_IN_BARCODE=3,st.MAX_ROWS_IN_BARCODE=90,st.MODULES_IN_CODEWORD=17,st.MODULES_IN_STOP_PATTERN=18,st.BARS_IN_MODULE=8,st.EMPTY_INT_ARRAY=new Int32Array([]),st.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),st.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Li{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class ut{static detectMultiple(a,c,u){let h=a.getBlackMatrix(),g=ut.detect(u,h);return g.length||(h=h.clone(),h.rotate180(),g=ut.detect(u,h)),new Li(h,g)}static detect(a,c){const u=new Array;let h=0,g=0,x=!1;for(;h<c.getHeight();){const v=ut.findVertices(c,h,g);if(v[0]==null&&v[3]==null){if(!x)break;x=!1,g=0;for(const A of u)A[1]!=null&&(h=Math.trunc(Math.max(h,A[1].getY()))),A[3]!=null&&(h=Math.max(h,Math.trunc(A[3].getY())));h+=ut.ROW_STEP;continue}if(x=!0,u.push(v),!a)break;v[2]!=null?(g=Math.trunc(v[2].getX()),h=Math.trunc(v[2].getY())):(g=Math.trunc(v[4].getX()),h=Math.trunc(v[4].getY()))}return u}static findVertices(a,c,u){const h=a.getHeight(),g=a.getWidth(),x=new Array(8);return ut.copyToResult(x,ut.findRowsWithPattern(a,h,g,c,u,ut.START_PATTERN),ut.INDEXES_START_PATTERN),x[4]!=null&&(u=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY())),ut.copyToResult(x,ut.findRowsWithPattern(a,h,g,c,u,ut.STOP_PATTERN),ut.INDEXES_STOP_PATTERN),x}static copyToResult(a,c,u){for(let h=0;h<u.length;h++)a[u[h]]=c[h]}static findRowsWithPattern(a,c,u,h,g,x){const v=new Array(4);let A=!1;const C=new Int32Array(x.length);for(;h<c;h+=ut.ROW_STEP){let z=ut.findGuardPattern(a,g,h,u,!1,x,C);if(z!=null){for(;h>0;){const Y=ut.findGuardPattern(a,g,--h,u,!1,x,C);if(Y!=null)z=Y;else{h++;break}}v[0]=new qe(z[0],h),v[1]=new qe(z[1],h),A=!0;break}}let D=h+1;if(A){let z=0,Y=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;D<c;D++){const re=ut.findGuardPattern(a,Y[0],D,u,!1,x,C);if(re!=null&&Math.abs(Y[0]-re[0])<ut.MAX_PATTERN_DRIFT&&Math.abs(Y[1]-re[1])<ut.MAX_PATTERN_DRIFT)Y=re,z=0;else{if(z>ut.SKIPPED_ROW_COUNT_MAX)break;z++}}D-=z+1,v[2]=new qe(Y[0],D),v[3]=new qe(Y[1],D)}return D-h<ut.BARCODE_MIN_HEIGHT&&K.fill(v,null),v}static findGuardPattern(a,c,u,h,g,x,v){K.fillWithin(v,0,v.length,0);let A=c,C=0;for(;a.get(A,u)&&A>0&&C++<ut.MAX_PIXEL_DRIFT;)A--;let D=A,z=0,Y=x.length;for(let re=g;D<h;D++)if(a.get(D,u)!==re)v[z]++;else{if(z===Y-1){if(ut.patternMatchVariance(v,x,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return new Int32Array([A,D]);A+=v[0]+v[1],P.arraycopy(v,2,v,0,z-1),v[z-1]=0,v[z]=0,z--}else z++;v[z]=1,re=!re}return z===Y-1&&ut.patternMatchVariance(v,x,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE?new Int32Array([A,D-1]):null}static patternMatchVariance(a,c,u){let h=a.length,g=0,x=0;for(let C=0;C<h;C++)g+=a[C],x+=c[C];if(g<x)return 1/0;let v=g/x;u*=v;let A=0;for(let C=0;C<h;C++){let D=a[C],z=c[C]*v,Y=D>z?D-z:z-D;if(Y>u)return 1/0;A+=Y}return A/g}}ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ut.MAX_AVG_VARIANCE=.42,ut.MAX_INDIVIDUAL_VARIANCE=.8,ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ut.MAX_PIXEL_DRIFT=3,ut.MAX_PATTERN_DRIFT=5,ut.SKIPPED_ROW_COUNT_MAX=25,ut.ROW_STEP=5,ut.BARCODE_MIN_HEIGHT=10;class kn{constructor(a,c){if(c.length===0)throw new _;this.field=a;let u=c.length;if(u>1&&c[0]===0){let h=1;for(;h<u&&c[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),P.arraycopy(c,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let c=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)c=this.field.add(this.field.multiply(a,c),this.coefficients[h]);return c}add(a){if(!this.field.equals(a.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,u=a.coefficients;if(c.length>u.length){let x=c;c=u,u=x}let h=new Int32Array(u.length),g=u.length-c.length;P.arraycopy(u,0,h,0,g);for(let x=g;x<u.length;x++)h[x]=this.field.add(c[x-g],u[x]);return new kn(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new _("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof kn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new _("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new kn(this.field,new Int32Array([0]));let c=this.coefficients,u=c.length,h=a.coefficients,g=h.length,x=new Int32Array(u+g-1);for(let v=0;v<u;v++){let A=c[v];for(let C=0;C<g;C++)x[v+C]=this.field.add(x[v+C],this.field.multiply(A,h[C]))}return new kn(this.field,x)}negative(){let a=this.coefficients.length,c=new Int32Array(a);for(let u=0;u<a;u++)c[u]=this.field.subtract(0,this.coefficients[u]);return new kn(this.field,c)}multiplyScalar(a){if(a===0)return new kn(this.field,new Int32Array([0]));if(a===1)return this;let c=this.coefficients.length,u=new Int32Array(c);for(let h=0;h<c;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new kn(this.field,u)}multiplyByMonomial(a,c){if(a<0)throw new _;if(c===0)return new kn(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+a);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],c);return new kn(this.field,h)}toString(){let a=new H;for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);u!==0&&(u<0?(a.append(" - "),u=-u):a.length()>0&&a.append(" + "),(c===0||u!==1)&&a.append(u),c!==0&&(c===1?a.append("x"):(a.append("x^"),a.append(c))))}return a.toString()}}class ss{add(a,c){return(a+c)%this.modulus}subtract(a,c){return(this.modulus+a-c)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new _;return this.logTable[a]}inverse(a){if(a===0)throw new yt;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class as extends ss{constructor(a,c){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let u=1;for(let h=0;h<a;h++)this.expTable[h]=u,u=u*c%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new kn(this,new Int32Array([0])),this.one=new kn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new _;if(c===0)return this.zero;let u=new Int32Array(a+1);return u[0]=c,new kn(this,u)}}as.PDF417_GF=new as(st.NUMBER_OF_CODEWORDS,3);class os{constructor(){this.field=as.PDF417_GF}decode(a,c,u){let h=new kn(this.field,a),g=new Int32Array(c),x=!1;for(let ce=c;ce>0;ce--){let ue=h.evaluateAt(this.field.exp(ce));g[c-ce]=ue,ue!==0&&(x=!0)}if(!x)return 0;let v=this.field.getOne();if(u!=null)for(const ce of u){let ue=this.field.exp(a.length-1-ce),me=new kn(this.field,new Int32Array([this.field.subtract(0,ue),1]));v=v.multiply(me)}let A=new kn(this.field,g),C=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),A,c),D=C[0],z=C[1],Y=this.findErrorLocations(D),re=this.findErrorMagnitudes(z,D,Y);for(let ce=0;ce<Y.length;ce++){let ue=a.length-1-this.field.log(Y[ce]);if(ue<0)throw N.getChecksumInstance();a[ue]=this.field.subtract(a[ue],re[ce])}return Y.length}runEuclideanAlgorithm(a,c,u){if(a.getDegree()<c.getDegree()){let Y=a;a=c,c=Y}let h=a,g=c,x=this.field.getZero(),v=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let Y=h,re=x;if(h=g,x=v,h.isZero())throw N.getChecksumInstance();g=Y;let ce=this.field.getZero(),ue=h.getCoefficient(h.getDegree()),me=this.field.inverse(ue);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let Ee=g.getDegree()-h.getDegree(),Ve=this.field.multiply(g.getCoefficient(g.getDegree()),me);ce=ce.add(this.field.buildMonomial(Ee,Ve)),g=g.subtract(h.multiplyByMonomial(Ee,Ve))}v=ce.multiply(x).subtract(re).negative()}let A=v.getCoefficient(0);if(A===0)throw N.getChecksumInstance();let C=this.field.inverse(A),D=v.multiply(C),z=g.multiply(C);return[D,z]}findErrorLocations(a){let c=a.getDegree(),u=new Int32Array(c),h=0;for(let g=1;g<this.field.getSize()&&h<c;g++)a.evaluateAt(g)===0&&(u[h]=this.field.inverse(g),h++);if(h!==c)throw N.getChecksumInstance();return u}findErrorMagnitudes(a,c,u){let h=c.getDegree(),g=new Int32Array(h);for(let C=1;C<=h;C++)g[h-C]=this.field.multiply(C,c.getCoefficient(C));let x=new kn(this.field,g),v=u.length,A=new Int32Array(v);for(let C=0;C<v;C++){let D=this.field.inverse(u[C]),z=this.field.subtract(0,a.evaluateAt(D)),Y=this.field.inverse(x.evaluateAt(D));A[C]=this.field.multiply(z,Y)}return A}}class Bi{constructor(a,c,u,h,g){a instanceof Bi?this.constructor_2(a):this.constructor_1(a,c,u,h,g)}constructor_1(a,c,u,h,g){const x=c==null||u==null,v=h==null||g==null;if(x&&v)throw new le;x?(c=new qe(0,h.getY()),u=new qe(0,g.getY())):v&&(h=new qe(a.getWidth()-1,c.getY()),g=new qe(a.getWidth()-1,u.getY())),this.image=a,this.topLeft=c,this.bottomLeft=u,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(c.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(c.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,c){return a==null?c:c==null?a:new Bi(a.image,a.topLeft,a.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(a,c,u){let h=this.topLeft,g=this.bottomLeft,x=this.topRight,v=this.bottomRight;if(a>0){let A=u?this.topLeft:this.topRight,C=Math.trunc(A.getY()-a);C<0&&(C=0);let D=new qe(A.getX(),C);u?h=D:x=D}if(c>0){let A=u?this.bottomLeft:this.bottomRight,C=Math.trunc(A.getY()+c);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let D=new qe(A.getX(),C);u?g=D:v=D}return new Bi(this.image,h,g,x,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ls{constructor(a,c,u,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=c,this.rowCountLowerPart=u,this.rowCount=c+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ni{constructor(){this.buffer=""}static form(a,c){let u=-1;function h(x,v,A,C,D,z){if(x==="%%")return"%";if(c[++u]===void 0)return;x=C?parseInt(C.substr(1)):void 0;let Y=D?parseInt(D.substr(1)):void 0,re;switch(z){case"s":re=c[u];break;case"c":re=c[u][0];break;case"f":re=parseFloat(c[u]).toFixed(x);break;case"p":re=parseFloat(c[u]).toPrecision(x);break;case"e":re=parseFloat(c[u]).toExponential(x);break;case"x":re=parseInt(c[u]).toString(Y||16);break;case"d":re=parseFloat(parseInt(c[u],Y||10).toPrecision(x)).toFixed(0);break}re=typeof re=="object"?JSON.stringify(re):(+re).toString(Y);let ce=parseInt(A),ue=A&&A[0]+""=="0"?"0":" ";for(;re.length<ce;)re=v!==void 0?re+ue:ue+re;return re}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}format(a,...c){this.buffer+=ni.form(a,c)}toString(){return this.buffer}}class As{constructor(a){this.boundingBox=new Bi(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let c=this.getCodeword(a);if(c!=null)return c;for(let u=1;u<As.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(a)-u;if(h>=0&&(c=this.codewords[h],c!=null)||(h=this.imageRowToCodewordIndex(a)+u,h<this.codewords.length&&(c=this.codewords[h],c!=null)))return c}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,c){this.codewords[this.imageRowToCodewordIndex(a)]=c}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ni;let c=0;for(const u of this.codewords){if(u==null){a.format("%3d:    |   %n",c++);continue}a.format("%3d: %3d|%3d%n",c++,u.getRowNumber(),u.getValue())}return a.toString()}}As.MAX_NEARBY_DISTANCE=5;class Hn{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let c=this.values.get(a);c==null&&(c=0),c++,this.values.set(a,c)}getValue(){let a=-1,c=new Array;for(const[u,h]of this.values.entries()){const g={getKey:()=>u,getValue:()=>h};g.getValue()>a?(a=g.getValue(),c=[],c.push(g.getKey())):g.getValue()===a&&c.push(g.getKey())}return st.toIntArray(c)}getConfidence(a){return this.values.get(a)}}class $t extends As{constructor(a,c){super(a),this._isLeft=c}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,a);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),A=-1,C=1,D=0;for(let z=x;z<v;z++){if(c[z]==null)continue;let Y=c[z],re=Y.getRowNumber()-A;if(re===0)D++;else if(re===1)C=Math.max(C,D),D=1,A=Y.getRowNumber();else if(re<0||Y.getRowNumber()>=a.getRowCount()||re>z)c[z]=null;else{let ce;C>2?ce=(C-2)*re:ce=re;let ue=ce>=z;for(let me=1;me<=ce&&!ue;me++)ue=c[z-me]!=null;ue?c[z]=null:(A=Y.getRowNumber(),D=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let c=new Int32Array(a.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=c.length)continue;c[h]++}return c}adjustIncompleteIndicatorColumnRowNumbers(a){let c=this.getBoundingBox(),u=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=this.getCodewords(),A=-1;for(let C=g;C<x;C++){if(v[C]==null)continue;let D=v[C];D.setRowNumberAsRowIndicatorColumn();let z=D.getRowNumber()-A;z===0||(z===1?A=D.getRowNumber():D.getRowNumber()>=a.getRowCount()?v[C]=null:A=D.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),c=new Hn,u=new Hn,h=new Hn,g=new Hn;for(let v of a){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let A=v.getValue()%30,C=v.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:u.setValue(A*3+1);break;case 1:g.setValue(A/3),h.setValue(A%3);break;case 2:c.setValue(A+1);break}}if(c.getValue().length===0||u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||c.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<st.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>st.MAX_ROWS_IN_BARCODE)return null;let x=new ls(c.getValue()[0],u.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(a,x),x}removeIncorrectCodewords(a,c){for(let u=0;u<a.length;u++){let h=a[u];if(a[u]==null)continue;let g=h.getValue()%30,x=h.getRowNumber();if(x>c.getRowCount()){a[u]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:g*3+1!==c.getRowCountUpperPart()&&(a[u]=null);break;case 1:(Math.trunc(g/3)!==c.getErrorCorrectionLevel()||g%3!==c.getRowCountLowerPart())&&(a[u]=null);break;case 2:g+1!==c.getColumnCount()&&(a[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class cs{constructor(a,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=st.MAX_CODEWORDS_IN_BARCODE,c;do c=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let u=this.detectionResultColumns[c].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(c,h,u))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++)if(a[u]!=null&&c[u]!=null&&a[u].getRowNumber()===c[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[u];g!=null&&(g.setRowNumber(a[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let h=c[u].getRowNumber(),g=0;for(let x=this.barcodeColumnCount+1;x>0&&g<this.ADJUST_ROW_NUMBER_SKIP;x--){let v=this.detectionResultColumns[x].getCodewords()[u];v!=null&&(g=cs.adjustRowNumberIfValid(h,g,v),v.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,c=this.detectionResultColumns[0].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let h=c[u].getRowNumber(),g=0;for(let x=1;x<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;x++){let v=this.detectionResultColumns[x].getCodewords()[u];v!=null&&(g=cs.adjustRowNumberIfValid(h,g,v),v.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,c,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(a)?(u.setRowNumber(a),c=0):++c),c}adjustRowNumbers(a,c,u){if(!this.detectionResultColumns[a-1])return;let h=u[c],g=this.detectionResultColumns[a-1].getCodewords(),x=g;this.detectionResultColumns[a+1]!=null&&(x=this.detectionResultColumns[a+1].getCodewords());let v=new Array(14);v[2]=g[c],v[3]=x[c],c>0&&(v[0]=u[c-1],v[4]=g[c-1],v[5]=x[c-1]),c>1&&(v[8]=u[c-2],v[10]=g[c-2],v[11]=x[c-2]),c<u.length-1&&(v[1]=u[c+1],v[6]=g[c+1],v[7]=x[c+1]),c<u.length-2&&(v[9]=u[c+2],v[12]=g[c+2],v[13]=x[c+2]);for(let A of v)if(cs.adjustRowNumber(h,A))return}static adjustRowNumber(a,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===a.getBucket()?(a.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,c){this.detectionResultColumns[a]=c}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new ni;for(let u=0;u<a.getCodewords().length;u++){c.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){c.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[u];if(g==null){c.format("    |   ");continue}c.format(" %3d|%3d",g.getRowNumber(),g.getValue())}c.format("%n")}return c.toString()}}class Vi{constructor(a,c,u,h){this.rowNumber=Vi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(c),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==Vi.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}Vi.BARCODE_ROW_UNKNOWN=-1;class Er{static initialize(){for(let a=0;a<st.SYMBOL_TABLE.length;a++){let c=st.SYMBOL_TABLE[a],u=c&1;for(let h=0;h<st.BARS_IN_MODULE;h++){let g=0;for(;(c&1)===u;)g+=1,c>>=1;u=c&1,Er.RATIOS_TABLE[a]||(Er.RATIOS_TABLE[a]=new Array(st.BARS_IN_MODULE)),Er.RATIOS_TABLE[a][st.BARS_IN_MODULE-h-1]=Math.fround(g/st.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let c=Er.getDecodedCodewordValue(Er.sampleBitCounts(a));return c!==-1?c:Er.getClosestDecodedValue(a)}static sampleBitCounts(a){let c=Et.sum(a),u=new Int32Array(st.BARS_IN_MODULE),h=0,g=0;for(let x=0;x<st.MODULES_IN_CODEWORD;x++){let v=c/(2*st.MODULES_IN_CODEWORD)+x*c/st.MODULES_IN_CODEWORD;g+a[h]<=v&&(g+=a[h],h++),u[h]++}return u}static getDecodedCodewordValue(a){let c=Er.getBitValue(a);return st.getCodeword(c)===-1?-1:c}static getBitValue(a){let c=0;for(let u=0;u<a.length;u++)for(let h=0;h<a[u];h++)c=c<<1|(u%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(a){let c=Et.sum(a),u=new Array(st.BARS_IN_MODULE);if(c>1)for(let x=0;x<u.length;x++)u[x]=Math.fround(a[x]/c);let h=Nr.MAX_VALUE,g=-1;this.bSymbolTableReady||Er.initialize();for(let x=0;x<Er.RATIOS_TABLE.length;x++){let v=0,A=Er.RATIOS_TABLE[x];for(let C=0;C<st.BARS_IN_MODULE;C++){let D=Math.fround(A[C]-u[C]);if(v+=Math.fround(D*D),v>=h)break}v<h&&(h=v,g=st.SYMBOL_TABLE[x])}return g}}Er.bSymbolTableReady=!1,Er.RATIOS_TABLE=new Array(st.SYMBOL_TABLE.length).map(U=>new Array(st.BARS_IN_MODULE));class da{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class ha{static parseLong(a,c=void 0){return parseInt(a,c)}}class Ui extends y{}Ui.kind="NullPointerException";class ga{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,c,u){if(a==null)throw new Ui;if(c<0||c>a.length||u<0||c+u>a.length||c+u<0)throw new q;if(u===0)return;for(let h=0;h<u;h++)this.write(a[c+h])}flush(){}close(){}}class xi extends y{}class Zl extends ga{constructor(a=32){if(super(),this.count=0,a<0)throw new _("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let u=this.buf.length<<1;if(u-a<0&&(u=a),u<0){if(a<0)throw new xi;u=F.MAX_VALUE}this.buf=K.copyOfUint8Array(this.buf,u)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,c,u){if(c<0||c>a.length||u<0||c+u-a.length>0)throw new q;this.ensureCapacity(this.count+u),P.arraycopy(a,c,this.buf,this.count,u),this.count+=u}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return K.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var nn;(function(U){U[U.ALPHA=0]="ALPHA",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.PUNCT=3]="PUNCT",U[U.ALPHA_SHIFT=4]="ALPHA_SHIFT",U[U.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nn||(nn={}));function Bs(){if(typeof window<"u")return window.BigInt||null;if(typeof ph<"u")return ph.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _s;function vi(U){if(typeof _s>"u"&&(_s=Bs()),_s===null)throw new Error("BigInt is not supported!");return _s(U)}function so(){let U=[];U[0]=vi(1);let a=vi(900);U[1]=a;for(let c=2;c<16;c++)U[c]=U[c-1]*a;return U}class Te{static decode(a,c){let u=new H(""),h=O.ISO8859_1;u.enableDecoding(h);let g=1,x=a[g++],v=new da;for(;g<a[0];){switch(x){case Te.TEXT_COMPACTION_MODE_LATCH:g=Te.textCompaction(a,g,u);break;case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:g=Te.byteCompaction(x,a,h,g,u);break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g++]);break;case Te.NUMERIC_COMPACTION_MODE_LATCH:g=Te.numericCompaction(a,g,u);break;case Te.ECI_CHARSET:O.getCharacterSetECIByValue(a[g++]);break;case Te.ECI_GENERAL_PURPOSE:g+=2;break;case Te.ECI_USER_DEFINED:g++;break;case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=Te.decodeMacroBlock(a,g,v);break;case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:throw new V;default:g--,g=Te.textCompaction(a,g,u);break}if(g<a.length)x=a[g++];else throw V.getFormatInstance()}if(u.length()===0)throw V.getFormatInstance();let A=new Ye(null,u.toString(),null,c);return A.setOther(v),A}static decodeMacroBlock(a,c,u){if(c+Te.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw V.getFormatInstance();let h=new Int32Array(Te.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<Te.NUMBER_OF_SEQUENCE_CODEWORDS;v++,c++)h[v]=a[c];u.setSegmentIndex(F.parseInt(Te.decodeBase900toBase10(h,Te.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new H;c=Te.textCompaction(a,c,g),u.setFileId(g.toString());let x=-1;for(a[c]===Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=c+1);c<a[0];)switch(a[c]){case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,a[c]){case Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new H;c=Te.textCompaction(a,c+1,v),u.setFileName(v.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let A=new H;c=Te.textCompaction(a,c+1,A),u.setSender(A.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new H;c=Te.textCompaction(a,c+1,C),u.setAddressee(C.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new H;c=Te.numericCompaction(a,c+1,D),u.setSegmentCount(F.parseInt(D.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new H;c=Te.numericCompaction(a,c+1,z),u.setTimestamp(ha.parseLong(z.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Y=new H;c=Te.numericCompaction(a,c+1,Y),u.setChecksum(F.parseInt(Y.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let re=new H;c=Te.numericCompaction(a,c+1,re),u.setFileSize(ha.parseLong(re.toString()));break;default:throw V.getFormatInstance()}break;case Te.MACRO_PDF417_TERMINATOR:c++,u.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(x!==-1){let v=c-x;u.isLastSegment()&&v--,u.setOptionalData(K.copyOfRange(a,x,x+v))}return c}static textCompaction(a,c,u){let h=new Int32Array((a[0]-c)*2),g=new Int32Array((a[0]-c)*2),x=0,v=!1;for(;c<a[0]&&!v;){let A=a[c++];if(A<Te.TEXT_COMPACTION_MODE_LATCH)h[x]=A/30,h[x+1]=A%30,x+=2;else switch(A){case Te.TEXT_COMPACTION_MODE_LATCH:h[x++]=Te.TEXT_COMPACTION_MODE_LATCH;break;case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:c--,v=!0;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[x]=Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=a[c++],g[x]=A,x++;break}}return Te.decodeTextCompaction(h,g,x,u),c}static decodeTextCompaction(a,c,u,h){let g=nn.ALPHA,x=nn.ALPHA,v=0;for(;v<u;){let A=a[v],C="";switch(g){case nn.ALPHA:if(A<26)C=String.fromCharCode(65+A);else switch(A){case 26:C=" ";break;case Te.LL:g=nn.LOWER;break;case Te.ML:g=nn.MIXED;break;case Te.PS:x=g,g=nn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=nn.ALPHA;break}break;case nn.LOWER:if(A<26)C=String.fromCharCode(97+A);else switch(A){case 26:C=" ";break;case Te.AS:x=g,g=nn.ALPHA_SHIFT;break;case Te.ML:g=nn.MIXED;break;case Te.PS:x=g,g=nn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=nn.ALPHA;break}break;case nn.MIXED:if(A<Te.PL)C=Te.MIXED_CHARS[A];else switch(A){case Te.PL:g=nn.PUNCT;break;case 26:C=" ";break;case Te.LL:g=nn.LOWER;break;case Te.AL:g=nn.ALPHA;break;case Te.PS:x=g,g=nn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=nn.ALPHA;break}break;case nn.PUNCT:if(A<Te.PAL)C=Te.PUNCT_CHARS[A];else switch(A){case Te.PAL:g=nn.ALPHA;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=nn.ALPHA;break}break;case nn.ALPHA_SHIFT:if(g=x,A<26)C=String.fromCharCode(65+A);else switch(A){case 26:C=" ";break;case Te.TEXT_COMPACTION_MODE_LATCH:g=nn.ALPHA;break}break;case nn.PUNCT_SHIFT:if(g=x,A<Te.PAL)C=Te.PUNCT_CHARS[A];else switch(A){case Te.PAL:g=nn.ALPHA;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=nn.ALPHA;break}break}C!==""&&h.append(C),v++}}static byteCompaction(a,c,u,h,g){let x=new Zl,v=0,A=0,C=!1;switch(a){case Te.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),z=c[h++];for(;h<c[0]&&!C;)switch(D[v++]=z,A=900*A+z,z=c[h++],z){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:h--,C=!0;break;default:if(v%5===0&&v>0){for(let Y=0;Y<6;++Y)x.write(Number(vi(A)>>vi(8*(5-Y))));A=0,v=0}break}h===c[0]&&z<Te.TEXT_COMPACTION_MODE_LATCH&&(D[v++]=z);for(let Y=0;Y<v;Y++)x.write(D[Y]);break;case Te.BYTE_COMPACTION_MODE_LATCH_6:for(;h<c[0]&&!C;){let Y=c[h++];if(Y<Te.TEXT_COMPACTION_MODE_LATCH)v++,A=900*A+Y;else switch(Y){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:h--,C=!0;break}if(v%5===0&&v>0){for(let re=0;re<6;++re)x.write(Number(vi(A)>>vi(8*(5-re))));A=0,v=0}}break}return g.append(X.decode(x.toByteArray(),u)),h}static numericCompaction(a,c,u){let h=0,g=!1,x=new Int32Array(Te.MAX_NUMERIC_CODEWORDS);for(;c<a[0]&&!g;){let v=a[c++];if(c===a[0]&&(g=!0),v<Te.TEXT_COMPACTION_MODE_LATCH)x[h]=v,h++;else switch(v){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:c--,g=!0;break}(h%Te.MAX_NUMERIC_CODEWORDS===0||v===Te.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(u.append(Te.decodeBase900toBase10(x,h)),h=0)}return c}static decodeBase900toBase10(a,c){let u=vi(0);for(let g=0;g<c;g++)u+=Te.EXP900[c-g-1]*vi(a[g]);let h=u.toString();if(h.charAt(0)!=="1")throw new V;return h.substring(1)}}Te.TEXT_COMPACTION_MODE_LATCH=900,Te.BYTE_COMPACTION_MODE_LATCH=901,Te.NUMERIC_COMPACTION_MODE_LATCH=902,Te.BYTE_COMPACTION_MODE_LATCH_6=924,Te.ECI_USER_DEFINED=925,Te.ECI_GENERAL_PURPOSE=926,Te.ECI_CHARSET=927,Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Te.MACRO_PDF417_TERMINATOR=922,Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Te.MAX_NUMERIC_CODEWORDS=15,Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Te.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Te.PL=25,Te.LL=27,Te.AS=27,Te.ML=28,Te.AL=28,Te.PS=29,Te.PAL=29,Te.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Te.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Te.EXP900=Bs()?so():[],Te.NUMBER_OF_SEQUENCE_CODEWORDS=2;class xt{constructor(){}static decode(a,c,u,h,g,x,v){let A=new Bi(a,c,u,h,g),C=null,D=null,z;for(let ce=!0;;ce=!1){if(c!=null&&(C=xt.getRowIndicatorColumn(a,A,c,!0,x,v)),h!=null&&(D=xt.getRowIndicatorColumn(a,A,h,!1,x,v)),z=xt.merge(C,D),z==null)throw le.getNotFoundInstance();let ue=z.getBoundingBox();if(ce&&ue!=null&&(ue.getMinY()<A.getMinY()||ue.getMaxY()>A.getMaxY()))A=ue;else break}z.setBoundingBox(A);let Y=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,C),z.setDetectionResultColumn(Y,D);let re=C!=null;for(let ce=1;ce<=Y;ce++){let ue=re?ce:Y-ce;if(z.getDetectionResultColumn(ue)!==void 0)continue;let me;ue===0||ue===Y?me=new $t(A,ue===0):me=new As(A),z.setDetectionResultColumn(ue,me);let Ee=-1,Ve=Ee;for(let Ue=A.getMinY();Ue<=A.getMaxY();Ue++){if(Ee=xt.getStartColumn(z,ue,Ue,re),Ee<0||Ee>A.getMaxX()){if(Ve===-1)continue;Ee=Ve}let Be=xt.detectCodeword(a,A.getMinX(),A.getMaxX(),re,Ee,Ue,x,v);Be!=null&&(me.setCodeword(Ue,Be),Ve=Ee,x=Math.min(x,Be.getWidth()),v=Math.max(v,Be.getWidth()))}}return xt.createDecoderResult(z)}static merge(a,c){if(a==null&&c==null)return null;let u=xt.getBarcodeMetadata(a,c);if(u==null)return null;let h=Bi.merge(xt.adjustBoundingBox(a),xt.adjustBoundingBox(c));return new cs(u,h)}static adjustBoundingBox(a){if(a==null)return null;let c=a.getRowHeights();if(c==null)return null;let u=xt.getMax(c),h=0;for(let v of c)if(h+=u-v,v>0)break;let g=a.getCodewords();for(let v=0;h>0&&g[v]==null;v++)h--;let x=0;for(let v=c.length-1;v>=0&&(x+=u-c[v],!(c[v]>0));v--);for(let v=g.length-1;x>0&&g[v]==null;v--)x--;return a.getBoundingBox().addMissingRows(h,x,a.isLeft())}static getMax(a){let c=-1;for(let u of a)c=Math.max(c,u);return c}static getBarcodeMetadata(a,c){let u;if(a==null||(u=a.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let h;return c==null||(h=c.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(a,c,u,h,g,x){let v=new $t(c,h);for(let A=0;A<2;A++){let C=A===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let z=Math.trunc(Math.trunc(u.getY()));z<=c.getMaxY()&&z>=c.getMinY();z+=C){let Y=xt.detectCodeword(a,0,a.getWidth(),h,D,z,g,x);Y!=null&&(v.setCodeword(z,Y),h?D=Y.getStartX():D=Y.getEndX())}}return v}static adjustCodewordCount(a,c){let u=c[0][1],h=u.getValue(),g=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-xt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(g<1||g>st.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();u.setValue(g)}else h[0]!==g&&u.setValue(g)}static createDecoderResult(a){let c=xt.createBarcodeMatrix(a);xt.adjustCodewordCount(a,c);let u=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),g=[],x=new Array;for(let A=0;A<a.getBarcodeRowCount();A++)for(let C=0;C<a.getBarcodeColumnCount();C++){let D=c[A][C+1].getValue(),z=A*a.getBarcodeColumnCount()+C;D.length===0?u.push(z):D.length===1?h[z]=D[0]:(x.push(z),g.push(D))}let v=new Array(g.length);for(let A=0;A<v.length;A++)v[A]=g[A];return xt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,st.toIntArray(u),st.toIntArray(x),v)}static createDecoderResultFromAmbiguousValues(a,c,u,h,g){let x=new Int32Array(h.length),v=100;for(;v-- >0;){for(let A=0;A<x.length;A++)c[h[A]]=g[A][x[A]];try{return xt.decodeCodewords(c,a,u)}catch(A){if(!(A instanceof N))throw A}if(x.length===0)throw N.getChecksumInstance();for(let A=0;A<x.length;A++)if(x[A]<g[A].length-1){x[A]++;break}else if(x[A]=0,A===x.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(a){let c=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<c.length;h++)for(let g=0;g<c[h].length;g++)c[h][g]=new Hn;let u=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let x=g.getRowNumber();if(x>=0){if(x>=c.length)continue;c[x][u].setValue(g.getValue())}}}u++}return c}static isValidBarcodeColumn(a,c){return c>=0&&c<=a.getBarcodeColumnCount()+1}static getStartColumn(a,c,u,h){let g=h?1:-1,x=null;if(xt.isValidBarcodeColumn(a,c-g)&&(x=a.getDetectionResultColumn(c-g).getCodeword(u)),x!=null)return h?x.getEndX():x.getStartX();if(x=a.getDetectionResultColumn(c).getCodewordNearby(u),x!=null)return h?x.getStartX():x.getEndX();if(xt.isValidBarcodeColumn(a,c-g)&&(x=a.getDetectionResultColumn(c-g).getCodewordNearby(u)),x!=null)return h?x.getEndX():x.getStartX();let v=0;for(;xt.isValidBarcodeColumn(a,c-g);){c-=g;for(let A of a.getDetectionResultColumn(c).getCodewords())if(A!=null)return(h?A.getEndX():A.getStartX())+g*v*(A.getEndX()-A.getStartX());v++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,c,u,h,g,x,v,A){g=xt.adjustCodewordStartColumn(a,c,u,h,g,x);let C=xt.getModuleBitCount(a,c,u,h,g,x);if(C==null)return null;let D,z=Et.sum(C);if(h)D=g+z;else{for(let ce=0;ce<C.length/2;ce++){let ue=C[ce];C[ce]=C[C.length-1-ce],C[C.length-1-ce]=ue}D=g,g=D-z}if(!xt.checkCodewordSkew(z,v,A))return null;let Y=Er.getDecodedValue(C),re=st.getCodeword(Y);return re===-1?null:new Vi(g,D,xt.getCodewordBucketNumber(Y),re)}static getModuleBitCount(a,c,u,h,g,x){let v=g,A=new Int32Array(8),C=0,D=h?1:-1,z=h;for(;(h?v<u:v>=c)&&C<A.length;)a.get(v,x)===z?(A[C]++,v+=D):(C++,z=!z);return C===A.length||v===(h?u:c)&&C===A.length-1?A:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,c,u,h,g,x){let v=g,A=h?-1:1;for(let C=0;C<2;C++){for(;(h?v>=c:v<u)&&h===a.get(v,x);){if(Math.abs(g-v)>xt.CODEWORD_SKEW_SIZE)return g;v+=A}A=-A,h=!h}return v}static checkCodewordSkew(a,c,u){return c-xt.CODEWORD_SKEW_SIZE<=a&&a<=u+xt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,c,u){if(a.length===0)throw V.getFormatInstance();let h=1<<c+1,g=xt.correctErrors(a,u,h);xt.verifyCodewordCount(a,h);let x=Te.decode(a,""+c);return x.setErrorsCorrected(g),x.setErasures(u.length),x}static correctErrors(a,c,u){if(c!=null&&c.length>u/2+xt.MAX_ERRORS||u<0||u>xt.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return xt.errorCorrection.decode(a,u,c)}static verifyCodewordCount(a,c){if(a.length<4)throw V.getFormatInstance();let u=a[0];if(u>a.length)throw V.getFormatInstance();if(u===0)if(c<a.length)a[0]=a.length-c;else throw V.getFormatInstance()}static getBitCountForCodeword(a){let c=new Int32Array(8),u=0,h=c.length-1;for(;!((a&1)!==u&&(u=a&1,h--,h<0));)c[h]++,a>>=1;return c}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return xt.getCodewordBucketNumber(xt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let c=new ni;for(let u=0;u<a.length;u++){c.format("Row %2d: ",u);for(let h=0;h<a[u].length;h++){let g=a[u][h];g.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}c.format("%n")}return c.toString()}}xt.CODEWORD_SKEW_SIZE=2,xt.MAX_ERRORS=3,xt.MAX_EC_CODEWORDS=512,xt.errorCorrection=new os;class cr{decode(a,c=null){let u=cr.decode(a,c,!1);if(u==null||u.length===0||u[0]==null)throw le.getNotFoundInstance();return u[0]}decodeMultiple(a,c=null){try{return cr.decode(a,c,!0)}catch(u){throw u instanceof V||u instanceof N?le.getNotFoundInstance():u}}static decode(a,c,u){const h=new Array,g=ut.detectMultiple(a,c,u);for(const x of g.getPoints()){const v=xt.decode(g.getBits(),x[4],x[5],x[6],x[7],cr.getMinCodewordWidth(x),cr.getMaxCodewordWidth(x)),A=new Ge(v.getText(),v.getRawBytes(),void 0,x,Ce.PDF_417);A.putMetadata(He.ERROR_CORRECTION_LEVEL,v.getECLevel());const C=v.getOther();C!=null&&A.putMetadata(He.PDF417_EXTRA_METADATA,C),h.push(A)}return h.map(x=>x)}static getMaxWidth(a,c){return a==null||c==null?0:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMinWidth(a,c){return a==null||c==null?F.MAX_VALUE:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(cr.getMaxWidth(a[0],a[4]),cr.getMaxWidth(a[6],a[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.max(cr.getMaxWidth(a[1],a[5]),cr.getMaxWidth(a[7],a[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(cr.getMinWidth(a[0],a[4]),cr.getMinWidth(a[6],a[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.min(cr.getMinWidth(a[1],a[5]),cr.getMinWidth(a[7],a[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}reset(){}}class Vs extends y{}Vs.kind="ReaderException";class Us{constructor(a,c){this.verbose=a===!0,c&&this.setHints(c)}decode(a,c){return c&&this.setHints(c),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const c=!r(a)&&a.get(se.TRY_HARDER)===!0,u=r(a)?null:a.get(se.POSSIBLE_FORMATS),h=new Array;if(!r(u)){const g=u.some(x=>x===Ce.UPC_A||x===Ce.UPC_E||x===Ce.EAN_13||x===Ce.EAN_8||x===Ce.CODABAR||x===Ce.CODE_39||x===Ce.CODE_93||x===Ce.CODE_128||x===Ce.ITF||x===Ce.RSS_14||x===Ce.RSS_EXPANDED);g&&!c&&h.push(new wi(a,this.verbose)),u.includes(Ce.QR_CODE)&&h.push(new Pi),u.includes(Ce.DATA_MATRIX)&&h.push(new ei),u.includes(Ce.AZTEC)&&h.push(new Za),u.includes(Ce.PDF_417)&&h.push(new cr),g&&c&&h.push(new wi(a,this.verbose))}h.length===0&&(c||h.push(new wi(a,this.verbose)),h.push(new Pi),h.push(new ei),h.push(new Za),h.push(new cr),c&&h.push(new wi(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new Vs("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(a,this.hints)}catch(u){if(u instanceof Vs)continue}throw new le("No MultiFormat Readers were able to detect the code.")}}class $l extends Oe{constructor(a=null,c=500){const u=new Us;u.setHints(a),super(u,c)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Jl extends Oe{constructor(a=500){super(new cr,a)}}class fl extends Oe{constructor(a=500){super(new Pi,a)}}var Ss;(function(U){U[U.ERROR_CORRECTION=0]="ERROR_CORRECTION",U[U.CHARACTER_SET=1]="CHARACTER_SET",U[U.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",U[U.MIN_SIZE=3]="MIN_SIZE",U[U.MAX_SIZE=4]="MAX_SIZE",U[U.MARGIN=5]="MARGIN",U[U.PDF417_COMPACT=6]="PDF417_COMPACT",U[U.PDF417_COMPACTION=7]="PDF417_COMPACTION",U[U.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",U[U.AZTEC_LAYERS=9]="AZTEC_LAYERS",U[U.QR_VERSION=10]="QR_VERSION"})(Ss||(Ss={}));var Gn=Ss;class Fs{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new et(a,Int32Array.from([1])))}buildGenerator(a){const c=this.cachedGenerators;if(a>=c.length){let u=c[c.length-1];const h=this.field;for(let g=c.length;g<=a;g++){const x=u.multiply(new et(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));c.push(x),u=x}}return c[a]}encode(a,c){if(c===0)throw new _("No error correction bytes");const u=a.length-c;if(u<=0)throw new _("No data bytes provided");const h=this.buildGenerator(c),g=new Int32Array(u);P.arraycopy(a,0,g,0,u);let x=new et(this.field,g);x=x.multiplyByMonomial(c,1);const A=x.divide(h)[1].getCoefficients(),C=c-A.length;for(let D=0;D<C;D++)a[u+D]=0;P.arraycopy(A,0,a,u+C,A.length)}}class Sn{constructor(){}static applyMaskPenaltyRule1(a){return Sn.applyMaskPenaltyRule1Internal(a,!0)+Sn.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let x=0;x<g-1;x++){const v=u[x];for(let A=0;A<h-1;A++){const C=v[A];C===v[A+1]&&C===u[x+1][A]&&C===u[x+1][A+1]&&c++}}return Sn.N2*c}static applyMaskPenaltyRule3(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let x=0;x<g;x++)for(let v=0;v<h;v++){const A=u[x];v+6<h&&A[v]===1&&A[v+1]===0&&A[v+2]===1&&A[v+3]===1&&A[v+4]===1&&A[v+5]===0&&A[v+6]===1&&(Sn.isWhiteHorizontal(A,v-4,v)||Sn.isWhiteHorizontal(A,v+7,v+11))&&c++,x+6<g&&u[x][v]===1&&u[x+1][v]===0&&u[x+2][v]===1&&u[x+3][v]===1&&u[x+4][v]===1&&u[x+5][v]===0&&u[x+6][v]===1&&(Sn.isWhiteVertical(u,v,x-4,x)||Sn.isWhiteVertical(u,v,x+7,x+11))&&c++}return c*Sn.N3}static isWhiteHorizontal(a,c,u){c=Math.max(c,0),u=Math.min(u,a.length);for(let h=c;h<u;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,c,u,h){u=Math.max(u,0),h=Math.min(h,a.length);for(let g=u;g<h;g++)if(a[g][c]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let A=0;A<g;A++){const C=u[A];for(let D=0;D<h;D++)C[D]===1&&c++}const x=a.getHeight()*a.getWidth();return Math.floor(Math.abs(c*2-x)*10/x)*Sn.N4}static getDataMaskBit(a,c,u){let h,g;switch(a){case 0:h=u+c&1;break;case 1:h=u&1;break;case 2:h=c%3;break;case 3:h=(u+c)%3;break;case 4:h=Math.floor(u/2)+Math.floor(c/3)&1;break;case 5:g=u*c,h=(g&1)+g%3;break;case 6:g=u*c,h=(g&1)+g%3&1;break;case 7:g=u*c,h=g%3+(u+c&1)&1;break;default:throw new _("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,c){let u=0;const h=c?a.getHeight():a.getWidth(),g=c?a.getWidth():a.getHeight(),x=a.getArray();for(let v=0;v<h;v++){let A=0,C=-1;for(let D=0;D<g;D++){const z=c?x[v][D]:x[D][v];z===C?A++:(A>=5&&(u+=Sn.N1+(A-5)),A=1,C=z)}A>=5&&(u+=Sn.N1+(A-5))}return u}}Sn.N1=3,Sn.N2=3,Sn.N3=40,Sn.N4=10;class zs{constructor(a,c){this.width=a,this.height=c;const u=new Array(c);for(let h=0;h!==c;h++)u[h]=new Uint8Array(a);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(a,c){return this.bytes[c][a]}getArray(){return this.bytes}setNumber(a,c,u){this.bytes[c][a]=u}setBoolean(a,c,u){this.bytes[c][a]=u?1:0}clear(a){for(const c of this.bytes)K.fill(c,a)}equals(a){if(!(a instanceof zs))return!1;const c=a;if(this.width!==c.width||this.height!==c.height)return!1;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u],x=c.bytes[u];for(let v=0,A=this.width;v<A;++v)if(g[v]!==x[v])return!1}return!0}toString(){const a=new H;for(let c=0,u=this.height;c<u;++c){const h=this.bytes[c];for(let g=0,x=this.width;g<x;++g)switch(h[g]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class Hr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new H;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<Hr.NUM_MASK_PATTERNS}}Hr.NUM_MASK_PATTERNS=8;class rn extends y{}rn.kind="WriterException";class ot{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,c,u,h,g){ot.clearMatrix(g),ot.embedBasicPatterns(u,g),ot.embedTypeInfo(c,h,g),ot.maybeEmbedVersionInfo(u,g),ot.embedDataBits(a,h,g)}static embedBasicPatterns(a,c){ot.embedPositionDetectionPatternsAndSeparators(c),ot.embedDarkDotAtLeftBottomCorner(c),ot.maybeEmbedPositionAdjustmentPatterns(a,c),ot.embedTimingPatterns(c)}static embedTypeInfo(a,c,u){const h=new $;ot.makeTypeInfoBits(a,c,h);for(let g=0,x=h.getSize();g<x;++g){const v=h.get(h.getSize()-1-g),A=ot.TYPE_INFO_COORDINATES[g],C=A[0],D=A[1];if(u.setBoolean(C,D,v),g<8){const z=u.getWidth()-g-1;u.setBoolean(z,8,v)}else{const Y=u.getHeight()-7+(g-8);u.setBoolean(8,Y,v)}}}static maybeEmbedVersionInfo(a,c){if(a.getVersionNumber()<7)return;const u=new $;ot.makeVersionInfoBits(a,u);let h=6*3-1;for(let g=0;g<6;++g)for(let x=0;x<3;++x){const v=u.get(h);h--,c.setBoolean(g,c.getHeight()-11+x,v),c.setBoolean(c.getHeight()-11+x,g,v)}}static embedDataBits(a,c,u){let h=0,g=-1,x=u.getWidth()-1,v=u.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);v>=0&&v<u.getHeight();){for(let A=0;A<2;++A){const C=x-A;if(!ot.isEmpty(u.get(C,v)))continue;let D;h<a.getSize()?(D=a.get(h),++h):D=!1,c!==255&&Sn.getDataMaskBit(c,C,v)&&(D=!D),u.setBoolean(C,v,D)}v+=g}g=-g,v+=g,x-=2}if(h!==a.getSize())throw new rn("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-F.numberOfLeadingZeros(a)}static calculateBCHCode(a,c){if(c===0)throw new _("0 polynomial");const u=ot.findMSBSet(c);for(a<<=u-1;ot.findMSBSet(a)>=u;)a^=c<<ot.findMSBSet(a)-u;return a}static makeTypeInfoBits(a,c,u){if(!Hr.isValidMaskPattern(c))throw new rn("Invalid mask pattern");const h=a.getBits()<<3|c;u.appendBits(h,5);const g=ot.calculateBCHCode(h,ot.TYPE_INFO_POLY);u.appendBits(g,10);const x=new $;if(x.appendBits(ot.TYPE_INFO_MASK_PATTERN,15),u.xor(x),u.getSize()!==15)throw new rn("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(a,c){c.appendBits(a.getVersionNumber(),6);const u=ot.calculateBCHCode(a.getVersionNumber(),ot.VERSION_INFO_POLY);if(c.appendBits(u,12),c.getSize()!==18)throw new rn("should not happen but we got: "+c.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let c=8;c<a.getWidth()-8;++c){const u=(c+1)%2;ot.isEmpty(a.get(c,6))&&a.setNumber(c,6,u),ot.isEmpty(a.get(6,c))&&a.setNumber(6,c,u)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new rn;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,c,u){for(let h=0;h<8;++h){if(!ot.isEmpty(u.get(a+h,c)))throw new rn;u.setNumber(a+h,c,0)}}static embedVerticalSeparationPattern(a,c,u){for(let h=0;h<7;++h){if(!ot.isEmpty(u.get(a,c+h)))throw new rn;u.setNumber(a,c+h,0)}}static embedPositionAdjustmentPattern(a,c,u){for(let h=0;h<5;++h){const g=ot.POSITION_ADJUSTMENT_PATTERN[h];for(let x=0;x<5;++x)u.setNumber(a+x,c+h,g[x])}}static embedPositionDetectionPattern(a,c,u){for(let h=0;h<7;++h){const g=ot.POSITION_DETECTION_PATTERN[h];for(let x=0;x<7;++x)u.setNumber(a+x,c+h,g[x])}}static embedPositionDetectionPatternsAndSeparators(a){const c=ot.POSITION_DETECTION_PATTERN[0].length;ot.embedPositionDetectionPattern(0,0,a),ot.embedPositionDetectionPattern(a.getWidth()-c,0,a),ot.embedPositionDetectionPattern(0,a.getWidth()-c,a);const u=8;ot.embedHorizontalSeparationPattern(0,u-1,a),ot.embedHorizontalSeparationPattern(a.getWidth()-u,u-1,a),ot.embedHorizontalSeparationPattern(0,a.getWidth()-u,a);const h=7;ot.embedVerticalSeparationPattern(h,0,a),ot.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),ot.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,c){if(a.getVersionNumber()<2)return;const u=a.getVersionNumber()-1,h=ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,x=h.length;g!==x;g++){const v=h[g];if(v>=0)for(let A=0;A!==x;A++){const C=h[A];C>=0&&ot.isEmpty(c.get(C,v))&&ot.embedPositionAdjustmentPattern(C-2,v-2,c)}}}}ot.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ot.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ot.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ot.VERSION_INFO_POLY=7973,ot.TYPE_INFO_POLY=1335,ot.TYPE_INFO_MASK_PATTERN=21522;class ec{constructor(a,c){this.dataBytes=a,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class un{constructor(){}static calculateMaskPenalty(a){return Sn.applyMaskPenaltyRule1(a)+Sn.applyMaskPenaltyRule2(a)+Sn.applyMaskPenaltyRule3(a)+Sn.applyMaskPenaltyRule4(a)}static encode(a,c,u=null){let h=un.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(Gn.CHARACTER_SET)!==void 0;g&&(h=u.get(Gn.CHARACTER_SET).toString());const x=this.chooseMode(a,h),v=new $;if(x===rt.BYTE&&(g||un.DEFAULT_BYTE_MODE_ENCODING!==h)){const Ue=O.getCharacterSetECIByName(h);Ue!==void 0&&this.appendECI(Ue,v)}this.appendModeInfo(x,v);const A=new $;this.appendBytes(a,x,A,h);let C;if(u!==null&&u.get(Gn.QR_VERSION)!==void 0){const Ue=Number.parseInt(u.get(Gn.QR_VERSION).toString(),10);C=je.getVersionForNumber(Ue);const Be=this.calculateBitsNeeded(x,v,A,C);if(!this.willFit(Be,C,c))throw new rn("Data too big for requested version")}else C=this.recommendVersion(c,x,v,A);const D=new $;D.appendBitArray(v);const z=x===rt.BYTE?A.getSizeInBytes():a.length;this.appendLengthInfo(z,C,x,D),D.appendBitArray(A);const Y=C.getECBlocksForLevel(c),re=C.getTotalCodewords()-Y.getTotalECCodewords();this.terminateBits(re,D);const ce=this.interleaveWithECBytes(D,C.getTotalCodewords(),re,Y.getNumBlocks()),ue=new Hr;ue.setECLevel(c),ue.setMode(x),ue.setVersion(C);const me=C.getDimensionForVersion(),Ee=new zs(me,me),Ve=this.chooseMaskPattern(ce,c,C,Ee);return ue.setMaskPattern(Ve),ot.buildMatrix(ce,c,C,Ve,Ee),ue.setMatrix(Ee),ue}static recommendVersion(a,c,u,h){const g=this.calculateBitsNeeded(c,u,h,je.getVersionForNumber(1)),x=this.chooseVersion(g,a),v=this.calculateBitsNeeded(c,u,h,x);return this.chooseVersion(v,a)}static calculateBitsNeeded(a,c,u,h){return c.getSize()+a.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(a){return a<un.ALPHANUMERIC_TABLE.length?un.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,c=null){if(O.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(a))return rt.KANJI;let u=!1,h=!1;for(let g=0,x=a.length;g<x;++g){const v=a.charAt(g);if(un.isDigit(v))u=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)h=!0;else return rt.BYTE}return h?rt.ALPHANUMERIC:u?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(a){let c;try{c=X.encode(a,O.SJIS)}catch{return!1}const u=c.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const g=c[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(a,c,u,h){let g=Number.MAX_SAFE_INTEGER,x=-1;for(let v=0;v<Hr.NUM_MASK_PATTERNS;v++){ot.buildMatrix(a,c,u,v,h);let A=this.calculateMaskPenalty(h);A<g&&(g=A,x=v)}return x}static chooseVersion(a,c){for(let u=1;u<=40;u++){const h=je.getVersionForNumber(u);if(un.willFit(a,h,c))return h}throw new rn("Data too big")}static willFit(a,c,u){const h=c.getTotalCodewords(),x=c.getECBlocksForLevel(u).getTotalECCodewords(),v=h-x,A=(a+7)/8;return v>=A}static terminateBits(a,c){const u=a*8;if(c.getSize()>u)throw new rn("data bits cannot fit in the QR Code"+c.getSize()+" > "+u);for(let x=0;x<4&&c.getSize()<u;++x)c.appendBit(!1);const h=c.getSize()&7;if(h>0)for(let x=h;x<8;x++)c.appendBit(!1);const g=a-c.getSizeInBytes();for(let x=0;x<g;++x)c.appendBits((x&1)===0?236:17,8);if(c.getSize()!==u)throw new rn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,c,u,h,g,x){if(h>=u)throw new rn("Block ID too large");const v=a%u,A=u-v,C=Math.floor(a/u),D=C+1,z=Math.floor(c/u),Y=z+1,re=C-z,ce=D-Y;if(re!==ce)throw new rn("EC bytes mismatch");if(u!==A+v)throw new rn("RS blocks mismatch");if(a!==(z+re)*A+(Y+ce)*v)throw new rn("Total bytes mismatch");h<A?(g[0]=z,x[0]=re):(g[0]=Y,x[0]=ce)}static interleaveWithECBytes(a,c,u,h){if(a.getSizeInBytes()!==u)throw new rn("Number of bits and data bytes does not match");let g=0,x=0,v=0;const A=new Array;for(let D=0;D<h;++D){const z=new Int32Array(1),Y=new Int32Array(1);un.getNumDataBytesAndNumECBytesForBlockID(c,u,h,D,z,Y);const re=z[0],ce=new Uint8Array(re);a.toBytes(8*g,ce,0,re);const ue=un.generateECBytes(ce,Y[0]);A.push(new ec(ce,ue)),x=Math.max(x,re),v=Math.max(v,ue.length),g+=z[0]}if(u!==g)throw new rn("Data bytes does not match offset");const C=new $;for(let D=0;D<x;++D)for(const z of A){const Y=z.getDataBytes();D<Y.length&&C.appendBits(Y[D],8)}for(let D=0;D<v;++D)for(const z of A){const Y=z.getErrorCorrectionBytes();D<Y.length&&C.appendBits(Y[D],8)}if(c!==C.getSizeInBytes())throw new rn("Interleaving error: "+c+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(a,c){const u=a.length,h=new Int32Array(u+c);for(let x=0;x<u;x++)h[x]=a[x]&255;new Fs(nt.QR_CODE_FIELD_256).encode(h,c);const g=new Uint8Array(c);for(let x=0;x<c;x++)g[x]=h[u+x];return g}static appendModeInfo(a,c){c.appendBits(a.getBits(),4)}static appendLengthInfo(a,c,u,h){const g=u.getCharacterCountBits(c);if(a>=1<<g)throw new rn(a+" is bigger than "+((1<<g)-1));h.appendBits(a,g)}static appendBytes(a,c,u,h){switch(c){case rt.NUMERIC:un.appendNumericBytes(a,u);break;case rt.ALPHANUMERIC:un.appendAlphanumericBytes(a,u);break;case rt.BYTE:un.append8BitBytes(a,u,h);break;case rt.KANJI:un.appendKanjiBytes(a,u);break;default:throw new rn("Invalid mode: "+c)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const c=un.getDigit(a);return c>=0&&c<=9}static appendNumericBytes(a,c){const u=a.length;let h=0;for(;h<u;){const g=un.getDigit(a.charAt(h));if(h+2<u){const x=un.getDigit(a.charAt(h+1)),v=un.getDigit(a.charAt(h+2));c.appendBits(g*100+x*10+v,10),h+=3}else if(h+1<u){const x=un.getDigit(a.charAt(h+1));c.appendBits(g*10+x,7),h+=2}else c.appendBits(g,4),h++}}static appendAlphanumericBytes(a,c){const u=a.length;let h=0;for(;h<u;){const g=un.getAlphanumericCode(a.charCodeAt(h));if(g===-1)throw new rn;if(h+1<u){const x=un.getAlphanumericCode(a.charCodeAt(h+1));if(x===-1)throw new rn;c.appendBits(g*45+x,11),h+=2}else c.appendBits(g,6),h++}}static append8BitBytes(a,c,u){let h;try{h=X.encode(a,u)}catch(g){throw new rn(g)}for(let g=0,x=h.length;g!==x;g++){const v=h[g];c.appendBits(v,8)}}static appendKanjiBytes(a,c){let u;try{u=X.encode(a,O.SJIS)}catch(g){throw new rn(g)}const h=u.length;for(let g=0;g<h;g+=2){const x=u[g]&255,v=u[g+1]&255,A=x<<8&4294967295|v;let C=-1;if(A>=33088&&A<=40956?C=A-33088:A>=57408&&A<=60351&&(C=A-49472),C===-1)throw new rn("Invalid byte sequence");const D=(C>>8)*192+(C&255);c.appendBits(D,13)}}static appendECI(a,c){c.appendBits(rt.ECI.getBits(),4),c.appendBits(a.getValue(),8)}}un.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),un.DEFAULT_BYTE_MODE_ENCODING=O.UTF8.getName();class bi{write(a,c,u,h=null){if(a.length===0)throw new _("Found empty contents");if(c<0||u<0)throw new _("Requested dimensions are too small: "+c+"x"+u);let g=Mt.L,x=bi.QUIET_ZONE_SIZE;h!==null&&(h.get(Gn.ERROR_CORRECTION)!==void 0&&(g=Mt.fromString(h.get(Gn.ERROR_CORRECTION).toString())),h.get(Gn.MARGIN)!==void 0&&(x=Number.parseInt(h.get(Gn.MARGIN).toString(),10)));const v=un.encode(a,g,h);return this.renderResult(v,c,u,x)}writeToDom(a,c,u,h,g=null){typeof a=="string"&&(a=document.querySelector(a));const x=this.write(c,u,h,g);a&&a.appendChild(x)}renderResult(a,c,u,h){const g=a.getMatrix();if(g===null)throw new kt;const x=g.getWidth(),v=g.getHeight(),A=x+h*2,C=v+h*2,D=Math.max(c,A),z=Math.max(u,C),Y=Math.min(Math.floor(D/A),Math.floor(z/C)),re=Math.floor((D-x*Y)/2),ce=Math.floor((z-v*Y)/2),ue=this.createSVGElement(D,z);for(let me=0,Ee=ce;me<v;me++,Ee+=Y)for(let Ve=0,Ue=re;Ve<x;Ve++,Ue+=Y)if(g.get(Ve,me)===1){const Be=this.createSvgRectElement(Ue,Ee,Y,Y);ue.appendChild(Be)}return ue}createSVGElement(a,c){const u=document.createElementNS(bi.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u}createSvgRectElement(a,c,u,h){const g=document.createElementNS(bi.SVG_NS,"rect");return g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",c.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}bi.QUIET_ZONE_SIZE=4,bi.SVG_NS="http://www.w3.org/2000/svg";class tr{encode(a,c,u,h,g){if(a.length===0)throw new _("Found empty contents");if(c!==Ce.QR_CODE)throw new _("Can only encode QR_CODE, but got "+c);if(u<0||h<0)throw new _(`Requested dimensions are too small: ${u}x${h}`);let x=Mt.L,v=tr.QUIET_ZONE_SIZE;g!==null&&(g.get(Gn.ERROR_CORRECTION)!==void 0&&(x=Mt.fromString(g.get(Gn.ERROR_CORRECTION).toString())),g.get(Gn.MARGIN)!==void 0&&(v=Number.parseInt(g.get(Gn.MARGIN).toString(),10)));const A=un.encode(a,x,g);return tr.renderResult(A,u,h,v)}static renderResult(a,c,u,h){const g=a.getMatrix();if(g===null)throw new kt;const x=g.getWidth(),v=g.getHeight(),A=x+h*2,C=v+h*2,D=Math.max(c,A),z=Math.max(u,C),Y=Math.min(Math.floor(D/A),Math.floor(z/C)),re=Math.floor((D-x*Y)/2),ce=Math.floor((z-v*Y)/2),ue=new _e(D,z);for(let me=0,Ee=ce;me<v;me++,Ee+=Y)for(let Ve=0,Ue=re;Ve<x;Ve++,Ue+=Y)g.get(Ve,me)===1&&ue.setRegion(Ue,Ee,Y,Y);return ue}}tr.QUIET_ZONE_SIZE=4;class tc{encode(a,c,u,h,g){let x;switch(c){case Ce.QR_CODE:x=new tr;break;default:throw new _("No encoder available for format "+c)}return x.encode(a,c,u,h,g)}}class gi extends be{constructor(a,c,u,h,g,x,v,A){if(super(x,v),this.yuvData=a,this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=g,h+x>c||g+v>u)throw new _("Crop rectangle does not fit within image data.");A&&this.reverseHorizontal(x,v)}getRow(a,c){if(a<0||a>=this.getHeight())throw new _("Requested row is outside the image: "+a);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,h,c,0,u),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.yuvData;const u=a*c,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return P.arraycopy(this.yuvData,g,h,0,u),h;for(let x=0;x<c;x++){const v=x*a;P.arraycopy(this.yuvData,g,h,v,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,c,u,h){return new gi(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+c,u,h,!1)}renderThumbnail(){const a=this.getWidth()/gi.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/gi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*c),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let x=0;x<c;x++){const v=x*a;for(let A=0;A<a;A++){const C=h[g+A*gi.THUMBNAIL_SCALE_FACTOR]&255;u[v+A]=4278190080|C*65793}g+=this.dataWidth*gi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/gi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,c){const u=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<c;h++,g+=this.dataWidth){const x=g+a/2;for(let v=g,A=g+a-1;v<x;v++,A--){const C=u[v];u[v]=u[A],u[A]=C}}}invert(){return new Re(this)}}gi.THUMBNAIL_SCALE_FACTOR=2;class Ei extends be{constructor(a,c,u,h,g,x,v){if(super(c,u),this.dataWidth=h,this.dataHeight=g,this.left=x,this.top=v,a.BYTES_PER_ELEMENT===4){const A=c*u,C=new Uint8ClampedArray(A);for(let D=0;D<A;D++){const z=a[D],Y=z>>16&255,re=z>>7&510,ce=z&255;C[D]=(Y+re+ce)/4&255}this.luminances=C}else this.luminances=a;if(h===void 0&&(this.dataWidth=c),g===void 0&&(this.dataHeight=u),x===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+u>this.dataHeight)throw new _("Crop rectangle does not fit within image data.")}getRow(a,c){if(a<0||a>=this.getHeight())throw new _("Requested row is outside the image: "+a);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,h,c,0,u),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.luminances;const u=a*c,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return P.arraycopy(this.luminances,g,h,0,u),h;for(let x=0;x<c;x++){const v=x*a;P.arraycopy(this.luminances,g,h,v,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,c,u,h){return new Ei(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+a,this.top+c)}invert(){return new Re(this)}}class b extends O{static forName(a){return this.getCharacterSetECIByName(a)}}class R{}R.ISO_8859_1=O.ISO8859_1;class k{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class J{static singletonList(a){return[a]}static min(a,c){return a.sort(c)[0]}}class pe{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Se extends pe{constructor(a,c,u){super(a),this.value=c,this.bitCount=u}appendTo(a,c){a.appendBits(this.value,this.bitCount)}add(a,c){return new Se(this,a,c)}addBinaryShift(a,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Se(this,a,c)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+F.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class ze extends Se{constructor(a,c,u){super(a,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=u}appendTo(a,c){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):u===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(c[this.binaryShiftStart+u],8)}addBinaryShift(a,c){return new ze(this,a,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ft(U,a,c){return new ze(U,a,c)}function Pn(U,a,c){return new Se(U,a,c)}const zt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Cn=0,qn=1,nr=2,mr=3,ur=4,dl=new Se(null,0,0),ao=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function gd(U){for(let a of U)K.fill(a,-1);return U[Cn][ur]=0,U[qn][ur]=0,U[qn][Cn]=28,U[mr][ur]=0,U[nr][ur]=0,U[nr][Cn]=15,U}const _u=gd(K.createInt32Array(6,6));class Ti{constructor(a,c,u,h){this.token=a,this.mode=c,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,c){let u=this.bitCount,h=this.token;if(a!==this.mode){let x=ao[this.mode][a];h=Pn(h,x&65535,x>>16),u+=x>>16}let g=a===nr?4:5;return h=Pn(h,c,g),new Ti(h,a,0,u+g)}shiftAndAppend(a,c){let u=this.token,h=this.mode===nr?4:5;return u=Pn(u,_u[this.mode][a],h),u=Pn(u,c,5),new Ti(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let c=this.token,u=this.mode,h=this.bitCount;if(this.mode===ur||this.mode===nr){let v=ao[u][Cn];c=Pn(c,v&65535,v>>16),h+=v>>16,u=Cn}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new Ti(c,u,this.binaryShiftByteCount+1,h+g);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(a+1)),x}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Ft(c,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ti(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let c=this.bitCount+(ao[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?c+=Ti.calculateBinaryShiftCost(a)-Ti.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(c+=10),c<=a.bitCount}toBitArray(a){let c=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())c.unshift(h);let u=new $;for(const h of c)h.appendTo(u,a);return u}toString(){return G.format("%s bits=%d bytes=%d",zt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Ti.INITIAL_STATE=new Ti(dl,Cn,0,0);function Su(U){const a=G.getCharCode(" "),c=G.getCharCode("."),u=G.getCharCode(",");U[Cn][a]=1;const h=G.getCharCode("Z"),g=G.getCharCode("A");for(let Y=g;Y<=h;Y++)U[Cn][Y]=Y-g+2;U[qn][a]=1;const x=G.getCharCode("z"),v=G.getCharCode("a");for(let Y=v;Y<=x;Y++)U[qn][Y]=Y-v+2;U[nr][a]=1;const A=G.getCharCode("9"),C=G.getCharCode("0");for(let Y=C;Y<=A;Y++)U[nr][Y]=Y-C+2;U[nr][u]=12,U[nr][c]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Y=0;Y<D.length;Y++)U[mr][G.getCharCode(D[Y])]=Y;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Y=0;Y<z.length;Y++)G.getCharCode(z[Y])>0&&(U[ur][G.getCharCode(z[Y])]=Y);return U}const nc=Su(K.createInt32Array(5,256));class oo{constructor(a){this.text=a}encode(){const a=G.getCharCode(" "),c=G.getCharCode(`
`);let u=J.singletonList(Ti.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let x,v=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case G.getCharCode("\r"):x=v===c?2:0;break;case G.getCharCode("."):x=v===a?3:0;break;case G.getCharCode(","):x=v===a?4:0;break;case G.getCharCode(":"):x=v===a?5:0;break;default:x=0}x>0?(u=oo.updateStateListForPair(u,g,x),g++):u=this.updateStateListForChar(u,g)}return J.min(u,(g,x)=>g.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,c){const u=[];for(let h of a)this.updateStateForChar(h,c,u);return oo.simplifyStates(u)}updateStateForChar(a,c,u){let h=this.text[c]&255,g=nc[a.getMode()][h]>0,x=null;for(let v=0;v<=ur;v++){let A=nc[v][h];if(A>0){if(x==null&&(x=a.endBinaryShift(c)),!g||v===a.getMode()||v===nr){const C=x.latchAndAppend(v,A);u.push(C)}if(!g&&_u[a.getMode()][v]>=0){const C=x.shiftAndAppend(v,A);u.push(C)}}}if(a.getBinaryShiftByteCount()>0||nc[a.getMode()][h]===0){let v=a.addBinaryShiftChar(c);u.push(v)}}static updateStateListForPair(a,c,u){const h=[];for(let g of a)this.updateStateForPair(g,c,u,h);return this.simplifyStates(h)}static updateStateForPair(a,c,u,h){let g=a.endBinaryShift(c);if(h.push(g.latchAndAppend(ur,u)),a.getMode()!==ur&&h.push(g.shiftAndAppend(ur,u)),u===3||u===4){let x=g.latchAndAppend(nr,16-u).latchAndAppend(nr,1);h.push(x)}if(a.getBinaryShiftByteCount()>0){let x=a.addBinaryShiftChar(c).addBinaryShiftChar(c+1);h.push(x)}}static simplifyStates(a){let c=[];for(const u of a){let h=!0;for(const g of c){if(g.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(g)&&(c=c.filter(x=>x!==g))}h&&c.push(u)}return c}}class jt{constructor(){}static encodeBytes(a){return jt.encode(a,jt.DEFAULT_EC_PERCENT,jt.DEFAULT_AZTEC_LAYERS)}static encode(a,c,u){let h=new oo(a).encode(),g=F.truncDivision(h.getSize()*c,100)+11,x=h.getSize()+g,v,A,C,D,z;if(u!==jt.DEFAULT_AZTEC_LAYERS){if(v=u<0,A=Math.abs(u),A>(v?jt.MAX_NB_BITS_COMPACT:jt.MAX_NB_BITS))throw new _(G.format("Illegal value %s for layers",u));C=jt.totalBitsInLayer(A,v),D=jt.WORD_SIZE[A];let Be=C-C%D;if(z=jt.stuffBits(h,D),z.getSize()+g>Be)throw new _("Data to large for user specified layer");if(v&&z.getSize()>D*64)throw new _("Data to large for user specified layer")}else{D=0,z=null;for(let Be=0;;Be++){if(Be>jt.MAX_NB_BITS)throw new _("Data too large for an Aztec code");if(v=Be<=3,A=v?Be+1:Be,C=jt.totalBitsInLayer(A,v),x>C)continue;(z==null||D!==jt.WORD_SIZE[A])&&(D=jt.WORD_SIZE[A],z=jt.stuffBits(h,D));let Tt=C-C%D;if(!(v&&z.getSize()>D*64)&&z.getSize()+g<=Tt)break}}let Y=jt.generateCheckWords(z,C,D),re=z.getSize()/D,ce=jt.generateModeMessage(v,A,re),ue=(v?11:14)+A*4,me=new Int32Array(ue),Ee;if(v){Ee=ue;for(let Be=0;Be<me.length;Be++)me[Be]=Be}else{Ee=ue+1+2*F.truncDivision(F.truncDivision(ue,2)-1,15);let Be=F.truncDivision(ue,2),Tt=F.truncDivision(Ee,2);for(let vt=0;vt<Be;vt++){let Gr=vt+F.truncDivision(vt,15);me[Be-vt-1]=Tt-Gr-1,me[Be+vt]=Tt+Gr+1}}let Ve=new _e(Ee);for(let Be=0,Tt=0;Be<A;Be++){let vt=(A-Be)*4+(v?9:12);for(let Gr=0;Gr<vt;Gr++){let Ai=Gr*2;for(let ri=0;ri<2;ri++)Y.get(Tt+Ai+ri)&&Ve.set(me[Be*2+ri],me[Be*2+Gr]),Y.get(Tt+vt*2+Ai+ri)&&Ve.set(me[Be*2+Gr],me[ue-1-Be*2-ri]),Y.get(Tt+vt*4+Ai+ri)&&Ve.set(me[ue-1-Be*2-ri],me[ue-1-Be*2-Gr]),Y.get(Tt+vt*6+Ai+ri)&&Ve.set(me[ue-1-Be*2-Gr],me[Be*2+ri])}Tt+=vt*8}if(jt.drawModeMessage(Ve,v,Ee,ce),v)jt.drawBullsEye(Ve,F.truncDivision(Ee,2),5);else{jt.drawBullsEye(Ve,F.truncDivision(Ee,2),7);for(let Be=0,Tt=0;Be<F.truncDivision(ue,2)-1;Be+=15,Tt+=16)for(let vt=F.truncDivision(Ee,2)&1;vt<Ee;vt+=2)Ve.set(F.truncDivision(Ee,2)-Tt,vt),Ve.set(F.truncDivision(Ee,2)+Tt,vt),Ve.set(vt,F.truncDivision(Ee,2)-Tt),Ve.set(vt,F.truncDivision(Ee,2)+Tt)}let Ue=new k;return Ue.setCompact(v),Ue.setSize(Ee),Ue.setLayers(A),Ue.setCodeWords(re),Ue.setMatrix(Ve),Ue}static drawBullsEye(a,c,u){for(let h=0;h<u;h+=2)for(let g=c-h;g<=c+h;g++)a.set(g,c-h),a.set(g,c+h),a.set(c-h,g),a.set(c+h,g);a.set(c-u,c-u),a.set(c-u+1,c-u),a.set(c-u,c-u+1),a.set(c+u,c-u),a.set(c+u,c-u+1),a.set(c+u,c+u-1)}static generateModeMessage(a,c,u){let h=new $;return a?(h.appendBits(c-1,2),h.appendBits(u-1,6),h=jt.generateCheckWords(h,28,4)):(h.appendBits(c-1,5),h.appendBits(u-1,11),h=jt.generateCheckWords(h,40,4)),h}static drawModeMessage(a,c,u,h){let g=F.truncDivision(u,2);if(c)for(let x=0;x<7;x++){let v=g-3+x;h.get(x)&&a.set(v,g-5),h.get(x+7)&&a.set(g+5,v),h.get(20-x)&&a.set(v,g+5),h.get(27-x)&&a.set(g-5,v)}else for(let x=0;x<10;x++){let v=g-5+x+F.truncDivision(x,5);h.get(x)&&a.set(v,g-7),h.get(x+10)&&a.set(g+7,v),h.get(29-x)&&a.set(v,g+7),h.get(39-x)&&a.set(g-7,v)}}static generateCheckWords(a,c,u){let h=a.getSize()/u,g=new Fs(jt.getGF(u)),x=F.truncDivision(c,u),v=jt.bitsToWords(a,u,x);g.encode(v,x-h);let A=c%u,C=new $;C.appendBits(0,A);for(const D of Array.from(v))C.appendBits(D,u);return C}static bitsToWords(a,c,u){let h=new Int32Array(u),g,x;for(g=0,x=a.getSize()/c;g<x;g++){let v=0;for(let A=0;A<c;A++)v|=a.get(g*c+A)?1<<c-A-1:0;h[g]=v}return h}static getGF(a){switch(a){case 4:return nt.AZTEC_PARAM;case 6:return nt.AZTEC_DATA_6;case 8:return nt.AZTEC_DATA_8;case 10:return nt.AZTEC_DATA_10;case 12:return nt.AZTEC_DATA_12;default:throw new _("Unsupported word size "+a)}}static stuffBits(a,c){let u=new $,h=a.getSize(),g=(1<<c)-2;for(let x=0;x<h;x+=c){let v=0;for(let A=0;A<c;A++)(x+A>=h||a.get(x+A))&&(v|=1<<c-1-A);(v&g)===g?(u.appendBits(v&g,c),x--):(v&g)===0?(u.appendBits(v|1,c),x--):u.appendBits(v,c)}return u}static totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}jt.DEFAULT_EC_PERCENT=33,jt.DEFAULT_AZTEC_LAYERS=0,jt.MAX_NB_BITS=32,jt.MAX_NB_BITS_COMPACT=4,jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class rc{encode(a,c,u,h){return this.encodeWithHints(a,c,u,h,null)}encodeWithHints(a,c,u,h,g){let x=R.ISO_8859_1,v=jt.DEFAULT_EC_PERCENT,A=jt.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(Gn.CHARACTER_SET)&&(x=b.forName(g.get(Gn.CHARACTER_SET).toString())),g.has(Gn.ERROR_CORRECTION)&&(v=F.parseInt(g.get(Gn.ERROR_CORRECTION).toString())),g.has(Gn.AZTEC_LAYERS)&&(A=F.parseInt(g.get(Gn.AZTEC_LAYERS).toString()))),rc.encodeLayers(a,c,u,h,x,v,A)}static encodeLayers(a,c,u,h,g,x,v){if(c!==Ce.AZTEC)throw new _("Can only encode AZTEC, but got "+c);let A=jt.encode(G.getBytes(a,g),x,v);return rc.renderResult(A,u,h)}static renderResult(a,c,u){let h=a.getMatrix();if(h==null)throw new kt;let g=h.getWidth(),x=h.getHeight(),v=Math.max(c,g),A=Math.max(u,x),C=Math.min(v/g,A/x),D=(v-g*C)/2,z=(A-x*C)/2,Y=new _e(v,A);for(let re=0,ce=z;re<x;re++,ce+=C)for(let ue=0,me=D;ue<g;ue++,me+=C)h.get(ue,re)&&Y.setRegion(me,ce,C,C);return Y}}t.AbstractExpandedDecoder=ns,t.ArgumentException=T,t.ArithmeticException=yt,t.AztecCode=k,t.AztecCodeReader=Za,t.AztecCodeWriter=rc,t.AztecDecoder=Pt,t.AztecDetector=ll,t.AztecDetectorResult=aa,t.AztecEncoder=jt,t.AztecHighLevelEncoder=oo,t.AztecPoint=en,t.BarcodeFormat=Ce,t.Binarizer=M,t.BinaryBitmap=I,t.BitArray=$,t.BitMatrix=_e,t.BitSource=br,t.BrowserAztecCodeReader=oa,t.BrowserBarcodeReader=Kl,t.BrowserCodeReader=Oe,t.BrowserDatamatrixCodeReader=Au,t.BrowserMultiFormatReader=$l,t.BrowserPDF417Reader=Jl,t.BrowserQRCodeReader=fl,t.BrowserQRCodeSvgWriter=bi,t.CharacterSetECI=O,t.ChecksumException=N,t.Code128Reader=Fe,t.Code39Reader=on,t.DataMatrixDecodedBitStreamParser=is,t.DataMatrixReader=ei,t.DecodeHintType=se,t.DecoderResult=Ye,t.DefaultGridSampler=Jt,t.DetectorResult=vs,t.EAN13Reader=Ur,t.EncodeHintType=Gn,t.Exception=y,t.FormatException=V,t.GenericGF=nt,t.GenericGFPoly=et,t.GlobalHistogramBinarizer=ae,t.GridSampler=Qa,t.GridSamplerInstance=Jn,t.HTMLCanvasElementLuminanceSource=ee,t.HybridBinarizer=he,t.ITFReader=Kt,t.IllegalArgumentException=_,t.IllegalStateException=kt,t.InvertedLuminanceSource=Re,t.LuminanceSource=be,t.MathUtils=Et,t.MultiFormatOneDReader=wi,t.MultiFormatReader=Us,t.MultiFormatWriter=tc,t.NotFoundException=le,t.OneDReader=wn,t.PDF417DecodedBitStreamParser=Te,t.PDF417DecoderErrorCorrection=os,t.PDF417Reader=cr,t.PDF417ResultMetadata=da,t.PerspectiveTransform=Xt,t.PlanarYUVLuminanceSource=gi,t.QRCodeByteMatrix=zs,t.QRCodeDataMask=On,t.QRCodeDecodedBitStreamParser=_n,t.QRCodeDecoderErrorCorrectionLevel=Mt,t.QRCodeDecoderFormatInformation=zn,t.QRCodeEncoder=un,t.QRCodeEncoderQRCode=Hr,t.QRCodeMaskUtil=Sn,t.QRCodeMatrixUtil=ot,t.QRCodeMode=rt,t.QRCodeReader=Pi,t.QRCodeVersion=je,t.QRCodeWriter=tr,t.RGBLuminanceSource=Ei,t.RSS14Reader=Rt,t.RSSExpandedReader=De,t.ReaderException=Vs,t.ReedSolomonDecoder=$n,t.ReedSolomonEncoder=Fs,t.ReedSolomonException=an,t.Result=Ge,t.ResultMetadataType=He,t.ResultPoint=qe,t.StringUtils=G,t.UnsupportedOperationException=W,t.VideoInputDevice=ye,t.WhiteRectangleDetector=fi,t.WriterException=rn,t.ZXingArrays=K,t.ZXingCharset=b,t.ZXingInteger=F,t.ZXingStandardCharsets=R,t.ZXingStringBuilder=H,t.ZXingStringEncoding=X,t.ZXingSystem=P,t.createAbstractExpandedDecoder=ul,Object.defineProperty(t,"__esModule",{value:!0})})}(Sf,Sf.exports)),Sf.exports}var Bn=r7();const i7=M0(Bn),s7=ZT({__proto__:null,default:i7},[Bn]);var rT=function(){function n(e,t,r){if(this.formatMap=new Map([[$e.QR_CODE,Bn.BarcodeFormat.QR_CODE],[$e.AZTEC,Bn.BarcodeFormat.AZTEC],[$e.CODABAR,Bn.BarcodeFormat.CODABAR],[$e.CODE_39,Bn.BarcodeFormat.CODE_39],[$e.CODE_93,Bn.BarcodeFormat.CODE_93],[$e.CODE_128,Bn.BarcodeFormat.CODE_128],[$e.DATA_MATRIX,Bn.BarcodeFormat.DATA_MATRIX],[$e.MAXICODE,Bn.BarcodeFormat.MAXICODE],[$e.ITF,Bn.BarcodeFormat.ITF],[$e.EAN_13,Bn.BarcodeFormat.EAN_13],[$e.EAN_8,Bn.BarcodeFormat.EAN_8],[$e.PDF_417,Bn.BarcodeFormat.PDF_417],[$e.RSS_14,Bn.BarcodeFormat.RSS_14],[$e.RSS_EXPANDED,Bn.BarcodeFormat.RSS_EXPANDED],[$e.UPC_A,Bn.BarcodeFormat.UPC_A],[$e.UPC_E,Bn.BarcodeFormat.UPC_E],[$e.UPC_EAN_EXTENSION,Bn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!s7)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var s=this.createZXingFormats(e),o=new Map;o.set(Bn.DecodeHintType.POSSIBLE_FORMATS,s),o.set(Bn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,s){try{r(t.decode(e))}catch(o){s(o)}})},n.prototype.decode=function(e){var t=new Bn.MultiFormatReader(this.verbose,this.hints),r=new Bn.HTMLCanvasElementLuminanceSource(e),s=new Bn.BinaryBitmap(new Bn.HybridBinarizer(r)),o=t.decode(s);return{text:o.text,format:pI.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,s){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?t.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),a7=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(T){try{y(r.next(T))}catch(_){d(_)}}function w(T){try{y(r.throw(T))}catch(_){d(_)}}function y(T){T.done?o(T.value):s(T.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},o7=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(T){y=[6,T],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},iT=function(){function n(e,t,r){if(this.formatMap=new Map([[$e.QR_CODE,"qr_code"],[$e.AZTEC,"aztec"],[$e.CODABAR,"codabar"],[$e.CODE_39,"code_39"],[$e.CODE_93,"code_93"],[$e.CODE_128,"code_128"],[$e.DATA_MATRIX,"data_matrix"],[$e.ITF,"itf"],[$e.EAN_13,"ean_13"],[$e.EAN_8,"ean_8"],[$e.PDF_417,"pdf417"],[$e.UPC_A,"upc_a"],[$e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var s=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return a7(this,void 0,void 0,function(){var t,r;return o7(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=s.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:pI.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,s=0,o=e;s<o.length;s++){var d=o[s],p=d.boundingBox.width*d.boundingBox.height;p>r&&(r=p,t=d)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?t.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,s){e.set(t,r)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),sT=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(T){try{y(r.next(T))}catch(_){d(_)}}function w(T){try{y(r.throw(T))}catch(_){d(_)}}function y(T){T.done?o(T.value):s(T.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},aT=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(T){y=[6,T],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},l7=function(){function n(e,t,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&iT.isSupported()?(this.primaryDecoder=new iT(e,r,s),this.secondaryDecoder=new rT(e,r,s)):this.primaryDecoder=new rT(e,r,s)}return n.prototype.decodeAsync=function(e){return sT(this,void 0,void 0,function(){var t;return aT(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return sT(this,void 0,void 0,function(){var t,r;return aT(this,function(s){switch(s.label){case 0:t=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){var s=r[t];e+=s}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),xw=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),T0=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(T){try{y(r.next(T))}catch(_){d(_)}}function w(T){try{y(r.throw(T))}catch(_){d(_)}}function y(T){T.done?o(T.value):s(T.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},A0=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(T){y=[6,T],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},xI=function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n}(),c7=function(n){xw(e,n);function e(t,r){return n.call(this,t,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(xI),u7=function(n){xw(e,n);function e(t){return n.call(this,"zoom",t)||this}return e}(c7),f7=function(n){xw(e,n);function e(t){return n.call(this,"torch",t)||this}return e}(xI),d7=function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new u7(this.track)},n.prototype.torchFeature=function(){return new f7(this.track)},n}(),h7=function(){function n(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,s=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,s),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,r,s){return T0(this,void 0,void 0,function(){var o,d;return A0(this,function(p){switch(p.label){case 0:return o=new n(e,t,s),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:p.sent(),p.label=2;case 2:return o.setupSurface(),[2,o]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return T0(this,void 0,void 0,function(){return A0(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var s=e.mediaStream.getVideoTracks(),o=s.length,d=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++d,d>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new d7(this.getFirstTrackOrFail())},n}(),g7=function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,r){return T0(this,void 0,void 0,function(){return A0(this,function(s){return[2,h7.create(e,this.mediaStream,t,r)]})})},n.create=function(e){return T0(this,void 0,void 0,function(){var t,r;return A0(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=s.sent(),[2,new n(r)]}})})},n}(),oT=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(T){try{y(r.next(T))}catch(_){d(_)}}function w(T){try{y(r.throw(T))}catch(_){d(_)}}function y(T){T.done?o(T.value):s(T.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},lT=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(T){y=[6,T],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},p7=function(){function n(){}return n.failIfNotSupported=function(){return oT(this,void 0,void 0,function(){return lT(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return oT(this,void 0,void 0,function(){return lT(this,function(t){return[2,g7.create(e)]})})},n}(),m7=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(T){try{y(r.next(T))}catch(_){d(_)}}function w(T){try{y(r.throw(T))}catch(_){d(_)}}function y(T){T.done?o(T.value):s(T.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},y7=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(T){y=[6,T],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},w7=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=Hc.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=Hc.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return m7(this,void 0,void 0,function(){var e,t,r,s,o,d,p;return y7(this,function(w){switch(w.label){case 0:return e=function(y){for(var T=y.getVideoTracks(),_=0,I=T;_<I.length;_++){var N=I[_];N.enabled=!1,N.stop(),y.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=w.sent(),s=[],o=0,d=r;o<d.length;o++)p=d[o],p.kind==="videoinput"&&s.push({id:p.deviceId,label:p.label});return e(t),[2,s]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var r=function(o){for(var d=[],p=0,w=o;p<w.length;p++){var y=w[p];y.kind==="video"&&d.push({id:y.id,label:y.label})}e(d)},s=MediaStreamTrack;s.getSources(r)})},n}(),sr;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(sr||(sr={}));var x7=function(){function n(){this.state=sr.NOT_STARTED,this.onGoingTransactionNewState=sr.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===sr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=sr.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===sr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=sr.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==sr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case sr.UNKNOWN:throw"Transition from unknown is not allowed";case sr.NOT_STARTED:this.failIfNewStateIs(e,[sr.PAUSED]);break;case sr.SCANNING:break;case sr.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,s=t;r<s.length;r++){var o=s[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n}(),v7=function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===sr.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==sr.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===sr.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===sr.PAUSED},n}(),b7=function(){function n(){}return n.create=function(){return new v7(new x7)},n}(),E7=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wi=function(n){E7(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Ns),T7=function(){function n(e,t){this.logger=t,this.fps=Wi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Wi.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?wI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Ks(this.qrbox)},n.create=function(e,t){return new n(e,t)},n}(),cT=function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new yI(this.verbose),this.qrcode=new l7(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=b7.create()}return n.prototype.start=function(e,t,r,s){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;s?d=s:d=this.verbose?this.logger.log:function(){};var p=T7.create(t,this.logger);this.clearElement();var w=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=w,T=document.getElementById(this.elementId);T.clientWidth?T.clientWidth:Wi.DEFAULT_WIDTH,T.style.position="relative",this.shouldScan=!0,this.element=T;var _=this,I=this.stateManagerProxy.startTransition(sr.SCANNING);return new Promise(function(N,M){var P=y?p.videoConstraints:_.createVideoConstraints(e);if(!P){I.cancel(),M("videoConstraints should be defined");return}var q={};(!y||p.aspectRatio)&&(q.aspectRatio=p.aspectRatio);var j={onRenderSurfaceReady:function(K,F){_.setupUi(K,F,p),_.isScanning=!0,_.foreverScan(p,r,d)}};p7.failIfNotSupported().then(function(K){K.create(P).then(function(F){return F.render(o.element,q,j).then(function($){_.renderedCamera=$,I.execute(),N(null)}).catch(function($){I.cancel(),M($)})}).catch(function(F){I.cancel(),M(Hc.errorGettingUserMedia(F))})}).catch(function(K){I.cancel(),M(Hc.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(sr.PAUSED),this.showPausedState(),(Ks(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(sr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(sr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(Wi.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),t.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ks(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var d=new Image;d.onload=function(){var p=d.width,w=d.height,y=document.getElementById(r.elementId),T=y.clientWidth?y.clientWidth:Wi.DEFAULT_WIDTH,_=Math.max(y.clientHeight?y.clientHeight:w,Wi.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(p,w,T,_);if(t){var N=r.createCanvasElement(T,_,"qr-canvas-visible");N.style.display="inline-block",y.appendChild(N);var M=N.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=T,M.canvas.height=_,M.drawImage(d,0,0,p,w,I.x,I.y,I.width,I.height)}var P=Wi.FILE_SCAN_HIDDEN_CANVAS_PADDING,q=Math.max(d.width,I.width),j=Math.max(d.height,I.height),K=q+2*P,F=j+2*P,$=r.createCanvasElement(K,F);y.appendChild($);var ie=$.getContext("2d");if(!ie)throw"Unable to get 2d context from canvas";ie.canvas.width=K,ie.canvas.height=F,ie.drawImage(d,0,0,p,w,P,P,q,j);try{r.qrcode.decodeRobustlyAsync($).then(function(se){s(eT.createFromQrcodeResult(se))}).catch(o)}catch(se){o("QR code parse error, error = ".concat(se))}},d.onerror=o,d.onabort=o,d.onstalled=o,d.onsuspend=o,d.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return w7.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!wI.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[$e.QR_CODE,$e.AZTEC,$e.CODABAR,$e.CODE_39,$e.CODE_93,$e.CODE_128,$e.DATA_MATRIX,$e.MAXICODE,$e.ITF,$e.EAN_13,$e.EAN_8,$e.PDF_417,$e.RSS_14,$e.RSS_EXPANDED,$e.UPC_A,$e.UPC_E,$e.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=e.formatsToSupport;s<o.length;s++){var d=o[s];e7(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ks(e))return!0;if(!Ks(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ks(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Ks(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var d=this.toQrdimensions(e,t,o),p=function(y){if(y<Wi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wi.MIN_QR_BOX_SIZE,"px.")},w=function(y){return y>e&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};p(d.width),p(d.height),d.width=w(d.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,t)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},n.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var s=Ks(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,t,s);o.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&o.height<=t,p={x:0,y:0,width:e,height:t},w=d?this.getShadedRegionBounds(e,t,o):p,y=this.createCanvasElement(w.width,w.height),T={willReadFrequently:!0},_=y.getContext("2d",T);_.canvas.width=w.width,_.canvas.height=w.height,this.element.append(y),d&&this.possiblyInsertShadingElement(this.element,e,t,o),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=_,this.canvasElement=y},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Hc.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return e(s.text,eT.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=Hc.codeParseError(s);return t(o,mI.createFrom(o)),!1})},n.prototype.foreverScan=function(e,t,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),d=o.videoWidth/o.clientWidth,p=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*d,y=this.qrRegion.height*p,T=this.qrRegion.x*d,_=this.qrRegion.y*p;this.context.drawImage(o,T,_,w,y,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(e,t,r)},s.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(N){!N&&e.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(t,r).finally(function(){I()})):I()}).catch(function(N){s.logger.logError("Error happend while scanning context",N),I()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",r="deviceId",s={user:!0,environment:!0},o="exact",d=function(M){if(M in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var w=Object.keys(e)[0];if(w!==t&&w!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(w===t){var y=e.facingMode;if(typeof y=="string"){if(d(y))return{facingMode:y}}else if(typeof y=="object")if(o in y){if(d(y["".concat(o)]))return{facingMode:{exact:y["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var T=typeof y;throw"Invalid type of 'facingMode' = ".concat(T)}}else{var _=e.deviceId;if(typeof _=="string")return{deviceId:_};if(typeof _=="object"){if(o in _)return{deviceId:{exact:_["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var I=typeof _;throw"Invalid type of 'deviceId' = ".concat(I)}}}var N=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},n.prototype.computeCanvasDrawConfig=function(e,t,r,s){if(e<=r&&t<=s){var o=(r-e)/2,d=(s-t)/2;return{x:o,y:d,width:e,height:t}}else{var p=e,w=t;return e>r&&(t=r/e*t,e=r),t>s&&(e=s/t*e,t=s),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(w)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,s)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?Wi.BORDER_SHADER_MATCH_COLOR:Wi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var s=e,o=t,d=document.createElement("canvas");return d.style.width="".concat(s,"px"),d.style.height="".concat(o,"px"),d.style.display="none",d.id=Ks(r)?"qr-canvas":r,d},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,s){if(!(t-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var d=(t-s.width)/2,p=(r-s.height)/2;if(o.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Wi.SHADED_REGION_ELEMENT_ID),t-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var w=5,y=40;this.insertShaderBorders(o,y,w,-w,null,0,!0),this.insertShaderBorders(o,y,w,-w,null,0,!1),this.insertShaderBorders(o,y,w,null,-w,0,!0),this.insertShaderBorders(o,y,w,null,-w,0,!1),this.insertShaderBorders(o,w,y+w,-w,null,-w,!0),this.insertShaderBorders(o,w,y+w,null,-w,-w,!0),this.insertShaderBorders(o,w,y+w,-w,null,-w,!1),this.insertShaderBorders(o,w,y+w,null,-w,-w,!1),this.hasBorderShaders=!0}e.append(o)}},n.prototype.insertShaderBorders=function(e,t,r,s,o,d,p){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Wi.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(t,"px"),w.style.height="".concat(r,"px"),s!==null&&(w.style.top="".concat(s,"px")),o!==null&&(w.style.bottom="".concat(o,"px")),p?w.style.left="".concat(d,"px"):w.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),e.appendChild(w)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n}(),vw="data:image/svg+xml;base64,",A7=vw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",_7=vw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",uT=vw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",S7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",fT=function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n}(),C7=function(){function n(){this.data=fT.createDefault();var e=localStorage.getItem(n.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},n.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=fT.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n}(),I7=function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=tT.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=tT.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n}(),R7=function(){function n(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=uT,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return t.onHoverIn()},this.infoIcon.onmouseout=function(r){return t.onHoverOut()},this.infoIcon.onclick=function(r){return t.onClick()},e.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=S7,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=uT,this.infoIcon.style.opacity="0.6")},n}(),N7=function(){function n(){var e=this;this.infoDiv=new I7,this.infoIcon=new R7(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return n.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},n}(),M7=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(T){try{y(r.next(T))}catch(_){d(_)}}function w(T){try{y(r.throw(T))}catch(_){d(_)}}function y(T){T.done?o(T.value):s(T.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},D7=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(T){y=[6,T],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},dT=function(){function n(){}return n.hasPermissions=function(){return M7(this,void 0,void 0,function(){var e,t,r,s;return D7(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=o.sent(),t=0,r=e;t<r.length;t++)if(s=r[t],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},n}(),ko=function(){function n(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return n.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},n.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},n.prototype.isCameraScanRequired=function(){for(var e=0,t=this.supportedScanTypes;e<t.length;e++){var r=t[e];if(n.isCameraScanType(r))return!0}return!1},n.isCameraScanType=function(e){return e===el.SCAN_TYPE_CAMERA},n.isFileScanType=function(e){return e===el.SCAN_TYPE_FILE},n.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Ns.DEFAULT_SUPPORTED_SCAN_TYPE;var t=Ns.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,s=e;r<s.length;r++){var o=s[r];if(!Ns.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return e},n}(),Zi=function(){function n(){}return n.ALL_ELEMENT_CLASS="html5-qrcode-element",n.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",n.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",n.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",n.TORCH_BUTTON_ID="html5-qrcode-button-torch",n.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",n.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",n.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",n.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",n.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",n.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",n}(),Pa=function(){function n(){}return n.createElement=function(e,t){var r=document.createElement(e);return r.id=t,r.classList.add(Zi.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},n}(),vI=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(T){try{y(r.next(T))}catch(_){d(_)}}function w(T){try{y(r.throw(T))}catch(_){d(_)}}function y(T){T.done?o(T.value):s(T.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},bI=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(T){return w([y,T])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(T){y=[6,T],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},hT=function(){function n(e,t,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=r}return n.prototype.isTorchEnabled=function(){return this.isTorchOn},n.prototype.flipState=function(){return vI(this,void 0,void 0,function(){var e,t;return bI(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=r.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},n.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?mn.torchOffButton():mn.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},n.prototype.propagateFailure=function(e,t){var r=e?mn.torchOnFailedMessage():mn.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},n.prototype.reset=function(){this.isTorchOn=!1},n}(),O7=function(){function n(e,t){this.onTorchActionFailureCallback=t,this.torchButton=Pa.createElement("button",Zi.TORCH_BUTTON_ID),this.torchController=new hT(e,this,t)}return n.prototype.render=function(e,t){var r=this;this.torchButton.innerText=mn.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return vI(r,void 0,void 0,function(){return bI(this,function(d){switch(d.label){case 0:return[4,s.torchController.flipState()];case 1:return d.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Zi.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Zi.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Zi.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Zi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},n.prototype.updateTorchCapability=function(e){this.torchController=new hT(e,this,this.onTorchActionFailureCallback)},n.prototype.getTorchButton=function(){return this.torchButton},n.prototype.hide=function(){this.torchButton.style.display="none"},n.prototype.show=function(){this.torchButton.style.display="inline-block"},n.prototype.disable=function(){this.torchButton.disabled=!0},n.prototype.enable=function(){this.torchButton.disabled=!1},n.prototype.setText=function(e){this.torchButton.innerText=e},n.prototype.reset=function(){this.torchButton.innerText=mn.torchOnButton(),this.torchController.reset()},n.create=function(e,t,r,s){var o=new n(t,s);return o.render(e,r),o},n}(),k7=function(){function n(e,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Pa.createElement("button",Zi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Pa.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var w=p.target;if(!(w.files&&w.files.length===0)){var y=w.files,T=y[0],_=T.name;o.setImageNameToButton(_),r(T)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var w=p.dataTransfer;if(w){var y=w.files;if(!y||y.length===0)return;for(var T=!1,_=0;_<y.length;++_){var I=y.item(_);if(I){var N=/image.*/;if(I.type.match(N)){T=!0;var M=I.name;o.setImageNameToButton(M),r(I),d.innerText=mn.dragAndDropMessage();break}}}T||(d.innerText=mn.dragAndDropMessageOnlyImages())}})}return n.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},n.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},n.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},n.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},n.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},n.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},n.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},n.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=mn.dragAndDropMessage(),e.style.fontWeight="400",e},n.prototype.setImageNameToButton=function(e){var t=20;if(e.length>t){var r=e.substring(0,8),s=e.length,o=e.substring(s-8,s);e="".concat(r,"....").concat(o)}var d=mn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=d},n.prototype.setInitialValueToButton=function(){var e=mn.fileSelectionChooseImage()+" - "+mn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},n.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},n.create=function(e,t,r){var s=new n(e,t,r);return s},n}(),P7=function(){function n(e){this.selectElement=Pa.createElement("select",Zi.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return n.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)t.style.display="none";else{var s=mn.selectCamera();t.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,d=0,p=this.cameras;d<p.length;d++){var w=p[d],y=w.id,T=w.label==null?y:w.label;(!T||T==="")&&(T=[mn.anonymousCameraPrefix(),o++].join(" "));var _=document.createElement("option");_.value=y,_.innerText=T,this.options.push(_),this.selectElement.appendChild(_)}t.appendChild(this.selectElement),e.appendChild(t)},n.prototype.disable=function(){this.selectElement.disabled=!0},n.prototype.isDisabled=function(){return this.selectElement.disabled===!0},n.prototype.enable=function(){this.selectElement.disabled=!1},n.prototype.getValue=function(){return this.selectElement.value},n.prototype.hasValue=function(e){for(var t=0,r=this.options;t<r.length;t++){var s=r[t];if(s.value===e)return!0}return!1},n.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},n.prototype.hasSingleItem=function(){return this.cameras.length===1},n.prototype.numCameras=function(){return this.cameras.length},n.create=function(e,t){var r=new n(t);return r.render(e),r},n}(),L7=function(){function n(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Pa.createElement("input",Zi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return n.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=mn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},n.prototype.onValueChange=function(){var e=mn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},n.prototype.setValues=function(e,t,r,s){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},n.prototype.show=function(){this.zoomElementContainer.style.display="block"},n.prototype.hide=function(){this.zoomElementContainer.style.display="none"},n.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},n.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},n.create=function(e,t){var r=new n;return r.render(e,t),r},n}(),Xi;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Xi||(Xi={}));function B7(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}function V7(n,e){return{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:e}}var EI=function(){function n(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new ko(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new yI(this.verbose),this.persistedDataManager=new C7,t.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return n.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,d){if(e)e(o,d);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(mn.lastMatch(o),Xi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,d){t&&t(o,d)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new cT(this.getScanRegionId(),V7(this.config,this.verbose))},n.prototype.pause=function(e){(Ks(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},n.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},n.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},n.prototype.clear=function(){var e=this,t=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(o){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),t(),r()}).catch(function(o){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(e.html5Qrcode.clear(),t(),r())}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},n.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},n.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},n.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Ns.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Ns.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Ns.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Ns.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Ns.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ns.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ns.DEFAULT_SUPPORTED_SCAN_TYPE}},n.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),ko.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",e.appendChild(s),this.setupInitialDashboard(s)},n.prototype.resetBasicLayout=function(e){e.style.border="none"},n.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},n.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t);var r=new N7;r.renderInto(t);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",t.appendChild(s)},n.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},n.prototype.createCameraListUi=function(e,t,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(mn.cameraPermissionRequesting());var o=function(){r||s.createPermissionButton(e,t)};cT.getCameras().then(function(d){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),d&&d.length>0?(e.removeChild(t),s.renderCameraSelection(d)):(s.setHeaderMessage(mn.noCameraFound(),Xi.STATUS_WARNING),o())}).catch(function(d){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),s.setHeaderMessage(d,Xi.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},n.prototype.createPermissionButton=function(e,t){var r=this,s=Pa.createElement("button",this.getCameraPermissionButtonId());s.innerText=mn.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(e,t,s)}),t.appendChild(s)},n.prototype.createPermissionsUi=function(e,t){var r=this;if(ko.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){dT.hasPermissions().then(function(s){s?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},n.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=ko.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(t)},n.prototype.renderFileScanUi=function(e){var t=ko.isFileScanType(this.currentScanType),r=this,s=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";ko.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(mn.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(d){r.resetHeaderMessage(),r.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){r.setHeaderMessage(d,Xi.STATUS_WARNING),r.qrCodeErrorCallback(d,mI.createFrom(d))}))};this.fileSelectionUi=k7.create(e,t,s)},n.prototype.renderCameraSelection=function(e){var t=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=L7.create(s,!1),d=function(P){var q=P.zoomFeature();if(q.isSupported()){o.setOnCameraZoomValueChangeCallback(function(K){q.apply(K)});var j=1;t.config.defaultZoomValueIfSupported&&(j=t.config.defaultZoomValueIfSupported),j=t7(j,q.min(),q.max()),o.setValues(q.min(),q.max(),j,q.step()),o.show()}},p=P7.create(s,e),w=document.createElement("span"),y=Pa.createElement("button",Zi.CAMERA_START_BUTTON_ID);y.innerText=mn.scanButtonStartScanningText(),w.appendChild(y);var T=Pa.createElement("button",Zi.CAMERA_STOP_BUTTON_ID);T.innerText=mn.scanButtonStopScanningText(),T.style.display="none",T.disabled=!0,w.appendChild(T);var _,I=function(P){if(!P.torchFeature().isSupported()){_&&_.hide();return}_?_.updateTorchCapability(P.torchFeature()):_=O7.create(w,P.torchFeature(),{display:"none",marginLeft:"5px"},function(q){r.setHeaderMessage(q,Xi.STATUS_WARNING)}),_.show()};s.appendChild(w);var N=function(P){P||(y.style.display="none"),y.innerText=mn.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,P&&(y.style.display="inline-block")};if(y.addEventListener("click",function(P){y.innerText=mn.scanButtonScanningStarting(),p.disable(),y.disabled=!0,y.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var q=p.getValue();r.persistedDataManager.setLastUsedCameraId(q),r.html5Qrcode.start(q,B7(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(j){T.disabled=!1,T.style.display="inline-block",N(!1);var K=r.html5Qrcode.getRunningTrackCameraCapabilities();t.config.showTorchButtonIfSupported===!0&&I(K),t.config.showZoomSliderIfSupported===!0&&d(K)}).catch(function(j){r.showHideScanTypeSwapLink(!0),p.enable(),N(!0),r.setHeaderMessage(j,Xi.STATUS_WARNING)})}),p.hasSingleItem()&&y.click(),T.addEventListener("click",function(P){if(!r.html5Qrcode)throw"html5Qrcode not defined";T.disabled=!0,r.html5Qrcode.stop().then(function(q){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),p.enable(),y.disabled=!1,T.style.display="none",y.style.display="inline-block",_&&(_.reset(),_.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(q){T.disabled=!1,r.setHeaderMessage(q,Xi.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var M=r.persistedDataManager.getLastUsedCameraId();p.hasValue(M)?(p.setValue(M),y.click()):r.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var e=this,t=mn.textIfCameraScanSelected(),r=mn.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var d=Pa.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=ko.isCameraScanType(this.currentScanType)?t:r,d.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,ko.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),d.innerText=r,e.currentScanType=el.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),d.innerText=t,e.currentScanType=el.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(d),s.appendChild(o)},n.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){dT.hasPermissions().then(function(r){if(r){var s=document.getElementById(t.getCameraPermissionButtonId());if(!s)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(r){t.persistedDataManager.setHasPermission(!1)});return}},n.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},n.prototype.setHeaderMessage=function(e,t){t||(t=Xi.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case Xi.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Xi.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Xi.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},n.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},n.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML="<br>",t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=A7,this.cameraScanImage.alt=mn.cameraScanAltText()},n.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML="<br>",t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=_7,this.fileScanImage.alt=mn.fileScanAltText()},n.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},n.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},n.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},n.prototype.getDashboardSectionSwapLinkId=function(){return Zi.SCAN_TYPE_CHANGE_ANCHOR_ID},n.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},n.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},n.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},n.prototype.getCameraPermissionButtonId=function(){return Zi.CAMERA_PERMISSION_BUTTON_ID},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},n}();console.log(EI);function U7({onScanSuccess:n,onScanError:e}){const[t,r]=Z.useState(!1),[s,o]=Z.useState(null),[d,p]=Z.useState(null),w=Z.useRef(null),y="qr-reader-container",T=Z.useCallback(M=>{M&&(o(M),n==null||n(M),w.current&&(w.current.clear().catch(P=>{console.warn("Failed to stop QR scanner: ",P)}),w.current=null))},[n]),_=Z.useCallback(M=>{M.includes("NotFoundException")||M.includes("IndexSizeError")||(p(M),e&&e(M))},[e]);return Z.useEffect(()=>{if(!t){w.current&&(w.current.clear().catch(P=>{console.warn("Failed to clear QR scanner:",P)}),w.current=null);return}const M=setTimeout(()=>{if(!document.getElementById(y)){p("QR container not found");return}if(!w.current){const q={fps:10,qrbox:{width:250,height:250}},j=!1,K=new EI(y,q,j);K.render(T,_),w.current=K}},300);return()=>{M&&clearTimeout(M),w.current&&(w.current.clear().catch(P=>{console.warn("Cleanup: Failed to clear QR scanner:",P)}),w.current=null)}},[t,T,_]),{showScanner:t,openScanner:()=>{p(null),o(""),r(!0)},closeScanner:()=>{r(!1),p(null),o("")},scanResult:s,scanError:d,qrContainerId:y}}function F7({freezerData:n,onDeleteFreezer:e,onEditFreezer:t,onAddShelf:r,onUpdateShelf:s,onRemoveShelf:o,onAddProduct:d,onUpdateProduct:p,onRemoveProduct:w}){const{config:y,open:T,close:_}=vg();return te.jsxs("div",{className:"container mx-auto p-4",children:[te.jsxs("div",{className:"flex justify-center items-center mb-4",children:[te.jsx("h1",{className:"text-2xl font-bold text-center",children:n.name}),te.jsx(Ni,{onClick:()=>T({mode:"edit",title:"Freezer",onSubmit:I=>{t(I.name)},fields:[{key:"name",label:"Freezer Name",type:"text",placeholder:"Enter freezer name",required:!0}],initialData:{name:n.name}}),action:"edit"}),te.jsx(Ni,{onClick:()=>T({mode:"delete",title:"Freezer",onSubmit:I=>{e(I)}}),action:"delete"})]}),te.jsx(qc,{className:"max-w-xl mx-auto dark:bg-blue-900",children:te.jsxs("div",{className:"flex flex-col gap-4 pb-4 max-h-[500px] overflow-y-auto scrollbar-thin scrollbar-track-blue-100 scrollbar-thumb-blue-300 dark:scrollbar-track-blue-900 dark:scrollbar-thumb-blue-700",children:[n.shelves&&n.shelves.map(I=>te.jsx(QT,{shelf:I,freezerId:n.id,freezerData:n,onRemoveShelf:o,onUpdateShelf:s,onAddProduct:d,onUpdateProduct:p,onRemoveProduct:w,className:"bg-white dark:bg-blue-800 rounded-lg p-4 shadow-lg transition-all hover:shadow-xl"},I.id)),te.jsx(QT,{shelf:{id:"",name:"No shelf products"},freezerId:n.id,freezerData:n,onRemoveShelf:o,onUpdateShelf:s,onAddProduct:d,onUpdateProduct:p,onRemoveProduct:w,className:"bg-white dark:bg-blue-800 rounded-lg p-4 shadow-lg transition-all hover:shadow-xl"},"unassigned"),te.jsx(Ni,{onClick:()=>T({mode:"add",title:"Shelf",onSubmit:({name:I})=>{r(I)},fields:[{key:"name",label:"Shelf Name",type:"text",placeholder:"Enter shelf name",required:!0}]}),label:"Add Shelf",action:"submit"})]})}),te.jsx(W0,{show:y.mode!==null,mode:y.mode,title:y.title,fields:y.fields,initialData:y.initialData,onSubmit:y.onSubmit,onClose:_})]})}function gT(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function bw(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:gT(e[r])&&gT(n[r])&&Object.keys(e[r]).length>0&&bw(n[r],e[r])})}const TI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Yl(){const n=typeof document<"u"?document:{};return bw(n,TI),n}const z7={document:TI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function mi(){const n=typeof window<"u"?window:{};return bw(n,z7),n}function j7(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function H7(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function iy(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function _0(){return Date.now()}function G7(n){const e=mi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function q7(n,e){e===void 0&&(e="x");const t=mi();let r,s,o;const d=G7(n);return t.WebKitCSSMatrix?(s=d.transform||d.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(p=>p.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Dh(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Y7(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Qi(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!Y7(r)){const s=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,d=s.length;o<d;o+=1){const p=s[o],w=Object.getOwnPropertyDescriptor(r,p);w!==void 0&&w.enumerable&&(Dh(n[p])&&Dh(r[p])?r[p].__swiper__?n[p]=r[p]:Qi(n[p],r[p]):!Dh(n[p])&&Dh(r[p])?(n[p]={},r[p].__swiper__?n[p]=r[p]:Qi(n[p],r[p])):n[p]=r[p])}}}return n}function Oh(n,e,t){n.style.setProperty(e,t)}function AI(n){let{swiper:e,targetPosition:t,side:r}=n;const s=mi(),o=-e.translate;let d=null,p;const w=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const y=t>o?"next":"prev",T=(I,N)=>y==="next"&&I>=N||y==="prev"&&I<=N,_=()=>{p=new Date().getTime(),d===null&&(d=p);const I=Math.max(Math.min((p-d)/w,1),0),N=.5-Math.cos(I*Math.PI)/2;let M=o+N*(t-o);if(T(M,t)&&(M=t),e.wrapperEl.scrollTo({[r]:M}),T(M,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:M})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(_)};_()}function Zs(n,e){e===void 0&&(e="");const t=mi(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function W7(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function X7(n,e){const t=mi();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=W7(n,e))),r}function S0(n){try{console.warn(n);return}catch{}}function C0(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:j7(e)),t}function K7(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Q7(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function zo(n,e){return mi().getComputedStyle(n,null).getPropertyValue(e)}function pT(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Z7(n,e){const t=[];let r=n.parentElement;for(;r;)t.push(r),r=r.parentElement;return t}function mT(n,e,t){const r=mi();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Na(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Vp;function $7(){const n=mi(),e=Yl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function _I(){return Vp||(Vp=$7()),Vp}let Up;function J7(n){let{userAgent:e}=n===void 0?{}:n;const t=_I(),r=mi(),s=r.navigator.platform,o=e||r.navigator.userAgent,d={ios:!1,android:!1},p=r.screen.width,w=r.screen.height,y=o.match(/(Android);?[\s\/]+([\d.]+)?/);let T=o.match(/(iPad).*OS\s([\d_]+)/);const _=o.match(/(iPod)(.*OS\s([\d_]+))?/),I=!T&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=s==="Win32";let M=s==="MacIntel";const P=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!T&&M&&t.touch&&P.indexOf(`${p}x${w}`)>=0&&(T=o.match(/(Version)\/([\d.]+)/),T||(T=[0,1,"13_0_0"]),M=!1),y&&!N&&(d.os="android",d.android=!0),(T||I||_)&&(d.os="ios",d.ios=!0),d}function SI(n){return n===void 0&&(n={}),Up||(Up=J7(n)),Up}let Fp;function eB(){const n=mi(),e=SI();let t=!1;function r(){const p=n.navigator.userAgent.toLowerCase();return p.indexOf("safari")>=0&&p.indexOf("chrome")<0&&p.indexOf("android")<0}if(r()){const p=String(n.navigator.userAgent);if(p.includes("Version/")){const[w,y]=p.split("Version/")[1].split(" ")[0].split(".").map(T=>Number(T));t=w<16||w===16&&y<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),d=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:d,isWebView:s}}function CI(){return Fp||(Fp=eB()),Fp}function tB(n){let{swiper:e,on:t,emit:r}=n;const s=mi();let o=null,d=null;const p=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},w=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(_=>{d=s.requestAnimationFrame(()=>{const{width:I,height:N}=e;let M=I,P=N;_.forEach(q=>{let{contentBoxSize:j,contentRect:K,target:F}=q;F&&F!==e.el||(M=K?K.width:(j[0]||j).inlineSize,P=K?K.height:(j[0]||j).blockSize)}),(M!==I||P!==N)&&p()})}),o.observe(e.el))},y=()=>{d&&s.cancelAnimationFrame(d),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},T=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){w();return}s.addEventListener("resize",p),s.addEventListener("orientationchange",T)}),t("destroy",()=>{y(),s.removeEventListener("resize",p),s.removeEventListener("orientationchange",T)})}function nB(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o=[],d=mi(),p=function(T,_){_===void 0&&(_={});const I=d.MutationObserver||d.WebkitMutationObserver,N=new I(M=>{if(e.__preventObserver__)return;if(M.length===1){s("observerUpdate",M[0]);return}const P=function(){s("observerUpdate",M[0])};d.requestAnimationFrame?d.requestAnimationFrame(P):d.setTimeout(P,0)});N.observe(T,{attributes:typeof _.attributes>"u"?!0:_.attributes,childList:e.isElement||(typeof _.childList>"u"?!0:_).childList,characterData:typeof _.characterData>"u"?!0:_.characterData}),o.push(N)},w=()=>{if(e.params.observer){if(e.params.observeParents){const T=Z7(e.hostEl);for(let _=0;_<T.length;_+=1)p(T[_])}p(e.hostEl,{childList:e.params.observeSlideChildren}),p(e.wrapperEl,{attributes:!1})}},y=()=>{o.forEach(T=>{T.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",w),r("destroy",y)}var rB={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,d=new Array(o),p=0;p<o;p++)d[p]=arguments[p];e.apply(r,d)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,o=new Array(s),d=0;d<s;d++)o[d]=arguments[d];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(w=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(y=>{y.apply(r,[w,...t])}),n.eventsListeners&&n.eventsListeners[w]&&n.eventsListeners[w].forEach(y=>{y.apply(r,t)})}),n}};function iB(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(zo(r,"padding-left")||0,10)-parseInt(zo(r,"padding-right")||0,10),t=t-parseInt(zo(r,"padding-top")||0,10)-parseInt(zo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function sB(){const n=this;function e(W,X){return parseFloat(W.getPropertyValue(n.getDirectionLabel(X))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:d,wrongRTL:p}=n,w=n.virtual&&t.virtual.enabled,y=w?n.virtual.slides.length:n.slides.length,T=Zs(s,`.${n.params.slideClass}, swiper-slide`),_=w?n.virtual.slides.length:T.length;let I=[];const N=[],M=[];let P=t.slidesOffsetBefore;typeof P=="function"&&(P=t.slidesOffsetBefore.call(n));let q=t.slidesOffsetAfter;typeof q=="function"&&(q=t.slidesOffsetAfter.call(n));const j=n.snapGrid.length,K=n.slidesGrid.length;let F=t.spaceBetween,$=-P,ie=0,se=0;if(typeof o>"u")return;typeof F=="string"&&F.indexOf("%")>=0?F=parseFloat(F.replace("%",""))/100*o:typeof F=="string"&&(F=parseFloat(F)),n.virtualSize=-F,T.forEach(W=>{d?W.style.marginLeft="":W.style.marginRight="",W.style.marginBottom="",W.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Oh(r,"--swiper-centered-offset-before",""),Oh(r,"--swiper-centered-offset-after",""));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(T):n.grid&&n.grid.unsetSlides();let L;const O=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(W=>typeof t.breakpoints[W].slidesPerView<"u").length>0;for(let W=0;W<_;W+=1){L=0;let X;if(T[W]&&(X=T[W]),V&&n.grid.updateSlide(W,X,T),!(T[W]&&zo(X,"display")==="none")){if(t.slidesPerView==="auto"){O&&(T[W].style[n.getDirectionLabel("width")]="");const G=getComputedStyle(X),H=X.style.transform,_e=X.style.webkitTransform;if(H&&(X.style.transform="none"),_e&&(X.style.webkitTransform="none"),t.roundLengths)L=n.isHorizontal()?mT(X,"width"):mT(X,"height");else{const le=e(G,"width"),ae=e(G,"padding-left"),he=e(G,"padding-right"),be=e(G,"margin-left"),Re=e(G,"margin-right"),ee=G.getPropertyValue("box-sizing");if(ee&&ee==="border-box")L=le+be+Re;else{const{clientWidth:ye,offsetWidth:Ne}=X;L=le+ae+he+be+Re+(Ne-ye)}}H&&(X.style.transform=H),_e&&(X.style.webkitTransform=_e),t.roundLengths&&(L=Math.floor(L))}else L=(o-(t.slidesPerView-1)*F)/t.slidesPerView,t.roundLengths&&(L=Math.floor(L)),T[W]&&(T[W].style[n.getDirectionLabel("width")]=`${L}px`);T[W]&&(T[W].swiperSlideSize=L),M.push(L),t.centeredSlides?($=$+L/2+ie/2+F,ie===0&&W!==0&&($=$-o/2-F),W===0&&($=$-o/2-F),Math.abs($)<1/1e3&&($=0),t.roundLengths&&($=Math.floor($)),se%t.slidesPerGroup===0&&I.push($),N.push($)):(t.roundLengths&&($=Math.floor($)),(se-Math.min(n.params.slidesPerGroupSkip,se))%n.params.slidesPerGroup===0&&I.push($),N.push($),$=$+L+F),n.virtualSize+=L+F,ie=L,se+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+q,d&&p&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+F}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+F}px`),V&&n.grid.updateWrapperSize(L,I),!t.centeredSlides){const W=[];for(let X=0;X<I.length;X+=1){let G=I[X];t.roundLengths&&(G=Math.floor(G)),I[X]<=n.virtualSize-o&&W.push(G)}I=W,Math.floor(n.virtualSize-o)-Math.floor(I[I.length-1])>1&&I.push(n.virtualSize-o)}if(w&&t.loop){const W=M[0]+F;if(t.slidesPerGroup>1){const X=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),G=W*t.slidesPerGroup;for(let H=0;H<X;H+=1)I.push(I[I.length-1]+G)}for(let X=0;X<n.virtual.slidesBefore+n.virtual.slidesAfter;X+=1)t.slidesPerGroup===1&&I.push(I[I.length-1]+W),N.push(N[N.length-1]+W),n.virtualSize+=W}if(I.length===0&&(I=[0]),F!==0){const W=n.isHorizontal()&&d?"marginLeft":n.getDirectionLabel("marginRight");T.filter((X,G)=>!t.cssMode||t.loop?!0:G!==T.length-1).forEach(X=>{X.style[W]=`${F}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let W=0;M.forEach(G=>{W+=G+(F||0)}),W-=F;const X=W>o?W-o:0;I=I.map(G=>G<=0?-P:G>X?X+q:G)}if(t.centerInsufficientSlides){let W=0;M.forEach(G=>{W+=G+(F||0)}),W-=F;const X=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(W+X<o){const G=(o-W-X)/2;I.forEach((H,_e)=>{I[_e]=H-G}),N.forEach((H,_e)=>{N[_e]=H+G})}}if(Object.assign(n,{slides:T,snapGrid:I,slidesGrid:N,slidesSizesGrid:M}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Oh(r,"--swiper-centered-offset-before",`${-I[0]}px`),Oh(r,"--swiper-centered-offset-after",`${n.size/2-M[M.length-1]/2}px`);const W=-n.snapGrid[0],X=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(G=>G+W),n.slidesGrid=n.slidesGrid.map(G=>G+X)}if(_!==y&&n.emit("slidesLengthChange"),I.length!==j&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),N.length!==K&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!w&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const W=`${t.containerModifierClass}backface-hidden`,X=n.el.classList.contains(W);_<=t.maxBackfaceHiddenSlides?X||n.el.classList.add(W):X&&n.el.classList.remove(W)}}function aB(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const d=p=>r?e.slides[e.getSlideIndexByData(p)]:e.slides[p];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(p=>{t.push(p)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const p=e.activeIndex+o;if(p>e.slides.length&&!r)break;t.push(d(p))}else t.push(d(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const p=t[o].offsetHeight;s=p>s?p:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function oB(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const yT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function lB(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let d=-n;s&&(d=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let p=t.spaceBetween;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*e.size:typeof p=="string"&&(p=parseFloat(p));for(let w=0;w<r.length;w+=1){const y=r[w];let T=y.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(T-=r[0].swiperSlideOffset);const _=(d+(t.centeredSlides?e.minTranslate():0)-T)/(y.swiperSlideSize+p),I=(d-o[0]+(t.centeredSlides?e.minTranslate():0)-T)/(y.swiperSlideSize+p),N=-(d-T),M=N+e.slidesSizesGrid[w],P=N>=0&&N<=e.size-e.slidesSizesGrid[w],q=N>=0&&N<e.size-1||M>1&&M<=e.size||N<=0&&M>=e.size;q&&(e.visibleSlides.push(y),e.visibleSlidesIndexes.push(w)),yT(y,q,t.slideVisibleClass),yT(y,P,t.slideFullyVisibleClass),y.progress=s?-_:_,y.originalProgress=s?-I:I}}function cB(n){const e=this;if(typeof n>"u"){const T=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*T||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:d,progressLoop:p}=e;const w=o,y=d;if(r===0)s=0,o=!0,d=!0;else{s=(n-e.minTranslate())/r;const T=Math.abs(n-e.minTranslate())<1,_=Math.abs(n-e.maxTranslate())<1;o=T||s<=0,d=_||s>=1,T&&(s=0),_&&(s=1)}if(t.loop){const T=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),I=e.slidesGrid[T],N=e.slidesGrid[_],M=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=I?p=(P-I)/M:p=(P+M-N)/M,p>1&&(p-=1)}Object.assign(e,{progress:s,progressLoop:p,isBeginning:o,isEnd:d}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!w&&e.emit("reachBeginning toEdge"),d&&!y&&e.emit("reachEnd toEdge"),(w&&!o||y&&!d)&&e.emit("fromEdge"),e.emit("progress",s)}const zp=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function uB(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,d=n.grid&&t.grid&&t.grid.rows>1,p=_=>Zs(r,`.${t.slideClass}${_}, swiper-slide${_}`)[0];let w,y,T;if(o)if(t.loop){let _=s-n.virtual.slidesBefore;_<0&&(_=n.virtual.slides.length+_),_>=n.virtual.slides.length&&(_-=n.virtual.slides.length),w=p(`[data-swiper-slide-index="${_}"]`)}else w=p(`[data-swiper-slide-index="${s}"]`);else d?(w=e.find(_=>_.column===s),T=e.find(_=>_.column===s+1),y=e.find(_=>_.column===s-1)):w=e[s];w&&(d||(T=Q7(w,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!T&&(T=e[0]),y=K7(w,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y===0&&(y=e[e.length-1]))),e.forEach(_=>{zp(_,_===w,t.slideActiveClass),zp(_,_===T,t.slideNextClass),zp(_,_===y,t.slidePrevClass)}),n.emitSlidesClasses()}const Kh=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},jp=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},sy=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const d=s,p=[d-e];p.push(...Array.from({length:e}).map((w,y)=>d+r+y)),n.slides.forEach((w,y)=>{p.includes(w.column)&&jp(n,y)});return}const o=s+r-1;if(n.params.rewind||n.params.loop)for(let d=s-e;d<=o+e;d+=1){const p=(d%t+t)%t;(p<s||p>o)&&jp(n,p)}else for(let d=Math.max(s-e,0);d<=Math.min(o+e,t-1);d+=1)d!==s&&(d>o||d<s)&&jp(n,d)};function fB(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?s=o:r>=e[o]&&r<e[o+1]&&(s=o+1):r>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function dB(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:o,realIndex:d,snapIndex:p}=e;let w=n,y;const T=N=>{let M=N-e.virtual.slidesBefore;return M<0&&(M=e.virtual.slides.length+M),M>=e.virtual.slides.length&&(M-=e.virtual.slides.length),M};if(typeof w>"u"&&(w=fB(e)),r.indexOf(t)>=0)y=r.indexOf(t);else{const N=Math.min(s.slidesPerGroupSkip,w);y=N+Math.floor((w-N)/s.slidesPerGroup)}if(y>=r.length&&(y=r.length-1),w===o&&!e.params.loop){y!==p&&(e.snapIndex=y,e.emit("snapIndexChange"));return}if(w===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=T(w);return}const _=e.grid&&s.grid&&s.grid.rows>1;let I;if(e.virtual&&s.virtual.enabled&&s.loop)I=T(w);else if(_){const N=e.slides.find(P=>P.column===w);let M=parseInt(N.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(e.slides.indexOf(N),0)),I=Math.floor(M/s.grid.rows)}else if(e.slides[w]){const N=e.slides[w].getAttribute("data-swiper-slide-index");N?I=parseInt(N,10):I=w}else I=w;Object.assign(e,{previousSnapIndex:p,snapIndex:y,previousRealIndex:d,realIndex:I,previousIndex:o,activeIndex:w}),e.initialized&&sy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(d!==I&&e.emit("realIndexChange"),e.emit("slideChange"))}function hB(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(p=>{!s&&p.matches&&p.matches(`.${r.slideClass}, swiper-slide`)&&(s=p)});let o=!1,d;if(s){for(let p=0;p<t.slides.length;p+=1)if(t.slides[p]===s){o=!0,d=p;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var gB={updateSize:iB,updateSlides:sB,updateAutoHeight:aB,updateSlidesOffset:oB,updateSlidesProgress:lB,updateProgress:cB,updateSlidesClasses:uB,updateActiveIndex:dB,updateClickedSlide:hB};function pB(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let d=q7(o,n);return d+=e.cssOverflowAdjustment(),r&&(d=-d),d||0}function mB(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:o,progress:d}=t;let p=0,w=0;const y=0;t.isHorizontal()?p=r?-n:n:w=n,s.roundLengths&&(p=Math.floor(p),w=Math.floor(w)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?p:w,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-p:-w:s.virtualTranslate||(t.isHorizontal()?p-=t.cssOverflowAdjustment():w-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${p}px, ${w}px, ${y}px)`);let T;const _=t.maxTranslate()-t.minTranslate();_===0?T=0:T=(n-t.minTranslate())/_,T!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function yB(){return-this.snapGrid[0]}function wB(){return-this.snapGrid[this.snapGrid.length-1]}function xB(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:d,wrapperEl:p}=o;if(o.animating&&d.preventInteractionOnTransition)return!1;const w=o.minTranslate(),y=o.maxTranslate();let T;if(r&&n>w?T=w:r&&n<y?T=y:T=n,o.updateProgress(T),d.cssMode){const _=o.isHorizontal();if(e===0)p[_?"scrollLeft":"scrollTop"]=-T;else{if(!o.support.smoothScroll)return AI({swiper:o,targetPosition:-T,side:_?"left":"top"}),!0;p.scrollTo({[_?"left":"top"]:-T,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(T),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(T),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(I){!o||o.destroyed||I.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var vB={getTranslate:pB,setTranslate:mB,minTranslate:yB,maxTranslate:wB,translateTo:xB};function bB(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function II(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:o,previousIndex:d}=e;let p=r;if(p||(o>d?p="next":o<d?p="prev":p="reset"),e.emit(`transition${s}`),t&&o!==d){if(p==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),p==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function EB(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),II({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function TB(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),II({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var AB={setTransition:bB,transitionStart:EB,transitionEnd:TB};function _B(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let d=n;d<0&&(d=0);const{params:p,snapGrid:w,slidesGrid:y,previousIndex:T,activeIndex:_,rtlTranslate:I,wrapperEl:N,enabled:M}=o;if(!M&&!r&&!s||o.destroyed||o.animating&&p.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const P=Math.min(o.params.slidesPerGroupSkip,d);let q=P+Math.floor((d-P)/o.params.slidesPerGroup);q>=w.length&&(q=w.length-1);const j=-w[q];if(p.normalizeSlideIndex)for(let V=0;V<y.length;V+=1){const L=-Math.floor(j*100),O=Math.floor(y[V]*100),W=Math.floor(y[V+1]*100);typeof y[V+1]<"u"?L>=O&&L<W-(W-O)/2?d=V:L>=O&&L<W&&(d=V+1):L>=O&&(d=V)}if(o.initialized&&d!==_&&(!o.allowSlideNext&&(I?j>o.translate&&j>o.minTranslate():j<o.translate&&j<o.minTranslate())||!o.allowSlidePrev&&j>o.translate&&j>o.maxTranslate()&&(_||0)!==d))return!1;d!==(T||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(j);let K;d>_?K="next":d<_?K="prev":K="reset";const F=o.virtual&&o.params.virtual.enabled;if(!(F&&s)&&(I&&-j===o.translate||!I&&j===o.translate))return o.updateActiveIndex(d),p.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),p.effect!=="slide"&&o.setTranslate(j),K!=="reset"&&(o.transitionStart(t,K),o.transitionEnd(t,K)),!1;if(p.cssMode){const V=o.isHorizontal(),L=I?j:-j;if(e===0)F&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),F&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{N[V?"scrollLeft":"scrollTop"]=L})):N[V?"scrollLeft":"scrollTop"]=L,F&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return AI({swiper:o,targetPosition:L,side:V?"left":"top"}),!0;N.scrollTo({[V?"left":"top"]:L,behavior:"smooth"})}return!0}const se=CI().isSafari;return F&&!s&&se&&o.isElement&&o.virtual.update(!1,!1,d),o.setTransition(e),o.setTranslate(j),o.updateActiveIndex(d),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,K),e===0?o.transitionEnd(t,K):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(L){!o||o.destroyed||L.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,K))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function SB(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let d=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)d=d+s.virtual.slidesBefore;else{let p;if(o){const I=d*s.params.grid.rows;p=s.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===I).column}else p=s.getSlideIndexByData(d);const w=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:y}=s.params;let T=s.params.slidesPerView;T==="auto"?T=s.slidesPerViewDynamic():(T=Math.ceil(parseFloat(s.params.slidesPerView,10)),y&&T%2===0&&(T=T+1));let _=w-p<T;if(y&&(_=_||p<Math.ceil(T/2)),r&&y&&s.params.slidesPerView!=="auto"&&!o&&(_=!1),_){const I=y?p<s.activeIndex?"prev":"next":p-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:I,slideTo:!0,activeSlideIndex:I==="next"?p+1:p-w+1,slideRealIndex:I==="next"?s.realIndex:void 0})}if(o){const I=d*s.params.grid.rows;d=s.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===I).column}else d=s.getSlideIndexByData(d)}return requestAnimationFrame(()=>{s.slideTo(d,e,t,r)}),s}function CB(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:o,animating:d}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let p=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(p=Math.max(r.slidesPerViewDynamic("current",!0),1));const w=r.activeIndex<o.slidesPerGroupSkip?1:p,y=r.virtual&&o.virtual.enabled;if(o.loop){if(d&&!y&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+w,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+w,n,e,t)}function IB(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:o,slidesGrid:d,rtlTranslate:p,enabled:w,animating:y}=r;if(!w||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const T=r.virtual&&s.virtual.enabled;if(s.loop){if(y&&!T&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const _=p?r.translate:-r.translate;function I(K){return K<0?-Math.floor(Math.abs(K)):Math.floor(K)}const N=I(_),M=o.map(K=>I(K)),P=s.freeMode&&s.freeMode.enabled;let q=o[M.indexOf(N)-1];if(typeof q>"u"&&(s.cssMode||P)){let K;o.forEach((F,$)=>{N>=F&&(K=$)}),typeof K<"u"&&(q=P?o[K]:o[K>0?K-1:K])}let j=0;if(typeof q<"u"&&(j=d.indexOf(q),j<0&&(j=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(j=j-r.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),s.rewind&&r.isBeginning){const K=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(K,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(j,n,e,t)}),!0;return r.slideTo(j,n,e,t)}function RB(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function NB(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const d=Math.min(s.params.slidesPerGroupSkip,o),p=d+Math.floor((o-d)/s.params.slidesPerGroup),w=s.rtlTranslate?s.translate:-s.translate;if(w>=s.snapGrid[p]){const y=s.snapGrid[p],T=s.snapGrid[p+1];w-y>(T-y)*r&&(o+=s.params.slidesPerGroup)}else{const y=s.snapGrid[p-1],T=s.snapGrid[p];w-y<=(T-y)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function MB(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const d=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(Zs(t,`${d}[data-swiper-slide-index="${o}"]`)[0]),iy(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(Zs(t,`${d}[data-swiper-slide-index="${o}"]`)[0]),iy(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var DB={slideTo:_B,slideToLoop:SB,slideNext:CB,slidePrev:IB,slideReset:RB,slideToClosest:NB,slideToClickedSlide:MB};function OB(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{Zs(s,`.${r.slideClass}, swiper-slide`).forEach((I,N)=>{I.setAttribute("data-swiper-slide-index",N)})},d=t.grid&&r.grid&&r.grid.rows>1,p=r.slidesPerGroup*(d?r.grid.rows:1),w=t.slides.length%p!==0,y=d&&t.slides.length%r.grid.rows!==0,T=_=>{for(let I=0;I<_;I+=1){const N=t.isElement?C0("swiper-slide",[r.slideBlankClass]):C0("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(N)}};if(w){if(r.loopAddBlankSlides){const _=p-t.slides.length%p;T(_),t.recalcSlides(),t.updateSlides()}else S0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(y){if(r.loopAddBlankSlides){const _=r.grid.rows-t.slides.length%r.grid.rows;T(_),t.recalcSlides(),t.updateSlides()}else S0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function kB(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:o,initial:d,byController:p,byMousewheel:w}=n===void 0?{}:n;const y=this;if(!y.params.loop)return;y.emit("beforeLoopFix");const{slides:T,allowSlidePrev:_,allowSlideNext:I,slidesEl:N,params:M}=y,{centeredSlides:P,initialSlide:q}=M;if(y.allowSlidePrev=!0,y.allowSlideNext=!0,y.virtual&&M.virtual.enabled){t&&(!M.centeredSlides&&y.snapIndex===0?y.slideTo(y.virtual.slides.length,0,!1,!0):M.centeredSlides&&y.snapIndex<M.slidesPerView?y.slideTo(y.virtual.slides.length+y.snapIndex,0,!1,!0):y.snapIndex===y.snapGrid.length-1&&y.slideTo(y.virtual.slidesBefore,0,!1,!0)),y.allowSlidePrev=_,y.allowSlideNext=I,y.emit("loopFix");return}let j=M.slidesPerView;j==="auto"?j=y.slidesPerViewDynamic():(j=Math.ceil(parseFloat(M.slidesPerView,10)),P&&j%2===0&&(j=j+1));const K=M.slidesPerGroupAuto?j:M.slidesPerGroup;let F=K;F%K!==0&&(F+=K-F%K),F+=M.loopAdditionalSlides,y.loopedSlides=F;const $=y.grid&&M.grid&&M.grid.rows>1;T.length<j+F||y.params.effect==="cards"&&T.length<j+F*2?S0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):$&&M.grid.fill==="row"&&S0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const ie=[],se=[],V=$?Math.ceil(T.length/M.grid.rows):T.length,L=d&&V-q<j&&!P;let O=L?q:y.activeIndex;typeof o>"u"?o=y.getSlideIndex(T.find(ae=>ae.classList.contains(M.slideActiveClass))):O=o;const W=r==="next"||!r,X=r==="prev"||!r;let G=0,H=0;const le=($?T[o].column:o)+(P&&typeof s>"u"?-j/2+.5:0);if(le<F){G=Math.max(F-le,K);for(let ae=0;ae<F-le;ae+=1){const he=ae-Math.floor(ae/V)*V;if($){const be=V-he-1;for(let Re=T.length-1;Re>=0;Re-=1)T[Re].column===be&&ie.push(Re)}else ie.push(V-he-1)}}else if(le+j>V-F){H=Math.max(le-(V-F*2),K),L&&(H=Math.max(H,j-V+q+1));for(let ae=0;ae<H;ae+=1){const he=ae-Math.floor(ae/V)*V;$?T.forEach((be,Re)=>{be.column===he&&se.push(Re)}):se.push(he)}}if(y.__preventObserver__=!0,requestAnimationFrame(()=>{y.__preventObserver__=!1}),y.params.effect==="cards"&&T.length<j+F*2&&(se.includes(o)&&se.splice(se.indexOf(o),1),ie.includes(o)&&ie.splice(ie.indexOf(o),1)),X&&ie.forEach(ae=>{T[ae].swiperLoopMoveDOM=!0,N.prepend(T[ae]),T[ae].swiperLoopMoveDOM=!1}),W&&se.forEach(ae=>{T[ae].swiperLoopMoveDOM=!0,N.append(T[ae]),T[ae].swiperLoopMoveDOM=!1}),y.recalcSlides(),M.slidesPerView==="auto"?y.updateSlides():$&&(ie.length>0&&X||se.length>0&&W)&&y.slides.forEach((ae,he)=>{y.grid.updateSlide(he,ae,y.slides)}),M.watchSlidesProgress&&y.updateSlidesOffset(),t){if(ie.length>0&&X){if(typeof e>"u"){const ae=y.slidesGrid[O],be=y.slidesGrid[O+G]-ae;w?y.setTranslate(y.translate-be):(y.slideTo(O+Math.ceil(G),0,!1,!0),s&&(y.touchEventsData.startTranslate=y.touchEventsData.startTranslate-be,y.touchEventsData.currentTranslate=y.touchEventsData.currentTranslate-be))}else if(s){const ae=$?ie.length/M.grid.rows:ie.length;y.slideTo(y.activeIndex+ae,0,!1,!0),y.touchEventsData.currentTranslate=y.translate}}else if(se.length>0&&W)if(typeof e>"u"){const ae=y.slidesGrid[O],be=y.slidesGrid[O-H]-ae;w?y.setTranslate(y.translate-be):(y.slideTo(O-H,0,!1,!0),s&&(y.touchEventsData.startTranslate=y.touchEventsData.startTranslate-be,y.touchEventsData.currentTranslate=y.touchEventsData.currentTranslate-be))}else{const ae=$?se.length/M.grid.rows:se.length;y.slideTo(y.activeIndex-ae,0,!1,!0)}}if(y.allowSlidePrev=_,y.allowSlideNext=I,y.controller&&y.controller.control&&!p){const ae={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(y.controller.control)?y.controller.control.forEach(he=>{!he.destroyed&&he.params.loop&&he.loopFix({...ae,slideTo:he.params.slidesPerView===M.slidesPerView?t:!1})}):y.controller.control instanceof y.constructor&&y.controller.control.params.loop&&y.controller.control.loopFix({...ae,slideTo:y.controller.control.params.slidesPerView===M.slidesPerView?t:!1})}y.emit("loopFix")}function PB(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var LB={loopCreate:OB,loopFix:kB,loopDestroy:PB};function BB(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function VB(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var UB={setGrabCursor:BB,unsetGrabCursor:VB};function FB(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Yl()||r===mi())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function wT(n,e,t){const r=mi(),{params:s}=n,o=s.edgeSwipeDetection,d=s.edgeSwipeThreshold;return o&&(t<=d||t>=r.innerWidth-d)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function zB(n){const e=this,t=Yl();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){wT(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:d,enabled:p}=e;if(!p||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let w=r.target;if(o.touchEventsTarget==="wrapper"&&!X7(w,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const y=!!o.noSwipingClass&&o.noSwipingClass!=="",T=r.composedPath?r.composedPath():r.path;y&&r.target&&r.target.shadowRoot&&T&&(w=T[0]);const _=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,I=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(I?FB(_,w):w.closest(_))){e.allowClick=!0;return}if(o.swipeHandler&&!w.closest(o.swipeHandler))return;d.currentX=r.pageX,d.currentY=r.pageY;const N=d.currentX,M=d.currentY;if(!wT(e,r,N))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=N,d.startY=M,s.touchStartTime=_0(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let P=!0;w.matches(s.focusableElements)&&(P=!1,w.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==w&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!w.matches(s.focusableElements))&&t.activeElement.blur();const q=P&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||q)&&!w.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function jB(n){const e=Yl(),t=this,r=t.touchEventsData,{params:s,touches:o,rtlTranslate:d,enabled:p}=t;if(!p||!s.simulateTouch&&n.pointerType==="mouse")return;let w=n;if(w.originalEvent&&(w=w.originalEvent),w.type==="pointermove"&&(r.touchId!==null||w.pointerId!==r.pointerId))return;let y;if(w.type==="touchmove"){if(y=[...w.changedTouches].find(ie=>ie.identifier===r.touchId),!y||y.identifier!==r.touchId)return}else y=w;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",w);return}const T=y.pageX,_=y.pageY;if(w.preventedByNestedSwiper){o.startX=T,o.startY=_;return}if(!t.allowTouchMove){w.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:T,startY:_,currentX:T,currentY:_}),r.touchStartTime=_0());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(_<o.startY&&t.translate<=t.maxTranslate()||_>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(d&&(T>o.startX&&-t.translate<=t.maxTranslate()||T<o.startX&&-t.translate>=t.minTranslate()))return;if(!d&&(T<o.startX&&t.translate<=t.maxTranslate()||T>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==w.target&&w.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&w.target===e.activeElement&&w.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",w),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=T,o.currentY=_;const I=o.currentX-o.startX,N=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(I**2+N**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let ie;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:I*I+N*N>=25&&(ie=Math.atan2(Math.abs(N),Math.abs(I))*180/Math.PI,r.isScrolling=t.isHorizontal()?ie>s.touchAngle:90-ie>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",w),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||w.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&w.cancelable&&w.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&w.stopPropagation();let M=t.isHorizontal()?I:N,P=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(M=Math.abs(M)*(d?1:-1),P=Math.abs(P)*(d?1:-1)),o.diff=M,M*=s.touchRatio,d&&(M=-M,P=-P);const q=t.touchesDirection;t.swipeDirection=M>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const j=t.params.loop&&!s.cssMode,K=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(j&&K&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const ie=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(ie)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",w)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&q!==t.touchesDirection&&j&&K&&Math.abs(M)>=1){Object.assign(o,{startX:T,startY:_,currentX:T,currentY:_,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",w),r.isMoved=!0,r.currentTranslate=M+r.startTranslate;let F=!0,$=s.resistanceRatio;if(s.touchReleaseOnEdges&&($=0),M>0?(j&&K&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(F=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+M)**$))):M<0&&(j&&K&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(F=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-M)**$))),F&&(w.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(M)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function HB(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(ie=>ie.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:d,touches:p,rtlTranslate:w,slidesGrid:y,enabled:T}=e;if(!T||!d.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&d.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}d.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=_0(),I=_-t.touchStartTime;if(e.allowClick){const ie=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(ie&&ie[0]||r.target,ie),e.emit("tap click",r),I<300&&_-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=_0(),iy(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||p.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let N;if(d.followFinger?N=w?e.translate:-e.translate:N=-t.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:N});return}const M=N>=-e.maxTranslate()&&!e.params.loop;let P=0,q=e.slidesSizesGrid[0];for(let ie=0;ie<y.length;ie+=ie<d.slidesPerGroupSkip?1:d.slidesPerGroup){const se=ie<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof y[ie+se]<"u"?(M||N>=y[ie]&&N<y[ie+se])&&(P=ie,q=y[ie+se]-y[ie]):(M||N>=y[ie])&&(P=ie,q=y[y.length-1]-y[y.length-2])}let j=null,K=null;d.rewind&&(e.isBeginning?K=d.virtual&&d.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(j=0));const F=(N-y[P])/q,$=P<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(I>d.longSwipesMs){if(!d.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(F>=d.longSwipesRatio?e.slideTo(d.rewind&&e.isEnd?j:P+$):e.slideTo(P)),e.swipeDirection==="prev"&&(F>1-d.longSwipesRatio?e.slideTo(P+$):K!==null&&F<0&&Math.abs(F)>d.longSwipesRatio?e.slideTo(K):e.slideTo(P))}else{if(!d.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+$):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(j!==null?j:P+$),e.swipeDirection==="prev"&&e.slideTo(K!==null?K:P))}}function xT(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=n,d=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const p=d&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!p?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!d?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function GB(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function qB(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function YB(n){const e=this;Kh(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function WB(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const RI=(n,e)=>{const t=Yl(),{params:r,el:s,wrapperEl:o,device:d}=n,p=!!r.nested,w=e==="on"?"addEventListener":"removeEventListener",y=e;!s||typeof s=="string"||(t[w]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:p}),s[w]("touchstart",n.onTouchStart,{passive:!1}),s[w]("pointerdown",n.onTouchStart,{passive:!1}),t[w]("touchmove",n.onTouchMove,{passive:!1,capture:p}),t[w]("pointermove",n.onTouchMove,{passive:!1,capture:p}),t[w]("touchend",n.onTouchEnd,{passive:!0}),t[w]("pointerup",n.onTouchEnd,{passive:!0}),t[w]("pointercancel",n.onTouchEnd,{passive:!0}),t[w]("touchcancel",n.onTouchEnd,{passive:!0}),t[w]("pointerout",n.onTouchEnd,{passive:!0}),t[w]("pointerleave",n.onTouchEnd,{passive:!0}),t[w]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[w]("click",n.onClick,!0),r.cssMode&&o[w]("scroll",n.onScroll),r.updateOnWindowResize?n[y](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",xT,!0):n[y]("observerUpdate",xT,!0),s[w]("load",n.onLoad,{capture:!0}))};function XB(){const n=this,{params:e}=n;n.onTouchStart=zB.bind(n),n.onTouchMove=jB.bind(n),n.onTouchEnd=HB.bind(n),n.onDocumentTouchStart=WB.bind(n),e.cssMode&&(n.onScroll=qB.bind(n)),n.onClick=GB.bind(n),n.onLoad=YB.bind(n),RI(n,"on")}function KB(){RI(this,"off")}var QB={attachEvents:XB,detachEvents:KB};const vT=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function ZB(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const d=Yl(),p=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",w=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:d.querySelector(r.breakpointsBase),y=n.getBreakpoint(o,p,w);if(!y||n.currentBreakpoint===y)return;const _=(y in o?o[y]:void 0)||n.originalParams,I=vT(n,r),N=vT(n,_),M=n.params.grabCursor,P=_.grabCursor,q=r.enabled;I&&!N?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!I&&N&&(s.classList.add(`${r.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),M&&!P?n.unsetGrabCursor():!M&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(se=>{if(typeof _[se]>"u")return;const V=r[se]&&r[se].enabled,L=_[se]&&_[se].enabled;V&&!L&&n[se].disable(),!V&&L&&n[se].enable()});const j=_.direction&&_.direction!==r.direction,K=r.loop&&(_.slidesPerView!==r.slidesPerView||j),F=r.loop;j&&t&&n.changeDirection(),Qi(n.params,_);const $=n.params.enabled,ie=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),q&&!$?n.disable():!q&&$&&n.enable(),n.currentBreakpoint=y,n.emit("_beforeBreakpoint",_),t&&(K?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!F&&ie?(n.loopCreate(e),n.updateSlides()):F&&!ie&&n.loopDestroy()),n.emit("breakpoint",_)}function $B(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=mi(),o=e==="window"?s.innerHeight:t.clientHeight,d=Object.keys(n).map(p=>{if(typeof p=="string"&&p.indexOf("@")===0){const w=parseFloat(p.substr(1));return{value:o*w,point:p}}return{value:p,point:p}});d.sort((p,w)=>parseInt(p.value,10)-parseInt(w.value,10));for(let p=0;p<d.length;p+=1){const{point:w,value:y}=d[p];e==="window"?s.matchMedia(`(min-width: ${y}px)`).matches&&(r=w):y<=t.clientWidth&&(r=w)}return r||"max"}var JB={setBreakpoint:ZB,getBreakpoint:$B};function eV(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function tV(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:o}=n,d=eV(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),s.classList.add(...e),n.emitContainerClasses()}function nV(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var rV={addClasses:tV,removeClasses:nV};function iV(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var sV={checkOverflow:iV},ay={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function aV(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){Qi(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){Qi(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),Qi(e,r)}}const Hp={eventsEmitter:rB,update:gB,translate:vB,transition:AB,slide:DB,loop:LB,grabCursor:UB,events:QB,breakpoints:JB,checkOverflow:sV,classes:rV},Gp={};let Ew=class Ma{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=Qi({},t),e&&!t.el&&(t.el=e);const d=Yl();if(t.el&&typeof t.el=="string"&&d.querySelectorAll(t.el).length>1){const T=[];return d.querySelectorAll(t.el).forEach(_=>{const I=Qi({},t,{el:_});T.push(new Ma(I))}),T}const p=this;p.__swiper__=!0,p.support=_I(),p.device=SI({userAgent:t.userAgent}),p.browser=CI(),p.eventsListeners={},p.eventsAnyListeners=[],p.modules=[...p.__modules__],t.modules&&Array.isArray(t.modules)&&p.modules.push(...t.modules);const w={};p.modules.forEach(T=>{T({params:t,swiper:p,extendParams:aV(t,w),on:p.on.bind(p),once:p.once.bind(p),off:p.off.bind(p),emit:p.emit.bind(p)})});const y=Qi({},ay,w);return p.params=Qi({},y,Gp,t),p.originalParams=Qi({},p.params),p.passedParams=Qi({},t),p.params&&p.params.on&&Object.keys(p.params.on).forEach(T=>{p.on(T,p.params.on[T])}),p.params&&p.params.onAny&&p.onAny(p.params.onAny),Object.assign(p,{enabled:p.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return p.params.direction==="horizontal"},isVertical(){return p.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:p.params.allowSlideNext,allowSlidePrev:p.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:p.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:p.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),p.emit("_swiper"),p.params.init&&p.init(),p}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=Zs(t,`.${r.slideClass}, swiper-slide`),o=pT(s[0]);return pT(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Zs(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),d=(r.maxTranslate()-s)*e+s;r.translateTo(d,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:o,slidesGrid:d,slidesSizesGrid:p,size:w,activeIndex:y}=r;let T=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let _=o[y]?Math.ceil(o[y].swiperSlideSize):0,I;for(let N=y+1;N<o.length;N+=1)o[N]&&!I&&(_+=Math.ceil(o[N].swiperSlideSize),T+=1,_>w&&(I=!0));for(let N=y-1;N>=0;N-=1)o[N]&&!I&&(_+=o[N].swiperSlideSize,T+=1,_>w&&(I=!0))}else if(e==="current")for(let _=y+1;_<o.length;_+=1)(t?d[_]+p[_]-d[y]<w:d[_]-d[y]<w)&&(T+=1);else for(let _=y-1;_>=0;_-=1)d[y]-d[_]<w&&(T+=1);return T}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&Kh(e,d)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const d=e.rtlTranslate?e.translate*-1:e.translate,p=Math.min(Math.max(d,e.maxTranslate()),e.minTranslate());e.setTranslate(p),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const d=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(d.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Zs(r,s())[0];return!d&&t.params.createElements&&(d=C0("div",t.params.wrapperClass),r.append(d),Zs(r,`.${t.params.slideClass}`).forEach(p=>{d.append(p)})),Object.assign(t,{el:r,wrapperEl:d,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:d,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||zo(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||zo(r,"direction")==="rtl"),wrongRTL:zo(d,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?Kh(t,o):o.addEventListener("load",d=>{Kh(t,d.target)})}),sy(t),t.initialized=!0,sy(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:o,wrapperEl:d,slides:p}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),d&&d.removeAttribute("style"),p&&p.length&&p.forEach(w=>{w.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),w.removeAttribute("style"),w.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(w=>{r.off(w)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),H7(r)),r.destroyed=!0),null}static extendDefaults(e){Qi(Gp,e)}static get extendedDefaults(){return Gp}static get defaults(){return ay}static installModule(e){Ma.prototype.__modules__||(Ma.prototype.__modules__=[]);const t=Ma.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Ma.installModule(t)),Ma):(Ma.installModule(e),Ma)}};Object.keys(Hp).forEach(n=>{Object.keys(Hp[n]).forEach(e=>{Ew.prototype[e]=Hp[n][e]})});Ew.use([tB,nB]);const NI=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ul(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function eu(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Ul(e[r])&&Ul(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:eu(n[r],e[r]):n[r]=e[r]})}function MI(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function DI(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function OI(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function kI(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function oV(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function lV(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:o,prevEl:d,scrollbarEl:p,paginationEl:w}=n;const y=s.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:T,pagination:_,navigation:I,scrollbar:N,virtual:M,thumbs:P}=e;let q,j,K,F,$,ie,se,V;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&T.thumbs&&(!T.thumbs.swiper||T.thumbs.swiper.destroyed)&&(q=!0),s.includes("controller")&&r.controller&&r.controller.control&&T.controller&&!T.controller.control&&(j=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||w)&&(T.pagination||T.pagination===!1)&&_&&!_.el&&(K=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||p)&&(T.scrollbar||T.scrollbar===!1)&&N&&!N.el&&(F=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||d)&&(r.navigation.nextEl||o)&&(T.navigation||T.navigation===!1)&&I&&!I.prevEl&&!I.nextEl&&($=!0);const L=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),T[O].prevEl=void 0,T[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),T[O].el=void 0,e[O].el=void 0))};s.includes("loop")&&e.isElement&&(T.loop&&!r.loop?ie=!0:!T.loop&&r.loop?se=!0:V=!0),y.forEach(O=>{if(Ul(T[O])&&Ul(r[O]))Object.assign(T[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&L(O);else{const W=r[O];(W===!0||W===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?W===!1&&L(O):T[O]=r[O]}}),y.includes("controller")&&!j&&e.controller&&e.controller.control&&T.controller&&T.controller.control&&(e.controller.control=T.controller.control),s.includes("children")&&t&&M&&T.virtual.enabled?(M.slides=t,M.update(!0)):s.includes("virtual")&&M&&T.virtual.enabled&&(t&&(M.slides=t),M.update(!0)),s.includes("children")&&t&&T.loop&&(V=!0),q&&P.init()&&P.update(!0),j&&(e.controller.control=T.controller.control),K&&(e.isElement&&(!w||typeof w=="string")&&(w=document.createElement("div"),w.classList.add("swiper-pagination"),w.part.add("pagination"),e.el.appendChild(w)),w&&(T.pagination.el=w),_.init(),_.render(),_.update()),F&&(e.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-scrollbar"),p.part.add("scrollbar"),e.el.appendChild(p)),p&&(T.scrollbar.el=p),N.init(),N.updateSize(),N.setTranslate()),$&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),d.innerHTML=e.hostEl.constructor.prevButtonSvg,d.part.add("button-prev"),e.el.appendChild(d))),o&&(T.navigation.nextEl=o),d&&(T.navigation.prevEl=d),I.init(),I.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(ie||V)&&e.loopDestroy(),(se||V)&&e.loopCreate(),e.update()}function cV(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};eu(t,ay),t._emitClasses=!0,t.init=!1;const o={},d=NI.map(w=>w.replace(/_/,"")),p=Object.assign({},n);return Object.keys(p).forEach(w=>{typeof n[w]>"u"||(d.indexOf(w)>=0?Ul(n[w])?(t[w]={},s[w]={},eu(t[w],n[w]),eu(s[w],n[w])):(t[w]=n[w],s[w]=n[w]):w.search(/on[A-Z]/)===0&&typeof n[w]=="function"?e?r[`${w[2].toLowerCase()}${w.substr(3)}`]=n[w]:t.on[`${w[2].toLowerCase()}${w.substr(3)}`]=n[w]:o[w]=n[w])}),["navigation","pagination","scrollbar"].forEach(w=>{t[w]===!0&&(t[w]={}),t[w]===!1&&delete t[w]}),{params:t,passedParams:s,rest:o,events:r}}function uV(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:o,scrollbarEl:d,swiper:p}=n;MI(e)&&r&&s&&(p.params.navigation.nextEl=r,p.originalParams.navigation.nextEl=r,p.params.navigation.prevEl=s,p.originalParams.navigation.prevEl=s),DI(e)&&o&&(p.params.pagination.el=o,p.originalParams.pagination.el=o),OI(e)&&d&&(p.params.scrollbar.el=d,p.originalParams.scrollbar.el=d),p.init(t)}function fV(n,e,t,r,s){const o=[];if(!e)return o;const d=w=>{o.indexOf(w)<0&&o.push(w)};if(t&&r){const w=r.map(s),y=t.map(s);w.join("")!==y.join("")&&d("children"),r.length!==t.length&&d("children")}return NI.filter(w=>w[0]==="_").map(w=>w.replace(/_/,"")).forEach(w=>{if(w in n&&w in e)if(Ul(n[w])&&Ul(e[w])){const y=Object.keys(n[w]),T=Object.keys(e[w]);y.length!==T.length?d(w):(y.forEach(_=>{n[w][_]!==e[w][_]&&d(w)}),T.forEach(_=>{n[w][_]!==e[w][_]&&d(w)}))}else n[w]!==e[w]&&d(w)}),o}const dV=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function I0(){return I0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},I0.apply(this,arguments)}function PI(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function LI(n){const e=[];return yn.Children.toArray(n).forEach(t=>{PI(t)?e.push(t):t.props&&t.props.children&&LI(t.props.children).forEach(r=>e.push(r))}),e}function hV(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return yn.Children.toArray(n).forEach(r=>{if(PI(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=LI(r.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function gV(n,e,t){if(!t)return null;const r=T=>{let _=T;return T<0?_=e.length+T:_>=e.length&&(_=_-e.length),_},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:d}=t,p=n.params.loop?-e.length:0,w=n.params.loop?e.length*2:e.length,y=[];for(let T=p;T<w;T+=1)T>=o&&T<=d&&y.push(e[r(T)]);return y.map((T,_)=>yn.cloneElement(T,{swiper:n,style:s,key:T.props.virtualIndex||T.key||`slide-${_}`}))}function Lf(n,e){return typeof window>"u"?Z.useEffect(n,e):Z.useLayoutEffect(n,e)}const bT=Z.createContext(null),pV=Z.createContext(null),BI=Z.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:o,onSwiper:d,...p}=n===void 0?{}:n,w=!1;const[y,T]=Z.useState("swiper"),[_,I]=Z.useState(null),[N,M]=Z.useState(!1),P=Z.useRef(!1),q=Z.useRef(null),j=Z.useRef(null),K=Z.useRef(null),F=Z.useRef(null),$=Z.useRef(null),ie=Z.useRef(null),se=Z.useRef(null),V=Z.useRef(null),{params:L,passedParams:O,rest:W,events:X}=cV(p),{slides:G,slots:H}=hV(o),_e=()=>{M(!N)};Object.assign(L.on,{_containerClasses(Re,ee){T(ee)}});const le=()=>{Object.assign(L.on,X),w=!0;const Re={...L};if(delete Re.wrapperClass,j.current=new Ew(Re),j.current.virtual&&j.current.params.virtual.enabled){j.current.virtual.slides=G;const ee={cache:!1,slides:G,renderExternal:I,renderExternalUpdate:!1};eu(j.current.params.virtual,ee),eu(j.current.originalParams.virtual,ee)}};q.current||le(),j.current&&j.current.on("_beforeBreakpoint",_e);const ae=()=>{w||!X||!j.current||Object.keys(X).forEach(Re=>{j.current.on(Re,X[Re])})},he=()=>{!X||!j.current||Object.keys(X).forEach(Re=>{j.current.off(Re,X[Re])})};Z.useEffect(()=>()=>{j.current&&j.current.off("_beforeBreakpoint",_e)}),Z.useEffect(()=>{!P.current&&j.current&&(j.current.emitSlidesClasses(),P.current=!0)}),Lf(()=>{if(e&&(e.current=q.current),!!q.current)return j.current.destroyed&&le(),uV({el:q.current,nextEl:$.current,prevEl:ie.current,paginationEl:se.current,scrollbarEl:V.current,swiper:j.current},L),d&&!j.current.destroyed&&d(j.current),()=>{j.current&&!j.current.destroyed&&j.current.destroy(!0,!1)}},[]),Lf(()=>{ae();const Re=fV(O,K.current,G,F.current,ee=>ee.key);return K.current=O,F.current=G,Re.length&&j.current&&!j.current.destroyed&&lV({swiper:j.current,slides:G,passedParams:O,changedParams:Re,nextEl:$.current,prevEl:ie.current,scrollbarEl:V.current,paginationEl:se.current}),()=>{he()}}),Lf(()=>{dV(j.current)},[_]);function be(){return L.virtual?gV(j.current,G,_):G.map((Re,ee)=>yn.cloneElement(Re,{swiper:j.current,swiperSlideIndex:ee}))}return yn.createElement(r,I0({ref:q,className:kI(`${y}${t?` ${t}`:""}`)},W),yn.createElement(pV.Provider,{value:j.current},H["container-start"],yn.createElement(s,{className:oV(L.wrapperClass)},H["wrapper-start"],be(),H["wrapper-end"]),MI(L)&&yn.createElement(yn.Fragment,null,yn.createElement("div",{ref:ie,className:"swiper-button-prev"}),yn.createElement("div",{ref:$,className:"swiper-button-next"})),OI(L)&&yn.createElement("div",{ref:V,className:"swiper-scrollbar"}),DI(L)&&yn.createElement("div",{ref:se,className:"swiper-pagination"}),H["container-end"]))});BI.displayName="Swiper";const oy=Z.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:o,zoom:d,lazy:p,virtualIndex:w,swiperSlideIndex:y,...T}=n===void 0?{}:n;const _=Z.useRef(null),[I,N]=Z.useState("swiper-slide"),[M,P]=Z.useState(!1);function q($,ie,se){ie===_.current&&N(se)}Lf(()=>{if(typeof y<"u"&&(_.current.swiperSlideIndex=y),e&&(e.current=_.current),!(!_.current||!o)){if(o.destroyed){I!=="swiper-slide"&&N("swiper-slide");return}return o.on("_slideClass",q),()=>{o&&o.off("_slideClass",q)}}}),Lf(()=>{o&&_.current&&!o.destroyed&&N(o.getSlideClasses(_.current))},[o]);const j={isActive:I.indexOf("swiper-slide-active")>=0,isVisible:I.indexOf("swiper-slide-visible")>=0,isPrev:I.indexOf("swiper-slide-prev")>=0,isNext:I.indexOf("swiper-slide-next")>=0},K=()=>typeof r=="function"?r(j):r,F=()=>{P(!0)};return yn.createElement(t,I0({ref:_,className:kI(`${I}${s?` ${s}`:""}`),"data-swiper-slide-index":w,onLoad:F},T),d&&yn.createElement(bT.Provider,{value:j},yn.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof d=="number"?d:void 0},K(),p&&!M&&yn.createElement("div",{className:"swiper-lazy-preloader"}))),!d&&yn.createElement(bT.Provider,{value:j},K(),p&&!M&&yn.createElement("div",{className:"swiper-lazy-preloader"})))});oy.displayName="SwiperSlide";function mV(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let o=Zs(n.el,`.${r[s]}`)[0];o||(o=C0("div",r[s]),o.className=r[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function yV(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(M){let P;return M&&typeof M=="string"&&e.isElement&&(P=e.el.querySelector(M)||e.hostEl.querySelector(M),P)?P:(M&&(typeof M=="string"&&(P=[...document.querySelectorAll(M)]),e.params.uniqueNavElements&&typeof M=="string"&&P&&P.length>1&&e.el.querySelectorAll(M).length===1?P=e.el.querySelector(M):P&&P.length===1&&(P=P[0])),M&&!P?M:P)}function d(M,P){const q=e.params.navigation;M=Na(M),M.forEach(j=>{j&&(j.classList[P?"add":"remove"](...q.disabledClass.split(" ")),j.tagName==="BUTTON"&&(j.disabled=P),e.params.watchOverflow&&e.enabled&&j.classList[e.isLocked?"add":"remove"](q.lockClass))})}function p(){const{nextEl:M,prevEl:P}=e.navigation;if(e.params.loop){d(P,!1),d(M,!1);return}d(P,e.isBeginning&&!e.params.rewind),d(M,e.isEnd&&!e.params.rewind)}function w(M){M.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function y(M){M.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function T(){const M=e.params.navigation;if(e.params.navigation=mV(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(M.nextEl||M.prevEl))return;let P=o(M.nextEl),q=o(M.prevEl);Object.assign(e.navigation,{nextEl:P,prevEl:q}),P=Na(P),q=Na(q);const j=(K,F)=>{K&&K.addEventListener("click",F==="next"?y:w),!e.enabled&&K&&K.classList.add(...M.lockClass.split(" "))};P.forEach(K=>j(K,"next")),q.forEach(K=>j(K,"prev"))}function _(){let{nextEl:M,prevEl:P}=e.navigation;M=Na(M),P=Na(P);const q=(j,K)=>{j.removeEventListener("click",K==="next"?y:w),j.classList.remove(...e.params.navigation.disabledClass.split(" "))};M.forEach(j=>q(j,"next")),P.forEach(j=>q(j,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?N():(T(),p())}),r("toEdge fromEdge lock unlock",()=>{p()}),r("destroy",()=>{_()}),r("enable disable",()=>{let{nextEl:M,prevEl:P}=e.navigation;if(M=Na(M),P=Na(P),e.enabled){p();return}[...M,...P].filter(q=>!!q).forEach(q=>q.classList.add(e.params.navigation.lockClass))}),r("click",(M,P)=>{let{nextEl:q,prevEl:j}=e.navigation;q=Na(q),j=Na(j);const K=P.target;let F=j.includes(K)||q.includes(K);if(e.isElement&&!F){const $=P.path||P.composedPath&&P.composedPath();$&&(F=$.find(ie=>q.includes(ie)||j.includes(ie)))}if(e.params.navigation.hideOnClick&&!F){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===K||e.pagination.el.contains(K)))return;let $;q.length?$=q[0].classList.contains(e.params.navigation.hiddenClass):j.length&&($=j[0].classList.contains(e.params.navigation.hiddenClass)),s($===!0?"navigationShow":"navigationHide"),[...q,...j].filter(ie=>!!ie).forEach(ie=>ie.classList.toggle(e.params.navigation.hiddenClass))}});const I=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),T(),p()},N=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),_()};Object.assign(e.navigation,{enable:I,disable:N,update:p,init:T,destroy:_})}function R0(n){if(n==null||n==="")return"";const e=n instanceof Un?n.toDate():n instanceof Date?n:new Date(n);if(isNaN(e.getTime()))return"";const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return`${t}/${r}/${s}`}async function N0(n){var s;const e=new FormData;e.append("file",n),e.append("upload_preset","free_preset");const t=await fetch("https://api.cloudinary.com/v1_1/dmzp8kowf/upload",{method:"POST",body:e}),r=await t.json();if(!t.ok)throw new Error(((s=r.error)==null?void 0:s.message)||"Upload failed");return r.secure_url}var Oc={},qp,ET;function wV(){return ET||(ET=1,qp=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),qp}var Yp={},Po={},TT;function Wl(){if(TT)return Po;TT=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Po.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Po.getSymbolTotalCodewords=function(r){return e[r]},Po.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},Po.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Po.isKanjiModeEnabled=function(){return typeof n<"u"},Po.toSJIS=function(r){return n(r)},Po}var Wp={},AT;function Tw(){return AT||(AT=1,function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,s){if(n.isValid(r))return r;try{return e(r)}catch{return s}}}(Wp)),Wp}var Xp,_T;function xV(){if(_T)return Xp;_T=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Xp=n,Xp}var Kp,ST;function vV(){if(ST)return Kp;ST=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,s){const o=e*this.size+t;this.data[o]=r,s&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Kp=n,Kp}var Qp={},CT;function bV(){return CT||(CT=1,function(n){const e=Wl().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,o=e(r),d=o===145?26:Math.ceil((o-13)/(2*s-2))*2,p=[o-7];for(let w=1;w<s-1;w++)p[w]=p[w-1]-d;return p.push(6),p.reverse()},n.getPositions=function(r){const s=[],o=n.getRowColCoords(r),d=o.length;for(let p=0;p<d;p++)for(let w=0;w<d;w++)p===0&&w===0||p===0&&w===d-1||p===d-1&&w===0||s.push([o[p],o[w]]);return s}}(Qp)),Qp}var Zp={},IT;function EV(){if(IT)return Zp;IT=1;const n=Wl().getSymbolSize,e=7;return Zp.getPositions=function(r){const s=n(r);return[[0,0],[s-e,0],[0,s-e]]},Zp}var $p={},RT;function TV(){return RT||(RT=1,function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},n.from=function(s){return n.isValid(s)?parseInt(s,10):void 0},n.getPenaltyN1=function(s){const o=s.size;let d=0,p=0,w=0,y=null,T=null;for(let _=0;_<o;_++){p=w=0,y=T=null;for(let I=0;I<o;I++){let N=s.get(_,I);N===y?p++:(p>=5&&(d+=e.N1+(p-5)),y=N,p=1),N=s.get(I,_),N===T?w++:(w>=5&&(d+=e.N1+(w-5)),T=N,w=1)}p>=5&&(d+=e.N1+(p-5)),w>=5&&(d+=e.N1+(w-5))}return d},n.getPenaltyN2=function(s){const o=s.size;let d=0;for(let p=0;p<o-1;p++)for(let w=0;w<o-1;w++){const y=s.get(p,w)+s.get(p,w+1)+s.get(p+1,w)+s.get(p+1,w+1);(y===4||y===0)&&d++}return d*e.N2},n.getPenaltyN3=function(s){const o=s.size;let d=0,p=0,w=0;for(let y=0;y<o;y++){p=w=0;for(let T=0;T<o;T++)p=p<<1&2047|s.get(y,T),T>=10&&(p===1488||p===93)&&d++,w=w<<1&2047|s.get(T,y),T>=10&&(w===1488||w===93)&&d++}return d*e.N3},n.getPenaltyN4=function(s){let o=0;const d=s.data.length;for(let w=0;w<d;w++)o+=s.data[w];return Math.abs(Math.ceil(o*100/d/5)-10)*e.N4};function t(r,s,o){switch(r){case n.Patterns.PATTERN000:return(s+o)%2===0;case n.Patterns.PATTERN001:return s%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(s+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return s*o%2+s*o%3===0;case n.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case n.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(s,o){const d=o.size;for(let p=0;p<d;p++)for(let w=0;w<d;w++)o.isReserved(w,p)||o.xor(w,p,t(s,w,p))},n.getBestMask=function(s,o){const d=Object.keys(n.Patterns).length;let p=0,w=1/0;for(let y=0;y<d;y++){o(y),n.applyMask(y,s);const T=n.getPenaltyN1(s)+n.getPenaltyN2(s)+n.getPenaltyN3(s)+n.getPenaltyN4(s);n.applyMask(y,s),T<w&&(w=T,p=y)}return p}}($p)),$p}var kh={},NT;function VI(){if(NT)return kh;NT=1;const n=Tw(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return kh.getBlocksCount=function(s,o){switch(o){case n.L:return e[(s-1)*4+0];case n.M:return e[(s-1)*4+1];case n.Q:return e[(s-1)*4+2];case n.H:return e[(s-1)*4+3];default:return}},kh.getTotalCodewordsCount=function(s,o){switch(o){case n.L:return t[(s-1)*4+0];case n.M:return t[(s-1)*4+1];case n.Q:return t[(s-1)*4+2];case n.H:return t[(s-1)*4+3];default:return}},kh}var Jp={},yf={},MT;function AV(){if(MT)return yf;MT=1;const n=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let s=0;s<255;s++)n[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)n[s]=n[s-255]}(),yf.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},yf.exp=function(r){return n[r]},yf.mul=function(r,s){return r===0||s===0?0:n[e[r]+e[s]]},yf}var DT;function _V(){return DT||(DT=1,function(n){const e=AV();n.mul=function(r,s){const o=new Uint8Array(r.length+s.length-1);for(let d=0;d<r.length;d++)for(let p=0;p<s.length;p++)o[d+p]^=e.mul(r[d],s[p]);return o},n.mod=function(r,s){let o=new Uint8Array(r);for(;o.length-s.length>=0;){const d=o[0];for(let w=0;w<s.length;w++)o[w]^=e.mul(s[w],d);let p=0;for(;p<o.length&&o[p]===0;)p++;o=o.slice(p)}return o},n.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let o=0;o<r;o++)s=n.mul(s,new Uint8Array([1,e.exp(o)]));return s}}(Jp)),Jp}var em,OT;function SV(){if(OT)return em;OT=1;const n=_V();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const o=n.mod(s,this.genPoly),d=this.degree-o.length;if(d>0){const p=new Uint8Array(this.degree);return p.set(o,d),p}return o},em=e,em}var tm={},nm={},rm={},kT;function UI(){return kT||(kT=1,rm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),rm}var Xs={},PT;function FI(){if(PT)return Xs;PT=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Xs.KANJI=new RegExp(t,"g"),Xs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Xs.BYTE=new RegExp(r,"g"),Xs.NUMERIC=new RegExp(n,"g"),Xs.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+t+"$"),o=new RegExp("^"+n+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Xs.testKanji=function(w){return s.test(w)},Xs.testNumeric=function(w){return o.test(w)},Xs.testAlphanumeric=function(w){return d.test(w)},Xs}var LT;function Xl(){return LT||(LT=1,function(n){const e=UI(),t=FI();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,d){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?o.ccBits[0]:d<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+s)}}n.from=function(o,d){if(n.isValid(o))return o;try{return r(o)}catch{return d}}}(nm)),nm}var BT;function CV(){return BT||(BT=1,function(n){const e=Wl(),t=VI(),r=Tw(),s=Xl(),o=UI(),d=7973,p=e.getBCHDigit(d);function w(I,N,M){for(let P=1;P<=40;P++)if(N<=n.getCapacity(P,M,I))return P}function y(I,N){return s.getCharCountIndicator(I,N)+4}function T(I,N){let M=0;return I.forEach(function(P){const q=y(P.mode,N);M+=q+P.getBitsLength()}),M}function _(I,N){for(let M=1;M<=40;M++)if(T(I,M)<=n.getCapacity(M,N,s.MIXED))return M}n.from=function(N,M){return o.isValid(N)?parseInt(N,10):M},n.getCapacity=function(N,M,P){if(!o.isValid(N))throw new Error("Invalid QR Code version");typeof P>"u"&&(P=s.BYTE);const q=e.getSymbolTotalCodewords(N),j=t.getTotalCodewordsCount(N,M),K=(q-j)*8;if(P===s.MIXED)return K;const F=K-y(P,N);switch(P){case s.NUMERIC:return Math.floor(F/10*3);case s.ALPHANUMERIC:return Math.floor(F/11*2);case s.KANJI:return Math.floor(F/13);case s.BYTE:default:return Math.floor(F/8)}},n.getBestVersionForData=function(N,M){let P;const q=r.from(M,r.M);if(Array.isArray(N)){if(N.length>1)return _(N,q);if(N.length===0)return 1;P=N[0]}else P=N;return w(P.mode,P.getLength(),q)},n.getEncodedBits=function(N){if(!o.isValid(N)||N<7)throw new Error("Invalid QR Code version");let M=N<<12;for(;e.getBCHDigit(M)-p>=0;)M^=d<<e.getBCHDigit(M)-p;return N<<12|M}}(tm)),tm}var im={},VT;function IV(){if(VT)return im;VT=1;const n=Wl(),e=1335,t=21522,r=n.getBCHDigit(e);return im.getEncodedBits=function(o,d){const p=o.bit<<3|d;let w=p<<10;for(;n.getBCHDigit(w)-r>=0;)w^=e<<n.getBCHDigit(w)-r;return(p<<10|w)^t},im}var sm={},am,UT;function RV(){if(UT)return am;UT=1;const n=Xl();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,o,d;for(s=0;s+3<=this.data.length;s+=3)o=this.data.substr(s,3),d=parseInt(o,10),r.put(d,10);const p=this.data.length-s;p>0&&(o=this.data.substr(s),d=parseInt(o,10),r.put(d,p*3+1))},am=e,am}var om,FT;function NV(){if(FT)return om;FT=1;const n=Xl(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let o;for(o=0;o+2<=this.data.length;o+=2){let d=e.indexOf(this.data[o])*45;d+=e.indexOf(this.data[o+1]),s.put(d,11)}this.data.length%2&&s.put(e.indexOf(this.data[o]),6)},om=t,om}var lm,zT;function MV(){if(zT)return lm;zT=1;const n=Xl();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,s=this.data.length;r<s;r++)t.put(this.data[r],8)},lm=e,lm}var cm,jT;function DV(){if(jT)return cm;jT=1;const n=Xl(),e=Wl();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(s){return s*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let o=e.toSJIS(this.data[s]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},cm=t,cm}var um={exports:{}},HT;function OV(){return HT||(HT=1,function(n){var e={single_source_shortest_paths:function(t,r,s){var o={},d={};d[r]=0;var p=e.PriorityQueue.make();p.push(r,0);for(var w,y,T,_,I,N,M,P,q;!p.empty();){w=p.pop(),y=w.value,_=w.cost,I=t[y]||{};for(T in I)I.hasOwnProperty(T)&&(N=I[T],M=_+N,P=d[T],q=typeof d[T]>"u",(q||P>M)&&(d[T]=M,p.push(T,M),o[T]=y))}if(typeof s<"u"&&typeof d[s]>"u"){var j=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(j)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var s=[],o=r;o;)s.push(o),t[o],o=t[o];return s.reverse(),s},find_path:function(t,r,s){var o=e.single_source_shortest_paths(t,r,s);return e.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,s={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);return s.queue=[],s.sorter=t.sorter||r.default_sorter,s},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var s={value:t,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e}(um)),um.exports}var GT;function kV(){return GT||(GT=1,function(n){const e=Xl(),t=RV(),r=NV(),s=MV(),o=DV(),d=FI(),p=Wl(),w=OV();function y(j){return unescape(encodeURIComponent(j)).length}function T(j,K,F){const $=[];let ie;for(;(ie=j.exec(F))!==null;)$.push({data:ie[0],index:ie.index,mode:K,length:ie[0].length});return $}function _(j){const K=T(d.NUMERIC,e.NUMERIC,j),F=T(d.ALPHANUMERIC,e.ALPHANUMERIC,j);let $,ie;return p.isKanjiModeEnabled()?($=T(d.BYTE,e.BYTE,j),ie=T(d.KANJI,e.KANJI,j)):($=T(d.BYTE_KANJI,e.BYTE,j),ie=[]),K.concat(F,$,ie).sort(function(V,L){return V.index-L.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function I(j,K){switch(K){case e.NUMERIC:return t.getBitsLength(j);case e.ALPHANUMERIC:return r.getBitsLength(j);case e.KANJI:return o.getBitsLength(j);case e.BYTE:return s.getBitsLength(j)}}function N(j){return j.reduce(function(K,F){const $=K.length-1>=0?K[K.length-1]:null;return $&&$.mode===F.mode?(K[K.length-1].data+=F.data,K):(K.push(F),K)},[])}function M(j){const K=[];for(let F=0;F<j.length;F++){const $=j[F];switch($.mode){case e.NUMERIC:K.push([$,{data:$.data,mode:e.ALPHANUMERIC,length:$.length},{data:$.data,mode:e.BYTE,length:$.length}]);break;case e.ALPHANUMERIC:K.push([$,{data:$.data,mode:e.BYTE,length:$.length}]);break;case e.KANJI:K.push([$,{data:$.data,mode:e.BYTE,length:y($.data)}]);break;case e.BYTE:K.push([{data:$.data,mode:e.BYTE,length:y($.data)}])}}return K}function P(j,K){const F={},$={start:{}};let ie=["start"];for(let se=0;se<j.length;se++){const V=j[se],L=[];for(let O=0;O<V.length;O++){const W=V[O],X=""+se+O;L.push(X),F[X]={node:W,lastCount:0},$[X]={};for(let G=0;G<ie.length;G++){const H=ie[G];F[H]&&F[H].node.mode===W.mode?($[H][X]=I(F[H].lastCount+W.length,W.mode)-I(F[H].lastCount,W.mode),F[H].lastCount+=W.length):(F[H]&&(F[H].lastCount=W.length),$[H][X]=I(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,K))}}ie=L}for(let se=0;se<ie.length;se++)$[ie[se]].end=0;return{map:$,table:F}}function q(j,K){let F;const $=e.getBestModeForData(j);if(F=e.from(K,$),F!==e.BYTE&&F.bit<$.bit)throw new Error('"'+j+'" cannot be encoded with mode '+e.toString(F)+`.
 Suggested mode is: `+e.toString($));switch(F===e.KANJI&&!p.isKanjiModeEnabled()&&(F=e.BYTE),F){case e.NUMERIC:return new t(j);case e.ALPHANUMERIC:return new r(j);case e.KANJI:return new o(j);case e.BYTE:return new s(j)}}n.fromArray=function(K){return K.reduce(function(F,$){return typeof $=="string"?F.push(q($,null)):$.data&&F.push(q($.data,$.mode)),F},[])},n.fromString=function(K,F){const $=_(K,p.isKanjiModeEnabled()),ie=M($),se=P(ie,F),V=w.find_path(se.map,"start","end"),L=[];for(let O=1;O<V.length-1;O++)L.push(se.table[V[O]].node);return n.fromArray(N(L))},n.rawSplit=function(K){return n.fromArray(_(K,p.isKanjiModeEnabled()))}}(sm)),sm}var qT;function PV(){if(qT)return Yp;qT=1;const n=Wl(),e=Tw(),t=xV(),r=vV(),s=bV(),o=EV(),d=TV(),p=VI(),w=SV(),y=CV(),T=IV(),_=Xl(),I=kV();function N(se,V){const L=se.size,O=o.getPositions(V);for(let W=0;W<O.length;W++){const X=O[W][0],G=O[W][1];for(let H=-1;H<=7;H++)if(!(X+H<=-1||L<=X+H))for(let _e=-1;_e<=7;_e++)G+_e<=-1||L<=G+_e||(H>=0&&H<=6&&(_e===0||_e===6)||_e>=0&&_e<=6&&(H===0||H===6)||H>=2&&H<=4&&_e>=2&&_e<=4?se.set(X+H,G+_e,!0,!0):se.set(X+H,G+_e,!1,!0))}}function M(se){const V=se.size;for(let L=8;L<V-8;L++){const O=L%2===0;se.set(L,6,O,!0),se.set(6,L,O,!0)}}function P(se,V){const L=s.getPositions(V);for(let O=0;O<L.length;O++){const W=L[O][0],X=L[O][1];for(let G=-2;G<=2;G++)for(let H=-2;H<=2;H++)G===-2||G===2||H===-2||H===2||G===0&&H===0?se.set(W+G,X+H,!0,!0):se.set(W+G,X+H,!1,!0)}}function q(se,V){const L=se.size,O=y.getEncodedBits(V);let W,X,G;for(let H=0;H<18;H++)W=Math.floor(H/3),X=H%3+L-8-3,G=(O>>H&1)===1,se.set(W,X,G,!0),se.set(X,W,G,!0)}function j(se,V,L){const O=se.size,W=T.getEncodedBits(V,L);let X,G;for(X=0;X<15;X++)G=(W>>X&1)===1,X<6?se.set(X,8,G,!0):X<8?se.set(X+1,8,G,!0):se.set(O-15+X,8,G,!0),X<8?se.set(8,O-X-1,G,!0):X<9?se.set(8,15-X-1+1,G,!0):se.set(8,15-X-1,G,!0);se.set(O-8,8,1,!0)}function K(se,V){const L=se.size;let O=-1,W=L-1,X=7,G=0;for(let H=L-1;H>0;H-=2)for(H===6&&H--;;){for(let _e=0;_e<2;_e++)if(!se.isReserved(W,H-_e)){let le=!1;G<V.length&&(le=(V[G]>>>X&1)===1),se.set(W,H-_e,le),X--,X===-1&&(G++,X=7)}if(W+=O,W<0||L<=W){W-=O,O=-O;break}}}function F(se,V,L){const O=new t;L.forEach(function(_e){O.put(_e.mode.bit,4),O.put(_e.getLength(),_.getCharCountIndicator(_e.mode,se)),_e.write(O)});const W=n.getSymbolTotalCodewords(se),X=p.getTotalCodewordsCount(se,V),G=(W-X)*8;for(O.getLengthInBits()+4<=G&&O.put(0,4);O.getLengthInBits()%8!==0;)O.putBit(0);const H=(G-O.getLengthInBits())/8;for(let _e=0;_e<H;_e++)O.put(_e%2?17:236,8);return $(O,se,V)}function $(se,V,L){const O=n.getSymbolTotalCodewords(V),W=p.getTotalCodewordsCount(V,L),X=O-W,G=p.getBlocksCount(V,L),H=O%G,_e=G-H,le=Math.floor(O/G),ae=Math.floor(X/G),he=ae+1,be=le-ae,Re=new w(be);let ee=0;const ye=new Array(G),Ne=new Array(G);let Oe=0;const Ge=new Uint8Array(se.buffer);for(let Ye=0;Ye<G;Ye++){const lt=Ye<_e?ae:he;ye[Ye]=Ge.slice(ee,ee+lt),Ne[Ye]=Re.encode(ye[Ye]),ee+=lt,Oe=Math.max(Oe,lt)}const it=new Uint8Array(O);let Ce=0,We,He;for(We=0;We<Oe;We++)for(He=0;He<G;He++)We<ye[He].length&&(it[Ce++]=ye[He][We]);for(We=0;We<be;We++)for(He=0;He<G;He++)it[Ce++]=Ne[He][We];return it}function ie(se,V,L,O){let W;if(Array.isArray(se))W=I.fromArray(se);else if(typeof se=="string"){let le=V;if(!le){const ae=I.rawSplit(se);le=y.getBestVersionForData(ae,L)}W=I.fromString(se,le||40)}else throw new Error("Invalid data");const X=y.getBestVersionForData(W,L);if(!X)throw new Error("The amount of data is too big to be stored in a QR Code");if(!V)V=X;else if(V<X)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+X+`.
`);const G=F(V,L,W),H=n.getSymbolSize(V),_e=new r(H);return N(_e,V),M(_e),P(_e,V),j(_e,L,0),V>=7&&q(_e,V),K(_e,G),isNaN(O)&&(O=d.getBestMask(_e,j.bind(null,_e,L))),d.applyMask(O,_e),j(_e,L,O),{modules:_e,version:V,errorCorrectionLevel:L,maskPattern:O,segments:W}}return Yp.create=function(V,L){if(typeof V>"u"||V==="")throw new Error("No input text");let O=e.M,W,X;return typeof L<"u"&&(O=e.from(L.errorCorrectionLevel,e.M),W=y.from(L.version),X=d.from(L.maskPattern),L.toSJISFunc&&n.setToSJISFunction(L.toSJISFunc)),ie(V,W,O,X)},Yp}var fm={},dm={},YT;function zI(){return YT||(YT=1,function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,d=r.scale||4;return{width:o,scale:o?4:d,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},n.getImageWidth=function(r,s){const o=n.getScale(r,s);return Math.floor((r+s.margin*2)*o)},n.qrToImageData=function(r,s,o){const d=s.modules.size,p=s.modules.data,w=n.getScale(d,o),y=Math.floor((d+o.margin*2)*w),T=o.margin*w,_=[o.color.light,o.color.dark];for(let I=0;I<y;I++)for(let N=0;N<y;N++){let M=(I*y+N)*4,P=o.color.light;if(I>=T&&N>=T&&I<y-T&&N<y-T){const q=Math.floor((I-T)/w),j=Math.floor((N-T)/w);P=_[p[q*d+j]?1:0]}r[M++]=P.r,r[M++]=P.g,r[M++]=P.b,r[M]=P.a}}}(dm)),dm}var WT;function LV(){return WT||(WT=1,function(n){const e=zI();function t(s,o,d){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=d,o.width=d,o.style.height=d+"px",o.style.width=d+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,d,p){let w=p,y=d;typeof w>"u"&&(!d||!d.getContext)&&(w=d,d=void 0),d||(y=r()),w=e.getOptions(w);const T=e.getImageWidth(o.modules.size,w),_=y.getContext("2d"),I=_.createImageData(T,T);return e.qrToImageData(I.data,o,w),t(_,y,T),_.putImageData(I,0,0),y},n.renderToDataURL=function(o,d,p){let w=p;typeof w>"u"&&(!d||!d.getContext)&&(w=d,d=void 0),w||(w={});const y=n.render(o,d,w),T=w.type||"image/png",_=w.rendererOpts||{};return y.toDataURL(T,_.quality)}}(fm)),fm}var hm={},XT;function BV(){if(XT)return hm;XT=1;const n=zI();function e(s,o){const d=s.a/255,p=o+'="'+s.hex+'"';return d<1?p+" "+o+'-opacity="'+d.toFixed(2).slice(1)+'"':p}function t(s,o,d){let p=s+o;return typeof d<"u"&&(p+=" "+d),p}function r(s,o,d){let p="",w=0,y=!1,T=0;for(let _=0;_<s.length;_++){const I=Math.floor(_%o),N=Math.floor(_/o);!I&&!y&&(y=!0),s[_]?(T++,_>0&&I>0&&s[_-1]||(p+=y?t("M",I+d,.5+N+d):t("m",w,0),w=0,y=!1),I+1<o&&s[_+1]||(p+=t("h",T),T=0)):w++}return p}return hm.render=function(o,d,p){const w=n.getOptions(d),y=o.modules.size,T=o.modules.data,_=y+w.margin*2,I=w.color.light.a?"<path "+e(w.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",N="<path "+e(w.color.dark,"stroke")+' d="'+r(T,y,w.margin)+'"/>',M='viewBox="0 0 '+_+" "+_+'"',q='<svg xmlns="http://www.w3.org/2000/svg" '+(w.width?'width="'+w.width+'" height="'+w.width+'" ':"")+M+' shape-rendering="crispEdges">'+I+N+`</svg>
`;return typeof p=="function"&&p(null,q),q},hm}var KT;function VV(){if(KT)return Oc;KT=1;const n=wV(),e=PV(),t=LV(),r=BV();function s(o,d,p,w,y){const T=[].slice.call(arguments,1),_=T.length,I=typeof T[_-1]=="function";if(!I&&!n())throw new Error("Callback required as last argument");if(I){if(_<2)throw new Error("Too few arguments provided");_===2?(y=p,p=d,d=w=void 0):_===3&&(d.getContext&&typeof y>"u"?(y=w,w=void 0):(y=w,w=p,p=d,d=void 0))}else{if(_<1)throw new Error("Too few arguments provided");return _===1?(p=d,d=w=void 0):_===2&&!d.getContext&&(w=p,p=d,d=void 0),new Promise(function(N,M){try{const P=e.create(p,w);N(o(P,d,w))}catch(P){M(P)}})}try{const N=e.create(p,w);y(null,o(N,d,w))}catch(N){y(N)}}return Oc.create=e.create,Oc.toCanvas=s.bind(null,t.render),Oc.toDataURL=s.bind(null,t.renderToDataURL),Oc.toString=s.bind(null,function(o,d,p){return r.render(o,p)}),Oc}var UV=VV();const FV=M0(UV);async function jI(n){const e=await FV.toDataURL(n,{type:"image/png"});return await(await fetch(e)).blob()}const zV=async(n,e)=>(await mw(Ds(Vr,"users",n,"freezers"),{name:e,createdAt:new Date})).id,jV=async(n,e,t="")=>{if(!e)throw new Error("Freezer ID is required");return(await mw(Ds(Vr,"users",n,"freezers",e,"shelves"),{name:t,createdAt:yw()})).id},HV=async(n,e,t,r,s=0,o="",d="",p=null,w=null,y=null)=>{if(!r)throw new Error("Product name is required");if(!e)throw new Error("Freezer ID is required");let T="";y&&(T=await N0(y));const _={name:r,quantity:s,unit:o,category:d,shelfId:t,createdAt:yw(),freezingDate:p instanceof Date?Un.fromDate(p):null,expirationDate:w instanceof Date?Un.fromDate(w):null,photoUrl:T,qrCodeUrl:""},I=Ds(Vr,"users",n,"freezers",e,"products"),N=await mw(I,_),M=await jI(N.id),P=await N0(M);return await wg(N,{qrCodeUrl:P}),{id:N.id,photoUrl:T,qrCodeUrl:P}},GV=async n=>{const e=$c(Ds(Vr,"users",n,"freezers"),Pf("createdAt","asc")),t=await Ua(e),r=[];for(const s of t.docs){const o={id:s.id,...s.data(),shelves:[],products:[]},d=$c(Ds(Vr,"users",n,"freezers",s.id,"shelves"),Pf("createdAt","asc")),p=await Ua(d);o.shelves=p.docs.map(T=>({id:T.id,...T.data()}));const w=$c(Ds(Vr,"users",n,"freezers",s.id,"products"),Pf("createdAt","asc")),y=await Ua(w);o.products=y.docs.map(T=>{var I,N;const _=T.data();return{id:T.id,..._,freezingDate:((I=_.freezingDate)==null?void 0:I.toDate())||null,expirationDate:((N=_.expirationDate)==null?void 0:N.toDate())||null}}),r.push(o)}return r},qV=async n=>{if(!n)throw new Error("User ID is required");const e=Ds(Vr,"categories"),t=$c(e,ny("createdBy","==",""),Pf("createdAt","asc")),r=$c(e,ny("createdBy","==",n),Pf("createdAt","asc")),[s,o]=await Promise.all([Ua(t),Ua(r)]),d=s.docs.map(w=>({id:w.id,...w.data()})),p=o.docs.map(w=>({id:w.id,...w.data()}));return[...d,...p]},YV=async()=>{try{return(await Ua(Ds(Vr,"units"))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){return console.error("Error fetching units:",n),[]}},WV=async(n,e,t)=>{if(!t)throw new Error("New name is required");const r=ol(Vr,"users",n,"freezers",e);await wg(r,{name:t,updatedAt:new Date})},XV=async(n,e,t,r)=>{const s=ol(Vr,"users",n,"freezers",e,"shelves",t);await wg(s,{name:r,updatedAt:new Date})},KV=async(n,e,t,r={})=>{if(!n||!e||!t)throw new Error("Missing identifiers");const{photoFile:s,regenerateQr:o,freezingDate:d,expirationDate:p,shelfId:w,...y}=r,_={...Object.entries(y).reduce((M,[P,q])=>(!(q instanceof File)&&!(q instanceof Blob)&&(M[P]=q),M),{}),updatedAt:yw()};r.hasOwnProperty("shelfId")&&(_.shelfId=w===""?null:w);const I=M=>M?M instanceof Date?Un.fromDate(M):M instanceof Un?M:typeof M=="string"?Un.fromDate(new Date(M)):null:null;if(d&&(_.freezingDate=I(d)),p&&(_.expirationDate=I(p)),s){const M=await N0(s);_.photoUrl=M}if(o){const M=await jI(`${t}|${Date.now()}`),P=await N0(M);_.qrCodeUrl=P}const N=ol(Vr,"users",n,"freezers",e,"products",t);await wg(N,_)},QV=async(n,e)=>{const t=Ds(Vr,"users",n,"freezers",e,"products"),r=await Ua(t);await Promise.all(r.docs.map(p=>Jc(p.ref)));const s=Ds(Vr,"users",n,"freezers",e,"shelves"),o=await Ua(s);await Promise.all(o.docs.map(p=>Jc(p.ref)));const d=ol(Vr,"users",n,"freezers",e);await Jc(d)},ZV=async(n,e,t)=>{const r=$c(Ds(Vr,"users",n,"freezers",e,"products"),ny("shelfId","==",t)),s=await Ua(r);await Promise.all(s.docs.map(d=>Jc(d.ref)));const o=ol(Vr,"users",n,"freezers",e,"shelves",t);await Jc(o)},$V=async(n,e,t)=>{const r=ol(Vr,"users",n,"freezers",e,"products",t);await Jc(r)},HI=Z.createContext(),JV=({children:n})=>{const[e,t]=Z.useState(null);return Z.useEffect(()=>{const r=b5(ww,s=>{t(s)});return()=>r()},[]),te.jsx(HI.Provider,{value:e,children:n})},Aw=()=>yn.useContext(HI);function eU(){const n=Aw(),[e,t]=Z.useState([]),[r,s]=Z.useState(!1),[o,d]=Z.useState(null);Z.useEffect(()=>{if(!n)return;s(!0),(async()=>{try{const F=await GV(n.uid);t(Array.isArray(F)?F:[F])}catch(F){console.error("Error fetching freezer data:",F),d(F)}finally{s(!1)}})()},[n]);const p=Z.useCallback(async K=>{if(K){s(!0);try{const F=await zV(n.uid,K);t($=>[...$,{id:F,name:K.trim(),shelves:[]}])}catch(F){console.error(F),d(F)}finally{s(!1)}}},[n]),w=Z.useCallback(async(K,F)=>{s(!0);try{await WV(n.uid,K,F),t($=>$.map(ie=>ie.id===K?{...ie,name:F}:ie))}catch($){console.error($),d($)}finally{s(!1)}},[n]),y=Z.useCallback(async K=>{s(!0);try{await QV(n.uid,K),t(F=>F.filter($=>$.id!==K))}catch(F){console.error(F),d(F)}finally{s(!1)}},[n]),T=Z.useCallback(async(K,F)=>{if(!(!F||!K)){s(!0);try{const $=await jV(n.uid,K,F.trim());t(ie=>ie.map(se=>se.id===K?{...se,shelves:[...se.shelves,{id:$,name:F.trim()}]}:se))}catch($){console.error($),d($)}finally{s(!1)}}},[n]),_=Z.useCallback(async(K,F,$)=>{if(!(!$||!K)){s(!0);try{await XV(n.uid,K,F,$),t(ie=>ie.map(se=>se.id===K?{...se,shelves:se.shelves.map(V=>V.id===F?{...V,name:$.trim()}:V)}:se))}catch(ie){console.error(ie),d(ie)}finally{s(!1)}}},[n]),I=Z.useCallback(async(K,F)=>{try{await ZV(n.uid,K,F),t($=>$.map(ie=>ie.id===K?{...ie,shelves:ie.shelves.filter(se=>se.id!==F)}:ie))}catch($){console.error($),d($)}finally{s(!1)}},[n]),N=K=>{if(!K)return;const F=K.includes(".")?K.split("."):K.split("/");if(F.length!==3)return;const[$,ie,se]=F.map(Number);return new Date(se,ie-1,$)},M=Z.useCallback(async(K,F,$)=>{if(!(!$||!K))try{const ie=$.freezingDate instanceof Date?$.freezingDate:N($.freezingDate),se=$.expirationDate instanceof Date?$.expirationDate:N($.expirationDate),V=$.picture||null,{id:L,photoUrl:O,qrCodeUrl:W}=await HV(n.uid,K,F,$.name,$.quantity,$.unit,$.category,ie,se,V);t(X=>X.map(G=>G.id===K?{...G,products:[...G.products||[],{id:L,shelfId:F,name:$.name,quantity:$.quantity,unit:$.unit,category:$.category,freezingDate:ie,expirationDate:se,photoUrl:O,qrCodeUrl:W}]}:G))}catch(ie){console.error(ie),d(ie)}},[n]),P=Z.useCallback(async(K,F,$,ie)=>{if(!(!ie||!K))try{await KV(n.uid,K,$,ie),t(se=>se.map(V=>V.id===K?{...V,products:V.products.map(L=>L.id===$?{...L,...ie,freezingDate:typeof ie.freezingDate=="string"?new Date(ie.freezingDate):ie.freezingDate,expirationDate:typeof ie.expirationDate=="string"?new Date(ie.expirationDate):ie.expirationDate}:L)}:V))}catch(se){console.error("Error updating product:",se),d(se)}},[n]),q=Z.useCallback(async(K,F,$)=>{if(!(!$||!K))try{await $V(n.uid,K,$),t(ie=>ie.map(se=>se.id===K?{...se,products:se.products.filter(V=>V.id!==$)}:se))}catch(ie){console.error("Error deleting product:",ie),d(ie)}},[n]),j=Z.useCallback(()=>e.flatMap(K=>(K.products||[]).filter(F=>F.shelfId==="").map(F=>({...F,freezerId:K.id}))),[e]);return{freezers:e,loading:r,error:o,addFreezer:p,updateFreezer:w,deleteFreezer:y,addShelf:T,updateShelf:_,removeShelf:I,addProduct:M,updateProduct:P,removeProduct:q,getUnassignedProducts:j}}function _w(){const n=Aw(),[e,t]=Z.useState([]),[r,s]=Z.useState([]),[o,d]=Z.useState(null);Z.useEffect(()=>{if(!n)return;(async()=>{try{const y=await qV(n.uid),T=await YV();t(Array.isArray(y)?y:[y]),s(Array.isArray(T)?T:[T])}catch(y){console.error("Error fetching freezer data:",y),d(y)}})()},[n]);const p=Z.useCallback(w=>e.find(y=>y.id===w)||null,[e]);return Z.useCallback(),{categories:e,units:r,error:o,getCategory:p}}function tU(){const{config:n,open:e,close:t}=vg(),{freezers:r,loading:s,error:o,addFreezer:d,updateFreezer:p,deleteFreezer:w,addShelf:y,updateShelf:T,removeShelf:_,addProduct:I,updateProduct:N,removeProduct:M}=eU(),{categories:P,units:q}=_w();function j(L,O){for(const W of L){const X=W.products.find(G=>G.id===O);if(X)return{freezerId:W.id,product:X}}return null}const{showScanner:K,openScanner:F,closeScanner:$,scanResult:ie,scanError:se,qrContainerId:V}=U7({onScanSuccess:L=>{console.log("scanned:",L);const O=j(r,L);if(!O)return alert("Product not found.");const{freezerId:W,product:X}=O,G=r.find(_e=>_e.id===W),H=G?G.shelves:[];e({mode:"edit",title:"Product",onSubmit:_e=>{console.log("submitted"),N(W,X.shelfId,X.id,_e)},fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter freezer name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:H,required:!1},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:q,required:!0},{key:"photoUrl",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:P,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}],initialData:{id:X.id,name:X.name,shelfId:X.shelfId,quantity:X.quantity,unit:X.unit,category:X.category||"",freezingDate:R0(X.freezingDate),expirationDate:R0(X.expirationDate),photoUrl:X.photoUrl||""}})},onScanError:L=>{console.error("Scanner error",L)}});return s?te.jsx("div",{children:"Loading…"}):o?te.jsxs("div",{children:["Error: ",o.message]}):te.jsxs(te.Fragment,{children:[te.jsxs(BI,{modules:[yV],spaceBetween:10,slidesPerView:1,loop:!1,navigation:!0,style:{width:"100%",height:"100%"},observer:!0,observeParents:!0,observeSlideChildren:!0,className:"w-full h-full flex justify-center items-center",children:[r.map(L=>te.jsx(oy,{children:te.jsx(F7,{freezerData:L,onDeleteFreezer:()=>w(L.id),onEditFreezer:O=>p(L.id,O),onAddShelf:O=>y(L.id,O),onUpdateShelf:(O,W)=>T(L.id,O,W),onRemoveShelf:O=>_(L.id,O),onAddProduct:(O,W)=>I(L.id,O,W),onUpdateProduct:(O,W,X)=>N(L.id,O,W,X),onRemoveProduct:(O,W)=>M(L.id,O,W)})},L.id)),te.jsxs(oy,{className:"flex-col gap-2",children:[te.jsx(Ni,{label:"Freezer",onClick:()=>e({mode:"add",title:"Freezer",onSubmit:({name:L})=>{d(L)},fields:[{key:"name",label:"Frezer Name",type:"text",placeholder:"Enter freezer name",required:!0}]}),action:"add",className:"w-1/5"}),te.jsx(Ni,{label:"Scan Freezer",onClick:F,action:"scan",className:"w-1/5 mt-2"})]})]}),te.jsx(W0,{show:n.mode!==null,mode:n.mode,title:n.title,fields:n.fields,initialData:n.initialData,onSubmit:n.onSubmit,onClose:t}),te.jsx(PO,{show:K,onClose:$,scanError:se,scanResult:ie,qrContainerId:V})]})}function QT({shelf:n,freezerData:e,onRemoveShelf:t,onUpdateShelf:r,onAddProduct:s,onUpdateProduct:o,onRemoveProduct:d}){Aw();const{config:p,open:w,close:y}=vg(),{categories:T,units:_}=_w(),I=n.name==="No shelf products"?{id:n.id,name:"-- No Shelf --"}:{id:n.id,name:n.name};return te.jsxs(te.Fragment,{children:[te.jsx(UA,{collapseAll:!0,children:te.jsxs(HA,{children:[te.jsx(GA,{className:"cursor-pointer flex flex-row justify-between items-center w-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg p-5",children:te.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[n.name,n.id&&te.jsxs(te.Fragment,{children:[te.jsx(Ni,{onClick:()=>w({mode:"edit",title:"Shelf",onSubmit:({name:N})=>r(n.id,N),fields:[{key:"name",label:"Shelf Name",type:"text",placeholder:"Enter shelf name",required:!0}],initialData:{name:n.name}}),action:"edit"}),te.jsx(Ni,{onClick:()=>w({mode:"delete",title:"Shelf",onSubmit:()=>t(n.id)}),action:"delete"})]})]})}),te.jsxs(jA,{className:"flex flex-col gap-2 cursor-pointer",children:[e.products&&e.products.filter(N=>n.id?N.shelfId===n.id:!N.shelfId).map(N=>te.jsx(nU,{shelves:e.shelves,product:N,shelfId:n.id,onUpdateProduct:o,onRemoveProduct:d,freezerId:e.id,className:"flex flex-row justify-between items-center w-full",categories:T,units:_},N.id)),te.jsx(Ni,{label:"Product",onClick:()=>w({mode:"add",title:"Product",onSubmit:N=>s(n.id,N),fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter product name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:e.shelves,required:!1,value:I},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:_,required:!0},{key:"picture",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:T,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}]}),action:"add"})]})]})}),te.jsx(W0,{show:p.mode!==null,mode:p.mode,title:p.title,fields:p.fields,initialData:p.initialData,onSubmit:p.onSubmit,onClose:y})]})}function nU({product:n,shelfId:e,onRemoveProduct:t,onUpdateProduct:r,categories:s,units:o,shelves:d}){const[p,w]=Z.useState(!1),{config:y,open:T,close:_}=vg(),I=s.find(M=>M.id===n.category),N=o.find(M=>M.id===n.unit);return console.log(n),te.jsxs(te.Fragment,{children:[te.jsx(qc,{className:"w-full text-left",onClick:()=>w(!0),children:te.jsxs("div",{className:"flex justify-between items-center w-full",children:[te.jsxs("div",{className:"flex gap-0 items-center",children:[(I==null?void 0:I.imageUrl)&&te.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-10 h-10 object-cover rounded mr-2"}),te.jsx("span",{className:"ml.3-2",children:n.name}),te.jsx(Ni,{onClick:()=>{var M,P;return console.log("Edit product: ",n)||T({mode:"edit",title:"Product",onSubmit:q=>{console.log("submitted"),r(e,n.id,q)},fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter freezer name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:d,required:!1},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:o,required:!0},{key:"photoUrl",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:s,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}],initialData:{id:n.id,name:n.name,shelfId:e,quantity:n.quantity,unit:n.unit,category:n.category||"",freezingDate:(M=n.freezingDate)!=null&&M.toDate?n.freezingDate.toDate():n.freezingDate,expirationDate:(P=n.expirationDate)!=null&&P.toDate?n.expirationDate.toDate():n.expirationDate,photoUrl:n.photoUrl||""}})},action:"edit"}),te.jsx(Ni,{onClick:()=>T({mode:"delete",title:"Product",onSubmit:()=>{t(e,n.id),console.log(n.id)}}),action:"delete"})]}),te.jsxs("div",{className:"flex gap-2",children:[te.jsx("span",{children:n.quantity}),(N==null?void 0:N.name)&&te.jsx("span",{children:N.name})]})]})}),te.jsx(rU,{show:p,onClose:()=>w(!1),product:n,unit:N,category:I}),te.jsx(W0,{show:y.mode!==null,mode:y.mode,title:y.title,fields:y.fields,initialData:y.initialData,onSubmit:y.onSubmit,onClose:_})]})}function rU({show:n,onClose:e,product:t,unit:r,category:s}){if(!t)return null;_w();function o(p){return p?typeof p=="string"?p:p instanceof File?URL.createObjectURL(p):null:null}const d=async p=>{p.preventDefault(),p.stopPropagation();try{const y=await(await fetch(t.qrCodeUrl)).blob(),T=window.URL.createObjectURL(y),_=document.createElement("a");_.href=T,_.download="qrcode.png",document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(T)}catch(w){console.error("Download failed:",w)}};return te.jsxs(G0,{show:n,onClose:e,children:[te.jsx(Y0,{children:t.name}),te.jsx(q0,{children:te.jsxs("ul",{children:[te.jsxs("li",{children:["Quantity: ",t.quantity," ",r?r.name:null]}),s?te.jsxs("li",{children:["Category: ",s.name]}):null,t.freezingDate&&te.jsxs("li",{children:["Freezing Date: ",t.freezingDate?R0(t.freezingDate):""]}),t.expirationDate&&te.jsxs("li",{children:["Expiration Date: ",t.expirationDate?R0(t.expirationDate):""]}),t.photoUrl&&te.jsxs("li",{children:["Picture: ",te.jsx("img",{src:o(t.photoUrl),alt:"QR Code",className:"w-30 h-30"})]}),te.jsxs("li",{children:["QR Code:",te.jsxs("div",{className:"flex flex-col gap-2",children:[te.jsx("img",{src:t.qrCodeUrl,alt:"Product",className:"w-30 h-30"}),te.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 max-w-max",children:"Download QR Code"})]})]})]})})]})}function iU(){return te.jsxs(te.Fragment,{children:[te.jsx(X0,{}),te.jsx("div",{className:"h-screen flex items-center justify-center flex-col text-center max-w-screen",children:te.jsx(tU,{})})]})}function sU(){return te.jsxs(I4,{children:["  ",te.jsxs(i4,{children:[te.jsx(wf,{path:"/",element:te.jsx(LO,{})}),te.jsx(wf,{path:"/signup",element:te.jsx(JL,{})}),te.jsx(wf,{path:"/login",element:te.jsx($L,{})}),te.jsx(wf,{path:"/dashboard",element:te.jsx(iU,{})})]})]})}gR.createRoot(document.getElementById("root")).render(te.jsx(Z.StrictMode,{children:te.jsx(JV,{children:te.jsx(sU,{})})}));
