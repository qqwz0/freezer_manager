function yT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xp={exports:{}},xf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2;function I4(){if(V2)return xf;V2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var d=null;if(o!==void 0&&(d=""+o),s.key!==void 0&&(d=""+s.key),"key"in s){o={};for(var p in s)p!=="key"&&(o[p]=s[p])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:d,ref:s!==void 0?s:null,props:o}}return xf.Fragment=e,xf.jsx=t,xf.jsxs=t,xf}var U2;function R4(){return U2||(U2=1,xp.exports=I4()),xp.exports}var X=R4(),vp={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function N4(){if(F2)return It;F2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function I(te){return te===null||typeof te!="object"?null:(te=A&&te[A]||te["@@iterator"],typeof te=="function"?te:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function H(te,ye,Ne){this.props=te,this.context=ye,this.refs=k,this.updater=Ne||N}H.prototype.isReactComponent={},H.prototype.setState=function(te,ye){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,ye,"setState")},H.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function F(){}F.prototype=H.prototype;function G(te,ye,Ne){this.props=te,this.context=ye,this.refs=k,this.updater=Ne||N}var B=G.prototype=new F;B.constructor=G,M(B,H.prototype),B.isPureReactComponent=!0;var Z=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function V(te,ye,Ne,Oe,Ge,it){return Ne=it.ref,{$$typeof:n,type:te,key:ye,ref:Ne!==void 0?Ne:null,props:it}}function P(te,ye){return V(te.type,ye,void 0,void 0,void 0,te.props)}function O(te){return typeof te=="object"&&te!==null&&te.$$typeof===n}function W(te){var ye={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(Ne){return ye[Ne]})}var Q=/\/+/g;function Y(te,ye){return typeof te=="object"&&te!==null&&te.key!=null?W(""+te.key):ye.toString(36)}function q(){}function _e(te){switch(te.status){case"fulfilled":return te.value;case"rejected":throw te.reason;default:switch(typeof te.status=="string"?te.then(q,q):(te.status="pending",te.then(function(ye){te.status==="pending"&&(te.status="fulfilled",te.value=ye)},function(ye){te.status==="pending"&&(te.status="rejected",te.reason=ye)})),te.status){case"fulfilled":return te.value;case"rejected":throw te.reason}}throw te}function le(te,ye,Ne,Oe,Ge){var it=typeof te;(it==="undefined"||it==="boolean")&&(te=null);var Ce=!1;if(te===null)Ce=!0;else switch(it){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(te.$$typeof){case n:case e:Ce=!0;break;case _:return Ce=te._init,le(Ce(te._payload),ye,Ne,Oe,Ge)}}if(Ce)return Ge=Ge(te),Ce=Oe===""?"."+Y(te,0):Oe,Z(Ge)?(Ne="",Ce!=null&&(Ne=Ce.replace(Q,"$&/")+"/"),le(Ge,ye,Ne,"",function(Ye){return Ye})):Ge!=null&&(O(Ge)&&(Ge=P(Ge,Ne+(Ge.key==null||te&&te.key===Ge.key?"":(""+Ge.key).replace(Q,"$&/")+"/")+Ce)),ye.push(Ge)),1;Ce=0;var We=Oe===""?".":Oe+":";if(Z(te))for(var He=0;He<te.length;He++)Oe=te[He],it=We+Y(Oe,He),Ce+=le(Oe,ye,Ne,it,Ge);else if(He=I(te),typeof He=="function")for(te=He.call(te),He=0;!(Oe=te.next()).done;)Oe=Oe.value,it=We+Y(Oe,He++),Ce+=le(Oe,ye,Ne,it,Ge);else if(it==="object"){if(typeof te.then=="function")return le(_e(te),ye,Ne,Oe,Ge);throw ye=String(te),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(te,ye,Ne){if(te==null)return te;var Oe=[],Ge=0;return le(te,Oe,"","",function(it){return ye.call(Ne,it,Ge++)}),Oe}function de(te){if(te._status===-1){var ye=te._result;ye=ye(),ye.then(function(Ne){(te._status===0||te._status===-1)&&(te._status=1,te._result=Ne)},function(Ne){(te._status===0||te._status===-1)&&(te._status=2,te._result=Ne)}),te._status===-1&&(te._status=0,te._result=ye)}if(te._status===1)return te._result.default;throw te._result}var ve=typeof reportError=="function"?reportError:function(te){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof te=="object"&&te!==null&&typeof te.message=="string"?String(te.message):String(te),error:te});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",te);return}console.error(te)};function Re(){}return It.Children={map:ae,forEach:function(te,ye,Ne){ae(te,function(){ye.apply(this,arguments)},Ne)},count:function(te){var ye=0;return ae(te,function(){ye++}),ye},toArray:function(te){return ae(te,function(ye){return ye})||[]},only:function(te){if(!O(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},It.Component=H,It.Fragment=t,It.Profiler=s,It.PureComponent=G,It.StrictMode=r,It.Suspense=w,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,It.__COMPILER_RUNTIME={__proto__:null,c:function(te){return re.H.useMemoCache(te)}},It.cache=function(te){return function(){return te.apply(null,arguments)}},It.cloneElement=function(te,ye,Ne){if(te==null)throw Error("The argument must be a React element, but you passed "+te+".");var Oe=M({},te.props),Ge=te.key,it=void 0;if(ye!=null)for(Ce in ye.ref!==void 0&&(it=void 0),ye.key!==void 0&&(Ge=""+ye.key),ye)!se.call(ye,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ye.ref===void 0||(Oe[Ce]=ye[Ce]);var Ce=arguments.length-2;if(Ce===1)Oe.children=Ne;else if(1<Ce){for(var We=Array(Ce),He=0;He<Ce;He++)We[He]=arguments[He+2];Oe.children=We}return V(te.type,Ge,void 0,void 0,it,Oe)},It.createContext=function(te){return te={$$typeof:d,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null},te.Provider=te,te.Consumer={$$typeof:o,_context:te},te},It.createElement=function(te,ye,Ne){var Oe,Ge={},it=null;if(ye!=null)for(Oe in ye.key!==void 0&&(it=""+ye.key),ye)se.call(ye,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(Ge[Oe]=ye[Oe]);var Ce=arguments.length-2;if(Ce===1)Ge.children=Ne;else if(1<Ce){for(var We=Array(Ce),He=0;He<Ce;He++)We[He]=arguments[He+2];Ge.children=We}if(te&&te.defaultProps)for(Oe in Ce=te.defaultProps,Ce)Ge[Oe]===void 0&&(Ge[Oe]=Ce[Oe]);return V(te,it,void 0,void 0,null,Ge)},It.createRef=function(){return{current:null}},It.forwardRef=function(te){return{$$typeof:p,render:te}},It.isValidElement=O,It.lazy=function(te){return{$$typeof:_,_payload:{_status:-1,_result:te},_init:de}},It.memo=function(te,ye){return{$$typeof:y,type:te,compare:ye===void 0?null:ye}},It.startTransition=function(te){var ye=re.T,Ne={};re.T=Ne;try{var Oe=te(),Ge=re.S;Ge!==null&&Ge(Ne,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(Re,ve)}catch(it){ve(it)}finally{re.T=ye}},It.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},It.use=function(te){return re.H.use(te)},It.useActionState=function(te,ye,Ne){return re.H.useActionState(te,ye,Ne)},It.useCallback=function(te,ye){return re.H.useCallback(te,ye)},It.useContext=function(te){return re.H.useContext(te)},It.useDebugValue=function(){},It.useDeferredValue=function(te,ye){return re.H.useDeferredValue(te,ye)},It.useEffect=function(te,ye,Ne){var Oe=re.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Oe.useEffect(te,ye)},It.useId=function(){return re.H.useId()},It.useImperativeHandle=function(te,ye,Ne){return re.H.useImperativeHandle(te,ye,Ne)},It.useInsertionEffect=function(te,ye){return re.H.useInsertionEffect(te,ye)},It.useLayoutEffect=function(te,ye){return re.H.useLayoutEffect(te,ye)},It.useMemo=function(te,ye){return re.H.useMemo(te,ye)},It.useOptimistic=function(te,ye){return re.H.useOptimistic(te,ye)},It.useReducer=function(te,ye,Ne){return re.H.useReducer(te,ye,Ne)},It.useRef=function(te){return re.H.useRef(te)},It.useState=function(te){return re.H.useState(te)},It.useSyncExternalStore=function(te,ye,Ne){return re.H.useSyncExternalStore(te,ye,Ne)},It.useTransition=function(){return re.H.useTransition()},It.version="19.1.0",It}var z2;function Sy(){return z2||(z2=1,vp.exports=N4()),vp.exports}var $=Sy();const ct=j0($),M4=yT({__proto__:null,default:ct},[$]);var bp={exports:{}},vf={},Ep={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function D4(){return j2||(j2=1,function(n){function e(ae,de){var ve=ae.length;ae.push(de);e:for(;0<ve;){var Re=ve-1>>>1,te=ae[Re];if(0<s(te,de))ae[Re]=de,ae[ve]=te,ve=Re;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var de=ae[0],ve=ae.pop();if(ve!==de){ae[0]=ve;e:for(var Re=0,te=ae.length,ye=te>>>1;Re<ye;){var Ne=2*(Re+1)-1,Oe=ae[Ne],Ge=Ne+1,it=ae[Ge];if(0>s(Oe,ve))Ge<te&&0>s(it,Oe)?(ae[Re]=it,ae[Ge]=ve,Re=Ge):(ae[Re]=Oe,ae[Ne]=ve,Re=Ne);else if(Ge<te&&0>s(it,ve))ae[Re]=it,ae[Ge]=ve,Re=Ge;else break e}}return de}function s(ae,de){var ve=ae.sortIndex-de.sortIndex;return ve!==0?ve:ae.id-de.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var w=[],y=[],_=1,A=null,I=3,N=!1,M=!1,k=!1,H=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Z(ae){for(var de=t(y);de!==null;){if(de.callback===null)r(y);else if(de.startTime<=ae)r(y),de.sortIndex=de.expirationTime,e(w,de);else break;de=t(y)}}function re(ae){if(k=!1,Z(ae),!M)if(t(w)!==null)M=!0,se||(se=!0,Y());else{var de=t(y);de!==null&&le(re,de.startTime-ae)}}var se=!1,V=-1,P=5,O=-1;function W(){return H?!0:!(n.unstable_now()-O<P)}function Q(){if(H=!1,se){var ae=n.unstable_now();O=ae;var de=!0;try{e:{M=!1,k&&(k=!1,G(V),V=-1),N=!0;var ve=I;try{t:{for(Z(ae),A=t(w);A!==null&&!(A.expirationTime>ae&&W());){var Re=A.callback;if(typeof Re=="function"){A.callback=null,I=A.priorityLevel;var te=Re(A.expirationTime<=ae);if(ae=n.unstable_now(),typeof te=="function"){A.callback=te,Z(ae),de=!0;break t}A===t(w)&&r(w),Z(ae)}else r(w);A=t(w)}if(A!==null)de=!0;else{var ye=t(y);ye!==null&&le(re,ye.startTime-ae),de=!1}}break e}finally{A=null,I=ve,N=!1}de=void 0}}finally{de?Y():se=!1}}}var Y;if(typeof B=="function")Y=function(){B(Q)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,_e=q.port2;q.port1.onmessage=Q,Y=function(){_e.postMessage(null)}}else Y=function(){F(Q,0)};function le(ae,de){V=F(function(){ae(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_next=function(ae){switch(I){case 1:case 2:case 3:var de=3;break;default:de=I}var ve=I;I=de;try{return ae()}finally{I=ve}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function(ae,de){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ve=I;I=ae;try{return de()}finally{I=ve}},n.unstable_scheduleCallback=function(ae,de,ve){var Re=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Re+ve:Re):ve=Re,ae){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ve+te,ae={id:_++,callback:de,priorityLevel:ae,startTime:ve,expirationTime:te,sortIndex:-1},ve>Re?(ae.sortIndex=ve,e(y,ae),t(w)===null&&ae===t(y)&&(k?(G(V),V=-1):k=!0,le(re,ve-Re))):(ae.sortIndex=te,e(w,ae),M||N||(M=!0,se||(se=!0,Y()))),ae},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(ae){var de=I;return function(){var ve=I;I=de;try{return ae.apply(this,arguments)}finally{I=ve}}}}(_p)),_p}var H2;function O4(){return H2||(H2=1,Ep.exports=D4()),Ep.exports}var Tp={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G2;function k4(){if(G2)return oi;G2=1;var n=Sy();function e(w){var y="https://react.dev/errors/"+w;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+w+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(w,y,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:w,containerInfo:y,implementation:_}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(w,y){if(w==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,oi.createPortal=function(w,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return o(w,y,null,_)},oi.flushSync=function(w){var y=d.T,_=r.p;try{if(d.T=null,r.p=2,w)return w()}finally{d.T=y,r.p=_,r.d.f()}},oi.preconnect=function(w,y){typeof w=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(w,y))},oi.prefetchDNS=function(w){typeof w=="string"&&r.d.D(w)},oi.preinit=function(w,y){if(typeof w=="string"&&y&&typeof y.as=="string"){var _=y.as,A=p(_,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?r.d.S(w,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:N}):_==="script"&&r.d.X(w,{crossOrigin:A,integrity:I,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},oi.preinitModule=function(w,y){if(typeof w=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);r.d.M(w,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(w)},oi.preload=function(w,y){if(typeof w=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,A=p(_,y.crossOrigin);r.d.L(w,_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},oi.preloadModule=function(w,y){if(typeof w=="string")if(y){var _=p(y.as,y.crossOrigin);r.d.m(w,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(w)},oi.requestFormReset=function(w){r.d.r(w)},oi.unstable_batchedUpdates=function(w,y){return w(y)},oi.useFormState=function(w,y,_){return d.H.useFormState(w,y,_)},oi.useFormStatus=function(){return d.H.useHostTransitionStatus()},oi.version="19.1.0",oi}var q2;function wT(){if(q2)return Tp.exports;q2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tp.exports=k4(),Tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2;function P4(){if(Y2)return vf;Y2=1;var n=O4(),e=Sy(),t=wT();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function d(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function p(i){if(o(i)!==i)throw Error(r(188))}function w(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var f=i,m=l;;){var E=f.return;if(E===null)break;var S=E.alternate;if(S===null){if(m=E.return,m!==null){f=m;continue}break}if(E.child===S.child){for(S=E.child;S;){if(S===f)return p(E),i;if(S===m)return p(E),l;S=S.sibling}throw Error(r(188))}if(f.return!==m.return)f=E,m=S;else{for(var U=!1,J=E.child;J;){if(J===f){U=!0,f=E,m=S;break}if(J===m){U=!0,m=E,f=S;break}J=J.sibling}if(!U){for(J=S.child;J;){if(J===f){U=!0,f=S,m=E;break}if(J===m){U=!0,m=S,f=E;break}J=J.sibling}if(!U)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:l}function y(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=y(i),l!==null)return l;i=i.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function _e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case H:return"Profiler";case k:return"StrictMode";case re:return"Suspense";case se:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case B:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case Z:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return l=i.displayName||null,l!==null?l:_e(i.type)||"Memo";case P:l=i._payload,i=i._init;try{return _e(i(l))}catch{}}return null}var le=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Re=[],te=-1;function ye(i){return{current:i}}function Ne(i){0>te||(i.current=Re[te],Re[te]=null,te--)}function Oe(i,l){te++,Re[te]=i.current,i.current=l}var Ge=ye(null),it=ye(null),Ce=ye(null),We=ye(null);function He(i,l){switch(Oe(Ce,l),Oe(it,i),Oe(Ge,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?d2(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=d2(l),i=h2(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ne(Ge),Oe(Ge,i)}function Ye(){Ne(Ge),Ne(it),Ne(Ce)}function lt(i){i.memoizedState!==null&&Oe(We,i);var l=Ge.current,f=h2(l,i.type);l!==f&&(Oe(it,i),Oe(Ge,f))}function et(i){it.current===i&&(Ne(Ge),Ne(it)),We.current===i&&(Ne(We),gf._currentValue=ve)}var wt=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,on=n.unstable_cancelCallback,Pt=n.unstable_shouldYield,Jn=n.unstable_requestPaint,xt=n.unstable_now,Lt=n.unstable_getCurrentPriorityLevel,_t=n.unstable_ImmediatePriority,Mr=n.unstable_UserBlockingPriority,qe=n.unstable_NormalPriority,Ts=n.unstable_LowPriority,ua=n.unstable_IdlePriority,di=n.log,eo=n.unstable_setDisableYieldValue,Kt=null,en=null;function er(i){if(typeof di=="function"&&eo(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Kt,i)}catch{}}var tn=Math.clz32?Math.clz32:fa,hl=Math.log,to=Math.LN2;function fa(i){return i>>>=0,i===0?32:31-(hl(i)/to|0)|0}var xn=256,Fe=4194304;function ln(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qt(i,l,f){var m=i.pendingLanes;if(m===0)return 0;var E=0,S=i.suspendedLanes,U=i.pingedLanes;i=i.warmLanes;var J=m&134217727;return J!==0?(m=J&~S,m!==0?E=ln(m):(U&=J,U!==0?E=ln(U):f||(f=J&~i,f!==0&&(E=ln(f))))):(J=m&~S,J!==0?E=ln(J):U!==0?E=ln(U):f||(f=m&~i,f!==0&&(E=ln(f)))),E===0?0:l!==0&&l!==E&&(l&S)===0&&(S=E&-E,f=l&-l,S>=f||S===32&&(f&4194048)!==0)?l:E}function un(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function As(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function da(){var i=xn;return xn<<=1,(xn&4194048)===0&&(xn=256),i}function no(){var i=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),i}function Ct(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function zr(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ro(i,l,f,m,E,S){var U=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var J=i.entanglements,oe=i.expirationTimes,xe=i.hiddenUpdates;for(f=U&~f;0<f;){var Ie=31-tn(f),ke=1<<Ie;J[Ie]=0,oe[Ie]=-1;var be=xe[Ie];if(be!==null)for(xe[Ie]=null,Ie=0;Ie<be.length;Ie++){var Ae=be[Ie];Ae!==null&&(Ae.lane&=-536870913)}f&=~ke}m!==0&&ki(i,m,0),S!==0&&E===0&&i.tag!==0&&(i.suspendedLanes|=S&~(U&~l))}function ki(i,l,f){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-tn(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|f&4194090}function jr(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var m=31-tn(f),E=1<<m;E&l|i[m]&l&&(i[m]|=l),f&=~E}}function is(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hi(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:D2(i.type))}function ha(i,l){var f=de.p;try{return de.p=i,l()}finally{de.p=f}}var Xt=Math.random().toString(36).slice(2),lr="__reactFiber$"+Xt,vn="__reactProps$"+Xt,Jr="__reactContainer$"+Xt,pr="__reactEvents$"+Xt,Ss="__reactListeners$"+Xt,cr="__reactHandles$"+Xt,Xe="__reactResources$"+Xt,xi="__reactMarker$"+Xt;function ss(i){delete i[lr],delete i[vn],delete i[pr],delete i[Ss],delete i[cr]}function zn(i){var l=i[lr];if(l)return l;for(var f=i.parentNode;f;){if(l=f[Jr]||f[lr]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=y2(i);i!==null;){if(f=i[lr])return f;i=y2(i)}return l}i=f,f=i.parentNode}return null}function Hr(i){if(i=i[lr]||i[Jr]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function gi(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function mr(i){var l=i[Xe];return l||(l=i[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nn(i){i[xi]=!0}var gl=new Set,io={};function tr(i,l){Dn(i,l),Dn(i+"Capture",l)}function Dn(i,l){for(io[i]=l,i=0;i<l.length;i++)gl.add(l[i])}var hn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},ei={};function so(i){return wt.call(ei,i)?!0:wt.call(pl,i)?!1:hn.test(i)?ei[i]=!0:(pl[i]=!0,!1)}function De(i,l,f){if(so(l))if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+f)}}function as(i,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+f)}}function Nt(i,l,f,m){if(m===null)i.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(l,f,""+m)}}var vi,nc;function Mt(i){if(vi===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);vi=l&&l[1]||"",nc=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vi+i+nc}var Bt=!1;function St(i,l){if(!i||Bt)return"";Bt=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(Ae){var be=Ae}Reflect.construct(i,[],ke)}else{try{ke.call()}catch(Ae){be=Ae}i.call(ke.prototype)}}else{try{throw Error()}catch(Ae){be=Ae}(ke=i())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(Ae){if(Ae&&be&&typeof Ae.stack=="string")return[Ae.stack,be.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),U=S[0],J=S[1];if(U&&J){var oe=U.split(`
`),xe=J.split(`
`);for(E=m=0;m<oe.length&&!oe[m].includes("DetermineComponentFrameRoot");)m++;for(;E<xe.length&&!xe[E].includes("DetermineComponentFrameRoot");)E++;if(m===oe.length||E===xe.length)for(m=oe.length-1,E=xe.length-1;1<=m&&0<=E&&oe[m]!==xe[E];)E--;for(;1<=m&&0<=E;m--,E--)if(oe[m]!==xe[E]){if(m!==1||E!==1)do if(m--,E--,0>E||oe[m]!==xe[E]){var Ie=`
`+oe[m].replace(" at new "," at ");return i.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",i.displayName)),Ie}while(1<=m&&0<=E);break}}}finally{Bt=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?Mt(f):""}function ga(i){switch(i.tag){case 26:case 27:case 5:return Mt(i.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return St(i.type,!1);case 11:return St(i.type.render,!1);case 1:return St(i.type,!0);case 31:return Mt("Activity");default:return""}}function Fs(i){try{var l="";do l+=ga(i),i=i.return;while(i);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function On(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function os(i){var l=On(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var E=f.get,S=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return E.call(this)},set:function(U){m=""+U,S.call(this,U)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function ao(i){i._valueTracker||(i._valueTracker=os(i))}function Tn(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return i&&(m=On(i)?i.checked?"true":"false":i.value),i=m,i!==f?(l.setValue(i),!0):!1}function ti(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Du=/[\n"\\]/g;function An(i){return i.replace(Du,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Dt(i,l,f,m,E,S,U,J){i.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.type=U:i.removeAttribute("type"),l!=null?U==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Er(l)):i.value!==""+Er(l)&&(i.value=""+Er(l)):U!=="submit"&&U!=="reset"||i.removeAttribute("value"),l!=null?ge(i,U,Er(l)):f!=null?ge(i,U,Er(f)):m!=null&&i.removeAttribute("value"),E==null&&S!=null&&(i.defaultChecked=!!S),E!=null&&(i.checked=E&&typeof E!="function"&&typeof E!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?i.name=""+Er(J):i.removeAttribute("name")}function jn(i,l,f,m,E,S,U,J){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),l!=null||f!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;f=f!=null?""+Er(f):"",l=l!=null?""+Er(l):f,J||l===i.value||(i.value=l),i.defaultValue=l}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=J?i.checked:!!m,i.defaultChecked=!!m,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(i.name=U)}function ge(i,l,f){l==="number"&&ti(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function ne(i,l,f,m){if(i=i.options,l){l={};for(var E=0;E<f.length;E++)l["$"+f[E]]=!0;for(f=0;f<i.length;f++)E=l.hasOwnProperty("$"+i[f].value),i[f].selected!==E&&(i[f].selected=E),E&&m&&(i[f].defaultSelected=!0)}else{for(f=""+Er(f),l=null,E=0;E<i.length;E++){if(i[E].value===f){i[E].selected=!0,m&&(i[E].defaultSelected=!0);return}l!==null||i[E].disabled||(l=i[E])}l!==null&&(l.selected=!0)}}function je(i,l,f){if(l!=null&&(l=""+Er(l),l!==i.value&&(i.value=l),f==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=f!=null?""+Er(f):""}function Nn(i,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(r(92));if(le(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=Er(l),i.defaultValue=f,m=i.textContent,m===f&&m!==""&&m!==null&&(i.value=m)}function kn(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(i,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,f):typeof f!="number"||f===0||pa.has(l)?l==="float"?i.cssFloat=f:i[l]=(""+f).trim():i[l]=f+"px"}function Dr(i,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var E in l)m=l[E],l.hasOwnProperty(E)&&f[E]!==m&&oo(i,E,m)}else for(var S in l)l.hasOwnProperty(S)&&oo(i,S,l[S])}function rt(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(i){return rc.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Pi=null;function Gr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Li=null,Cs=null;function Hn(i){var l=Hr(i);if(l&&(i=l.stateNode)){var f=i[vn]||null;e:switch(i=l.stateNode,l.type){case"input":if(Dt(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+An(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==i&&m.form===i.form){var E=m[vn]||null;if(!E)throw Error(r(90));Dt(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===i.form&&Tn(m)}break e;case"textarea":je(i,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&ne(i,!!f.multiple,l,!1)}}}var ni=!1;function Bi(i,l,f){if(ni)return i(l,f);ni=!0;try{var m=i(l);return m}finally{if(ni=!1,(Li!==null||Cs!==null)&&(sh(),Li&&(l=Li,i=Cs,Cs=Li=null,Hn(l),i)))for(l=0;l<i.length;l++)Hn(i[l])}}function st(i,l){var f=i.stateNode;if(f===null)return null;var m=f[vn]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ft=!1;if(Vi)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){ft=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{ft=!1}var ls=null,cs=null,us=null;function Ui(){if(us)return us;var i,l=cs,f=l.length,m,E="value"in ls?ls.value:ls.textContent,S=E.length;for(i=0;i<f&&l[i]===E[i];i++);var U=f-i;for(m=1;m<=U&&l[f-m]===E[S-m];m++);return us=E.slice(i,1<m?1-m:void 0)}function fs(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ri(){return!0}function Is(){return!1}function Gn(i){function l(f,m,E,S,U){this._reactName=f,this._targetInst=E,this.type=m,this.nativeEvent=S,this.target=U,this.currentTarget=null;for(var J in i)i.hasOwnProperty(J)&&(f=i[J],this[J]=f?f(S):S[J]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ri:Is,this.isPropagationStopped=Is,this}return _(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),l}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=Gn(Jt),Fi=_({},Jt,{view:0,detail:0}),_r=Gn(Fi),ma,ya,zi,wa=_({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zi&&(zi&&i.type==="mousemove"?(ma=i.screenX-zi.screenX,ya=i.screenY-zi.screenY):ya=ma=0,zi=i),ma)},movementY:function(i){return"movementY"in i?i.movementY:ya}}),bi=Gn(wa),ic=_({},wa,{dataTransfer:0}),rn=Gn(ic),zs=_({},Fi,{relatedTarget:0}),Rs=Gn(zs),Ei=_({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),co=Gn(Ei),Te=_({},Jt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vt=Gn(Te),ur=_({},Jt,{data:0}),js=Gn(ur),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ac[i])?!!l[i]:!1}function Ns(){return ml}var qn=_({},Fi,{key:function(i){if(i.key){var l=Hs[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=fs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(i){return i.type==="keypress"?fs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Gs=Gn(qn),Cn=_({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=Gn(Cn),qr=_({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),sn=Gn(qr),ot=_({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Gn(ot),fn=_({},wa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),_i=Gn(fn),nr=_({},Jt,{newState:0,oldState:0}),lc=Gn(nr),pi=[9,13,27,32],Ti=Vi&&"CompositionEvent"in window,b=null;Vi&&"documentMode"in document&&(b=document.documentMode);var R=Vi&&"TextEvent"in window&&!b,L=Vi&&(!Ti||b&&8<b&&11>=b),ee=" ",pe=!1;function Se(i,l){switch(i){case"keyup":return pi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ze(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zt=!1;function Ln(i,l){switch(i){case"compositionend":return ze(l);case"keypress":return l.which!==32?null:(pe=!0,ee);case"textInput":return i=l.data,i===ee&&pe?null:i;default:return null}}function jt(i,l){if(zt)return i==="compositionend"||!Ti&&Se(i,l)?(i=Ui(),us=cs=ls=null,zt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return L&&l.locale!=="ko"?null:l.data;default:return null}}var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!In[i.type]:l==="textarea"}function rr(i,l,f,m){Li?Cs?Cs.push(m):Cs=[m]:Li=m,l=fh(l,"onChange"),0<l.length&&(f=new ds("onChange","change",null,f,m),i.push({event:f,listeners:l}))}var yr=null,fr=null;function yl(i){o2(i,0)}function uo(i){var l=gi(i);if(Tn(l))return i}function Ad(i,l){if(i==="change")return l}var Ou=!1;if(Vi){var Ai;if(Vi){var ku="oninput"in document;if(!ku){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),ku=typeof cc.oninput=="function"}Ai=ku}else Ai=!1;Ou=Ai&&(!document.documentMode||9<document.documentMode)}function fo(){yr&&(yr.detachEvent("onpropertychange",Ht),fr=yr=null)}function Ht(i){if(i.propertyName==="value"&&uo(fr)){var l=[];rr(l,fr,i,Gr(i)),Bi(yl,l)}}function uc(i,l,f){i==="focusin"?(fo(),yr=l,fr=f,yr.attachEvent("onpropertychange",Ht)):i==="focusout"&&fo()}function z(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uo(fr)}function a(i,l){if(i==="click")return uo(l)}function c(i,l){if(i==="input"||i==="change")return uo(l)}function u(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var h=typeof Object.is=="function"?Object.is:u;function g(i,l){if(h(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var E=f[m];if(!wt.call(l,E)||!h(i[E],l[E]))return!1}return!0}function x(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function v(i,l){var f=x(i);i=0;for(var m;f;){if(f.nodeType===3){if(m=i+f.textContent.length,i<=l&&m>=l)return{node:f,offset:l-i};i=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=x(f)}}function T(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?T(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function C(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=ti(i.document);l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=ti(i.document)}return l}function D(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var j=Vi&&"documentMode"in document&&11>=document.documentMode,K=null,ie=null,ce=null,ue=!1;function me(i,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;ue||K==null||K!==ti(m)||(m=K,"selectionStart"in m&&D(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ce&&g(ce,m)||(ce=m,m=fh(ie,"onSelect"),0<m.length&&(l=new ds("onSelect","select",null,l,f),i.push({event:l,listeners:m}),l.target=K)))}function Ee(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Ve={animationend:Ee("Animation","AnimationEnd"),animationiteration:Ee("Animation","AnimationIteration"),animationstart:Ee("Animation","AnimationStart"),transitionrun:Ee("Transition","TransitionRun"),transitionstart:Ee("Transition","TransitionStart"),transitioncancel:Ee("Transition","TransitionCancel"),transitionend:Ee("Transition","TransitionEnd")},Ue={},Be={};Vi&&(Be=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function Tt(i){if(Ue[i])return Ue[i];if(!Ve[i])return i;var l=Ve[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in Be)return Ue[i]=l[f];return i}var bt=Tt("animationend"),Yr=Tt("animationiteration"),Si=Tt("animationstart"),ii=Tt("transitionrun"),gn=Tt("transitionstart"),Tr=Tt("transitioncancel"),si=Tt("transitionend"),xa=new Map,Ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ys.push("scrollEnd");function ji(i,l){xa.set(i,l),tr(l,[i])}var Sd=new WeakMap;function hs(i,l){if(typeof i=="object"&&i!==null){var f=Sd.get(i);return f!==void 0?f:(l={value:i,source:l,stack:Fs(l)},Sd.set(i,l),l)}return{value:i,source:l,stack:Fs(l)}}var gs=[],fc=0,Lg=0;function Cd(){for(var i=fc,l=Lg=fc=0;l<i;){var f=gs[l];gs[l++]=null;var m=gs[l];gs[l++]=null;var E=gs[l];gs[l++]=null;var S=gs[l];if(gs[l++]=null,m!==null&&E!==null){var U=m.pending;U===null?E.next=E:(E.next=U.next,U.next=E),m.pending=E}S!==0&&qw(f,E,S)}}function Id(i,l,f,m){gs[fc++]=i,gs[fc++]=l,gs[fc++]=f,gs[fc++]=m,Lg|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function Bg(i,l,f,m){return Id(i,l,f,m),Rd(i)}function dc(i,l){return Id(i,null,null,l),Rd(i)}function qw(i,l,f){i.lanes|=f;var m=i.alternate;m!==null&&(m.lanes|=f);for(var E=!1,S=i.return;S!==null;)S.childLanes|=f,m=S.alternate,m!==null&&(m.childLanes|=f),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(E=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,E&&l!==null&&(E=31-tn(f),i=S.hiddenUpdates,m=i[E],m===null?i[E]=[l]:m.push(l),l.lane=f|536870912),S):null}function Rd(i){if(50<af)throw af=0,H1=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var hc={};function h3(i,l,f,m){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(i,l,f,m){return new h3(i,l,f,m)}function Vg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function va(i,l){var f=i.alternate;return f===null?(f=Hi(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Yw(i,l){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,l=f.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Nd(i,l,f,m,E,S){var U=0;if(m=i,typeof i=="function")Vg(i)&&(U=1);else if(typeof i=="string")U=p4(i,f,Ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=Hi(31,f,l,E),i.elementType=O,i.lanes=S,i;case M:return wl(f.children,E,S,l);case k:U=8,E|=24;break;case H:return i=Hi(12,f,l,E|2),i.elementType=H,i.lanes=S,i;case re:return i=Hi(13,f,l,E),i.elementType=re,i.lanes=S,i;case se:return i=Hi(19,f,l,E),i.elementType=se,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case B:U=10;break e;case G:U=9;break e;case Z:U=11;break e;case V:U=14;break e;case P:U=16,m=null;break e}U=29,f=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=Hi(U,f,l,E),l.elementType=i,l.type=m,l.lanes=S,l}function wl(i,l,f,m){return i=Hi(7,i,m,l),i.lanes=f,i}function Ug(i,l,f){return i=Hi(6,i,null,l),i.lanes=f,i}function Fg(i,l,f){return l=Hi(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var gc=[],pc=0,Md=null,Dd=0,ps=[],ms=0,xl=null,ba=1,Ea="";function vl(i,l){gc[pc++]=Dd,gc[pc++]=Md,Md=i,Dd=l}function Ww(i,l,f){ps[ms++]=ba,ps[ms++]=Ea,ps[ms++]=xl,xl=i;var m=ba;i=Ea;var E=32-tn(m)-1;m&=~(1<<E),f+=1;var S=32-tn(l)+E;if(30<S){var U=E-E%5;S=(m&(1<<U)-1).toString(32),m>>=U,E-=U,ba=1<<32-tn(l)+E|f<<E|m,Ea=S+i}else ba=1<<S|f<<E|m,Ea=i}function zg(i){i.return!==null&&(vl(i,1),Ww(i,1,0))}function jg(i){for(;i===Md;)Md=gc[--pc],gc[pc]=null,Dd=gc[--pc],gc[pc]=null;for(;i===xl;)xl=ps[--ms],ps[ms]=null,Ea=ps[--ms],ps[ms]=null,ba=ps[--ms],ps[ms]=null}var mi=null,ir=null,cn=!1,bl=null,Ws=!1,Hg=Error(r(519));function El(i){var l=Error(r(418,""));throw Bu(hs(l,i)),Hg}function Xw(i){var l=i.stateNode,f=i.type,m=i.memoizedProps;switch(l[lr]=i,l[vn]=m,f){case"dialog":Ft("cancel",l),Ft("close",l);break;case"iframe":case"object":case"embed":Ft("load",l);break;case"video":case"audio":for(f=0;f<lf.length;f++)Ft(lf[f],l);break;case"source":Ft("error",l);break;case"img":case"image":case"link":Ft("error",l),Ft("load",l);break;case"details":Ft("toggle",l);break;case"input":Ft("invalid",l),jn(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),ao(l);break;case"select":Ft("invalid",l);break;case"textarea":Ft("invalid",l),Nn(l,m.value,m.defaultValue,m.children),ao(l)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||f2(l.textContent,f)?(m.popover!=null&&(Ft("beforetoggle",l),Ft("toggle",l)),m.onScroll!=null&&Ft("scroll",l),m.onScrollEnd!=null&&Ft("scrollend",l),m.onClick!=null&&(l.onclick=dh),l=!0):l=!1,l||El(i)}function Kw(i){for(mi=i.return;mi;)switch(mi.tag){case 5:case 13:Ws=!1;return;case 27:case 3:Ws=!0;return;default:mi=mi.return}}function Pu(i){if(i!==mi)return!1;if(!cn)return Kw(i),cn=!0,!1;var l=i.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||sp(i.type,i.memoizedProps)),f=!f),f&&ir&&El(i),Kw(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(f=i.data,f==="/$"){if(l===0){ir=Ds(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;i=i.nextSibling}ir=null}}else l===27?(l=ir,Io(i.type)?(i=cp,cp=null,ir=i):ir=l):ir=mi?Ds(i.stateNode.nextSibling):null;return!0}function Lu(){ir=mi=null,cn=!1}function Qw(){var i=bl;return i!==null&&(Ri===null?Ri=i:Ri.push.apply(Ri,i),bl=null),i}function Bu(i){bl===null?bl=[i]:bl.push(i)}var Gg=ye(null),_l=null,_a=null;function ho(i,l,f){Oe(Gg,l._currentValue),l._currentValue=f}function Ta(i){i._currentValue=Gg.current,Ne(Gg)}function qg(i,l,f){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===f)break;i=i.return}}function Yg(i,l,f,m){var E=i.child;for(E!==null&&(E.return=i);E!==null;){var S=E.dependencies;if(S!==null){var U=E.child;S=S.firstContext;e:for(;S!==null;){var J=S;S=E;for(var oe=0;oe<l.length;oe++)if(J.context===l[oe]){S.lanes|=f,J=S.alternate,J!==null&&(J.lanes|=f),qg(S.return,f,i),m||(U=null);break e}S=J.next}}else if(E.tag===18){if(U=E.return,U===null)throw Error(r(341));U.lanes|=f,S=U.alternate,S!==null&&(S.lanes|=f),qg(U,f,i),U=null}else U=E.child;if(U!==null)U.return=E;else for(U=E;U!==null;){if(U===i){U=null;break}if(E=U.sibling,E!==null){E.return=U.return,U=E;break}U=U.return}E=U}}function Vu(i,l,f,m){i=null;for(var E=l,S=!1;E!==null;){if(!S){if((E.flags&524288)!==0)S=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var U=E.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var J=E.type;h(E.pendingProps.value,U.value)||(i!==null?i.push(J):i=[J])}}else if(E===We.current){if(U=E.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(i!==null?i.push(gf):i=[gf])}E=E.return}i!==null&&Yg(l,i,f,m),l.flags|=262144}function Od(i){for(i=i.firstContext;i!==null;){if(!h(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Tl(i){_l=i,_a=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ai(i){return Zw(_l,i)}function kd(i,l){return _l===null&&Tl(i),Zw(i,l)}function Zw(i,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},_a===null){if(i===null)throw Error(r(308));_a=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else _a=_a.next=l;return f}var g3=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(f,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(f){return f()})}},p3=n.unstable_scheduleCallback,m3=n.unstable_NormalPriority,Ar={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wg(){return{controller:new g3,data:new Map,refCount:0}}function Uu(i){i.refCount--,i.refCount===0&&p3(m3,function(){i.controller.abort()})}var Fu=null,Xg=0,mc=0,yc=null;function y3(i,l){if(Fu===null){var f=Fu=[];Xg=0,mc=Q1(),yc={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Xg++,l.then($w,$w),l}function $w(){if(--Xg===0&&Fu!==null){yc!==null&&(yc.status="fulfilled");var i=Fu;Fu=null,mc=0,yc=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function w3(i,l){var f=[],m={status:"pending",value:null,reason:null,then:function(E){f.push(E)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var E=0;E<f.length;E++)(0,f[E])(l)},function(E){for(m.status="rejected",m.reason=E,E=0;E<f.length;E++)(0,f[E])(void 0)}),m}var Jw=ae.S;ae.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&y3(i,l),Jw!==null&&Jw(i,l)};var Al=ye(null);function Kg(){var i=Al.current;return i!==null?i:Mn.pooledCache}function Pd(i,l){l===null?Oe(Al,Al.current):Oe(Al,l.pool)}function ex(){var i=Kg();return i===null?null:{parent:Ar._currentValue,pool:i}}var zu=Error(r(460)),tx=Error(r(474)),Ld=Error(r(542)),Qg={then:function(){}};function nx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Bd(){}function rx(i,l,f){switch(f=i[f],f===void 0?i.push(l):f!==l&&(l.then(Bd,Bd),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,sx(i),i;default:if(typeof l.status=="string")l.then(Bd,Bd);else{if(i=Mn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=m}},function(m){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,sx(i),i}throw ju=l,zu}}var ju=null;function ix(){if(ju===null)throw Error(r(459));var i=ju;return ju=null,i}function sx(i){if(i===zu||i===Ld)throw Error(r(483))}var go=!1;function Zg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $g(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function po(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mo(i,l,f){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(pn&2)!==0){var E=m.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),m.pending=l,l=Rd(i),qw(i,null,f),l}return Id(i,m,l,f),Rd(i)}function Hu(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,f|=m,l.lanes=f,jr(i,f)}}function Jg(i,l){var f=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var E=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var U={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};S===null?E=S=U:S=S.next=U,f=f.next}while(f!==null);S===null?E=S=l:S=S.next=l}else E=S=l;f={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}var e1=!1;function Gu(){if(e1){var i=yc;if(i!==null)throw i}}function qu(i,l,f,m){e1=!1;var E=i.updateQueue;go=!1;var S=E.firstBaseUpdate,U=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var oe=J,xe=oe.next;oe.next=null,U===null?S=xe:U.next=xe,U=oe;var Ie=i.alternate;Ie!==null&&(Ie=Ie.updateQueue,J=Ie.lastBaseUpdate,J!==U&&(J===null?Ie.firstBaseUpdate=xe:J.next=xe,Ie.lastBaseUpdate=oe))}if(S!==null){var ke=E.baseState;U=0,Ie=xe=oe=null,J=S;do{var be=J.lane&-536870913,Ae=be!==J.lane;if(Ae?(Zt&be)===be:(m&be)===be){be!==0&&be===mc&&(e1=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var mt=i,ht=J;be=l;var _n=f;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){ke=mt.call(_n,ke,be);break e}ke=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,be=typeof mt=="function"?mt.call(_n,ke,be):mt,be==null)break e;ke=_({},ke,be);break e;case 2:go=!0}}be=J.callback,be!==null&&(i.flags|=64,Ae&&(i.flags|=8192),Ae=E.callbacks,Ae===null?E.callbacks=[be]:Ae.push(be))}else Ae={lane:be,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ie===null?(xe=Ie=Ae,oe=ke):Ie=Ie.next=Ae,U|=be;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Ae=J,J=Ae.next,Ae.next=null,E.lastBaseUpdate=Ae,E.shared.pending=null}}while(!0);Ie===null&&(oe=ke),E.baseState=oe,E.firstBaseUpdate=xe,E.lastBaseUpdate=Ie,S===null&&(E.shared.lanes=0),To|=U,i.lanes=U,i.memoizedState=ke}}function ax(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function ox(i,l){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)ax(f[i],l)}var wc=ye(null),Vd=ye(0);function lx(i,l){i=Ma,Oe(Vd,i),Oe(wc,l),Ma=i|l.baseLanes}function t1(){Oe(Vd,Ma),Oe(wc,wc.current)}function n1(){Ma=Vd.current,Ne(wc),Ne(Vd)}var yo=0,Ot=null,bn=null,wr=null,Ud=!1,xc=!1,Sl=!1,Fd=0,Yu=0,vc=null,x3=0;function dr(){throw Error(r(321))}function r1(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!h(i[f],l[f]))return!1;return!0}function i1(i,l,f,m,E,S){return yo=S,Ot=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=i===null||i.memoizedState===null?qx:Yx,Sl=!1,S=f(m,E),Sl=!1,xc&&(S=ux(l,f,m,E)),cx(i),S}function cx(i){ae.H=Yd;var l=bn!==null&&bn.next!==null;if(yo=0,wr=bn=Ot=null,Ud=!1,Yu=0,vc=null,l)throw Error(r(300));i===null||Or||(i=i.dependencies,i!==null&&Od(i)&&(Or=!0))}function ux(i,l,f,m){Ot=i;var E=0;do{if(xc&&(vc=null),Yu=0,xc=!1,25<=E)throw Error(r(301));if(E+=1,wr=bn=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}ae.H=S3,S=l(f,m)}while(xc);return S}function v3(){var i=ae.H,l=i.useState()[0];return l=typeof l.then=="function"?Wu(l):l,i=i.useState()[0],(bn!==null?bn.memoizedState:null)!==i&&(Ot.flags|=1024),l}function s1(){var i=Fd!==0;return Fd=0,i}function a1(i,l,f){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~f}function o1(i){if(Ud){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ud=!1}yo=0,wr=bn=Ot=null,xc=!1,Yu=Fd=0,vc=null}function Ci(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Ot.memoizedState=wr=i:wr=wr.next=i,wr}function xr(){if(bn===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=bn.next;var l=wr===null?Ot.memoizedState:wr.next;if(l!==null)wr=l,bn=i;else{if(i===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));bn=i,i={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},wr===null?Ot.memoizedState=wr=i:wr=wr.next=i}return wr}function l1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(i){var l=Yu;return Yu+=1,vc===null&&(vc=[]),i=rx(vc,i,l),l=Ot,(wr===null?l.memoizedState:wr.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?qx:Yx),i}function zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wu(i);if(i.$$typeof===B)return ai(i)}throw Error(r(438,String(i)))}function c1(i){var l=null,f=Ot.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=Ot.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=l1(),Ot.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(i),m=0;m<i;m++)f[m]=W;return l.index++,f}function Aa(i,l){return typeof l=="function"?l(i):l}function jd(i){var l=xr();return u1(l,bn,i)}function u1(i,l,f){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var E=i.baseQueue,S=m.pending;if(S!==null){if(E!==null){var U=E.next;E.next=S.next,S.next=U}l.baseQueue=E=S,m.pending=null}if(S=i.baseState,E===null)i.memoizedState=S;else{l=E.next;var J=U=null,oe=null,xe=l,Ie=!1;do{var ke=xe.lane&-536870913;if(ke!==xe.lane?(Zt&ke)===ke:(yo&ke)===ke){var be=xe.revertLane;if(be===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),ke===mc&&(Ie=!0);else if((yo&be)===be){xe=xe.next,be===mc&&(Ie=!0);continue}else ke={lane:0,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},oe===null?(J=oe=ke,U=S):oe=oe.next=ke,Ot.lanes|=be,To|=be;ke=xe.action,Sl&&f(S,ke),S=xe.hasEagerState?xe.eagerState:f(S,ke)}else be={lane:ke,revertLane:xe.revertLane,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null},oe===null?(J=oe=be,U=S):oe=oe.next=be,Ot.lanes|=ke,To|=ke;xe=xe.next}while(xe!==null&&xe!==l);if(oe===null?U=S:oe.next=J,!h(S,i.memoizedState)&&(Or=!0,Ie&&(f=yc,f!==null)))throw f;i.memoizedState=S,i.baseState=U,i.baseQueue=oe,m.lastRenderedState=S}return E===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function f1(i){var l=xr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var m=f.dispatch,E=f.pending,S=l.memoizedState;if(E!==null){f.pending=null;var U=E=E.next;do S=i(S,U.action),U=U.next;while(U!==E);h(S,l.memoizedState)||(Or=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,m]}function fx(i,l,f){var m=Ot,E=xr(),S=cn;if(S){if(f===void 0)throw Error(r(407));f=f()}else f=l();var U=!h((bn||E).memoizedState,f);U&&(E.memoizedState=f,Or=!0),E=E.queue;var J=gx.bind(null,m,E,i);if(Xu(2048,8,J,[i]),E.getSnapshot!==l||U||wr!==null&&wr.memoizedState.tag&1){if(m.flags|=2048,bc(9,Hd(),hx.bind(null,m,E,f,l),null),Mn===null)throw Error(r(349));S||(yo&124)!==0||dx(m,l,f)}return f}function dx(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=Ot.updateQueue,l===null?(l=l1(),Ot.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function hx(i,l,f,m){l.value=f,l.getSnapshot=m,px(l)&&mx(i)}function gx(i,l,f){return f(function(){px(l)&&mx(i)})}function px(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!h(i,f)}catch{return!0}}function mx(i){var l=dc(i,2);l!==null&&Xi(l,i,2)}function d1(i){var l=Ci();if(typeof i=="function"){var f=i;if(i=f(),Sl){er(!0);try{f()}finally{er(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:i},l}function yx(i,l,f,m){return i.baseState=f,u1(i,bn,typeof m=="function"?m:Aa)}function b3(i,l,f,m,E){if(qd(i))throw Error(r(485));if(i=l.action,i!==null){var S={payload:E,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){S.listeners.push(U)}};ae.T!==null?f(!0):S.isTransition=!1,m(S),f=l.pending,f===null?(S.next=l.pending=S,wx(l,S)):(S.next=f.next,l.pending=f.next=S)}}function wx(i,l){var f=l.action,m=l.payload,E=i.state;if(l.isTransition){var S=ae.T,U={};ae.T=U;try{var J=f(E,m),oe=ae.S;oe!==null&&oe(U,J),xx(i,l,J)}catch(xe){h1(i,l,xe)}finally{ae.T=S}}else try{S=f(E,m),xx(i,l,S)}catch(xe){h1(i,l,xe)}}function xx(i,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){vx(i,l,m)},function(m){return h1(i,l,m)}):vx(i,l,f)}function vx(i,l,f){l.status="fulfilled",l.value=f,bx(l),i.state=f,l=i.pending,l!==null&&(f=l.next,f===l?i.pending=null:(f=f.next,l.next=f,wx(i,f)))}function h1(i,l,f){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,bx(l),l=l.next;while(l!==m)}i.action=null}function bx(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Ex(i,l){return l}function _x(i,l){if(cn){var f=Mn.formState;if(f!==null){e:{var m=Ot;if(cn){if(ir){t:{for(var E=ir,S=Ws;E.nodeType!==8;){if(!S){E=null;break t}if(E=Ds(E.nextSibling),E===null){E=null;break t}}S=E.data,E=S==="F!"||S==="F"?E:null}if(E){ir=Ds(E.nextSibling),m=E.data==="F!";break e}}El(m)}m=!1}m&&(l=f[0])}}return f=Ci(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ex,lastRenderedState:l},f.queue=m,f=jx.bind(null,Ot,m),m.dispatch=f,m=d1(!1),S=w1.bind(null,Ot,!1,m.queue),m=Ci(),E={state:l,dispatch:null,action:i,pending:null},m.queue=E,f=b3.bind(null,Ot,E,S,f),E.dispatch=f,m.memoizedState=i,[l,f,!1]}function Tx(i){var l=xr();return Ax(l,bn,i)}function Ax(i,l,f){if(l=u1(i,l,Ex)[0],i=jd(Aa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Wu(l)}catch(U){throw U===zu?Ld:U}else m=l;l=xr();var E=l.queue,S=E.dispatch;return f!==l.memoizedState&&(Ot.flags|=2048,bc(9,Hd(),E3.bind(null,E,f),null)),[m,S,i]}function E3(i,l){i.action=l}function Sx(i){var l=xr(),f=bn;if(f!==null)return Ax(l,f,i);xr(),l=l.memoizedState,f=xr();var m=f.queue.dispatch;return f.memoizedState=i,[l,m,!1]}function bc(i,l,f,m){return i={tag:i,create:f,deps:m,inst:l,next:null},l=Ot.updateQueue,l===null&&(l=l1(),Ot.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=i.next=i:(m=f.next,f.next=i,i.next=m,l.lastEffect=i),i}function Hd(){return{destroy:void 0,resource:void 0}}function Cx(){return xr().memoizedState}function Gd(i,l,f,m){var E=Ci();m=m===void 0?null:m,Ot.flags|=i,E.memoizedState=bc(1|l,Hd(),f,m)}function Xu(i,l,f,m){var E=xr();m=m===void 0?null:m;var S=E.memoizedState.inst;bn!==null&&m!==null&&r1(m,bn.memoizedState.deps)?E.memoizedState=bc(l,S,f,m):(Ot.flags|=i,E.memoizedState=bc(1|l,S,f,m))}function Ix(i,l){Gd(8390656,8,i,l)}function Rx(i,l){Xu(2048,8,i,l)}function Nx(i,l){return Xu(4,2,i,l)}function Mx(i,l){return Xu(4,4,i,l)}function Dx(i,l){if(typeof l=="function"){i=i();var f=l(i);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Ox(i,l,f){f=f!=null?f.concat([i]):null,Xu(4,4,Dx.bind(null,l,i),f)}function g1(){}function kx(i,l){var f=xr();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&r1(l,m[1])?m[0]:(f.memoizedState=[i,l],i)}function Px(i,l){var f=xr();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&r1(l,m[1]))return m[0];if(m=i(),Sl){er(!0);try{i()}finally{er(!1)}}return f.memoizedState=[m,l],m}function p1(i,l,f){return f===void 0||(yo&1073741824)!==0?i.memoizedState=l:(i.memoizedState=f,i=Vv(),Ot.lanes|=i,To|=i,f)}function Lx(i,l,f,m){return h(f,l)?f:wc.current!==null?(i=p1(i,f,m),h(i,l)||(Or=!0),i):(yo&42)===0?(Or=!0,i.memoizedState=f):(i=Vv(),Ot.lanes|=i,To|=i,l)}function Bx(i,l,f,m,E){var S=de.p;de.p=S!==0&&8>S?S:8;var U=ae.T,J={};ae.T=J,w1(i,!1,l,f);try{var oe=E(),xe=ae.S;if(xe!==null&&xe(J,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ie=w3(oe,m);Ku(i,l,Ie,Wi(i))}else Ku(i,l,m,Wi(i))}catch(ke){Ku(i,l,{then:function(){},status:"rejected",reason:ke},Wi())}finally{de.p=S,ae.T=U}}function _3(){}function m1(i,l,f,m){if(i.tag!==5)throw Error(r(476));var E=Vx(i).queue;Bx(i,E,l,ve,f===null?_3:function(){return Ux(i),f(m)})}function Vx(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ve},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:f},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Ux(i){var l=Vx(i).next.queue;Ku(i,l,{},Wi())}function y1(){return ai(gf)}function Fx(){return xr().memoizedState}function zx(){return xr().memoizedState}function T3(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var f=Wi();i=po(f);var m=mo(l,i,f);m!==null&&(Xi(m,l,f),Hu(m,l,f)),l={cache:Wg()},i.payload=l;return}l=l.return}}function A3(i,l,f){var m=Wi();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},qd(i)?Hx(l,f):(f=Bg(i,l,f,m),f!==null&&(Xi(f,i,m),Gx(f,l,m)))}function jx(i,l,f){var m=Wi();Ku(i,l,f,m)}function Ku(i,l,f,m){var E={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(qd(i))Hx(l,E);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var U=l.lastRenderedState,J=S(U,f);if(E.hasEagerState=!0,E.eagerState=J,h(J,U))return Id(i,l,E,0),Mn===null&&Cd(),!1}catch{}finally{}if(f=Bg(i,l,E,m),f!==null)return Xi(f,i,m),Gx(f,l,m),!0}return!1}function w1(i,l,f,m){if(m={lane:2,revertLane:Q1(),action:m,hasEagerState:!1,eagerState:null,next:null},qd(i)){if(l)throw Error(r(479))}else l=Bg(i,f,m,2),l!==null&&Xi(l,i,2)}function qd(i){var l=i.alternate;return i===Ot||l!==null&&l===Ot}function Hx(i,l){xc=Ud=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function Gx(i,l,f){if((f&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,f|=m,l.lanes=f,jr(i,f)}}var Yd={readContext:ai,use:zd,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr,useHostTransitionStatus:dr,useFormState:dr,useActionState:dr,useOptimistic:dr,useMemoCache:dr,useCacheRefresh:dr},qx={readContext:ai,use:zd,useCallback:function(i,l){return Ci().memoizedState=[i,l===void 0?null:l],i},useContext:ai,useEffect:Ix,useImperativeHandle:function(i,l,f){f=f!=null?f.concat([i]):null,Gd(4194308,4,Dx.bind(null,l,i),f)},useLayoutEffect:function(i,l){return Gd(4194308,4,i,l)},useInsertionEffect:function(i,l){Gd(4,2,i,l)},useMemo:function(i,l){var f=Ci();l=l===void 0?null:l;var m=i();if(Sl){er(!0);try{i()}finally{er(!1)}}return f.memoizedState=[m,l],m},useReducer:function(i,l,f){var m=Ci();if(f!==void 0){var E=f(l);if(Sl){er(!0);try{f(l)}finally{er(!1)}}}else E=l;return m.memoizedState=m.baseState=E,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:E},m.queue=i,i=i.dispatch=A3.bind(null,Ot,i),[m.memoizedState,i]},useRef:function(i){var l=Ci();return i={current:i},l.memoizedState=i},useState:function(i){i=d1(i);var l=i.queue,f=jx.bind(null,Ot,l);return l.dispatch=f,[i.memoizedState,f]},useDebugValue:g1,useDeferredValue:function(i,l){var f=Ci();return p1(f,i,l)},useTransition:function(){var i=d1(!1);return i=Bx.bind(null,Ot,i.queue,!0,!1),Ci().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,f){var m=Ot,E=Ci();if(cn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Mn===null)throw Error(r(349));(Zt&124)!==0||dx(m,l,f)}E.memoizedState=f;var S={value:f,getSnapshot:l};return E.queue=S,Ix(gx.bind(null,m,S,i),[i]),m.flags|=2048,bc(9,Hd(),hx.bind(null,m,S,f,l),null),f},useId:function(){var i=Ci(),l=Mn.identifierPrefix;if(cn){var f=Ea,m=ba;f=(m&~(1<<32-tn(m)-1)).toString(32)+f,l="«"+l+"R"+f,f=Fd++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=x3++,l="«"+l+"r"+f.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:y1,useFormState:_x,useActionState:_x,useOptimistic:function(i){var l=Ci();l.memoizedState=l.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=w1.bind(null,Ot,!0,f),f.dispatch=l,[i,l]},useMemoCache:c1,useCacheRefresh:function(){return Ci().memoizedState=T3.bind(null,Ot)}},Yx={readContext:ai,use:zd,useCallback:kx,useContext:ai,useEffect:Rx,useImperativeHandle:Ox,useInsertionEffect:Nx,useLayoutEffect:Mx,useMemo:Px,useReducer:jd,useRef:Cx,useState:function(){return jd(Aa)},useDebugValue:g1,useDeferredValue:function(i,l){var f=xr();return Lx(f,bn.memoizedState,i,l)},useTransition:function(){var i=jd(Aa)[0],l=xr().memoizedState;return[typeof i=="boolean"?i:Wu(i),l]},useSyncExternalStore:fx,useId:Fx,useHostTransitionStatus:y1,useFormState:Tx,useActionState:Tx,useOptimistic:function(i,l){var f=xr();return yx(f,bn,i,l)},useMemoCache:c1,useCacheRefresh:zx},S3={readContext:ai,use:zd,useCallback:kx,useContext:ai,useEffect:Rx,useImperativeHandle:Ox,useInsertionEffect:Nx,useLayoutEffect:Mx,useMemo:Px,useReducer:f1,useRef:Cx,useState:function(){return f1(Aa)},useDebugValue:g1,useDeferredValue:function(i,l){var f=xr();return bn===null?p1(f,i,l):Lx(f,bn.memoizedState,i,l)},useTransition:function(){var i=f1(Aa)[0],l=xr().memoizedState;return[typeof i=="boolean"?i:Wu(i),l]},useSyncExternalStore:fx,useId:Fx,useHostTransitionStatus:y1,useFormState:Sx,useActionState:Sx,useOptimistic:function(i,l){var f=xr();return bn!==null?yx(f,bn,i,l):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:c1,useCacheRefresh:zx},Ec=null,Qu=0;function Wd(i){var l=Qu;return Qu+=1,Ec===null&&(Ec=[]),rx(Ec,i,l)}function Zu(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Xd(i,l){throw l.$$typeof===A?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Wx(i){var l=i._init;return l(i._payload)}function Xx(i){function l(he,fe){if(i){var we=he.deletions;we===null?(he.deletions=[fe],he.flags|=16):we.push(fe)}}function f(he,fe){if(!i)return null;for(;fe!==null;)l(he,fe),fe=fe.sibling;return null}function m(he){for(var fe=new Map;he!==null;)he.key!==null?fe.set(he.key,he):fe.set(he.index,he),he=he.sibling;return fe}function E(he,fe){return he=va(he,fe),he.index=0,he.sibling=null,he}function S(he,fe,we){return he.index=we,i?(we=he.alternate,we!==null?(we=we.index,we<fe?(he.flags|=67108866,fe):we):(he.flags|=67108866,fe)):(he.flags|=1048576,fe)}function U(he){return i&&he.alternate===null&&(he.flags|=67108866),he}function J(he,fe,we,Me){return fe===null||fe.tag!==6?(fe=Ug(we,he.mode,Me),fe.return=he,fe):(fe=E(fe,we),fe.return=he,fe)}function oe(he,fe,we,Me){var tt=we.type;return tt===M?Ie(he,fe,we.props.children,Me,we.key):fe!==null&&(fe.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===P&&Wx(tt)===fe.type)?(fe=E(fe,we.props),Zu(fe,we),fe.return=he,fe):(fe=Nd(we.type,we.key,we.props,null,he.mode,Me),Zu(fe,we),fe.return=he,fe)}function xe(he,fe,we,Me){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==we.containerInfo||fe.stateNode.implementation!==we.implementation?(fe=Fg(we,he.mode,Me),fe.return=he,fe):(fe=E(fe,we.children||[]),fe.return=he,fe)}function Ie(he,fe,we,Me,tt){return fe===null||fe.tag!==7?(fe=wl(we,he.mode,Me,tt),fe.return=he,fe):(fe=E(fe,we),fe.return=he,fe)}function ke(he,fe,we){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Ug(""+fe,he.mode,we),fe.return=he,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case I:return we=Nd(fe.type,fe.key,fe.props,null,he.mode,we),Zu(we,fe),we.return=he,we;case N:return fe=Fg(fe,he.mode,we),fe.return=he,fe;case P:var Me=fe._init;return fe=Me(fe._payload),ke(he,fe,we)}if(le(fe)||Y(fe))return fe=wl(fe,he.mode,we,null),fe.return=he,fe;if(typeof fe.then=="function")return ke(he,Wd(fe),we);if(fe.$$typeof===B)return ke(he,kd(he,fe),we);Xd(he,fe)}return null}function be(he,fe,we,Me){var tt=fe!==null?fe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return tt!==null?null:J(he,fe,""+we,Me);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case I:return we.key===tt?oe(he,fe,we,Me):null;case N:return we.key===tt?xe(he,fe,we,Me):null;case P:return tt=we._init,we=tt(we._payload),be(he,fe,we,Me)}if(le(we)||Y(we))return tt!==null?null:Ie(he,fe,we,Me,null);if(typeof we.then=="function")return be(he,fe,Wd(we),Me);if(we.$$typeof===B)return be(he,fe,kd(he,we),Me);Xd(he,we)}return null}function Ae(he,fe,we,Me,tt){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return he=he.get(we)||null,J(fe,he,""+Me,tt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case I:return he=he.get(Me.key===null?we:Me.key)||null,oe(fe,he,Me,tt);case N:return he=he.get(Me.key===null?we:Me.key)||null,xe(fe,he,Me,tt);case P:var Vt=Me._init;return Me=Vt(Me._payload),Ae(he,fe,we,Me,tt)}if(le(Me)||Y(Me))return he=he.get(we)||null,Ie(fe,he,Me,tt,null);if(typeof Me.then=="function")return Ae(he,fe,we,Wd(Me),tt);if(Me.$$typeof===B)return Ae(he,fe,we,kd(fe,Me),tt);Xd(fe,Me)}return null}function mt(he,fe,we,Me){for(var tt=null,Vt=null,at=fe,gt=fe=0,Pr=null;at!==null&&gt<we.length;gt++){at.index>gt?(Pr=at,at=null):Pr=at.sibling;var an=be(he,at,we[gt],Me);if(an===null){at===null&&(at=Pr);break}i&&at&&an.alternate===null&&l(he,at),fe=S(an,fe,gt),Vt===null?tt=an:Vt.sibling=an,Vt=an,at=Pr}if(gt===we.length)return f(he,at),cn&&vl(he,gt),tt;if(at===null){for(;gt<we.length;gt++)at=ke(he,we[gt],Me),at!==null&&(fe=S(at,fe,gt),Vt===null?tt=at:Vt.sibling=at,Vt=at);return cn&&vl(he,gt),tt}for(at=m(at);gt<we.length;gt++)Pr=Ae(at,he,gt,we[gt],Me),Pr!==null&&(i&&Pr.alternate!==null&&at.delete(Pr.key===null?gt:Pr.key),fe=S(Pr,fe,gt),Vt===null?tt=Pr:Vt.sibling=Pr,Vt=Pr);return i&&at.forEach(function(Oo){return l(he,Oo)}),cn&&vl(he,gt),tt}function ht(he,fe,we,Me){if(we==null)throw Error(r(151));for(var tt=null,Vt=null,at=fe,gt=fe=0,Pr=null,an=we.next();at!==null&&!an.done;gt++,an=we.next()){at.index>gt?(Pr=at,at=null):Pr=at.sibling;var Oo=be(he,at,an.value,Me);if(Oo===null){at===null&&(at=Pr);break}i&&at&&Oo.alternate===null&&l(he,at),fe=S(Oo,fe,gt),Vt===null?tt=Oo:Vt.sibling=Oo,Vt=Oo,at=Pr}if(an.done)return f(he,at),cn&&vl(he,gt),tt;if(at===null){for(;!an.done;gt++,an=we.next())an=ke(he,an.value,Me),an!==null&&(fe=S(an,fe,gt),Vt===null?tt=an:Vt.sibling=an,Vt=an);return cn&&vl(he,gt),tt}for(at=m(at);!an.done;gt++,an=we.next())an=Ae(at,he,gt,an.value,Me),an!==null&&(i&&an.alternate!==null&&at.delete(an.key===null?gt:an.key),fe=S(an,fe,gt),Vt===null?tt=an:Vt.sibling=an,Vt=an);return i&&at.forEach(function(C4){return l(he,C4)}),cn&&vl(he,gt),tt}function _n(he,fe,we,Me){if(typeof we=="object"&&we!==null&&we.type===M&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case I:e:{for(var tt=we.key;fe!==null;){if(fe.key===tt){if(tt=we.type,tt===M){if(fe.tag===7){f(he,fe.sibling),Me=E(fe,we.props.children),Me.return=he,he=Me;break e}}else if(fe.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===P&&Wx(tt)===fe.type){f(he,fe.sibling),Me=E(fe,we.props),Zu(Me,we),Me.return=he,he=Me;break e}f(he,fe);break}else l(he,fe);fe=fe.sibling}we.type===M?(Me=wl(we.props.children,he.mode,Me,we.key),Me.return=he,he=Me):(Me=Nd(we.type,we.key,we.props,null,he.mode,Me),Zu(Me,we),Me.return=he,he=Me)}return U(he);case N:e:{for(tt=we.key;fe!==null;){if(fe.key===tt)if(fe.tag===4&&fe.stateNode.containerInfo===we.containerInfo&&fe.stateNode.implementation===we.implementation){f(he,fe.sibling),Me=E(fe,we.children||[]),Me.return=he,he=Me;break e}else{f(he,fe);break}else l(he,fe);fe=fe.sibling}Me=Fg(we,he.mode,Me),Me.return=he,he=Me}return U(he);case P:return tt=we._init,we=tt(we._payload),_n(he,fe,we,Me)}if(le(we))return mt(he,fe,we,Me);if(Y(we)){if(tt=Y(we),typeof tt!="function")throw Error(r(150));return we=tt.call(we),ht(he,fe,we,Me)}if(typeof we.then=="function")return _n(he,fe,Wd(we),Me);if(we.$$typeof===B)return _n(he,fe,kd(he,we),Me);Xd(he,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,fe!==null&&fe.tag===6?(f(he,fe.sibling),Me=E(fe,we),Me.return=he,he=Me):(f(he,fe),Me=Ug(we,he.mode,Me),Me.return=he,he=Me),U(he)):f(he,fe)}return function(he,fe,we,Me){try{Qu=0;var tt=_n(he,fe,we,Me);return Ec=null,tt}catch(at){if(at===zu||at===Ld)throw at;var Vt=Hi(29,at,null,he.mode);return Vt.lanes=Me,Vt.return=he,Vt}finally{}}}var _c=Xx(!0),Kx=Xx(!1),ys=ye(null),Xs=null;function wo(i){var l=i.alternate;Oe(Sr,Sr.current&1),Oe(ys,i),Xs===null&&(l===null||wc.current!==null||l.memoizedState!==null)&&(Xs=i)}function Qx(i){if(i.tag===22){if(Oe(Sr,Sr.current),Oe(ys,i),Xs===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Xs=i)}}else xo()}function xo(){Oe(Sr,Sr.current),Oe(ys,ys.current)}function Sa(i){Ne(ys),Xs===i&&(Xs=null),Ne(Sr)}var Sr=ye(0);function Kd(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||lp(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function x1(i,l,f,m){l=i.memoizedState,f=f(m,l),f=f==null?l:_({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var v1={enqueueSetState:function(i,l,f){i=i._reactInternals;var m=Wi(),E=po(m);E.payload=l,f!=null&&(E.callback=f),l=mo(i,E,m),l!==null&&(Xi(l,i,m),Hu(l,i,m))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var m=Wi(),E=po(m);E.tag=1,E.payload=l,f!=null&&(E.callback=f),l=mo(i,E,m),l!==null&&(Xi(l,i,m),Hu(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=Wi(),m=po(f);m.tag=2,l!=null&&(m.callback=l),l=mo(i,m,f),l!==null&&(Xi(l,i,f),Hu(l,i,f))}};function Zx(i,l,f,m,E,S,U){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,S,U):l.prototype&&l.prototype.isPureReactComponent?!g(f,m)||!g(E,S):!0}function $x(i,l,f,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==i&&v1.enqueueReplaceState(l,l.state,null)}function Cl(i,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(i=i.defaultProps){f===l&&(f=_({},f));for(var E in i)f[E]===void 0&&(f[E]=i[E])}return f}var Qd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Jx(i){Qd(i)}function ev(i){console.error(i)}function tv(i){Qd(i)}function Zd(i,l){try{var f=i.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function nv(i,l,f){try{var m=i.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function b1(i,l,f){return f=po(f),f.tag=3,f.payload={element:null},f.callback=function(){Zd(i,l)},f}function rv(i){return i=po(i),i.tag=3,i}function iv(i,l,f,m){var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var S=m.value;i.payload=function(){return E(S)},i.callback=function(){nv(l,f,m)}}var U=f.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(i.callback=function(){nv(l,f,m),typeof E!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var J=m.stack;this.componentDidCatch(m.value,{componentStack:J!==null?J:""})})}function C3(i,l,f,m,E){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&Vu(l,f,E,!0),f=ys.current,f!==null){switch(f.tag){case 13:return Xs===null?q1():f.alternate===null&&sr===0&&(sr=3),f.flags&=-257,f.flags|=65536,f.lanes=E,m===Qg?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),W1(i,m,E)),!1;case 22:return f.flags|=65536,m===Qg?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),W1(i,m,E)),!1}throw Error(r(435,f.tag))}return W1(i,m,E),q1(),!1}if(cn)return l=ys.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,m!==Hg&&(i=Error(r(422),{cause:m}),Bu(hs(i,f)))):(m!==Hg&&(l=Error(r(423),{cause:m}),Bu(hs(l,f))),i=i.current.alternate,i.flags|=65536,E&=-E,i.lanes|=E,m=hs(m,f),E=b1(i.stateNode,m,E),Jg(i,E),sr!==4&&(sr=2)),!1;var S=Error(r(520),{cause:m});if(S=hs(S,f),sf===null?sf=[S]:sf.push(S),sr!==4&&(sr=2),l===null)return!0;m=hs(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,i=E&-E,f.lanes|=i,i=b1(f.stateNode,m,i),Jg(f,i),!1;case 1:if(l=f.type,S=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ao===null||!Ao.has(S))))return f.flags|=65536,E&=-E,f.lanes|=E,E=rv(E),iv(E,i,f,m),Jg(f,E),!1}f=f.return}while(f!==null);return!1}var sv=Error(r(461)),Or=!1;function Wr(i,l,f,m){l.child=i===null?Kx(l,null,f,m):_c(l,i.child,f,m)}function av(i,l,f,m,E){f=f.render;var S=l.ref;if("ref"in m){var U={};for(var J in m)J!=="ref"&&(U[J]=m[J])}else U=m;return Tl(l),m=i1(i,l,f,U,S,E),J=s1(),i!==null&&!Or?(a1(i,l,E),Ca(i,l,E)):(cn&&J&&zg(l),l.flags|=1,Wr(i,l,m,E),l.child)}function ov(i,l,f,m,E){if(i===null){var S=f.type;return typeof S=="function"&&!Vg(S)&&S.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=S,lv(i,l,S,m,E)):(i=Nd(f.type,null,m,l,l.mode,E),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,!R1(i,E)){var U=S.memoizedProps;if(f=f.compare,f=f!==null?f:g,f(U,m)&&i.ref===l.ref)return Ca(i,l,E)}return l.flags|=1,i=va(S,m),i.ref=l.ref,i.return=l,l.child=i}function lv(i,l,f,m,E){if(i!==null){var S=i.memoizedProps;if(g(S,m)&&i.ref===l.ref)if(Or=!1,l.pendingProps=m=S,R1(i,E))(i.flags&131072)!==0&&(Or=!0);else return l.lanes=i.lanes,Ca(i,l,E)}return E1(i,l,f,m,E)}function cv(i,l,f){var m=l.pendingProps,E=m.children,S=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=S!==null?S.baseLanes|f:f,i!==null){for(E=l.child=i.child,S=0;E!==null;)S=S|E.lanes|E.childLanes,E=E.sibling;l.childLanes=S&~m}else l.childLanes=0,l.child=null;return uv(i,l,m,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Pd(l,S!==null?S.cachePool:null),S!==null?lx(l,S):t1(),Qx(l);else return l.lanes=l.childLanes=536870912,uv(i,l,S!==null?S.baseLanes|f:f,f)}else S!==null?(Pd(l,S.cachePool),lx(l,S),xo(),l.memoizedState=null):(i!==null&&Pd(l,null),t1(),xo());return Wr(i,l,E,f),l.child}function uv(i,l,f,m){var E=Kg();return E=E===null?null:{parent:Ar._currentValue,pool:E},l.memoizedState={baseLanes:f,cachePool:E},i!==null&&Pd(l,null),t1(),Qx(l),i!==null&&Vu(i,l,m,!0),null}function $d(i,l){var f=l.ref;if(f===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(l.flags|=4194816)}}function E1(i,l,f,m,E){return Tl(l),f=i1(i,l,f,m,void 0,E),m=s1(),i!==null&&!Or?(a1(i,l,E),Ca(i,l,E)):(cn&&m&&zg(l),l.flags|=1,Wr(i,l,f,E),l.child)}function fv(i,l,f,m,E,S){return Tl(l),l.updateQueue=null,f=ux(l,m,f,E),cx(i),m=s1(),i!==null&&!Or?(a1(i,l,S),Ca(i,l,S)):(cn&&m&&zg(l),l.flags|=1,Wr(i,l,f,S),l.child)}function dv(i,l,f,m,E){if(Tl(l),l.stateNode===null){var S=hc,U=f.contextType;typeof U=="object"&&U!==null&&(S=ai(U)),S=new f(m,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=v1,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=m,S.state=l.memoizedState,S.refs={},Zg(l),U=f.contextType,S.context=typeof U=="object"&&U!==null?ai(U):hc,S.state=l.memoizedState,U=f.getDerivedStateFromProps,typeof U=="function"&&(x1(l,f,U,m),S.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(U=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),U!==S.state&&v1.enqueueReplaceState(S,S.state,null),qu(l,m,S,E),Gu(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){S=l.stateNode;var J=l.memoizedProps,oe=Cl(f,J);S.props=oe;var xe=S.context,Ie=f.contextType;U=hc,typeof Ie=="object"&&Ie!==null&&(U=ai(Ie));var ke=f.getDerivedStateFromProps;Ie=typeof ke=="function"||typeof S.getSnapshotBeforeUpdate=="function",J=l.pendingProps!==J,Ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(J||xe!==U)&&$x(l,S,m,U),go=!1;var be=l.memoizedState;S.state=be,qu(l,m,S,E),Gu(),xe=l.memoizedState,J||be!==xe||go?(typeof ke=="function"&&(x1(l,f,ke,m),xe=l.memoizedState),(oe=go||Zx(l,f,oe,m,be,xe,U))?(Ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=xe),S.props=m,S.state=xe,S.context=U,m=oe):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,$g(i,l),U=l.memoizedProps,Ie=Cl(f,U),S.props=Ie,ke=l.pendingProps,be=S.context,xe=f.contextType,oe=hc,typeof xe=="object"&&xe!==null&&(oe=ai(xe)),J=f.getDerivedStateFromProps,(xe=typeof J=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U!==ke||be!==oe)&&$x(l,S,m,oe),go=!1,be=l.memoizedState,S.state=be,qu(l,m,S,E),Gu();var Ae=l.memoizedState;U!==ke||be!==Ae||go||i!==null&&i.dependencies!==null&&Od(i.dependencies)?(typeof J=="function"&&(x1(l,f,J,m),Ae=l.memoizedState),(Ie=go||Zx(l,f,Ie,m,be,Ae,oe)||i!==null&&i.dependencies!==null&&Od(i.dependencies))?(xe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ae,oe),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ae,oe)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||U===i.memoizedProps&&be===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&be===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ae),S.props=m,S.state=Ae,S.context=oe,m=Ie):(typeof S.componentDidUpdate!="function"||U===i.memoizedProps&&be===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&be===i.memoizedState||(l.flags|=1024),m=!1)}return S=m,$d(i,l),m=(l.flags&128)!==0,S||m?(S=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,i!==null&&m?(l.child=_c(l,i.child,null,E),l.child=_c(l,null,f,E)):Wr(i,l,f,E),l.memoizedState=S.state,i=l.child):i=Ca(i,l,E),i}function hv(i,l,f,m){return Lu(),l.flags|=256,Wr(i,l,f,m),l.child}var _1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T1(i){return{baseLanes:i,cachePool:ex()}}function A1(i,l,f){return i=i!==null?i.childLanes&~f:0,l&&(i|=ws),i}function gv(i,l,f){var m=l.pendingProps,E=!1,S=(l.flags&128)!==0,U;if((U=S)||(U=i!==null&&i.memoizedState===null?!1:(Sr.current&2)!==0),U&&(E=!0,l.flags&=-129),U=(l.flags&32)!==0,l.flags&=-33,i===null){if(cn){if(E?wo(l):xo(),cn){var J=ir,oe;if(oe=J){e:{for(oe=J,J=Ws;oe.nodeType!==8;){if(!J){J=null;break e}if(oe=Ds(oe.nextSibling),oe===null){J=null;break e}}J=oe}J!==null?(l.memoizedState={dehydrated:J,treeContext:xl!==null?{id:ba,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},oe=Hi(18,null,null,0),oe.stateNode=J,oe.return=l,l.child=oe,mi=l,ir=null,oe=!0):oe=!1}oe||El(l)}if(J=l.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return lp(J)?l.lanes=32:l.lanes=536870912,null;Sa(l)}return J=m.children,m=m.fallback,E?(xo(),E=l.mode,J=Jd({mode:"hidden",children:J},E),m=wl(m,E,f,null),J.return=l,m.return=l,J.sibling=m,l.child=J,E=l.child,E.memoizedState=T1(f),E.childLanes=A1(i,U,f),l.memoizedState=_1,m):(wo(l),S1(l,J))}if(oe=i.memoizedState,oe!==null&&(J=oe.dehydrated,J!==null)){if(S)l.flags&256?(wo(l),l.flags&=-257,l=C1(i,l,f)):l.memoizedState!==null?(xo(),l.child=i.child,l.flags|=128,l=null):(xo(),E=m.fallback,J=l.mode,m=Jd({mode:"visible",children:m.children},J),E=wl(E,J,f,null),E.flags|=2,m.return=l,E.return=l,m.sibling=E,l.child=m,_c(l,i.child,null,f),m=l.child,m.memoizedState=T1(f),m.childLanes=A1(i,U,f),l.memoizedState=_1,l=E);else if(wo(l),lp(J)){if(U=J.nextSibling&&J.nextSibling.dataset,U)var xe=U.dgst;U=xe,m=Error(r(419)),m.stack="",m.digest=U,Bu({value:m,source:null,stack:null}),l=C1(i,l,f)}else if(Or||Vu(i,l,f,!1),U=(f&i.childLanes)!==0,Or||U){if(U=Mn,U!==null&&(m=f&-f,m=(m&42)!==0?1:is(m),m=(m&(U.suspendedLanes|f))!==0?0:m,m!==0&&m!==oe.retryLane))throw oe.retryLane=m,dc(i,m),Xi(U,i,m),sv;J.data==="$?"||q1(),l=C1(i,l,f)}else J.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=oe.treeContext,ir=Ds(J.nextSibling),mi=l,cn=!0,bl=null,Ws=!1,i!==null&&(ps[ms++]=ba,ps[ms++]=Ea,ps[ms++]=xl,ba=i.id,Ea=i.overflow,xl=l),l=S1(l,m.children),l.flags|=4096);return l}return E?(xo(),E=m.fallback,J=l.mode,oe=i.child,xe=oe.sibling,m=va(oe,{mode:"hidden",children:m.children}),m.subtreeFlags=oe.subtreeFlags&65011712,xe!==null?E=va(xe,E):(E=wl(E,J,f,null),E.flags|=2),E.return=l,m.return=l,m.sibling=E,l.child=m,m=E,E=l.child,J=i.child.memoizedState,J===null?J=T1(f):(oe=J.cachePool,oe!==null?(xe=Ar._currentValue,oe=oe.parent!==xe?{parent:xe,pool:xe}:oe):oe=ex(),J={baseLanes:J.baseLanes|f,cachePool:oe}),E.memoizedState=J,E.childLanes=A1(i,U,f),l.memoizedState=_1,m):(wo(l),f=i.child,i=f.sibling,f=va(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,i!==null&&(U=l.deletions,U===null?(l.deletions=[i],l.flags|=16):U.push(i)),l.child=f,l.memoizedState=null,f)}function S1(i,l){return l=Jd({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Jd(i,l){return i=Hi(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function C1(i,l,f){return _c(l,i.child,null,f),i=S1(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function pv(i,l,f){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),qg(i.return,l,f)}function I1(i,l,f,m,E){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:E}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=E)}function mv(i,l,f){var m=l.pendingProps,E=m.revealOrder,S=m.tail;if(Wr(i,l,m.children,f),m=Sr.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pv(i,f,l);else if(i.tag===19)pv(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(Oe(Sr,m),E){case"forwards":for(f=l.child,E=null;f!==null;)i=f.alternate,i!==null&&Kd(i)===null&&(E=f),f=f.sibling;f=E,f===null?(E=l.child,l.child=null):(E=f.sibling,f.sibling=null),I1(l,!1,E,f,S);break;case"backwards":for(f=null,E=l.child,l.child=null;E!==null;){if(i=E.alternate,i!==null&&Kd(i)===null){l.child=E;break}i=E.sibling,E.sibling=f,f=E,E=i}I1(l,!0,f,null,S);break;case"together":I1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ca(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),To|=l.lanes,(f&l.childLanes)===0)if(i!==null){if(Vu(i,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,f=va(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=va(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function R1(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Od(i)))}function I3(i,l,f){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),ho(l,Ar,i.memoizedState.cache),Lu();break;case 27:case 5:lt(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:ho(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(wo(l),l.flags|=128,null):(f&l.child.childLanes)!==0?gv(i,l,f):(wo(l),i=Ca(i,l,f),i!==null?i.sibling:null);wo(l);break;case 19:var E=(i.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(Vu(i,l,f,!1),m=(f&l.childLanes)!==0),E){if(m)return mv(i,l,f);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Oe(Sr,Sr.current),m)break;return null;case 22:case 23:return l.lanes=0,cv(i,l,f);case 24:ho(l,Ar,i.memoizedState.cache)}return Ca(i,l,f)}function yv(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps)Or=!0;else{if(!R1(i,f)&&(l.flags&128)===0)return Or=!1,I3(i,l,f);Or=(i.flags&131072)!==0}else Or=!1,cn&&(l.flags&1048576)!==0&&Ww(l,Dd,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var m=l.elementType,E=m._init;if(m=E(m._payload),l.type=m,typeof m=="function")Vg(m)?(i=Cl(m,i),l.tag=1,l=dv(null,l,m,i,f)):(l.tag=0,l=E1(null,l,m,i,f));else{if(m!=null){if(E=m.$$typeof,E===Z){l.tag=11,l=av(null,l,m,i,f);break e}else if(E===V){l.tag=14,l=ov(null,l,m,i,f);break e}}throw l=_e(m)||m,Error(r(306,l,""))}}return l;case 0:return E1(i,l,l.type,l.pendingProps,f);case 1:return m=l.type,E=Cl(m,l.pendingProps),dv(i,l,m,E,f);case 3:e:{if(He(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var S=l.memoizedState;E=S.element,$g(i,l),qu(l,m,null,f);var U=l.memoizedState;if(m=U.cache,ho(l,Ar,m),m!==S.cache&&Yg(l,[Ar],f,!0),Gu(),m=U.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:U.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=hv(i,l,m,f);break e}else if(m!==E){E=hs(Error(r(424)),l),Bu(E),l=hv(i,l,m,f);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ir=Ds(i.firstChild),mi=l,cn=!0,bl=null,Ws=!0,f=Kx(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Lu(),m===E){l=Ca(i,l,f);break e}Wr(i,l,m,f)}l=l.child}return l;case 26:return $d(i,l),i===null?(f=b2(l.type,null,l.pendingProps,null))?l.memoizedState=f:cn||(f=l.type,i=l.pendingProps,m=hh(Ce.current).createElement(f),m[lr]=l,m[vn]=i,Kr(m,f,i),nn(m),l.stateNode=m):l.memoizedState=b2(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return lt(l),i===null&&cn&&(m=l.stateNode=w2(l.type,l.pendingProps,Ce.current),mi=l,Ws=!0,E=ir,Io(l.type)?(cp=E,ir=Ds(m.firstChild)):ir=E),Wr(i,l,l.pendingProps.children,f),$d(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&cn&&((E=m=ir)&&(m=n4(m,l.type,l.pendingProps,Ws),m!==null?(l.stateNode=m,mi=l,ir=Ds(m.firstChild),Ws=!1,E=!0):E=!1),E||El(l)),lt(l),E=l.type,S=l.pendingProps,U=i!==null?i.memoizedProps:null,m=S.children,sp(E,S)?m=null:U!==null&&sp(E,U)&&(l.flags|=32),l.memoizedState!==null&&(E=i1(i,l,v3,null,null,f),gf._currentValue=E),$d(i,l),Wr(i,l,m,f),l.child;case 6:return i===null&&cn&&((i=f=ir)&&(f=r4(f,l.pendingProps,Ws),f!==null?(l.stateNode=f,mi=l,ir=null,i=!0):i=!1),i||El(l)),null;case 13:return gv(i,l,f);case 4:return He(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=_c(l,null,m,f):Wr(i,l,m,f),l.child;case 11:return av(i,l,l.type,l.pendingProps,f);case 7:return Wr(i,l,l.pendingProps,f),l.child;case 8:return Wr(i,l,l.pendingProps.children,f),l.child;case 12:return Wr(i,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,ho(l,l.type,m.value),Wr(i,l,m.children,f),l.child;case 9:return E=l.type._context,m=l.pendingProps.children,Tl(l),E=ai(E),m=m(E),l.flags|=1,Wr(i,l,m,f),l.child;case 14:return ov(i,l,l.type,l.pendingProps,f);case 15:return lv(i,l,l.type,l.pendingProps,f);case 19:return mv(i,l,f);case 31:return m=l.pendingProps,f=l.mode,m={mode:m.mode,children:m.children},i===null?(f=Jd(m,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=va(i.child,m),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return cv(i,l,f);case 24:return Tl(l),m=ai(Ar),i===null?(E=Kg(),E===null&&(E=Mn,S=Wg(),E.pooledCache=S,S.refCount++,S!==null&&(E.pooledCacheLanes|=f),E=S),l.memoizedState={parent:m,cache:E},Zg(l),ho(l,Ar,E)):((i.lanes&f)!==0&&($g(i,l),qu(l,null,null,f),Gu()),E=i.memoizedState,S=l.memoizedState,E.parent!==m?(E={parent:m,cache:m},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),ho(l,Ar,m)):(m=S.cache,ho(l,Ar,m),m!==E.cache&&Yg(l,[Ar],f,!0))),Wr(i,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ia(i){i.flags|=4}function wv(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!S2(l)){if(l=ys.current,l!==null&&((Zt&4194048)===Zt?Xs!==null:(Zt&62914560)!==Zt&&(Zt&536870912)===0||l!==Xs))throw ju=Qg,tx;i.flags|=8192}}function eh(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?no():536870912,i.lanes|=l,Cc|=l)}function $u(i,l){if(!cn)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Zn(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,m=0;if(l)for(var E=i.child;E!==null;)f|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=i,E=E.sibling;else for(E=i.child;E!==null;)f|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=i,E=E.sibling;return i.subtreeFlags|=m,i.childLanes=f,l}function R3(i,l,f){var m=l.pendingProps;switch(jg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zn(l),null;case 1:return Zn(l),null;case 3:return f=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ta(Ar),Ye(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Pu(l)?Ia(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Qw())),Zn(l),null;case 26:return f=l.memoizedState,i===null?(Ia(l),f!==null?(Zn(l),wv(l,f)):(Zn(l),l.flags&=-16777217)):f?f!==i.memoizedState?(Ia(l),Zn(l),wv(l,f)):(Zn(l),l.flags&=-16777217):(i.memoizedProps!==m&&Ia(l),Zn(l),l.flags&=-16777217),null;case 27:et(l),f=Ce.current;var E=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ia(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Zn(l),null}i=Ge.current,Pu(l)?Xw(l):(i=w2(E,m,f),l.stateNode=i,Ia(l))}return Zn(l),null;case 5:if(et(l),f=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ia(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Zn(l),null}if(i=Ge.current,Pu(l))Xw(l);else{switch(E=hh(Ce.current),i){case 1:i=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:i=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":i=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":i=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?E.createElement("select",{is:m.is}):E.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?E.createElement(f,{is:m.is}):E.createElement(f)}}i[lr]=l,i[vn]=m;e:for(E=l.child;E!==null;){if(E.tag===5||E.tag===6)i.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===l)break e;for(;E.sibling===null;){if(E.return===null||E.return===l)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}l.stateNode=i;e:switch(Kr(i,f,m),f){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ia(l)}}return Zn(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Ia(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=Ce.current,Pu(l)){if(i=l.stateNode,f=l.memoizedProps,m=null,E=mi,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}i[lr]=l,i=!!(i.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||f2(i.nodeValue,f)),i||El(l)}else i=hh(i).createTextNode(m),i[lr]=l,l.stateNode=i}return Zn(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(E=Pu(l),m!==null&&m.dehydrated!==null){if(i===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[lr]=l}else Lu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Zn(l),E=!1}else E=Qw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(Sa(l),l):(Sa(l),null)}if(Sa(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=m!==null,i=i!==null&&i.memoizedState!==null,f){m=l.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==E&&(m.flags|=2048)}return f!==i&&f&&(l.child.flags|=8192),eh(l,l.updateQueue),Zn(l),null;case 4:return Ye(),i===null&&ep(l.stateNode.containerInfo),Zn(l),null;case 10:return Ta(l.type),Zn(l),null;case 19:if(Ne(Sr),E=l.memoizedState,E===null)return Zn(l),null;if(m=(l.flags&128)!==0,S=E.rendering,S===null)if(m)$u(E,!1);else{if(sr!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(S=Kd(i),S!==null){for(l.flags|=128,$u(E,!1),i=S.updateQueue,l.updateQueue=i,eh(l,i),l.subtreeFlags=0,i=f,f=l.child;f!==null;)Yw(f,i),f=f.sibling;return Oe(Sr,Sr.current&1|2),l.child}i=i.sibling}E.tail!==null&&xt()>rh&&(l.flags|=128,m=!0,$u(E,!1),l.lanes=4194304)}else{if(!m)if(i=Kd(S),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,eh(l,i),$u(E,!0),E.tail===null&&E.tailMode==="hidden"&&!S.alternate&&!cn)return Zn(l),null}else 2*xt()-E.renderingStartTime>rh&&f!==536870912&&(l.flags|=128,m=!0,$u(E,!1),l.lanes=4194304);E.isBackwards?(S.sibling=l.child,l.child=S):(i=E.last,i!==null?i.sibling=S:l.child=S,E.last=S)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=xt(),l.sibling=null,i=Sr.current,Oe(Sr,m?i&1|2:i&1),l):(Zn(l),null);case 22:case 23:return Sa(l),n1(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(Zn(l),l.subtreeFlags&6&&(l.flags|=8192)):Zn(l),f=l.updateQueue,f!==null&&eh(l,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),i!==null&&Ne(Al),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Ta(Ar),Zn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function N3(i,l){switch(jg(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ta(Ar),Ye(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return et(l),null;case 13:if(Sa(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Lu()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Ne(Sr),null;case 4:return Ye(),null;case 10:return Ta(l.type),null;case 22:case 23:return Sa(l),n1(),i!==null&&Ne(Al),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Ta(Ar),null;case 25:return null;default:return null}}function xv(i,l){switch(jg(l),l.tag){case 3:Ta(Ar),Ye();break;case 26:case 27:case 5:et(l);break;case 4:Ye();break;case 13:Sa(l);break;case 19:Ne(Sr);break;case 10:Ta(l.type);break;case 22:case 23:Sa(l),n1(),i!==null&&Ne(Al);break;case 24:Ta(Ar)}}function Ju(i,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var E=m.next;f=E;do{if((f.tag&i)===i){m=void 0;var S=f.create,U=f.inst;m=S(),U.destroy=m}f=f.next}while(f!==E)}}catch(J){Rn(l,l.return,J)}}function vo(i,l,f){try{var m=l.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var S=E.next;m=S;do{if((m.tag&i)===i){var U=m.inst,J=U.destroy;if(J!==void 0){U.destroy=void 0,E=l;var oe=f,xe=J;try{xe()}catch(Ie){Rn(E,oe,Ie)}}}m=m.next}while(m!==S)}}catch(Ie){Rn(l,l.return,Ie)}}function vv(i){var l=i.updateQueue;if(l!==null){var f=i.stateNode;try{ox(l,f)}catch(m){Rn(i,i.return,m)}}}function bv(i,l,f){f.props=Cl(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(m){Rn(i,l,m)}}function ef(i,l){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof f=="function"?i.refCleanup=f(m):f.current=m}}catch(E){Rn(i,l,E)}}function Ks(i,l){var f=i.ref,m=i.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(E){Rn(i,l,E)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(E){Rn(i,l,E)}else f.current=null}function Ev(i){var l=i.type,f=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(E){Rn(i,i.return,E)}}function N1(i,l,f){try{var m=i.stateNode;Z3(m,i.type,f,l),m[vn]=l}catch(E){Rn(i,i.return,E)}}function _v(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Io(i.type)||i.tag===4}function M1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_v(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Io(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function D1(i,l,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(i),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=dh));else if(m!==4&&(m===27&&Io(i.type)&&(f=i.stateNode,l=null),i=i.child,i!==null))for(D1(i,l,f),i=i.sibling;i!==null;)D1(i,l,f),i=i.sibling}function th(i,l,f){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(m!==4&&(m===27&&Io(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(th(i,l,f),i=i.sibling;i!==null;)th(i,l,f),i=i.sibling}function Tv(i){var l=i.stateNode,f=i.memoizedProps;try{for(var m=i.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Kr(l,m,f),l[lr]=i,l[vn]=f}catch(S){Rn(i,i.return,S)}}var Ra=!1,hr=!1,O1=!1,Av=typeof WeakSet=="function"?WeakSet:Set,kr=null;function M3(i,l){if(i=i.containerInfo,rp=xh,i=C(i),D(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var E=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var U=0,J=-1,oe=-1,xe=0,Ie=0,ke=i,be=null;t:for(;;){for(var Ae;ke!==f||E!==0&&ke.nodeType!==3||(J=U+E),ke!==S||m!==0&&ke.nodeType!==3||(oe=U+m),ke.nodeType===3&&(U+=ke.nodeValue.length),(Ae=ke.firstChild)!==null;)be=ke,ke=Ae;for(;;){if(ke===i)break t;if(be===f&&++xe===E&&(J=U),be===S&&++Ie===m&&(oe=U),(Ae=ke.nextSibling)!==null)break;ke=be,be=ke.parentNode}ke=Ae}f=J===-1||oe===-1?null:{start:J,end:oe}}else f=null}f=f||{start:0,end:0}}else f=null;for(ip={focusedElem:i,selectionRange:f},xh=!1,kr=l;kr!==null;)if(l=kr,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,kr=i;else for(;kr!==null;){switch(l=kr,S=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,f=l,E=S.memoizedProps,S=S.memoizedState,m=f.stateNode;try{var mt=Cl(f.type,E,f.elementType===f.type);i=m.getSnapshotBeforeUpdate(mt,S),m.__reactInternalSnapshotBeforeUpdate=i}catch(ht){Rn(f,f.return,ht)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,f=i.nodeType,f===9)op(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,kr=i;break}kr=l.return}}function Sv(i,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:bo(i,f),m&4&&Ju(5,f);break;case 1:if(bo(i,f),m&4)if(i=f.stateNode,l===null)try{i.componentDidMount()}catch(U){Rn(f,f.return,U)}else{var E=Cl(f.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(E,l,i.__reactInternalSnapshotBeforeUpdate)}catch(U){Rn(f,f.return,U)}}m&64&&vv(f),m&512&&ef(f,f.return);break;case 3:if(bo(i,f),m&64&&(i=f.updateQueue,i!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{ox(i,l)}catch(U){Rn(f,f.return,U)}}break;case 27:l===null&&m&4&&Tv(f);case 26:case 5:bo(i,f),l===null&&m&4&&Ev(f),m&512&&ef(f,f.return);break;case 12:bo(i,f);break;case 13:bo(i,f),m&4&&Rv(i,f),m&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=F3.bind(null,f),i4(i,f))));break;case 22:if(m=f.memoizedState!==null||Ra,!m){l=l!==null&&l.memoizedState!==null||hr,E=Ra;var S=hr;Ra=m,(hr=l)&&!S?Eo(i,f,(f.subtreeFlags&8772)!==0):bo(i,f),Ra=E,hr=S}break;case 30:break;default:bo(i,f)}}function Cv(i){var l=i.alternate;l!==null&&(i.alternate=null,Cv(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&ss(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Wn=null,Ii=!1;function Na(i,l,f){for(f=f.child;f!==null;)Iv(i,l,f),f=f.sibling}function Iv(i,l,f){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Kt,f)}catch{}switch(f.tag){case 26:hr||Ks(f,l),Na(i,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:hr||Ks(f,l);var m=Wn,E=Ii;Io(f.type)&&(Wn=f.stateNode,Ii=!1),Na(i,l,f),uf(f.stateNode),Wn=m,Ii=E;break;case 5:hr||Ks(f,l);case 6:if(m=Wn,E=Ii,Wn=null,Na(i,l,f),Wn=m,Ii=E,Wn!==null)if(Ii)try{(Wn.nodeType===9?Wn.body:Wn.nodeName==="HTML"?Wn.ownerDocument.body:Wn).removeChild(f.stateNode)}catch(S){Rn(f,l,S)}else try{Wn.removeChild(f.stateNode)}catch(S){Rn(f,l,S)}break;case 18:Wn!==null&&(Ii?(i=Wn,m2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),wf(i)):m2(Wn,f.stateNode));break;case 4:m=Wn,E=Ii,Wn=f.stateNode.containerInfo,Ii=!0,Na(i,l,f),Wn=m,Ii=E;break;case 0:case 11:case 14:case 15:hr||vo(2,f,l),hr||vo(4,f,l),Na(i,l,f);break;case 1:hr||(Ks(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&bv(f,l,m)),Na(i,l,f);break;case 21:Na(i,l,f);break;case 22:hr=(m=hr)||f.memoizedState!==null,Na(i,l,f),hr=m;break;default:Na(i,l,f)}}function Rv(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wf(i)}catch(f){Rn(l,l.return,f)}}function D3(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Av),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Av),l;default:throw Error(r(435,i.tag))}}function k1(i,l){var f=D3(i);l.forEach(function(m){var E=z3.bind(null,i,m);f.has(m)||(f.add(m),m.then(E,E))})}function Gi(i,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var E=f[m],S=i,U=l,J=U;e:for(;J!==null;){switch(J.tag){case 27:if(Io(J.type)){Wn=J.stateNode,Ii=!1;break e}break;case 5:Wn=J.stateNode,Ii=!1;break e;case 3:case 4:Wn=J.stateNode.containerInfo,Ii=!0;break e}J=J.return}if(Wn===null)throw Error(r(160));Iv(S,U,E),Wn=null,Ii=!1,S=E.alternate,S!==null&&(S.return=null),E.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Nv(l,i),l=l.sibling}var Ms=null;function Nv(i,l){var f=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gi(l,i),qi(i),m&4&&(vo(3,i,i.return),Ju(3,i),vo(5,i,i.return));break;case 1:Gi(l,i),qi(i),m&512&&(hr||f===null||Ks(f,f.return)),m&64&&Ra&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var E=Ms;if(Gi(l,i),qi(i),m&512&&(hr||f===null||Ks(f,f.return)),m&4){var S=f!==null?f.memoizedState:null;if(m=i.memoizedState,f===null)if(m===null)if(i.stateNode===null){e:{m=i.type,f=i.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":S=E.getElementsByTagName("title")[0],(!S||S[xi]||S[lr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=E.createElement(m),E.head.insertBefore(S,E.querySelector("head > title"))),Kr(S,m,f),S[lr]=i,nn(S),m=S;break e;case"link":var U=T2("link","href",E).get(m+(f.href||""));if(U){for(var J=0;J<U.length;J++)if(S=U[J],S.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&S.getAttribute("rel")===(f.rel==null?null:f.rel)&&S.getAttribute("title")===(f.title==null?null:f.title)&&S.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){U.splice(J,1);break t}}S=E.createElement(m),Kr(S,m,f),E.head.appendChild(S);break;case"meta":if(U=T2("meta","content",E).get(m+(f.content||""))){for(J=0;J<U.length;J++)if(S=U[J],S.getAttribute("content")===(f.content==null?null:""+f.content)&&S.getAttribute("name")===(f.name==null?null:f.name)&&S.getAttribute("property")===(f.property==null?null:f.property)&&S.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&S.getAttribute("charset")===(f.charSet==null?null:f.charSet)){U.splice(J,1);break t}}S=E.createElement(m),Kr(S,m,f),E.head.appendChild(S);break;default:throw Error(r(468,m))}S[lr]=i,nn(S),m=S}i.stateNode=m}else A2(E,i.type,i.stateNode);else i.stateNode=_2(E,m,i.memoizedProps);else S!==m?(S===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):S.count--,m===null?A2(E,i.type,i.stateNode):_2(E,m,i.memoizedProps)):m===null&&i.stateNode!==null&&N1(i,i.memoizedProps,f.memoizedProps)}break;case 27:Gi(l,i),qi(i),m&512&&(hr||f===null||Ks(f,f.return)),f!==null&&m&4&&N1(i,i.memoizedProps,f.memoizedProps);break;case 5:if(Gi(l,i),qi(i),m&512&&(hr||f===null||Ks(f,f.return)),i.flags&32){E=i.stateNode;try{kn(E,"")}catch(Ae){Rn(i,i.return,Ae)}}m&4&&i.stateNode!=null&&(E=i.memoizedProps,N1(i,E,f!==null?f.memoizedProps:E)),m&1024&&(O1=!0);break;case 6:if(Gi(l,i),qi(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,f=i.stateNode;try{f.nodeValue=m}catch(Ae){Rn(i,i.return,Ae)}}break;case 3:if(mh=null,E=Ms,Ms=gh(l.containerInfo),Gi(l,i),Ms=E,qi(i),m&4&&f!==null&&f.memoizedState.isDehydrated)try{wf(l.containerInfo)}catch(Ae){Rn(i,i.return,Ae)}O1&&(O1=!1,Mv(i));break;case 4:m=Ms,Ms=gh(i.stateNode.containerInfo),Gi(l,i),qi(i),Ms=m;break;case 12:Gi(l,i),qi(i);break;case 13:Gi(l,i),qi(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(F1=xt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,k1(i,m)));break;case 22:E=i.memoizedState!==null;var oe=f!==null&&f.memoizedState!==null,xe=Ra,Ie=hr;if(Ra=xe||E,hr=Ie||oe,Gi(l,i),hr=Ie,Ra=xe,qi(i),m&8192)e:for(l=i.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(f===null||oe||Ra||hr||Il(i)),f=null,l=i;;){if(l.tag===5||l.tag===26){if(f===null){oe=f=l;try{if(S=oe.stateNode,E)U=S.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{J=oe.stateNode;var ke=oe.memoizedProps.style,be=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;J.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(Ae){Rn(oe,oe.return,Ae)}}}else if(l.tag===6){if(f===null){oe=l;try{oe.stateNode.nodeValue=E?"":oe.memoizedProps}catch(Ae){Rn(oe,oe.return,Ae)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,k1(i,f))));break;case 19:Gi(l,i),qi(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,k1(i,m)));break;case 30:break;case 21:break;default:Gi(l,i),qi(i)}}function qi(i){var l=i.flags;if(l&2){try{for(var f,m=i.return;m!==null;){if(_v(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var E=f.stateNode,S=M1(i);th(i,S,E);break;case 5:var U=f.stateNode;f.flags&32&&(kn(U,""),f.flags&=-33);var J=M1(i);th(i,J,U);break;case 3:case 4:var oe=f.stateNode.containerInfo,xe=M1(i);D1(i,xe,oe);break;default:throw Error(r(161))}}catch(Ie){Rn(i,i.return,Ie)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Mv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Mv(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function bo(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Sv(i,l.alternate,l),l=l.sibling}function Il(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:vo(4,l,l.return),Il(l);break;case 1:Ks(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&bv(l,l.return,f),Il(l);break;case 27:uf(l.stateNode);case 26:case 5:Ks(l,l.return),Il(l);break;case 22:l.memoizedState===null&&Il(l);break;case 30:Il(l);break;default:Il(l)}i=i.sibling}}function Eo(i,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,E=i,S=l,U=S.flags;switch(S.tag){case 0:case 11:case 15:Eo(E,S,f),Ju(4,S);break;case 1:if(Eo(E,S,f),m=S,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(xe){Rn(m,m.return,xe)}if(m=S,E=m.updateQueue,E!==null){var J=m.stateNode;try{var oe=E.shared.hiddenCallbacks;if(oe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<oe.length;E++)ax(oe[E],J)}catch(xe){Rn(m,m.return,xe)}}f&&U&64&&vv(S),ef(S,S.return);break;case 27:Tv(S);case 26:case 5:Eo(E,S,f),f&&m===null&&U&4&&Ev(S),ef(S,S.return);break;case 12:Eo(E,S,f);break;case 13:Eo(E,S,f),f&&U&4&&Rv(E,S);break;case 22:S.memoizedState===null&&Eo(E,S,f),ef(S,S.return);break;case 30:break;default:Eo(E,S,f)}l=l.sibling}}function P1(i,l){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&Uu(f))}function L1(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Uu(i))}function Qs(i,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Dv(i,l,f,m),l=l.sibling}function Dv(i,l,f,m){var E=l.flags;switch(l.tag){case 0:case 11:case 15:Qs(i,l,f,m),E&2048&&Ju(9,l);break;case 1:Qs(i,l,f,m);break;case 3:Qs(i,l,f,m),E&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Uu(i)));break;case 12:if(E&2048){Qs(i,l,f,m),i=l.stateNode;try{var S=l.memoizedProps,U=S.id,J=S.onPostCommit;typeof J=="function"&&J(U,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(oe){Rn(l,l.return,oe)}}else Qs(i,l,f,m);break;case 13:Qs(i,l,f,m);break;case 23:break;case 22:S=l.stateNode,U=l.alternate,l.memoizedState!==null?S._visibility&2?Qs(i,l,f,m):tf(i,l):S._visibility&2?Qs(i,l,f,m):(S._visibility|=2,Tc(i,l,f,m,(l.subtreeFlags&10256)!==0)),E&2048&&P1(U,l);break;case 24:Qs(i,l,f,m),E&2048&&L1(l.alternate,l);break;default:Qs(i,l,f,m)}}function Tc(i,l,f,m,E){for(E=E&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=i,U=l,J=f,oe=m,xe=U.flags;switch(U.tag){case 0:case 11:case 15:Tc(S,U,J,oe,E),Ju(8,U);break;case 23:break;case 22:var Ie=U.stateNode;U.memoizedState!==null?Ie._visibility&2?Tc(S,U,J,oe,E):tf(S,U):(Ie._visibility|=2,Tc(S,U,J,oe,E)),E&&xe&2048&&P1(U.alternate,U);break;case 24:Tc(S,U,J,oe,E),E&&xe&2048&&L1(U.alternate,U);break;default:Tc(S,U,J,oe,E)}l=l.sibling}}function tf(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=i,m=l,E=m.flags;switch(m.tag){case 22:tf(f,m),E&2048&&P1(m.alternate,m);break;case 24:tf(f,m),E&2048&&L1(m.alternate,m);break;default:tf(f,m)}l=l.sibling}}var nf=8192;function Ac(i){if(i.subtreeFlags&nf)for(i=i.child;i!==null;)Ov(i),i=i.sibling}function Ov(i){switch(i.tag){case 26:Ac(i),i.flags&nf&&i.memoizedState!==null&&y4(Ms,i.memoizedState,i.memoizedProps);break;case 5:Ac(i);break;case 3:case 4:var l=Ms;Ms=gh(i.stateNode.containerInfo),Ac(i),Ms=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=nf,nf=16777216,Ac(i),nf=l):Ac(i));break;default:Ac(i)}}function kv(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function rf(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];kr=m,Lv(m,i)}kv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pv(i),i=i.sibling}function Pv(i){switch(i.tag){case 0:case 11:case 15:rf(i),i.flags&2048&&vo(9,i,i.return);break;case 3:rf(i);break;case 12:rf(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,nh(i)):rf(i);break;default:rf(i)}}function nh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];kr=m,Lv(m,i)}kv(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:vo(8,l,l.return),nh(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,nh(l));break;default:nh(l)}i=i.sibling}}function Lv(i,l){for(;kr!==null;){var f=kr;switch(f.tag){case 0:case 11:case 15:vo(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Uu(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,kr=m;else e:for(f=i;kr!==null;){m=kr;var E=m.sibling,S=m.return;if(Cv(m),m===f){kr=null;break e}if(E!==null){E.return=S,kr=E;break e}kr=S}}}var O3={getCacheForType:function(i){var l=ai(Ar),f=l.data.get(i);return f===void 0&&(f=i(),l.data.set(i,f)),f}},k3=typeof WeakMap=="function"?WeakMap:Map,pn=0,Mn=null,Ut=null,Zt=0,mn=0,Yi=null,_o=!1,Sc=!1,B1=!1,Ma=0,sr=0,To=0,Rl=0,V1=0,ws=0,Cc=0,sf=null,Ri=null,U1=!1,F1=0,rh=1/0,ih=null,Ao=null,Xr=0,So=null,Ic=null,Rc=0,z1=0,j1=null,Bv=null,af=0,H1=null;function Wi(){if((pn&2)!==0&&Zt!==0)return Zt&-Zt;if(ae.T!==null){var i=mc;return i!==0?i:Q1()}return hi()}function Vv(){ws===0&&(ws=(Zt&536870912)===0||cn?da():536870912);var i=ys.current;return i!==null&&(i.flags|=32),ws}function Xi(i,l,f){(i===Mn&&(mn===2||mn===9)||i.cancelPendingCommit!==null)&&(Nc(i,0),Co(i,Zt,ws,!1)),zr(i,f),((pn&2)===0||i!==Mn)&&(i===Mn&&((pn&2)===0&&(Rl|=f),sr===4&&Co(i,Zt,ws,!1)),Zs(i))}function Uv(i,l,f){if((pn&6)!==0)throw Error(r(327));var m=!f&&(l&124)===0&&(l&i.expiredLanes)===0||un(i,l),E=m?B3(i,l):Y1(i,l,!0),S=m;do{if(E===0){Sc&&!m&&Co(i,l,0,!1);break}else{if(f=i.current.alternate,S&&!P3(f)){E=Y1(i,l,!1),S=!1;continue}if(E===2){if(S=l,i.errorRecoveryDisabledLanes&S)var U=0;else U=i.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){l=U;e:{var J=i;E=sf;var oe=J.current.memoizedState.isDehydrated;if(oe&&(Nc(J,U).flags|=256),U=Y1(J,U,!1),U!==2){if(B1&&!oe){J.errorRecoveryDisabledLanes|=S,Rl|=S,E=4;break e}S=Ri,Ri=E,S!==null&&(Ri===null?Ri=S:Ri.push.apply(Ri,S))}E=U}if(S=!1,E!==2)continue}}if(E===1){Nc(i,0),Co(i,l,0,!0);break}e:{switch(m=i,S=E,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Co(m,l,ws,!_o);break e;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=F1+300-xt(),10<E)){if(Co(m,l,ws,!_o),Qt(m,0,!0)!==0)break e;m.timeoutHandle=g2(Fv.bind(null,m,f,Ri,ih,U1,l,ws,Rl,Cc,_o,S,2,-0,0),E);break e}Fv(m,f,Ri,ih,U1,l,ws,Rl,Cc,_o,S,0,-0,0)}}break}while(!0);Zs(i)}function Fv(i,l,f,m,E,S,U,J,oe,xe,Ie,ke,be,Ae){if(i.timeoutHandle=-1,ke=l.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(hf={stylesheets:null,count:0,unsuspend:m4},Ov(l),ke=w4(),ke!==null)){i.cancelPendingCommit=ke(Wv.bind(null,i,l,S,f,m,E,U,J,oe,Ie,1,be,Ae)),Co(i,S,U,!xe);return}Wv(i,l,S,f,m,E,U,J,oe)}function P3(i){for(var l=i;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var E=f[m],S=E.getSnapshot;E=E.value;try{if(!h(S(),E))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Co(i,l,f,m){l&=~V1,l&=~Rl,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var E=l;0<E;){var S=31-tn(E),U=1<<S;m[S]=-1,E&=~U}f!==0&&ki(i,f,l)}function sh(){return(pn&6)===0?(of(0),!1):!0}function G1(){if(Ut!==null){if(mn===0)var i=Ut.return;else i=Ut,_a=_l=null,o1(i),Ec=null,Qu=0,i=Ut;for(;i!==null;)xv(i.alternate,i),i=i.return;Ut=null}}function Nc(i,l){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,J3(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),G1(),Mn=i,Ut=f=va(i.current,null),Zt=l,mn=0,Yi=null,_o=!1,Sc=un(i,l),B1=!1,Cc=ws=V1=Rl=To=sr=0,Ri=sf=null,U1=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var E=31-tn(m),S=1<<E;l|=i[E],m&=~S}return Ma=l,Cd(),f}function zv(i,l){Ot=null,ae.H=Yd,l===zu||l===Ld?(l=ix(),mn=3):l===tx?(l=ix(),mn=4):mn=l===sv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Yi=l,Ut===null&&(sr=1,Zd(i,hs(l,i.current)))}function jv(){var i=ae.H;return ae.H=Yd,i===null?Yd:i}function Hv(){var i=ae.A;return ae.A=O3,i}function q1(){sr=4,_o||(Zt&4194048)!==Zt&&ys.current!==null||(Sc=!0),(To&134217727)===0&&(Rl&134217727)===0||Mn===null||Co(Mn,Zt,ws,!1)}function Y1(i,l,f){var m=pn;pn|=2;var E=jv(),S=Hv();(Mn!==i||Zt!==l)&&(ih=null,Nc(i,l)),l=!1;var U=sr;e:do try{if(mn!==0&&Ut!==null){var J=Ut,oe=Yi;switch(mn){case 8:G1(),U=6;break e;case 3:case 2:case 9:case 6:ys.current===null&&(l=!0);var xe=mn;if(mn=0,Yi=null,Mc(i,J,oe,xe),f&&Sc){U=0;break e}break;default:xe=mn,mn=0,Yi=null,Mc(i,J,oe,xe)}}L3(),U=sr;break}catch(Ie){zv(i,Ie)}while(!0);return l&&i.shellSuspendCounter++,_a=_l=null,pn=m,ae.H=E,ae.A=S,Ut===null&&(Mn=null,Zt=0,Cd()),U}function L3(){for(;Ut!==null;)Gv(Ut)}function B3(i,l){var f=pn;pn|=2;var m=jv(),E=Hv();Mn!==i||Zt!==l?(ih=null,rh=xt()+500,Nc(i,l)):Sc=un(i,l);e:do try{if(mn!==0&&Ut!==null){l=Ut;var S=Yi;t:switch(mn){case 1:mn=0,Yi=null,Mc(i,l,S,1);break;case 2:case 9:if(nx(S)){mn=0,Yi=null,qv(l);break}l=function(){mn!==2&&mn!==9||Mn!==i||(mn=7),Zs(i)},S.then(l,l);break e;case 3:mn=7;break e;case 4:mn=5;break e;case 7:nx(S)?(mn=0,Yi=null,qv(l)):(mn=0,Yi=null,Mc(i,l,S,7));break;case 5:var U=null;switch(Ut.tag){case 26:U=Ut.memoizedState;case 5:case 27:var J=Ut;if(!U||S2(U)){mn=0,Yi=null;var oe=J.sibling;if(oe!==null)Ut=oe;else{var xe=J.return;xe!==null?(Ut=xe,ah(xe)):Ut=null}break t}}mn=0,Yi=null,Mc(i,l,S,5);break;case 6:mn=0,Yi=null,Mc(i,l,S,6);break;case 8:G1(),sr=6;break e;default:throw Error(r(462))}}V3();break}catch(Ie){zv(i,Ie)}while(!0);return _a=_l=null,ae.H=m,ae.A=E,pn=f,Ut!==null?0:(Mn=null,Zt=0,Cd(),sr)}function V3(){for(;Ut!==null&&!Pt();)Gv(Ut)}function Gv(i){var l=yv(i.alternate,i,Ma);i.memoizedProps=i.pendingProps,l===null?ah(i):Ut=l}function qv(i){var l=i,f=l.alternate;switch(l.tag){case 15:case 0:l=fv(f,l,l.pendingProps,l.type,void 0,Zt);break;case 11:l=fv(f,l,l.pendingProps,l.type.render,l.ref,Zt);break;case 5:o1(l);default:xv(f,l),l=Ut=Yw(l,Ma),l=yv(f,l,Ma)}i.memoizedProps=i.pendingProps,l===null?ah(i):Ut=l}function Mc(i,l,f,m){_a=_l=null,o1(l),Ec=null,Qu=0;var E=l.return;try{if(C3(i,E,l,f,Zt)){sr=1,Zd(i,hs(f,i.current)),Ut=null;return}}catch(S){if(E!==null)throw Ut=E,S;sr=1,Zd(i,hs(f,i.current)),Ut=null;return}l.flags&32768?(cn||m===1?i=!0:Sc||(Zt&536870912)!==0?i=!1:(_o=i=!0,(m===2||m===9||m===3||m===6)&&(m=ys.current,m!==null&&m.tag===13&&(m.flags|=16384))),Yv(l,i)):ah(l)}function ah(i){var l=i;do{if((l.flags&32768)!==0){Yv(l,_o);return}i=l.return;var f=R3(l.alternate,l,Ma);if(f!==null){Ut=f;return}if(l=l.sibling,l!==null){Ut=l;return}Ut=l=i}while(l!==null);sr===0&&(sr=5)}function Yv(i,l){do{var f=N3(i.alternate,i);if(f!==null){f.flags&=32767,Ut=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(i=i.sibling,i!==null)){Ut=i;return}Ut=i=f}while(i!==null);sr=6,Ut=null}function Wv(i,l,f,m,E,S,U,J,oe){i.cancelPendingCommit=null;do oh();while(Xr!==0);if((pn&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=Lg,ro(i,f,S,U,J,oe),i===Mn&&(Ut=Mn=null,Zt=0),Ic=l,So=i,Rc=f,z1=S,j1=E,Bv=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,j3(qe,function(){return $v(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null,E=de.p,de.p=2,U=pn,pn|=4;try{M3(i,l,f)}finally{pn=U,de.p=E,ae.T=m}}Xr=1,Xv(),Kv(),Qv()}}function Xv(){if(Xr===1){Xr=0;var i=So,l=Ic,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=ae.T,ae.T=null;var m=de.p;de.p=2;var E=pn;pn|=4;try{Nv(l,i);var S=ip,U=C(i.containerInfo),J=S.focusedElem,oe=S.selectionRange;if(U!==J&&J&&J.ownerDocument&&T(J.ownerDocument.documentElement,J)){if(oe!==null&&D(J)){var xe=oe.start,Ie=oe.end;if(Ie===void 0&&(Ie=xe),"selectionStart"in J)J.selectionStart=xe,J.selectionEnd=Math.min(Ie,J.value.length);else{var ke=J.ownerDocument||document,be=ke&&ke.defaultView||window;if(be.getSelection){var Ae=be.getSelection(),mt=J.textContent.length,ht=Math.min(oe.start,mt),_n=oe.end===void 0?ht:Math.min(oe.end,mt);!Ae.extend&&ht>_n&&(U=_n,_n=ht,ht=U);var he=v(J,ht),fe=v(J,_n);if(he&&fe&&(Ae.rangeCount!==1||Ae.anchorNode!==he.node||Ae.anchorOffset!==he.offset||Ae.focusNode!==fe.node||Ae.focusOffset!==fe.offset)){var we=ke.createRange();we.setStart(he.node,he.offset),Ae.removeAllRanges(),ht>_n?(Ae.addRange(we),Ae.extend(fe.node,fe.offset)):(we.setEnd(fe.node,fe.offset),Ae.addRange(we))}}}}for(ke=[],Ae=J;Ae=Ae.parentNode;)Ae.nodeType===1&&ke.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<ke.length;J++){var Me=ke[J];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}xh=!!rp,ip=rp=null}finally{pn=E,de.p=m,ae.T=f}}i.current=l,Xr=2}}function Kv(){if(Xr===2){Xr=0;var i=So,l=Ic,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=ae.T,ae.T=null;var m=de.p;de.p=2;var E=pn;pn|=4;try{Sv(i,l.alternate,l)}finally{pn=E,de.p=m,ae.T=f}}Xr=3}}function Qv(){if(Xr===4||Xr===3){Xr=0,Jn();var i=So,l=Ic,f=Rc,m=Bv;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Xr=5:(Xr=0,Ic=So=null,Zv(i,i.pendingLanes));var E=i.pendingLanes;if(E===0&&(Ao=null),Qn(f),l=l.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Kt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=ae.T,E=de.p,de.p=2,ae.T=null;try{for(var S=i.onRecoverableError,U=0;U<m.length;U++){var J=m[U];S(J.value,{componentStack:J.stack})}}finally{ae.T=l,de.p=E}}(Rc&3)!==0&&oh(),Zs(i),E=i.pendingLanes,(f&4194090)!==0&&(E&42)!==0?i===H1?af++:(af=0,H1=i):af=0,of(0)}}function Zv(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Uu(l)))}function oh(i){return Xv(),Kv(),Qv(),$v()}function $v(){if(Xr!==5)return!1;var i=So,l=z1;z1=0;var f=Qn(Rc),m=ae.T,E=de.p;try{de.p=32>f?32:f,ae.T=null,f=j1,j1=null;var S=So,U=Rc;if(Xr=0,Ic=So=null,Rc=0,(pn&6)!==0)throw Error(r(331));var J=pn;if(pn|=4,Pv(S.current),Dv(S,S.current,U,f),pn=J,of(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Kt,S)}catch{}return!0}finally{de.p=E,ae.T=m,Zv(i,l)}}function Jv(i,l,f){l=hs(f,l),l=b1(i.stateNode,l,2),i=mo(i,l,2),i!==null&&(zr(i,2),Zs(i))}function Rn(i,l,f){if(i.tag===3)Jv(i,i,f);else for(;l!==null;){if(l.tag===3){Jv(l,i,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ao===null||!Ao.has(m))){i=hs(f,i),f=rv(2),m=mo(l,f,2),m!==null&&(iv(f,m,l,i),zr(m,2),Zs(m));break}}l=l.return}}function W1(i,l,f){var m=i.pingCache;if(m===null){m=i.pingCache=new k3;var E=new Set;m.set(l,E)}else E=m.get(l),E===void 0&&(E=new Set,m.set(l,E));E.has(f)||(B1=!0,E.add(f),i=U3.bind(null,i,l,f),l.then(i,i))}function U3(i,l,f){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,Mn===i&&(Zt&f)===f&&(sr===4||sr===3&&(Zt&62914560)===Zt&&300>xt()-F1?(pn&2)===0&&Nc(i,0):V1|=f,Cc===Zt&&(Cc=0)),Zs(i)}function e2(i,l){l===0&&(l=no()),i=dc(i,l),i!==null&&(zr(i,l),Zs(i))}function F3(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),e2(i,f)}function z3(i,l){var f=0;switch(i.tag){case 13:var m=i.stateNode,E=i.memoizedState;E!==null&&(f=E.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),e2(i,f)}function j3(i,l){return nt(i,l)}var lh=null,Dc=null,X1=!1,ch=!1,K1=!1,Nl=0;function Zs(i){i!==Dc&&i.next===null&&(Dc===null?lh=Dc=i:Dc=Dc.next=i),ch=!0,X1||(X1=!0,G3())}function of(i,l){if(!K1&&ch){K1=!0;do for(var f=!1,m=lh;m!==null;){if(i!==0){var E=m.pendingLanes;if(E===0)var S=0;else{var U=m.suspendedLanes,J=m.pingedLanes;S=(1<<31-tn(42|i)+1)-1,S&=E&~(U&~J),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(f=!0,i2(m,S))}else S=Zt,S=Qt(m,m===Mn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||un(m,S)||(f=!0,i2(m,S));m=m.next}while(f);K1=!1}}function H3(){t2()}function t2(){ch=X1=!1;var i=0;Nl!==0&&($3()&&(i=Nl),Nl=0);for(var l=xt(),f=null,m=lh;m!==null;){var E=m.next,S=n2(m,l);S===0?(m.next=null,f===null?lh=E:f.next=E,E===null&&(Dc=f)):(f=m,(i!==0||(S&3)!==0)&&(ch=!0)),m=E}of(i)}function n2(i,l){for(var f=i.suspendedLanes,m=i.pingedLanes,E=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var U=31-tn(S),J=1<<U,oe=E[U];oe===-1?((J&f)===0||(J&m)!==0)&&(E[U]=As(J,l)):oe<=l&&(i.expiredLanes|=J),S&=~J}if(l=Mn,f=Zt,f=Qt(i,i===l?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,f===0||i===l&&(mn===2||mn===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&on(m),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||un(i,f)){if(l=f&-f,l===i.callbackPriority)return l;switch(m!==null&&on(m),Qn(f)){case 2:case 8:f=Mr;break;case 32:f=qe;break;case 268435456:f=ua;break;default:f=qe}return m=r2.bind(null,i),f=nt(f,m),i.callbackPriority=l,i.callbackNode=f,l}return m!==null&&m!==null&&on(m),i.callbackPriority=2,i.callbackNode=null,2}function r2(i,l){if(Xr!==0&&Xr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(oh()&&i.callbackNode!==f)return null;var m=Zt;return m=Qt(i,i===Mn?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(Uv(i,m,l),n2(i,xt()),i.callbackNode!=null&&i.callbackNode===f?r2.bind(null,i):null)}function i2(i,l){if(oh())return null;Uv(i,l,!0)}function G3(){e4(function(){(pn&6)!==0?nt(_t,H3):t2()})}function Q1(){return Nl===0&&(Nl=da()),Nl}function s2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:lo(""+i)}function a2(i,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,i.id&&f.setAttribute("form",i.id),l.parentNode.insertBefore(f,l),i=new FormData(i),f.parentNode.removeChild(f),i}function q3(i,l,f,m,E){if(l==="submit"&&f&&f.stateNode===E){var S=s2((E[vn]||null).action),U=m.submitter;U&&(l=(l=U[vn]||null)?s2(l.formAction):U.getAttribute("formAction"),l!==null&&(S=l,U=null));var J=new ds("action","action",null,m,E);i.push({event:J,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Nl!==0){var oe=U?a2(E,U):new FormData(E);m1(f,{pending:!0,data:oe,method:E.method,action:S},null,oe)}}else typeof S=="function"&&(J.preventDefault(),oe=U?a2(E,U):new FormData(E),m1(f,{pending:!0,data:oe,method:E.method,action:S},S,oe))},currentTarget:E}]})}}for(var Z1=0;Z1<Ys.length;Z1++){var $1=Ys[Z1],Y3=$1.toLowerCase(),W3=$1[0].toUpperCase()+$1.slice(1);ji(Y3,"on"+W3)}ji(bt,"onAnimationEnd"),ji(Yr,"onAnimationIteration"),ji(Si,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(ii,"onTransitionRun"),ji(gn,"onTransitionStart"),ji(Tr,"onTransitionCancel"),ji(si,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lf));function o2(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var m=i[f],E=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var U=m.length-1;0<=U;U--){var J=m[U],oe=J.instance,xe=J.currentTarget;if(J=J.listener,oe!==S&&E.isPropagationStopped())break e;S=J,E.currentTarget=xe;try{S(E)}catch(Ie){Qd(Ie)}E.currentTarget=null,S=oe}else for(U=0;U<m.length;U++){if(J=m[U],oe=J.instance,xe=J.currentTarget,J=J.listener,oe!==S&&E.isPropagationStopped())break e;S=J,E.currentTarget=xe;try{S(E)}catch(Ie){Qd(Ie)}E.currentTarget=null,S=oe}}}}function Ft(i,l){var f=l[pr];f===void 0&&(f=l[pr]=new Set);var m=i+"__bubble";f.has(m)||(l2(l,i,2,!1),f.add(m))}function J1(i,l,f){var m=0;l&&(m|=4),l2(f,i,m,l)}var uh="_reactListening"+Math.random().toString(36).slice(2);function ep(i){if(!i[uh]){i[uh]=!0,gl.forEach(function(f){f!=="selectionchange"&&(X3.has(f)||J1(f,!1,i),J1(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[uh]||(l[uh]=!0,J1("selectionchange",!1,l))}}function l2(i,l,f,m){switch(D2(l)){case 2:var E=b4;break;case 8:E=E4;break;default:E=gp}f=E.bind(null,l,f,i),E=void 0,!ft||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),m?E!==void 0?i.addEventListener(l,f,{capture:!0,passive:E}):i.addEventListener(l,f,!0):E!==void 0?i.addEventListener(l,f,{passive:E}):i.addEventListener(l,f,!1)}function tp(i,l,f,m,E){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var J=m.stateNode.containerInfo;if(J===E)break;if(U===4)for(U=m.return;U!==null;){var oe=U.tag;if((oe===3||oe===4)&&U.stateNode.containerInfo===E)return;U=U.return}for(;J!==null;){if(U=zn(J),U===null)return;if(oe=U.tag,oe===5||oe===6||oe===26||oe===27){m=S=U;continue e}J=J.parentNode}}m=m.return}Bi(function(){var xe=S,Ie=Gr(f),ke=[];e:{var be=xa.get(i);if(be!==void 0){var Ae=ds,mt=i;switch(i){case"keypress":if(fs(f)===0)break e;case"keydown":case"keyup":Ae=Gs;break;case"focusin":mt="focus",Ae=Rs;break;case"focusout":mt="blur",Ae=Rs;break;case"beforeblur":case"afterblur":Ae=Rs;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=bi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=sn;break;case bt:case Yr:case Si:Ae=co;break;case si:Ae=oc;break;case"scroll":case"scrollend":Ae=_r;break;case"wheel":Ae=_i;break;case"copy":case"cut":case"paste":Ae=vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=qs;break;case"toggle":case"beforetoggle":Ae=lc}var ht=(l&4)!==0,_n=!ht&&(i==="scroll"||i==="scrollend"),he=ht?be!==null?be+"Capture":null:be;ht=[];for(var fe=xe,we;fe!==null;){var Me=fe;if(we=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||we===null||he===null||(Me=st(fe,he),Me!=null&&ht.push(cf(fe,Me,we))),_n)break;fe=fe.return}0<ht.length&&(be=new Ae(be,mt,null,f,Ie),ke.push({event:be,listeners:ht}))}}if((l&7)===0){e:{if(be=i==="mouseover"||i==="pointerover",Ae=i==="mouseout"||i==="pointerout",be&&f!==Pi&&(mt=f.relatedTarget||f.fromElement)&&(zn(mt)||mt[Jr]))break e;if((Ae||be)&&(be=Ie.window===Ie?Ie:(be=Ie.ownerDocument)?be.defaultView||be.parentWindow:window,Ae?(mt=f.relatedTarget||f.toElement,Ae=xe,mt=mt?zn(mt):null,mt!==null&&(_n=o(mt),ht=mt.tag,mt!==_n||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(Ae=null,mt=xe),Ae!==mt)){if(ht=bi,Me="onMouseLeave",he="onMouseEnter",fe="mouse",(i==="pointerout"||i==="pointerover")&&(ht=qs,Me="onPointerLeave",he="onPointerEnter",fe="pointer"),_n=Ae==null?be:gi(Ae),we=mt==null?be:gi(mt),be=new ht(Me,fe+"leave",Ae,f,Ie),be.target=_n,be.relatedTarget=we,Me=null,zn(Ie)===xe&&(ht=new ht(he,fe+"enter",mt,f,Ie),ht.target=we,ht.relatedTarget=_n,Me=ht),_n=Me,Ae&&mt)t:{for(ht=Ae,he=mt,fe=0,we=ht;we;we=Oc(we))fe++;for(we=0,Me=he;Me;Me=Oc(Me))we++;for(;0<fe-we;)ht=Oc(ht),fe--;for(;0<we-fe;)he=Oc(he),we--;for(;fe--;){if(ht===he||he!==null&&ht===he.alternate)break t;ht=Oc(ht),he=Oc(he)}ht=null}else ht=null;Ae!==null&&c2(ke,be,Ae,ht,!1),mt!==null&&_n!==null&&c2(ke,_n,mt,ht,!0)}}e:{if(be=xe?gi(xe):window,Ae=be.nodeName&&be.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&be.type==="file")var tt=Ad;else if(Yn(be))if(Ou)tt=c;else{tt=z;var Vt=uc}else Ae=be.nodeName,!Ae||Ae.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?xe&&rt(xe.elementType)&&(tt=Ad):tt=a;if(tt&&(tt=tt(i,xe))){rr(ke,tt,f,Ie);break e}Vt&&Vt(i,be,xe),i==="focusout"&&xe&&be.type==="number"&&xe.memoizedProps.value!=null&&ge(be,"number",be.value)}switch(Vt=xe?gi(xe):window,i){case"focusin":(Yn(Vt)||Vt.contentEditable==="true")&&(K=Vt,ie=xe,ce=null);break;case"focusout":ce=ie=K=null;break;case"mousedown":ue=!0;break;case"contextmenu":case"mouseup":case"dragend":ue=!1,me(ke,f,Ie);break;case"selectionchange":if(j)break;case"keydown":case"keyup":me(ke,f,Ie)}var at;if(Ti)e:{switch(i){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else zt?Se(i,f)&&(gt="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(gt="onCompositionStart");gt&&(L&&f.locale!=="ko"&&(zt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&zt&&(at=Ui()):(ls=Ie,cs="value"in ls?ls.value:ls.textContent,zt=!0)),Vt=fh(xe,gt),0<Vt.length&&(gt=new js(gt,i,null,f,Ie),ke.push({event:gt,listeners:Vt}),at?gt.data=at:(at=ze(f),at!==null&&(gt.data=at)))),(at=R?Ln(i,f):jt(i,f))&&(gt=fh(xe,"onBeforeInput"),0<gt.length&&(Vt=new js("onBeforeInput","beforeinput",null,f,Ie),ke.push({event:Vt,listeners:gt}),Vt.data=at)),q3(ke,i,xe,f,Ie)}o2(ke,l)})}function cf(i,l,f){return{instance:i,listener:l,currentTarget:f}}function fh(i,l){for(var f=l+"Capture",m=[];i!==null;){var E=i,S=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||S===null||(E=st(i,f),E!=null&&m.unshift(cf(i,E,S)),E=st(i,l),E!=null&&m.push(cf(i,E,S))),i.tag===3)return m;i=i.return}return[]}function Oc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function c2(i,l,f,m,E){for(var S=l._reactName,U=[];f!==null&&f!==m;){var J=f,oe=J.alternate,xe=J.stateNode;if(J=J.tag,oe!==null&&oe===m)break;J!==5&&J!==26&&J!==27||xe===null||(oe=xe,E?(xe=st(f,S),xe!=null&&U.unshift(cf(f,xe,oe))):E||(xe=st(f,S),xe!=null&&U.push(cf(f,xe,oe)))),f=f.return}U.length!==0&&i.push({event:l,listeners:U})}var K3=/\r\n?/g,Q3=/\u0000|\uFFFD/g;function u2(i){return(typeof i=="string"?i:""+i).replace(K3,`
`).replace(Q3,"")}function f2(i,l){return l=u2(l),u2(i)===l}function dh(){}function En(i,l,f,m,E,S){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||kn(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&kn(i,""+m);break;case"className":as(i,"class",m);break;case"tabIndex":as(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":as(i,f,m);break;case"style":Dr(i,m,S);break;case"data":if(l!=="object"){as(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){i.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=lo(""+m),i.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(f==="formAction"?(l!=="input"&&En(i,l,"name",E.name,E,null),En(i,l,"formEncType",E.formEncType,E,null),En(i,l,"formMethod",E.formMethod,E,null),En(i,l,"formTarget",E.formTarget,E,null)):(En(i,l,"encType",E.encType,E,null),En(i,l,"method",E.method,E,null),En(i,l,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(f);break}m=lo(""+m),i.setAttribute(f,m);break;case"onClick":m!=null&&(i.onclick=dh);break;case"onScroll":m!=null&&Ft("scroll",i);break;case"onScrollEnd":m!=null&&Ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(E.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}f=lo(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""+m):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":m===!0?i.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(f,m):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(f,m):i.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(f):i.setAttribute(f,m);break;case"popover":Ft("beforetoggle",i),Ft("toggle",i),De(i,"popover",m);break;case"xlinkActuate":Nt(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Nt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Nt(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Nt(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Nt(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Nt(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":De(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Sn.get(f)||f,De(i,f,m))}}function np(i,l,f,m,E,S){switch(f){case"style":Dr(i,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(E.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof m=="string"?kn(i,m):(typeof m=="number"||typeof m=="bigint")&&kn(i,""+m);break;case"onScroll":m!=null&&Ft("scroll",i);break;case"onScrollEnd":m!=null&&Ft("scrollend",i);break;case"onClick":m!=null&&(i.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(E=f.endsWith("Capture"),l=f.slice(2,E?f.length-7:void 0),S=i[vn]||null,S=S!=null?S[f]:null,typeof S=="function"&&i.removeEventListener(l,S,E),typeof m=="function")){typeof S!="function"&&S!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(l,m,E);break e}f in i?i[f]=m:m===!0?i.setAttribute(f,""):De(i,f,m)}}}function Kr(i,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",i),Ft("load",i);var m=!1,E=!1,S;for(S in f)if(f.hasOwnProperty(S)){var U=f[S];if(U!=null)switch(S){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:En(i,l,S,U,f,null)}}E&&En(i,l,"srcSet",f.srcSet,f,null),m&&En(i,l,"src",f.src,f,null);return;case"input":Ft("invalid",i);var J=S=U=E=null,oe=null,xe=null;for(m in f)if(f.hasOwnProperty(m)){var Ie=f[m];if(Ie!=null)switch(m){case"name":E=Ie;break;case"type":U=Ie;break;case"checked":oe=Ie;break;case"defaultChecked":xe=Ie;break;case"value":S=Ie;break;case"defaultValue":J=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,l));break;default:En(i,l,m,Ie,f,null)}}jn(i,S,J,oe,xe,U,E,!1),ao(i);return;case"select":Ft("invalid",i),m=U=S=null;for(E in f)if(f.hasOwnProperty(E)&&(J=f[E],J!=null))switch(E){case"value":S=J;break;case"defaultValue":U=J;break;case"multiple":m=J;default:En(i,l,E,J,f,null)}l=S,f=U,i.multiple=!!m,l!=null?ne(i,!!m,l,!1):f!=null&&ne(i,!!m,f,!0);return;case"textarea":Ft("invalid",i),S=E=m=null;for(U in f)if(f.hasOwnProperty(U)&&(J=f[U],J!=null))switch(U){case"value":m=J;break;case"defaultValue":E=J;break;case"children":S=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:En(i,l,U,J,f,null)}Nn(i,m,E,S),ao(i);return;case"option":for(oe in f)if(f.hasOwnProperty(oe)&&(m=f[oe],m!=null))switch(oe){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:En(i,l,oe,m,f,null)}return;case"dialog":Ft("beforetoggle",i),Ft("toggle",i),Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":Ft("load",i);break;case"video":case"audio":for(m=0;m<lf.length;m++)Ft(lf[m],i);break;case"image":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"embed":case"source":case"link":Ft("error",i),Ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(xe in f)if(f.hasOwnProperty(xe)&&(m=f[xe],m!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:En(i,l,xe,m,f,null)}return;default:if(rt(l)){for(Ie in f)f.hasOwnProperty(Ie)&&(m=f[Ie],m!==void 0&&np(i,l,Ie,m,f,void 0));return}}for(J in f)f.hasOwnProperty(J)&&(m=f[J],m!=null&&En(i,l,J,m,f,null))}function Z3(i,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,S=null,U=null,J=null,oe=null,xe=null,Ie=null;for(Ae in f){var ke=f[Ae];if(f.hasOwnProperty(Ae)&&ke!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":oe=ke;default:m.hasOwnProperty(Ae)||En(i,l,Ae,null,m,ke)}}for(var be in m){var Ae=m[be];if(ke=f[be],m.hasOwnProperty(be)&&(Ae!=null||ke!=null))switch(be){case"type":S=Ae;break;case"name":E=Ae;break;case"checked":xe=Ae;break;case"defaultChecked":Ie=Ae;break;case"value":U=Ae;break;case"defaultValue":J=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,l));break;default:Ae!==ke&&En(i,l,be,Ae,m,ke)}}Dt(i,U,J,oe,xe,Ie,S,E);return;case"select":Ae=U=J=be=null;for(S in f)if(oe=f[S],f.hasOwnProperty(S)&&oe!=null)switch(S){case"value":break;case"multiple":Ae=oe;default:m.hasOwnProperty(S)||En(i,l,S,null,m,oe)}for(E in m)if(S=m[E],oe=f[E],m.hasOwnProperty(E)&&(S!=null||oe!=null))switch(E){case"value":be=S;break;case"defaultValue":J=S;break;case"multiple":U=S;default:S!==oe&&En(i,l,E,S,m,oe)}l=J,f=U,m=Ae,be!=null?ne(i,!!f,be,!1):!!m!=!!f&&(l!=null?ne(i,!!f,l,!0):ne(i,!!f,f?[]:"",!1));return;case"textarea":Ae=be=null;for(J in f)if(E=f[J],f.hasOwnProperty(J)&&E!=null&&!m.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:En(i,l,J,null,m,E)}for(U in m)if(E=m[U],S=f[U],m.hasOwnProperty(U)&&(E!=null||S!=null))switch(U){case"value":be=E;break;case"defaultValue":Ae=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==S&&En(i,l,U,E,m,S)}je(i,be,Ae);return;case"option":for(var mt in f)if(be=f[mt],f.hasOwnProperty(mt)&&be!=null&&!m.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:En(i,l,mt,null,m,be)}for(oe in m)if(be=m[oe],Ae=f[oe],m.hasOwnProperty(oe)&&be!==Ae&&(be!=null||Ae!=null))switch(oe){case"selected":i.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:En(i,l,oe,be,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in f)be=f[ht],f.hasOwnProperty(ht)&&be!=null&&!m.hasOwnProperty(ht)&&En(i,l,ht,null,m,be);for(xe in m)if(be=m[xe],Ae=f[xe],m.hasOwnProperty(xe)&&be!==Ae&&(be!=null||Ae!=null))switch(xe){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,l));break;default:En(i,l,xe,be,m,Ae)}return;default:if(rt(l)){for(var _n in f)be=f[_n],f.hasOwnProperty(_n)&&be!==void 0&&!m.hasOwnProperty(_n)&&np(i,l,_n,void 0,m,be);for(Ie in m)be=m[Ie],Ae=f[Ie],!m.hasOwnProperty(Ie)||be===Ae||be===void 0&&Ae===void 0||np(i,l,Ie,be,m,Ae);return}}for(var he in f)be=f[he],f.hasOwnProperty(he)&&be!=null&&!m.hasOwnProperty(he)&&En(i,l,he,null,m,be);for(ke in m)be=m[ke],Ae=f[ke],!m.hasOwnProperty(ke)||be===Ae||be==null&&Ae==null||En(i,l,ke,be,m,Ae)}var rp=null,ip=null;function hh(i){return i.nodeType===9?i:i.ownerDocument}function d2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h2(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function sp(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ap=null;function $3(){var i=window.event;return i&&i.type==="popstate"?i===ap?!1:(ap=i,!0):(ap=null,!1)}var g2=typeof setTimeout=="function"?setTimeout:void 0,J3=typeof clearTimeout=="function"?clearTimeout:void 0,p2=typeof Promise=="function"?Promise:void 0,e4=typeof queueMicrotask=="function"?queueMicrotask:typeof p2<"u"?function(i){return p2.resolve(null).then(i).catch(t4)}:g2;function t4(i){setTimeout(function(){throw i})}function Io(i){return i==="head"}function m2(i,l){var f=l,m=0,E=0;do{var S=f.nextSibling;if(i.removeChild(f),S&&S.nodeType===8)if(f=S.data,f==="/$"){if(0<m&&8>m){f=m;var U=i.ownerDocument;if(f&1&&uf(U.documentElement),f&2&&uf(U.body),f&4)for(f=U.head,uf(f),U=f.firstChild;U;){var J=U.nextSibling,oe=U.nodeName;U[xi]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&U.rel.toLowerCase()==="stylesheet"||f.removeChild(U),U=J}}if(E===0){i.removeChild(S),wf(l);return}E--}else f==="$"||f==="$?"||f==="$!"?E++:m=f.charCodeAt(0)-48;else m=0;f=S}while(f);wf(l)}function op(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":op(f),ss(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function n4(i,l,f,m){for(;i.nodeType===1;){var E=f;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[xi])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==E.rel||i.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||i.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||i.getAttribute("title")!==(E.title==null?null:E.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(E.src==null?null:E.src)||i.getAttribute("type")!==(E.type==null?null:E.type)||i.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var S=E.name==null?null:""+E.name;if(E.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Ds(i.nextSibling),i===null)break}return null}function r4(i,l,f){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=Ds(i.nextSibling),i===null))return null;return i}function lp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function i4(i,l){var f=i.ownerDocument;if(i.data!=="$?"||f.readyState==="complete")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ds(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var cp=null;function y2(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}function w2(i,l,f){switch(l=hh(f),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uf(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);ss(i)}var xs=new Map,x2=new Set;function gh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Da=de.d;de.d={f:s4,r:a4,D:o4,C:l4,L:c4,m:u4,X:d4,S:f4,M:h4};function s4(){var i=Da.f(),l=sh();return i||l}function a4(i){var l=Hr(i);l!==null&&l.tag===5&&l.type==="form"?Ux(l):Da.r(i)}var kc=typeof document>"u"?null:document;function v2(i,l,f){var m=kc;if(m&&typeof l=="string"&&l){var E=An(l);E='link[rel="'+i+'"][href="'+E+'"]',typeof f=="string"&&(E+='[crossorigin="'+f+'"]'),x2.has(E)||(x2.add(E),i={rel:i,crossOrigin:f,href:l},m.querySelector(E)===null&&(l=m.createElement("link"),Kr(l,"link",i),nn(l),m.head.appendChild(l)))}}function o4(i){Da.D(i),v2("dns-prefetch",i,null)}function l4(i,l){Da.C(i,l),v2("preconnect",i,l)}function c4(i,l,f){Da.L(i,l,f);var m=kc;if(m&&i&&l){var E='link[rel="preload"][as="'+An(l)+'"]';l==="image"&&f&&f.imageSrcSet?(E+='[imagesrcset="'+An(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(E+='[imagesizes="'+An(f.imageSizes)+'"]')):E+='[href="'+An(i)+'"]';var S=E;switch(l){case"style":S=Pc(i);break;case"script":S=Lc(i)}xs.has(S)||(i=_({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:i,as:l},f),xs.set(S,i),m.querySelector(E)!==null||l==="style"&&m.querySelector(ff(S))||l==="script"&&m.querySelector(df(S))||(l=m.createElement("link"),Kr(l,"link",i),nn(l),m.head.appendChild(l)))}}function u4(i,l){Da.m(i,l);var f=kc;if(f&&i){var m=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+An(m)+'"][href="'+An(i)+'"]',S=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Lc(i)}if(!xs.has(S)&&(i=_({rel:"modulepreload",href:i},l),xs.set(S,i),f.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(df(S)))return}m=f.createElement("link"),Kr(m,"link",i),nn(m),f.head.appendChild(m)}}}function f4(i,l,f){Da.S(i,l,f);var m=kc;if(m&&i){var E=mr(m).hoistableStyles,S=Pc(i);l=l||"default";var U=E.get(S);if(!U){var J={loading:0,preload:null};if(U=m.querySelector(ff(S)))J.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":l},f),(f=xs.get(S))&&up(i,f);var oe=U=m.createElement("link");nn(oe),Kr(oe,"link",i),oe._p=new Promise(function(xe,Ie){oe.onload=xe,oe.onerror=Ie}),oe.addEventListener("load",function(){J.loading|=1}),oe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,ph(U,l,m)}U={type:"stylesheet",instance:U,count:1,state:J},E.set(S,U)}}}function d4(i,l){Da.X(i,l);var f=kc;if(f&&i){var m=mr(f).hoistableScripts,E=Lc(i),S=m.get(E);S||(S=f.querySelector(df(E)),S||(i=_({src:i,async:!0},l),(l=xs.get(E))&&fp(i,l),S=f.createElement("script"),nn(S),Kr(S,"link",i),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(E,S))}}function h4(i,l){Da.M(i,l);var f=kc;if(f&&i){var m=mr(f).hoistableScripts,E=Lc(i),S=m.get(E);S||(S=f.querySelector(df(E)),S||(i=_({src:i,async:!0,type:"module"},l),(l=xs.get(E))&&fp(i,l),S=f.createElement("script"),nn(S),Kr(S,"link",i),f.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(E,S))}}function b2(i,l,f,m){var E=(E=Ce.current)?gh(E):null;if(!E)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Pc(f.href),f=mr(E).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=Pc(f.href);var S=mr(E).hoistableStyles,U=S.get(i);if(U||(E=E.ownerDocument||E,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,U),(S=E.querySelector(ff(i)))&&!S._p&&(U.instance=S,U.state.loading=5),xs.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},xs.set(i,f),S||g4(E,i,f,U.state))),l&&m===null)throw Error(r(528,""));return U}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Lc(f),f=mr(E).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Pc(i){return'href="'+An(i)+'"'}function ff(i){return'link[rel="stylesheet"]['+i+"]"}function E2(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function g4(i,l,f,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Kr(l,"link",f),nn(l),i.head.appendChild(l))}function Lc(i){return'[src="'+An(i)+'"]'}function df(i){return"script[async]"+i}function _2(i,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+An(f.href)+'"]');if(m)return l.instance=m,nn(m),m;var E=_({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),nn(m),Kr(m,"style",E),ph(m,f.precedence,i),l.instance=m;case"stylesheet":E=Pc(f.href);var S=i.querySelector(ff(E));if(S)return l.state.loading|=4,l.instance=S,nn(S),S;m=E2(f),(E=xs.get(E))&&up(m,E),S=(i.ownerDocument||i).createElement("link"),nn(S);var U=S;return U._p=new Promise(function(J,oe){U.onload=J,U.onerror=oe}),Kr(S,"link",m),l.state.loading|=4,ph(S,f.precedence,i),l.instance=S;case"script":return S=Lc(f.src),(E=i.querySelector(df(S)))?(l.instance=E,nn(E),E):(m=f,(E=xs.get(S))&&(m=_({},f),fp(m,E)),i=i.ownerDocument||i,E=i.createElement("script"),nn(E),Kr(E,"link",m),i.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,ph(m,f.precedence,i));return l.instance}function ph(i,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,S=E,U=0;U<m.length;U++){var J=m[U];if(J.dataset.precedence===l)S=J;else if(S!==E)break}S?S.parentNode.insertBefore(i,S.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(i,l.firstChild))}function up(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function fp(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var mh=null;function T2(i,l,f){if(mh===null){var m=new Map,E=mh=new Map;E.set(f,m)}else E=mh,m=E.get(f),m||(m=new Map,E.set(f,m));if(m.has(i))return m;for(m.set(i,null),f=f.getElementsByTagName(i),E=0;E<f.length;E++){var S=f[E];if(!(S[xi]||S[lr]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var U=S.getAttribute(l)||"";U=i+U;var J=m.get(U);J?J.push(S):m.set(U,[S])}}return m}function A2(i,l,f){i=i.ownerDocument||i,i.head.insertBefore(f,l==="title"?i.querySelector("head > title"):null)}function p4(i,l,f){if(f===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function S2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var hf=null;function m4(){}function y4(i,l,f){if(hf===null)throw Error(r(475));var m=hf;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var E=Pc(f.href),S=i.querySelector(ff(E));if(S){i=S._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=yh.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=S,nn(S);return}S=i.ownerDocument||i,f=E2(f),(E=xs.get(E))&&up(f,E),S=S.createElement("link"),nn(S);var U=S;U._p=new Promise(function(J,oe){U.onload=J,U.onerror=oe}),Kr(S,"link",f),l.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=yh.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function w4(){if(hf===null)throw Error(r(475));var i=hf;return i.stylesheets&&i.count===0&&dp(i,i.stylesheets),0<i.count?function(l){var f=setTimeout(function(){if(i.stylesheets&&dp(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(f)}}:null}function yh(){if(this.count--,this.count===0){if(this.stylesheets)dp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wh=null;function dp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wh=new Map,l.forEach(x4,i),wh=null,yh.call(i))}function x4(i,l){if(!(l.state.loading&4)){var f=wh.get(i);if(f)var m=f.get(null);else{f=new Map,wh.set(i,f);for(var E=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<E.length;S++){var U=E[S];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(f.set(U.dataset.precedence,U),m=U)}m&&f.set(null,m)}E=l.instance,U=E.getAttribute("data-precedence"),S=f.get(U)||m,S===m&&f.set(null,E),f.set(U,E),this.count++,m=yh.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),S?S.parentNode.insertBefore(E,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(E,i.firstChild)),l.state.loading|=4}}var gf={$$typeof:B,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function v4(i,l,f,m,E,S,U,J){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.hiddenUpdates=Ct(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=S,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function C2(i,l,f,m,E,S,U,J,oe,xe,Ie,ke){return i=new v4(i,l,f,U,J,oe,xe,ke),l=1,S===!0&&(l|=24),S=Hi(3,null,null,l),i.current=S,S.stateNode=i,l=Wg(),l.refCount++,i.pooledCache=l,l.refCount++,S.memoizedState={element:m,isDehydrated:f,cache:l},Zg(S),i}function I2(i){return i?(i=hc,i):hc}function R2(i,l,f,m,E,S){E=I2(E),m.context===null?m.context=E:m.pendingContext=E,m=po(l),m.payload={element:f},S=S===void 0?null:S,S!==null&&(m.callback=S),f=mo(i,m,l),f!==null&&(Xi(f,i,l),Hu(f,i,l))}function N2(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function hp(i,l){N2(i,l),(i=i.alternate)&&N2(i,l)}function M2(i){if(i.tag===13){var l=dc(i,67108864);l!==null&&Xi(l,i,67108864),hp(i,67108864)}}var xh=!0;function b4(i,l,f,m){var E=ae.T;ae.T=null;var S=de.p;try{de.p=2,gp(i,l,f,m)}finally{de.p=S,ae.T=E}}function E4(i,l,f,m){var E=ae.T;ae.T=null;var S=de.p;try{de.p=8,gp(i,l,f,m)}finally{de.p=S,ae.T=E}}function gp(i,l,f,m){if(xh){var E=pp(m);if(E===null)tp(i,l,m,vh,f),O2(i,m);else if(T4(E,i,l,f,m))m.stopPropagation();else if(O2(i,m),l&4&&-1<_4.indexOf(i)){for(;E!==null;){var S=Hr(E);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var U=ln(S.pendingLanes);if(U!==0){var J=S;for(J.pendingLanes|=2,J.entangledLanes|=2;U;){var oe=1<<31-tn(U);J.entanglements[1]|=oe,U&=~oe}Zs(S),(pn&6)===0&&(rh=xt()+500,of(0))}}break;case 13:J=dc(S,2),J!==null&&Xi(J,S,2),sh(),hp(S,2)}if(S=pp(m),S===null&&tp(i,l,m,vh,f),S===E)break;E=S}E!==null&&m.stopPropagation()}else tp(i,l,m,null,f)}}function pp(i){return i=Gr(i),mp(i)}var vh=null;function mp(i){if(vh=null,i=zn(i),i!==null){var l=o(i);if(l===null)i=null;else{var f=l.tag;if(f===13){if(i=d(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return vh=i,null}function D2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lt()){case _t:return 2;case Mr:return 8;case qe:case Ts:return 32;case ua:return 268435456;default:return 32}default:return 32}}var yp=!1,Ro=null,No=null,Mo=null,pf=new Map,mf=new Map,Do=[],_4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O2(i,l){switch(i){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":pf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(l.pointerId)}}function yf(i,l,f,m,E,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[E]},l!==null&&(l=Hr(l),l!==null&&M2(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),i)}function T4(i,l,f,m,E){switch(l){case"focusin":return Ro=yf(Ro,i,l,f,m,E),!0;case"dragenter":return No=yf(No,i,l,f,m,E),!0;case"mouseover":return Mo=yf(Mo,i,l,f,m,E),!0;case"pointerover":var S=E.pointerId;return pf.set(S,yf(pf.get(S)||null,i,l,f,m,E)),!0;case"gotpointercapture":return S=E.pointerId,mf.set(S,yf(mf.get(S)||null,i,l,f,m,E)),!0}return!1}function k2(i){var l=zn(i.target);if(l!==null){var f=o(l);if(f!==null){if(l=f.tag,l===13){if(l=d(f),l!==null){i.blockedOn=l,ha(i.priority,function(){if(f.tag===13){var m=Wi();m=is(m);var E=dc(f,m);E!==null&&Xi(E,f,m),hp(f,m)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function bh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=pp(i.nativeEvent);if(f===null){f=i.nativeEvent;var m=new f.constructor(f.type,f);Pi=m,f.target.dispatchEvent(m),Pi=null}else return l=Hr(f),l!==null&&M2(l),i.blockedOn=f,!1;l.shift()}return!0}function P2(i,l,f){bh(i)&&f.delete(l)}function A4(){yp=!1,Ro!==null&&bh(Ro)&&(Ro=null),No!==null&&bh(No)&&(No=null),Mo!==null&&bh(Mo)&&(Mo=null),pf.forEach(P2),mf.forEach(P2)}function Eh(i,l){i.blockedOn===l&&(i.blockedOn=null,yp||(yp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,A4)))}var _h=null;function L2(i){_h!==i&&(_h=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_h===i&&(_h=null);for(var l=0;l<i.length;l+=3){var f=i[l],m=i[l+1],E=i[l+2];if(typeof m!="function"){if(mp(m||f)===null)continue;break}var S=Hr(f);S!==null&&(i.splice(l,3),l-=3,m1(S,{pending:!0,data:E,method:f.method,action:m},m,E))}}))}function wf(i){function l(oe){return Eh(oe,i)}Ro!==null&&Eh(Ro,i),No!==null&&Eh(No,i),Mo!==null&&Eh(Mo,i),pf.forEach(l),mf.forEach(l);for(var f=0;f<Do.length;f++){var m=Do[f];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Do.length&&(f=Do[0],f.blockedOn===null);)k2(f),f.blockedOn===null&&Do.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var E=f[m],S=f[m+1],U=E[vn]||null;if(typeof S=="function")U||L2(f);else if(U){var J=null;if(S&&S.hasAttribute("formAction")){if(E=S,U=S[vn]||null)J=U.formAction;else if(mp(E)!==null)continue}else J=U.action;typeof J=="function"?f[m+1]=J:(f.splice(m,3),m-=3),L2(f)}}}function wp(i){this._internalRoot=i}Th.prototype.render=wp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,m=Wi();R2(f,m,i,l,null,null)},Th.prototype.unmount=wp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;R2(i.current,2,null,i,null,null),sh(),l[Jr]=null}};function Th(i){this._internalRoot=i}Th.prototype.unstable_scheduleHydration=function(i){if(i){var l=hi();i={blockedOn:null,target:i,priority:l};for(var f=0;f<Do.length&&l!==0&&l<Do[f].priority;f++);Do.splice(f,0,i),f===0&&k2(i)}};var B2=e.version;if(B2!=="19.1.0")throw Error(r(527,B2,"19.1.0"));de.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=w(l),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var S4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Kt=Ah.inject(S4),en=Ah}catch{}}return vf.createRoot=function(i,l){if(!s(i))throw Error(r(299));var f=!1,m="",E=Jx,S=ev,U=tv,J=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(U=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks)),l=C2(i,1,!1,null,null,f,m,E,S,U,J,null),i[Jr]=l.current,ep(i),new wp(l)},vf.hydrateRoot=function(i,l,f){if(!s(i))throw Error(r(299));var m=!1,E="",S=Jx,U=ev,J=tv,oe=null,xe=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(U=f.onCaughtError),f.onRecoverableError!==void 0&&(J=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(oe=f.unstable_transitionCallbacks),f.formState!==void 0&&(xe=f.formState)),l=C2(i,1,!0,l,f??null,m,E,S,U,J,oe,xe),l.context=I2(null),f=l.current,m=Wi(),m=is(m),E=po(m),E.callback=null,mo(f,E,m),f=m,l.current.lanes=f,zr(l,f),Zs(l),i[Jr]=l.current,ep(i),new Th(l)},vf.version="19.1.0",vf}var W2;function L4(){if(W2)return bp.exports;W2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bp.exports=P4(),bp.exports}var B4=L4(),bf={},X2;function V4(){if(X2)return bf;X2=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.parse=d,bf.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function d(I,N){const M=new o,k=I.length;if(k<2)return M;const H=(N==null?void 0:N.decode)||_;let F=0;do{const G=I.indexOf("=",F);if(G===-1)break;const B=I.indexOf(";",F),Z=B===-1?k:B;if(G>Z){F=I.lastIndexOf(";",G-1)+1;continue}const re=p(I,F,G),se=w(I,G,re),V=I.slice(re,se);if(M[V]===void 0){let P=p(I,G+1,Z),O=w(I,Z,P);const W=H(I.slice(P,O));M[V]=W}F=Z+1}while(F<k);return M}function p(I,N,M){do{const k=I.charCodeAt(N);if(k!==32&&k!==9)return N}while(++N<M);return M}function w(I,N,M){for(;N>M;){const k=I.charCodeAt(--N);if(k!==32&&k!==9)return N+1}return M}function y(I,N,M){const k=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const H=k(N);if(!e.test(H))throw new TypeError(`argument val is invalid: ${N}`);let F=I+"="+H;if(!M)return F;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);F+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);F+="; Domain="+M.domain}if(M.path){if(!r.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);F+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);F+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(F+="; HttpOnly"),M.secure&&(F+="; Secure"),M.partitioned&&(F+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return F}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function A(I){return s.call(I)==="[object Date]"}return bf}V4();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K2="popstate";function U4(n={}){function e(s,o){let{pathname:d="/",search:p="",hash:w=""}=Xl(s.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Rm("",{pathname:d,search:p,hash:w},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let d=s.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let w=s.location.href,y=w.indexOf("#");p=y===-1?w:w.slice(0,y)}return p+"#"+(typeof o=="string"?o:qf(o))}function r(s,o){Es(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return z4(e,t,r,n)}function Kn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Es(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F4(){return Math.random().toString(36).substring(2,10)}function Q2(n,e){return{usr:n.state,key:n.key,idx:e}}function Rm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xl(e):e,state:t,key:e&&e.key||r||F4()}}function qf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function z4(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,d=s.history,p="POP",w=null,y=_();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function _(){return(d.state||{idx:null}).idx}function A(){p="POP";let H=_(),F=H==null?null:H-y;y=H,w&&w({action:p,location:k.location,delta:F})}function I(H,F){p="PUSH";let G=Rm(k.location,H,F);t&&t(G,H),y=_()+1;let B=Q2(G,y),Z=k.createHref(G);try{d.pushState(B,"",Z)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;s.location.assign(Z)}o&&w&&w({action:p,location:k.location,delta:1})}function N(H,F){p="REPLACE";let G=Rm(k.location,H,F);t&&t(G,H),y=_();let B=Q2(G,y),Z=k.createHref(G);d.replaceState(B,"",Z),o&&w&&w({action:p,location:k.location,delta:0})}function M(H){let F=s.location.origin!=="null"?s.location.origin:s.location.href,G=typeof H=="string"?H:qf(H);return G=G.replace(/ $/,"%20"),Kn(F,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,F)}let k={get action(){return p},get location(){return n(s,d)},listen(H){if(w)throw new Error("A history only accepts one active listener");return s.addEventListener(K2,A),w=H,()=>{s.removeEventListener(K2,A),w=null}},createHref(H){return e(s,H)},createURL:M,encodeLocation(H){let F=M(H);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:I,replace:N,go(H){return d.go(H)}};return k}function xT(n,e,t="/"){return j4(n,e,t,!1)}function j4(n,e,t,r){let s=typeof e=="string"?Xl(e):e,o=Ga(s.pathname||"/",t);if(o==null)return null;let d=vT(n);H4(d);let p=null;for(let w=0;p==null&&w<d.length;++w){let y=eR(o);p=$4(d[w],y,r)}return p}function vT(n,e=[],t=[],r=""){let s=(o,d,p)=>{let w={relativePath:p===void 0?o.path||"":p,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};w.relativePath.startsWith("/")&&(Kn(w.relativePath.startsWith(r),`Absolute route path "${w.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(r.length));let y=Fa([r,w.relativePath]),_=t.concat(w);o.children&&o.children.length>0&&(Kn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),vT(o.children,e,_,y)),!(o.path==null&&!o.index)&&e.push({path:y,score:Q4(y,o.index),routesMeta:_})};return n.forEach((o,d)=>{var p;if(o.path===""||!((p=o.path)!=null&&p.includes("?")))s(o,d);else for(let w of bT(o.path))s(o,d,w)}),e}function bT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let d=bT(r.join("/")),p=[];return p.push(...d.map(w=>w===""?o:[o,w].join("/"))),s&&p.push(...d),p.map(w=>n.startsWith("/")&&w===""?"/":w)}function H4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Z4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var G4=/^:[\w-]+$/,q4=3,Y4=2,W4=1,X4=10,K4=-2,Z2=n=>n==="*";function Q4(n,e){let t=n.split("/"),r=t.length;return t.some(Z2)&&(r+=K4),e&&(r+=Y4),t.filter(s=>!Z2(s)).reduce((s,o)=>s+(G4.test(o)?q4:o===""?W4:X4),r)}function Z4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function $4(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",d=[];for(let p=0;p<r.length;++p){let w=r[p],y=p===r.length-1,_=o==="/"?e:e.slice(o.length)||"/",A=o0({path:w.relativePath,caseSensitive:w.caseSensitive,end:y},_),I=w.route;if(!A&&y&&t&&!r[r.length-1].route.index&&(A=o0({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},_)),!A)return null;Object.assign(s,A.params),d.push({params:s,pathname:Fa([o,A.pathname]),pathnameBase:iR(Fa([o,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(o=Fa([o,A.pathnameBase]))}return d}function o0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=J4(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],d=o.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:r.reduce((y,{paramName:_,isOptional:A},I)=>{if(_==="*"){let M=p[I]||"";d=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const N=p[I];return A&&!N?y[_]=void 0:y[_]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:o,pathnameBase:d,pattern:n}}function J4(n,e=!1,t=!0){Es(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,w)=>(r.push({paramName:p,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function eR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Es(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function tR(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Xl(n):n;return{pathname:t?t.startsWith("/")?t:nR(t,e):e,search:sR(r),hash:aR(s)}}function nR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ap(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cy(n){let e=rR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Iy(n,e,t,r=!1){let s;typeof n=="string"?s=Xl(n):(s={...n},Kn(!s.pathname||!s.pathname.includes("?"),Ap("?","pathname","search",s)),Kn(!s.pathname||!s.pathname.includes("#"),Ap("#","pathname","hash",s)),Kn(!s.search||!s.search.includes("#"),Ap("#","search","hash",s)));let o=n===""||s.pathname==="",d=o?"/":s.pathname,p;if(d==null)p=t;else{let A=e.length-1;if(!r&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),A-=1;s.pathname=I.join("/")}p=A>=0?e[A]:"/"}let w=tR(s,p),y=d&&d!=="/"&&d.endsWith("/"),_=(o||d===".")&&t.endsWith("/");return!w.pathname.endsWith("/")&&(y||_)&&(w.pathname+="/"),w}var Fa=n=>n.join("/").replace(/\/\/+/g,"/"),iR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ET=["POST","PUT","PATCH","DELETE"];new Set(ET);var lR=["GET",...ET];new Set(lR);var wu=$.createContext(null);wu.displayName="DataRouter";var H0=$.createContext(null);H0.displayName="DataRouterState";var _T=$.createContext({isTransitioning:!1});_T.displayName="ViewTransition";var cR=$.createContext(new Map);cR.displayName="Fetchers";var uR=$.createContext(null);uR.displayName="Await";var Us=$.createContext(null);Us.displayName="Navigation";var od=$.createContext(null);od.displayName="Location";var ca=$.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var Ry=$.createContext(null);Ry.displayName="RouteError";function fR(n,{relative:e}={}){Kn(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=$.useContext(Us),{hash:s,pathname:o,search:d}=ld(n,{relative:e}),p=o;return t!=="/"&&(p=o==="/"?t:Fa([t,o])),r.createHref({pathname:p,search:d,hash:s})}function xu(){return $.useContext(od)!=null}function sl(){return Kn(xu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(od).location}var TT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(n){$.useContext(Us).static||$.useLayoutEffect(n)}function Ny(){let{isDataRoute:n}=$.useContext(ca);return n?TR():dR()}function dR(){Kn(xu(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(wu),{basename:e,navigator:t}=$.useContext(Us),{matches:r}=$.useContext(ca),{pathname:s}=sl(),o=JSON.stringify(Cy(r)),d=$.useRef(!1);return AT(()=>{d.current=!0}),$.useCallback((w,y={})=>{if(Es(d.current,TT),!d.current)return;if(typeof w=="number"){t.go(w);return}let _=Iy(w,JSON.parse(o),s,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Fa([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,o,s,n])}$.createContext(null);function ld(n,{relative:e}={}){let{matches:t}=$.useContext(ca),{pathname:r}=sl(),s=JSON.stringify(Cy(t));return $.useMemo(()=>Iy(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function hR(n,e){return ST(n,e)}function ST(n,e,t,r){var G;Kn(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=$.useContext(Us),{matches:d}=$.useContext(ca),p=d[d.length-1],w=p?p.params:{},y=p?p.pathname:"/",_=p?p.pathnameBase:"/",A=p&&p.route;{let B=A&&A.path||"";CT(y,!A||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let I=sl(),N;if(e){let B=typeof e=="string"?Xl(e):e;Kn(_==="/"||((G=B.pathname)==null?void 0:G.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${B.pathname}" was given in the \`location\` prop.`),N=B}else N=I;let M=N.pathname||"/",k=M;if(_!=="/"){let B=_.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(B.length).join("/")}let H=!o&&t&&t.matches&&t.matches.length>0?t.matches:xT(n,{pathname:k});Es(A||H!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Es(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=wR(H&&H.map(B=>Object.assign({},B,{params:Object.assign({},w,B.params),pathname:Fa([_,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?_:Fa([_,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),d,t,r);return e&&F?$.createElement(od.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function gR(){let n=_R(),e=oR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:o},"ErrorBoundary")," or"," ",$.createElement("code",{style:o},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:s},t):null,d)}var pR=$.createElement(gR,null),mR=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?$.createElement(ca.Provider,{value:this.props.routeContext},$.createElement(Ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yR({routeContext:n,match:e,children:t}){let r=$.useContext(wu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(ca.Provider,{value:n},t)}function wR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let w=s.findIndex(y=>y.route.id&&(o==null?void 0:o[y.route.id])!==void 0);Kn(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,w+1))}let d=!1,p=-1;if(t)for(let w=0;w<s.length;w++){let y=s[w];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=w),y.route.id){let{loaderData:_,errors:A}=t,I=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||I){d=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((w,y,_)=>{let A,I=!1,N=null,M=null;t&&(A=o&&y.route.id?o[y.route.id]:void 0,N=y.route.errorElement||pR,d&&(p<0&&_===0?(CT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):p===_&&(I=!0,M=y.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,_+1)),H=()=>{let F;return A?F=N:I?F=M:y.route.Component?F=$.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=w,$.createElement(yR,{match:y,routeContext:{outlet:w,matches:k,isDataRoute:t!=null},children:F})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?$.createElement(mR,{location:t.location,revalidation:t.revalidation,component:N,error:A,children:H(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):H()},null)}function My(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xR(n){let e=$.useContext(wu);return Kn(e,My(n)),e}function vR(n){let e=$.useContext(H0);return Kn(e,My(n)),e}function bR(n){let e=$.useContext(ca);return Kn(e,My(n)),e}function Dy(n){let e=bR(n),t=e.matches[e.matches.length-1];return Kn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ER(){return Dy("useRouteId")}function _R(){var r;let n=$.useContext(Ry),e=vR("useRouteError"),t=Dy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function TR(){let{router:n}=xR("useNavigate"),e=Dy("useNavigate"),t=$.useRef(!1);return AT(()=>{t.current=!0}),$.useCallback(async(s,o={})=>{Es(t.current,TT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var $2={};function CT(n,e,t){!e&&!$2[n]&&($2[n]=!0,Es(!1,t))}$.memo(AR);function AR({routes:n,future:e,state:t}){return ST(n,void 0,t,e)}function SR({to:n,replace:e,state:t,relative:r}){Kn(xu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=$.useContext(Us);Es(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=$.useContext(ca),{pathname:d}=sl(),p=Ny(),w=Iy(n,Cy(o),d,r==="path"),y=JSON.stringify(w);return $.useEffect(()=>{p(JSON.parse(y),{replace:e,state:t,relative:r})},[p,y,r,e,t]),null}function Sf(n){Kn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Kn(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=$.useMemo(()=>({basename:d,navigator:s,static:o,future:{}}),[d,s,o]);typeof t=="string"&&(t=Xl(t));let{pathname:w="/",search:y="",hash:_="",state:A=null,key:I="default"}=t,N=$.useMemo(()=>{let M=Ga(w,d);return M==null?null:{location:{pathname:M,search:y,hash:_,state:A,key:I},navigationType:r}},[d,w,y,_,A,I,r]);return Es(N!=null,`<Router basename="${d}"> is not able to match the URL "${w}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:$.createElement(Us.Provider,{value:p},$.createElement(od.Provider,{children:e,value:N}))}function IR({children:n,location:e}){return hR(Nm(n),e)}function Nm(n,e=[]){let t=[];return $.Children.forEach(n,(r,s)=>{if(!$.isValidElement(r))return;let o=[...e,s];if(r.type===$.Fragment){t.push.apply(t,Nm(r.props.children,o));return}Kn(r.type===Sf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Nm(r.props.children,o)),t.push(d)}),t}var Yh="get",Wh="application/x-www-form-urlencoded";function G0(n){return n!=null&&typeof n.tagName=="string"}function RR(n){return G0(n)&&n.tagName.toLowerCase()==="button"}function NR(n){return G0(n)&&n.tagName.toLowerCase()==="form"}function MR(n){return G0(n)&&n.tagName.toLowerCase()==="input"}function DR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function OR(n,e){return n.button===0&&(!e||e==="_self")&&!DR(n)}var Ch=null;function kR(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var PR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(n){return n!=null&&!PR.has(n)?(Es(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):n}function LR(n,e){let t,r,s,o,d;if(NR(n)){let p=n.getAttribute("action");r=p?Ga(p,e):null,t=n.getAttribute("method")||Yh,s=Sp(n.getAttribute("enctype"))||Wh,o=new FormData(n)}else if(RR(n)||MR(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=n.getAttribute("formaction")||p.getAttribute("action");if(r=w?Ga(w,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Yh,s=Sp(n.getAttribute("formenctype"))||Sp(p.getAttribute("enctype"))||Wh,o=new FormData(p,n),!kR()){let{name:y,type:_,value:A}=n;if(_==="image"){let I=y?`${y}.`:"";o.append(`${I}x`,"0"),o.append(`${I}y`,"0")}else y&&o.append(y,A)}}else{if(G0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Yh,r=null,s=Wh,d=n}return o&&s==="text/plain"&&(d=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:d}}function Oy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function BR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function UR(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let d=await BR(o,t);return d.links?d.links():[]}return[]}));return HR(r.flat(1).filter(VR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function J2(n,e,t,r,s,o){let d=(w,y)=>t[y]?w.route.id!==t[y].route.id:!0,p=(w,y)=>{var _;return t[y].pathname!==w.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==w.params["*"]};return o==="assets"?e.filter((w,y)=>d(w,y)||p(w,y)):o==="data"?e.filter((w,y)=>{var A;let _=r.routes[w.route.id];if(!_||!_.hasLoader)return!1;if(d(w,y)||p(w,y))return!0;if(w.route.shouldRevalidate){let I=w.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function FR(n,e,{includeHydrateFallback:t}={}){return zR(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function zR(n){return[...new Set(n)]}function jR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function HR(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(jR(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}var GR=new Set([100,101,204,205]);function qR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ga(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function IT(){let n=$.useContext(wu);return Oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function YR(){let n=$.useContext(H0);return Oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ky=$.createContext(void 0);ky.displayName="FrameworkContext";function RT(){let n=$.useContext(ky);return Oy(n,"You must render this element inside a <HydratedRouter> element"),n}function WR(n,e){let t=$.useContext(ky),[r,s]=$.useState(!1),[o,d]=$.useState(!1),{onFocus:p,onBlur:w,onMouseEnter:y,onMouseLeave:_,onTouchStart:A}=e,I=$.useRef(null);$.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let k=F=>{F.forEach(G=>{d(G.isIntersecting)})},H=new IntersectionObserver(k,{threshold:.5});return I.current&&H.observe(I.current),()=>{H.disconnect()}}},[n]),$.useEffect(()=>{if(r){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[r]);let N=()=>{s(!0)},M=()=>{s(!1),d(!1)};return t?n!=="intent"?[o,I,{}]:[o,I,{onFocus:Ef(p,N),onBlur:Ef(w,M),onMouseEnter:Ef(y,N),onMouseLeave:Ef(_,M),onTouchStart:Ef(A,N)}]:[!1,I,{}]}function Ef(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function XR({page:n,...e}){let{router:t}=IT(),r=$.useMemo(()=>xT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?$.createElement(QR,{page:n,matches:r,...e}):null}function KR(n){let{manifest:e,routeModules:t}=RT(),[r,s]=$.useState([]);return $.useEffect(()=>{let o=!1;return UR(n,e,t).then(d=>{o||s(d)}),()=>{o=!0}},[n,e,t]),r}function QR({page:n,matches:e,...t}){let r=sl(),{manifest:s,routeModules:o}=RT(),{basename:d}=IT(),{loaderData:p,matches:w}=YR(),y=$.useMemo(()=>J2(n,e,w,s,r,"data"),[n,e,w,s,r]),_=$.useMemo(()=>J2(n,e,w,s,r,"assets"),[n,e,w,s,r]),A=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,k=!1;if(e.forEach(F=>{var B;let G=s.routes[F.route.id];!G||!G.hasLoader||(!y.some(Z=>Z.route.id===F.route.id)&&F.route.id in p&&((B=o[F.route.id])!=null&&B.shouldRevalidate)||G.hasClientLoader?k=!0:M.add(F.route.id))}),M.size===0)return[];let H=qR(n,d);return k&&M.size>0&&H.searchParams.set("_routes",e.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[H.pathname+H.search]},[d,p,r,s,y,e,n,o]),I=$.useMemo(()=>FR(_,s),[_,s]),N=KR(_);return $.createElement($.Fragment,null,A.map(M=>$.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),I.map(M=>$.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),N.map(({key:M,link:k})=>$.createElement("link",{key:M,...k})))}function ZR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NT&&(window.__reactRouterVersion="7.5.1")}catch{}function $R({basename:n,children:e,window:t}){let r=$.useRef();r.current==null&&(r.current=U4({window:t,v5Compat:!0}));let s=r.current,[o,d]=$.useState({action:s.action,location:s.location}),p=$.useCallback(w=>{$.startTransition(()=>d(w))},[d]);return $.useLayoutEffect(()=>s.listen(p),[s,p]),$.createElement(CR,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ni=$.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:d,state:p,target:w,to:y,preventScrollReset:_,viewTransition:A,...I},N){let{basename:M}=$.useContext(Us),k=typeof y=="string"&&MT.test(y),H,F=!1;if(typeof y=="string"&&k&&(H=y,NT))try{let O=new URL(window.location.href),W=y.startsWith("//")?new URL(O.protocol+y):new URL(y),Q=Ga(W.pathname,M);W.origin===O.origin&&Q!=null?y=Q+W.search+W.hash:F=!0}catch{Es(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=fR(y,{relative:s}),[B,Z,re]=WR(r,I),se=nN(y,{replace:d,state:p,target:w,preventScrollReset:_,relative:s,viewTransition:A});function V(O){e&&e(O),O.defaultPrevented||se(O)}let P=$.createElement("a",{...I,...re,href:H||G,onClick:F||o?e:V,ref:ZR(N,Z),target:w,"data-discover":!k&&t==="render"?"true":void 0});return B&&!k?$.createElement($.Fragment,null,P,$.createElement(XR,{page:G})):P});Ni.displayName="Link";var JR=$.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:d,viewTransition:p,children:w,...y},_){let A=ld(d,{relative:y.relative}),I=sl(),N=$.useContext(H0),{navigator:M,basename:k}=$.useContext(Us),H=N!=null&&oN(A)&&p===!0,F=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,G=I.pathname,B=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(G=G.toLowerCase(),B=B?B.toLowerCase():null,F=F.toLowerCase()),B&&k&&(B=Ga(B,k)||B);const Z=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let re=G===F||!s&&G.startsWith(F)&&G.charAt(Z)==="/",se=B!=null&&(B===F||!s&&B.startsWith(F)&&B.charAt(F.length)==="/"),V={isActive:re,isPending:se,isTransitioning:H},P=re?e:void 0,O;typeof r=="function"?O=r(V):O=[r,re?"active":null,se?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(V):o;return $.createElement(Ni,{...y,"aria-current":P,className:O,ref:_,style:W,to:d,viewTransition:p},typeof w=="function"?w(V):w)});JR.displayName="NavLink";var eN=$.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:d=Yh,action:p,onSubmit:w,relative:y,preventScrollReset:_,viewTransition:A,...I},N)=>{let M=sN(),k=aN(p,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",F=typeof p=="string"&&MT.test(p),G=B=>{if(w&&w(B),B.defaultPrevented)return;B.preventDefault();let Z=B.nativeEvent.submitter,re=(Z==null?void 0:Z.getAttribute("formmethod"))||d;M(Z||B.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:s,state:o,relative:y,preventScrollReset:_,viewTransition:A})};return $.createElement("form",{ref:N,method:H,action:k,onSubmit:r?w:G,...I,"data-discover":!F&&n==="render"?"true":void 0})});eN.displayName="Form";function tN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DT(n){let e=$.useContext(wu);return Kn(e,tN(n)),e}function nN(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:d}={}){let p=Ny(),w=sl(),y=ld(n,{relative:o});return $.useCallback(_=>{if(OR(_,e)){_.preventDefault();let A=t!==void 0?t:qf(w)===qf(y);p(n,{replace:A,state:r,preventScrollReset:s,relative:o,viewTransition:d})}},[w,p,y,t,r,e,n,s,o,d])}var rN=0,iN=()=>`__${String(++rN)}__`;function sN(){let{router:n}=DT("useSubmit"),{basename:e}=$.useContext(Us),t=ER();return $.useCallback(async(r,s={})=>{let{action:o,method:d,encType:p,formData:w,body:y}=LR(r,e);if(s.navigate===!1){let _=s.fetcherKey||iN();await n.fetch(_,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:w,body:y,formMethod:s.method||d,formEncType:s.encType||p,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:w,body:y,formMethod:s.method||d,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function aN(n,{relative:e}={}){let{basename:t}=$.useContext(Us),r=$.useContext(ca);Kn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ld(n||".",{relative:e})},d=sl();if(n==null){o.search=d.search;let p=new URLSearchParams(o.search),w=p.getAll("index");if(w.some(_=>_==="")){p.delete("index"),w.filter(A=>A).forEach(A=>p.append("index",A));let _=p.toString();o.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Fa([t,o.pathname])),qf(o)}function oN(n,e={}){let t=$.useContext(_T);Kn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DT("useViewTransitionState"),s=ld(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=Ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return o0(s.pathname,d)!=null||o0(s.pathname,o)!=null}new TextEncoder;[...GR];var OT=wT();function kT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=kT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ul(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=kT(n))&&(r&&(r+=" "),r+=e);return r}function lN(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}lN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var cd=n=>typeof n=="number"&&!isNaN(n),Fl=n=>typeof n=="string",qa=n=>typeof n=="function",cN=n=>Fl(n)||cd(n),Mm=n=>Fl(n)||qa(n)?n:null,uN=(n,e)=>n===!1||cd(n)&&n>0?n:e,Dm=n=>$.isValidElement(n)||Fl(n)||qa(n)||cd(n);function fN(n,e,t=300){let{scrollHeight:r,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function dN({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:o,position:d,preventExitTransition:p,done:w,nodeRef:y,isIn:_,playToast:A}){let I=t?`${n}--${d}`:n,N=t?`${e}--${d}`:e,M=$.useRef(0);return $.useLayoutEffect(()=>{let k=y.current,H=I.split(" "),F=G=>{G.target===y.current&&(A(),k.removeEventListener("animationend",F),k.removeEventListener("animationcancel",F),M.current===0&&G.type!=="animationcancel"&&k.classList.remove(...H))};k.classList.add(...H),k.addEventListener("animationend",F),k.addEventListener("animationcancel",F)},[]),$.useEffect(()=>{let k=y.current,H=()=>{k.removeEventListener("animationend",H),r?fN(k,w,s):w()};_||(p?H():(M.current=1,k.className+=` ${N}`,k.addEventListener("animationend",H)))},[_]),ct.createElement(ct.Fragment,null,o)}}function eb(n,e){return{content:PT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function PT(n,e,t=!1){return $.isValidElement(n)&&!Fl(n.type)?$.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):qa(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function hN({closeToast:n,theme:e,ariaLabel:t="close"}){return ct.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},ct.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ct.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gN({delay:n,isRunning:e,closeToast:t,type:r="default",hide:s,className:o,controlledProgress:d,progress:p,rtl:w,isIn:y,theme:_}){let A=s||d&&p===0,I={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};d&&(I.transform=`scaleX(${p})`);let N=Ul("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":w}),M=qa(o)?o({rtl:w,type:r,defaultClassName:N}):Ul(N,o),k={[d&&p>=1?"onTransitionEnd":"onAnimationEnd"]:d&&p<1?null:()=>{y&&t()}};return ct.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},ct.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${r}`}),ct.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:M,style:I,...k}))}var pN=1,LT=()=>`${pN++}`;function mN(n,e,t){let r=1,s=0,o=[],d=[],p=e,w=new Map,y=new Set,_=G=>(y.add(G),()=>y.delete(G)),A=()=>{d=Array.from(w.values()),y.forEach(G=>G())},I=({containerId:G,toastId:B,updateId:Z})=>{let re=G?G!==n:n!==1,se=w.has(B)&&Z==null;return re||se},N=(G,B)=>{w.forEach(Z=>{var re;(B==null||B===Z.props.toastId)&&((re=Z.toggle)==null||re.call(Z,G))})},M=G=>{var B,Z;(Z=(B=G.props)==null?void 0:B.onClose)==null||Z.call(B,G.removalReason),G.isActive=!1},k=G=>{if(G==null)w.forEach(M);else{let B=w.get(G);B&&M(B)}A()},H=()=>{s-=o.length,o=[]},F=G=>{var B,Z;let{toastId:re,updateId:se}=G.props,V=se==null;G.staleId&&w.delete(G.staleId),G.isActive=!0,w.set(re,G),A(),t(eb(G,V?"added":"updated")),V&&((Z=(B=G.props).onOpen)==null||Z.call(B))};return{id:n,props:p,observe:_,toggle:N,removeToast:k,toasts:w,clearQueue:H,buildToast:(G,B)=>{if(I(B))return;let{toastId:Z,updateId:re,data:se,staleId:V,delay:P}=B,O=re==null;O&&s++;let W={...p,style:p.toastStyle,key:r++,...Object.fromEntries(Object.entries(B).filter(([Y,q])=>q!=null)),toastId:Z,updateId:re,data:se,isIn:!1,className:Mm(B.className||p.toastClassName),progressClassName:Mm(B.progressClassName||p.progressClassName),autoClose:B.isLoading?!1:uN(B.autoClose,p.autoClose),closeToast(Y){w.get(Z).removalReason=Y,k(Z)},deleteToast(){let Y=w.get(Z);if(Y!=null){if(t(eb(Y,"removed")),w.delete(Z),s--,s<0&&(s=0),o.length>0){F(o.shift());return}A()}}};W.closeButton=p.closeButton,B.closeButton===!1||Dm(B.closeButton)?W.closeButton=B.closeButton:B.closeButton===!0&&(W.closeButton=Dm(p.closeButton)?p.closeButton:!0);let Q={content:G,props:W,staleId:V};p.limit&&p.limit>0&&s>p.limit&&O?o.push(Q):cd(P)?setTimeout(()=>{F(Q)},P):F(Q)},setProps(G){p=G},setToggle:(G,B)=>{let Z=w.get(G);Z&&(Z.toggle=B)},isToastActive:G=>{var B;return(B=w.get(G))==null?void 0:B.isActive},getSnapshot:()=>d}}var yi=new Map,Yf=[],Om=new Set,yN=n=>Om.forEach(e=>e(n)),BT=()=>yi.size>0;function wN(){Yf.forEach(n=>UT(n.content,n.options)),Yf=[]}var xN=(n,{containerId:e})=>{var t;return(t=yi.get(e||1))==null?void 0:t.toasts.get(n)};function VT(n,e){var t;if(e)return!!((t=yi.get(e))!=null&&t.isToastActive(n));let r=!1;return yi.forEach(s=>{s.isToastActive(n)&&(r=!0)}),r}function vN(n){if(!BT()){Yf=Yf.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||cN(n))yi.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=yi.get(n.containerId);e?e.removeToast(n.id):yi.forEach(t=>{t.removeToast(n.id)})}}var bN=(n={})=>{yi.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function UT(n,e){Dm(n)&&(BT()||Yf.push({content:n,options:e}),yi.forEach(t=>{t.buildToast(n,e)}))}function EN(n){var e;(e=yi.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function FT(n,e){yi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function _N(n){let e=n.containerId||1;return{subscribe(t){let r=mN(e,n,yN);yi.set(e,r);let s=r.observe(t);return wN(),()=>{s(),yi.delete(e)}},setProps(t){var r;(r=yi.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=yi.get(e))==null?void 0:t.getSnapshot()}}}function TN(n){return Om.add(n),()=>{Om.delete(n)}}function AN(n){return n&&(Fl(n.toastId)||cd(n.toastId))?n.toastId:LT()}function ud(n,e){return UT(n,e),e.toastId}function q0(n,e){return{...e,type:e&&e.type||n,toastId:AN(e)}}function Y0(n){return(e,t)=>ud(e,q0(n,t))}function wn(n,e){return ud(n,q0("default",e))}wn.loading=(n,e)=>ud(n,q0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function SN(n,{pending:e,error:t,success:r},s){let o;e&&(o=Fl(e)?wn.loading(e,s):wn.loading(e.render,{...s,...e}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(y,_,A)=>{if(_==null){wn.dismiss(o);return}let I={type:y,...d,...s,data:A},N=Fl(_)?{render:_}:_;return o?wn.update(o,{...I,...N}):wn(N.render,{...I,...N}),A},w=qa(n)?n():n;return w.then(y=>p("success",r,y)).catch(y=>p("error",t,y)),w}wn.promise=SN;wn.success=Y0("success");wn.info=Y0("info");wn.error=Y0("error");wn.warning=Y0("warning");wn.warn=wn.warning;wn.dark=(n,e)=>ud(n,q0("default",{theme:"dark",...e}));function CN(n){vN(n)}wn.dismiss=CN;wn.clearWaitingQueue=bN;wn.isActive=VT;wn.update=(n,e={})=>{let t=xN(n,e);if(t){let{props:r,content:s}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:LT()};o.toastId!==n&&(o.staleId=n);let d=o.render||s;delete o.render,ud(d,o)}};wn.done=n=>{wn.update(n,{progress:1})};wn.onChange=TN;wn.play=n=>FT(!0,n);wn.pause=n=>FT(!1,n);function IN(n){var e;let{subscribe:t,getSnapshot:r,setProps:s}=$.useRef(_N(n)).current;s(n);let o=(e=$.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function d(p){if(!o)return[];let w=new Map;return n.newestOnTop&&o.reverse(),o.forEach(y=>{let{position:_}=y.props;w.has(_)||w.set(_,[]),w.get(_).push(y)}),Array.from(w,y=>p(y[0],y[1]))}return{getToastToRender:d,isToastActive:VT,count:o==null?void 0:o.length}}function RN(n){let[e,t]=$.useState(!1),[r,s]=$.useState(!1),o=$.useRef(null),d=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:p,pauseOnHover:w,closeToast:y,onClick:_,closeOnClick:A}=n;EN({id:n.toastId,containerId:n.containerId,fn:t}),$.useEffect(()=>{if(n.pauseOnFocusLoss)return I(),()=>{N()}},[n.pauseOnFocusLoss]);function I(){document.hasFocus()||F(),window.addEventListener("focus",H),window.addEventListener("blur",F)}function N(){window.removeEventListener("focus",H),window.removeEventListener("blur",F)}function M(V){if(n.draggable===!0||n.draggable===V.pointerType){G();let P=o.current;d.canCloseOnClick=!0,d.canDrag=!0,P.style.transition="none",n.draggableDirection==="x"?(d.start=V.clientX,d.removalDistance=P.offsetWidth*(n.draggablePercent/100)):(d.start=V.clientY,d.removalDistance=P.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function k(V){let{top:P,bottom:O,left:W,right:Q}=o.current.getBoundingClientRect();V.nativeEvent.type!=="touchend"&&n.pauseOnHover&&V.clientX>=W&&V.clientX<=Q&&V.clientY>=P&&V.clientY<=O?F():H()}function H(){t(!0)}function F(){t(!1)}function G(){d.didMove=!1,document.addEventListener("pointermove",Z),document.addEventListener("pointerup",re)}function B(){document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",re)}function Z(V){let P=o.current;if(d.canDrag&&P){d.didMove=!0,e&&F(),n.draggableDirection==="x"?d.delta=V.clientX-d.start:d.delta=V.clientY-d.start,d.start!==V.clientX&&(d.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;P.style.transform=`translate3d(${O},0)`,P.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function re(){B();let V=o.current;if(d.canDrag&&d.didMove&&V){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.removeProperty("transform"),V.style.removeProperty("opacity")}}let se={onPointerDown:M,onPointerUp:k};return p&&w&&(se.onMouseEnter=F,n.stacked||(se.onMouseLeave=H)),A&&(se.onClick=V=>{_&&_(V),d.canCloseOnClick&&y(!0)}),{playToast:H,pauseToast:F,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:se}}var NN=typeof window<"u"?$.useLayoutEffect:$.useEffect,W0=({theme:n,type:e,isLoading:t,...r})=>ct.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function MN(n){return ct.createElement(W0,{...n},ct.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function DN(n){return ct.createElement(W0,{...n},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ON(n){return ct.createElement(W0,{...n},ct.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function kN(n){return ct.createElement(W0,{...n},ct.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function PN(){return ct.createElement("div",{className:"Toastify__spinner"})}var km={info:DN,warning:MN,success:ON,error:kN,spinner:PN},LN=n=>n in km;function BN({theme:n,type:e,isLoading:t,icon:r}){let s=null,o={theme:n,type:e};return r===!1||(qa(r)?s=r({...o,isLoading:t}):$.isValidElement(r)?s=$.cloneElement(r,o):t?s=km.spinner():LN(e)&&(s=km[e](o))),s}var VN=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:o}=RN(n),{closeButton:d,children:p,autoClose:w,onClick:y,type:_,hideProgressBar:A,closeToast:I,transition:N,position:M,className:k,style:H,progressClassName:F,updateId:G,role:B,progress:Z,rtl:re,toastId:se,deleteToast:V,isIn:P,isLoading:O,closeOnClick:W,theme:Q,ariaLabel:Y}=n,q=Ul("Toastify__toast",`Toastify__toast-theme--${Q}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":re},{"Toastify__toast--close-on-click":W}),_e=qa(k)?k({rtl:re,position:M,type:_,defaultClassName:q}):Ul(q,k),le=BN(n),ae=!!Z||!w,de={closeToast:I,type:_,theme:Q},ve=null;return d===!1||(qa(d)?ve=d(de):$.isValidElement(d)?ve=$.cloneElement(d,de):ve=hN(de)),ct.createElement(N,{isIn:P,done:V,position:M,preventExitTransition:t,nodeRef:r,playToast:o},ct.createElement("div",{id:se,tabIndex:0,onClick:y,"data-in":P,className:_e,...s,style:H,ref:r,...P&&{role:B,"aria-label":Y}},le!=null&&ct.createElement("div",{className:Ul("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},le),PT(p,n,!e),ve,!n.customProgressBar&&ct.createElement(gN,{...G&&!ae?{key:`p-${G}`}:{},rtl:re,theme:Q,delay:w,isRunning:e,isIn:P,closeToast:I,hide:A,type:_,className:F,controlledProgress:ae,progress:Z||0})))},UN=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),FN=dN(UN("bounce",!0)),zN={position:"top-right",transition:FN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function jN(n){let e={...zN,...n},t=n.stacked,[r,s]=$.useState(!0),o=$.useRef(null),{getToastToRender:d,isToastActive:p,count:w}=IN(e),{className:y,style:_,rtl:A,containerId:I,hotKeys:N}=e;function M(H){let F=Ul("Toastify__toast-container",`Toastify__toast-container--${H}`,{"Toastify__toast-container--rtl":A});return qa(y)?y({position:H,rtl:A,defaultClassName:F}):Ul(F,Mm(y))}function k(){t&&(s(!0),wn.play())}return NN(()=>{var H;if(t){let F=o.current.querySelectorAll('[data-in="true"]'),G=12,B=(H=e.position)==null?void 0:H.includes("top"),Z=0,re=0;Array.from(F).reverse().forEach((se,V)=>{let P=se;P.classList.add("Toastify__toast--stacked"),V>0&&(P.dataset.collapsed=`${r}`),P.dataset.pos||(P.dataset.pos=B?"top":"bot");let O=Z*(r?.2:1)+(r?0:G*V);P.style.setProperty("--y",`${B?O:O*-1}px`),P.style.setProperty("--g",`${G}`),P.style.setProperty("--s",`${1-(r?re:0)}`),Z+=P.offsetHeight,re+=.025})}},[r,w,t]),$.useEffect(()=>{function H(F){var G;let B=o.current;N(F)&&((G=B.querySelector('[tabIndex="0"]'))==null||G.focus(),s(!1),wn.pause()),F.key==="Escape"&&(document.activeElement===B||B!=null&&B.contains(document.activeElement))&&(s(!0),wn.play())}return document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)}},[N]),ct.createElement("section",{ref:o,className:"Toastify",id:I,onMouseEnter:()=>{t&&(s(!1),wn.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},d((H,F)=>{let G=F.length?{..._}:{..._,pointerEvents:"none"};return ct.createElement("div",{tabIndex:-1,className:M(H),"data-stacked":t,style:G,key:`c-${H}`},F.map(({content:B,props:Z})=>ct.createElement(VN,{...Z,stacked:t,collapseAll:k,isIn:p(Z.toastId,Z.containerId),key:`t-${Z.key}`},B)))}))}const HN=()=>{};var tb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},GN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],d=n[t++],p=n[t++],w=((s&7)<<18|(o&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(w>>10)),e[r++]=String.fromCharCode(56320+(w&1023))}else{const o=n[t++],d=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|d&63)}}return e.join("")},jT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],d=s+1<n.length,p=d?n[s+1]:0,w=s+2<n.length,y=w?n[s+2]:0,_=o>>2,A=(o&3)<<4|p>>4;let I=(p&15)<<2|y>>6,N=y&63;w||(N=64,d||(I=64)),r.push(t[_],t[A],t[I],t[N])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):GN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],p=s<n.length?t[n.charAt(s)]:0;++s;const y=s<n.length?t[n.charAt(s)]:64;++s;const A=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||p==null||y==null||A==null)throw new qN;const I=o<<2|p>>4;if(r.push(I),y!==64){const N=p<<4&240|y>>2;if(r.push(N),A!==64){const M=y<<6&192|A;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YN=function(n){const e=zT(n);return jT.encodeByteArray(e,!0)},l0=function(n){return YN(n).replace(/\./g,"")},HT=function(n){try{return jT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=()=>WN().__FIREBASE_DEFAULTS__,KN=()=>{if(typeof process>"u"||typeof tb>"u")return;const n=tb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&HT(n[1]);return e&&JSON.parse(e)},X0=()=>{try{return HN()||XN()||KN()||QN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GT=n=>{var e,t;return(t=(e=X0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ZN=n=>{const e=GT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},qT=()=>{var n;return(n=X0())===null||n===void 0?void 0:n.config},YT=n=>{var e;return(e=X0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[l0(JSON.stringify(t)),l0(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fi())}function tM(){var n;const e=(n=X0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sM(){const n=fi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aM(){return!tM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oM(){try{return typeof indexedDB=="object"}catch{return!1}}function lM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM="FirebaseError";class $a extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cM,Object.setPrototypeOf(this,$a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fd.prototype.create)}}class fd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],d=o?uM(o,r):"Error",p=`${this.serviceName}: ${d} (${s}).`;return new $a(s,p,r)}}function uM(n,e){return n.replace(fM,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fM=/\{\$([^}]+)}/g;function dM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],d=e[s];if(nb(o)&&nb(d)){if(!zl(o,d))return!1}else if(o!==d)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function nb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function If(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function hM(n,e){const t=new gM(n,e);return t.subscribe.bind(t)}class gM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Cp),s.error===void 0&&(s.error=Cp),s.complete===void 0&&(s.complete=Cp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(n){return n&&n._delegate?n._delegate:n}class jl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $N;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wM(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(o);r===p&&d.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const d=this.instances.get(s);return d&&e(d,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yM(n){return n===Ol?void 0:n}function wM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const vM={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},bM=qt.INFO,EM={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},_M=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=EM[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Py{constructor(e){this.name=e,this._logLevel=bM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const TM=(n,e)=>e.some(t=>n instanceof t);let rb,ib;function AM(){return rb||(rb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SM(){return ib||(ib=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,Pm=new WeakMap,XT=new WeakMap,Ip=new WeakMap,Ly=new WeakMap;function CM(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",d)},o=()=>{t(Yo(n.result)),s()},d=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&WT.set(t,n)}).catch(()=>{}),Ly.set(e,n),e}function IM(n){if(Pm.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",d),n.removeEventListener("abort",d)},o=()=>{t(),s()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",d),n.addEventListener("abort",d)});Pm.set(n,e)}let Lm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||XT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RM(n){Lm=n(Lm)}function NM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rp(this),e,...t);return XT.set(r,e.sort?e.sort():[e]),Yo(r)}:SM().includes(n)?function(...e){return n.apply(Rp(this),e),Yo(WT.get(this))}:function(...e){return Yo(n.apply(Rp(this),e))}}function MM(n){return typeof n=="function"?NM(n):(n instanceof IDBTransaction&&IM(n),TM(n,AM())?new Proxy(n,Lm):n)}function Yo(n){if(n instanceof IDBRequest)return CM(n);if(Ip.has(n))return Ip.get(n);const e=MM(n);return e!==n&&(Ip.set(n,e),Ly.set(e,n)),e}const Rp=n=>Ly.get(n);function DM(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const d=indexedDB.open(n,e),p=Yo(d);return r&&d.addEventListener("upgradeneeded",w=>{r(Yo(d.result),w.oldVersion,w.newVersion,Yo(d.transaction),w)}),t&&d.addEventListener("blocked",w=>t(w.oldVersion,w.newVersion,w)),p.then(w=>{o&&w.addEventListener("close",()=>o()),s&&w.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const OM=["get","getKey","getAll","getAllKeys","count"],kM=["put","add","delete","clear"],Np=new Map;function sb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=kM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||OM.includes(t)))return;const o=async function(d,...p){const w=this.transaction(d,s?"readwrite":"readonly");let y=w.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),s&&w.done]))[0]};return Np.set(e,o),o}RM(n=>({...n,get:(e,t,r)=>sb(e,t)||n.get(e,t,r),has:(e,t)=>!!sb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(LM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function LM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",ab="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Py("@firebase/app"),BM="@firebase/app-compat",VM="@firebase/analytics-compat",UM="@firebase/analytics",FM="@firebase/app-check-compat",zM="@firebase/app-check",jM="@firebase/auth",HM="@firebase/auth-compat",GM="@firebase/database",qM="@firebase/data-connect",YM="@firebase/database-compat",WM="@firebase/functions",XM="@firebase/functions-compat",KM="@firebase/installations",QM="@firebase/installations-compat",ZM="@firebase/messaging",$M="@firebase/messaging-compat",JM="@firebase/performance",eD="@firebase/performance-compat",tD="@firebase/remote-config",nD="@firebase/remote-config-compat",rD="@firebase/storage",iD="@firebase/storage-compat",sD="@firebase/firestore",aD="@firebase/vertexai",oD="@firebase/firestore-compat",lD="firebase",cD="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",uD={[Bm]:"fire-core",[BM]:"fire-core-compat",[UM]:"fire-analytics",[VM]:"fire-analytics-compat",[zM]:"fire-app-check",[FM]:"fire-app-check-compat",[jM]:"fire-auth",[HM]:"fire-auth-compat",[GM]:"fire-rtdb",[qM]:"fire-data-connect",[YM]:"fire-rtdb-compat",[WM]:"fire-fn",[XM]:"fire-fn-compat",[KM]:"fire-iid",[QM]:"fire-iid-compat",[ZM]:"fire-fcm",[$M]:"fire-fcm-compat",[JM]:"fire-perf",[eD]:"fire-perf-compat",[tD]:"fire-rc",[nD]:"fire-rc-compat",[rD]:"fire-gcs",[iD]:"fire-gcs-compat",[sD]:"fire-fst",[oD]:"fire-fst-compat",[aD]:"fire-vertex","fire-js":"fire-js",[lD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map,fD=new Map,Um=new Map;function ob(n,e){try{n.container.addComponent(e)}catch(t){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lu(n){const e=n.name;if(Um.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,n);for(const t of c0.values())ob(t,n);for(const t of fD.values())ob(t,n);return!0}function By(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new fd("app","Firebase",dD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=cD;function KT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wo.create("bad-app-name",{appName:String(s)});if(t||(t=qT()),!t)throw Wo.create("no-options");const o=c0.get(s);if(o){if(zl(t,o.options)&&zl(r,o.config))return o;throw Wo.create("duplicate-app",{appName:s})}const d=new xM(s);for(const w of Um.values())d.addComponent(w);const p=new hD(t,r,d);return c0.set(s,p),p}function QT(n=Vm){const e=c0.get(n);if(!e&&n===Vm&&qT())return KT();if(!e)throw Wo.create("no-app",{appName:n});return e}function Xo(n,e,t){var r;let s=(r=uD[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),d=e.match(/\s|\//);if(o||d){const p=[`Unable to register library "${s}" with version "${e}":`];o&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ya.warn(p.join(" "));return}lu(new jl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="firebase-heartbeat-database",pD=1,Wf="firebase-heartbeat-store";let Mp=null;function ZT(){return Mp||(Mp=DM(gD,pD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wo.create("idb-open",{originalErrorMessage:n.message})})),Mp}async function mD(n){try{const t=(await ZT()).transaction(Wf),r=await t.objectStore(Wf).get($T(n));return await t.done,r}catch(e){if(e instanceof $a)Ya.warn(e.message);else{const t=Wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ya.warn(t.message)}}}async function lb(n,e){try{const r=(await ZT()).transaction(Wf,"readwrite");await r.objectStore(Wf).put(e,$T(n)),await r.done}catch(t){if(t instanceof $a)Ya.warn(t.message);else{const r=Wo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ya.warn(r.message)}}}function $T(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=1024,wD=30;class xD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(d=>d.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>wD){const d=ED(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cb(),{heartbeatsToSend:r,unsentEntries:s}=vD(this._heartbeatsCache.heartbeats),o=l0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ya.warn(t),""}}}function cb(){return new Date().toISOString().substring(0,10)}function vD(n,e=yD){const t=[];let r=n.slice();for(const s of n){const o=t.find(d=>d.agent===s.agent);if(o){if(o.dates.push(s.date),ub(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),ub(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class bD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oM()?lM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return lb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return lb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ub(n){return l0(JSON.stringify({version:2,heartbeats:n})).length}function ED(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(n){lu(new jl("platform-logger",e=>new PM(e),"PRIVATE")),lu(new jl("heartbeat",e=>new xD(e),"PRIVATE")),Xo(Bm,ab,n),Xo(Bm,ab,"esm2017"),Xo("fire-js","")}_D("");function Vy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=JT,eA=new fd("auth","Firebase",JT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Py("@firebase/auth");function AD(n,...e){u0.logLevel<=qt.WARN&&u0.warn(`Auth (${vu}): ${n}`,...e)}function Xh(n,...e){u0.logLevel<=qt.ERROR&&u0.error(`Auth (${vu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n,...e){throw Uy(n,...e)}function na(n,...e){return Uy(n,...e)}function tA(n,e,t){const r=Object.assign(Object.assign({},TD()),{[e]:t});return new fd("auth","Firebase",r).create(e,{appName:n.name})}function za(n){return tA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eA.create(n,...e)}function pt(n,e,...t){if(!n)throw Uy(e,...t)}function Ba(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xh(e),new Error(e)}function Wa(n,e){n||Ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SD(){return fb()==="http:"||fb()==="https:"}function fb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SD()||rM()||"connection"in navigator)?navigator.onLine:!0}function ID(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wa(t>e,"Short delay should be less than long delay!"),this.isMobile=eM()||iM()}get(){return CD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n,e){Wa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MD=new hd(3e4,6e4);function al(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ol(n,e,t,r,s={}){return rA(n,s,async()=>{let o={},d={};r&&(e==="GET"?d=r:o={body:JSON.stringify(r)});const p=dd(Object.assign({key:n.config.apiKey},d)).slice(1),w=await n._getAdditionalHeaders();w["Content-Type"]="application/json",n.languageCode&&(w["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:w},o);return nM()||(y.referrerPolicy="no-referrer"),nA.fetch()(await iA(n,n.config.apiHost,t,p),y)})}async function rA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},RD),e);try{const s=new OD(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const d=await o.json();if("needConfirmation"in d)throw Ih(n,"account-exists-with-different-credential",d);if(o.ok&&!("errorMessage"in d))return d;{const p=o.ok?d.errorMessage:d.error.message,[w,y]=p.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(n,"credential-already-in-use",d);if(w==="EMAIL_EXISTS")throw Ih(n,"email-already-in-use",d);if(w==="USER_DISABLED")throw Ih(n,"user-disabled",d);const _=r[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw tA(n,_,y);Bs(n,_)}}catch(s){if(s instanceof $a)throw s;Bs(n,"network-request-failed",{message:String(s)})}}async function gd(n,e,t,r,s={}){const o=await ol(n,e,t,r,s);return"mfaPendingCredential"in o&&Bs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function iA(n,e,t,r){const s=`${e}${t}?${r}`,o=n,d=o.config.emulator?Fy(n.config,s):`${n.config.apiScheme}://${s}`;return ND.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(d).toString():d}function DD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(na(this.auth,"network-request-failed")),MD.get())})}}function Ih(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=na(n,e,r);return s.customData._tokenResponse=t,s}function db(n){return n!==void 0&&n.enterprise!==void 0}class kD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return DD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PD(n,e){return ol(n,"GET","/v2/recaptchaConfig",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(n,e){return ol(n,"POST","/v1/accounts:delete",e)}async function f0(n,e){return ol(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BD(n,e=!1){const t=Fr(n),r=await t.getIdToken(e),s=zy(r);pt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,d=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Pf(Dp(s.auth_time)),issuedAtTime:Pf(Dp(s.iat)),expirationTime:Pf(Dp(s.exp)),signInProvider:d||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Dp(n){return Number(n)*1e3}function zy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const s=HT(t);return s?JSON.parse(s):(Xh("Failed to decode base64 JWT payload"),null)}catch(s){return Xh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hb(n){const e=zy(n);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof $a&&VD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function VD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Xf(n,f0(t,{idToken:r}));pt(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const d=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sA(o.providerUserInfo):[],p=zD(n.providerData,d),w=n.isAnonymous,y=!(n.email&&o.passwordHash)&&!(p!=null&&p.length),_=w?y:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:p,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,A)}async function FD(n){const e=Fr(n);await d0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zD(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function sA(n){return n.map(e=>{var{providerId:t}=e,r=Vy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e){const t=await rA(n,{},async()=>{const r=dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,d=await iA(n,s,"/v1/token",`key=${o}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",nA.fetch()(d,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HD(n,e){return ol(n,"POST","/v2/accounts:revokeToken",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const t=hb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await jD(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,d=new Zc;return r&&(pt(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),s&&(pt(typeof s=="string","internal-error",{appName:e}),d.accessToken=s),o&&(pt(typeof o=="number","internal-error",{appName:e}),d.expirationTime=o),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zc,this.toJSON())}_performRefresh(){return Ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(n,e){pt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Xf(this,this.stsTokenManager.getToken(this.auth,e));return pt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BD(this,e)}reload(){return FD(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await d0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vs(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await Xf(this,LD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,d,p,w,y,_;const A=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(s=t.email)!==null&&s!==void 0?s:void 0,N=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(d=t.photoURL)!==null&&d!==void 0?d:void 0,k=(p=t.tenantId)!==null&&p!==void 0?p:void 0,H=(w=t._redirectEventId)!==null&&w!==void 0?w:void 0,F=(y=t.createdAt)!==null&&y!==void 0?y:void 0,G=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:B,emailVerified:Z,isAnonymous:re,providerData:se,stsTokenManager:V}=t;pt(B&&V,e,"internal-error");const P=Zc.fromJSON(this.name,V);pt(typeof B=="string",e,"internal-error"),ko(A,e.name),ko(I,e.name),pt(typeof Z=="boolean",e,"internal-error"),pt(typeof re=="boolean",e,"internal-error"),ko(N,e.name),ko(M,e.name),ko(k,e.name),ko(H,e.name),ko(F,e.name),ko(G,e.name);const O=new Ps({uid:B,auth:e,email:I,emailVerified:Z,displayName:A,isAnonymous:re,photoURL:M,phoneNumber:N,tenantId:k,stsTokenManager:P,createdAt:F,lastLoginAt:G});return se&&Array.isArray(se)&&(O.providerData=se.map(W=>Object.assign({},W))),H&&(O._redirectEventId=H),O}static async _fromIdTokenResponse(e,t,r=!1){const s=new Zc;s.updateFromServerResponse(t);const o=new Ps({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await d0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];pt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?sA(s.providerUserInfo):[],d=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),p=new Zc;p.updateFromIdToken(r);const w=new Ps({uid:s.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new zm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(w,y),w}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Map;function Va(n){Wa(n instanceof Function,"Expected a class definition");let e=gb.get(n);return e?(Wa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aA.type="NONE";const pb=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(n,e,t){return`firebase:${n}:${e}:${t}`}class $c{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Kh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Kh("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await f0(this.auth,{idToken:e}).catch(()=>{});return t?Ps._fromGetAccountInfoResponse(this.auth,t,e):null}return Ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new $c(Va(pb),e,r);const s=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let o=s[0]||Va(pb);const d=Kh(r,e.config.apiKey,e.name);let p=null;for(const y of t)try{const _=await y._get(d);if(_){let A;if(typeof _=="string"){const I=await f0(e,{idToken:_}).catch(()=>{});if(!I)break;A=await Ps._fromGetAccountInfoResponse(e,I,_)}else A=Ps._fromJSON(e,_);y!==o&&(p=A),o=y;break}}catch{}const w=s.filter(y=>y._shouldAllowMigration);return!o._shouldAllowMigration||!w.length?new $c(o,e,r):(o=w[0],p&&await o._set(d,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==o)try{await y._remove(d)}catch{}})),new $c(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dA(e))return"Blackberry";if(hA(e))return"Webos";if(lA(e))return"Safari";if((e.includes("chrome/")||cA(e))&&!e.includes("edge/"))return"Chrome";if(fA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oA(n=fi()){return/firefox\//i.test(n)}function lA(n=fi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cA(n=fi()){return/crios\//i.test(n)}function uA(n=fi()){return/iemobile/i.test(n)}function fA(n=fi()){return/android/i.test(n)}function dA(n=fi()){return/blackberry/i.test(n)}function hA(n=fi()){return/webos/i.test(n)}function jy(n=fi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GD(n=fi()){var e;return jy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qD(){return sM()&&document.documentMode===10}function gA(n=fi()){return jy(n)||fA(n)||hA(n)||dA(n)||/windows phone/i.test(n)||uA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n,e=[]){let t;switch(n){case"Browser":t=mb(fi());break;case"Worker":t=`${mb(fi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((d,p)=>{try{const w=e(o);d(w)}catch(w){p(w)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(n,e={}){return ol(n,"GET","/v2/passwordPolicy",al(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=6;class KD{constructor(e){var t,r,s,o;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:XD,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,d,p;const w={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,w),this.validatePasswordCharacterOptions(e,w),w.isValid&&(w.isValid=(t=w.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),w.isValid&&(w.isValid=(r=w.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),w.isValid&&(w.isValid=(s=w.containsLowercaseLetter)!==null&&s!==void 0?s:!0),w.isValid&&(w.isValid=(o=w.containsUppercaseLetter)!==null&&o!==void 0?o:!0),w.isValid&&(w.isValid=(d=w.containsNumericCharacter)!==null&&d!==void 0?d:!0),w.isValid&&(w.isValid=(p=w.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),w}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new YD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Va(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await $c.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await f0(this,{idToken:e}),r=await Ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vs(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=s==null?void 0:s._redirectEventId,w=await this.tryRedirectSignIn(e);(!d||d===p)&&(w!=null&&w.user)&&(s=w.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await d0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ID()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vs(this.app))return Promise.reject(za(this));const t=e?Fr(e):null;return t&&pt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vs(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vs(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WD(this),t=new KD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await HD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Va(e)||this._popupRedirectResolver;pt(t,this,"argument-error"),this.redirectPersistenceManager=await $c.create(this,[Va(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||o(this.currentUser)}),typeof t=="function"){const w=e.addObserver(t,r,s);return()=>{d=!0,w()}}else{const w=e.addObserver(t);return()=>{d=!0,w()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Kl(n){return Fr(n)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=hM(t=>this.observer=t)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(n){K0=n}function mA(n){return K0.loadJS(n)}function $D(){return K0.recaptchaEnterpriseScript}function JD(){return K0.gapiScript}function e8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class t8{constructor(){this.enterprise=new n8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class n8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const r8="recaptcha-enterprise",yA="NO_RECAPTCHA";class i8{constructor(e){this.type=r8,this.auth=Kl(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(d,p)=>{PD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(w=>{if(w.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new kD(w);return o.tenantId==null?o._agentRecaptchaConfig=y:o._tenantRecaptchaConfigs[o.tenantId]=y,d(y.siteKey)}}).catch(w=>{p(w)})})}function s(o,d,p){const w=window.grecaptcha;db(w)?w.enterprise.ready(()=>{w.enterprise.execute(o,{action:e}).then(y=>{d(y)}).catch(()=>{d(yA)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t8().execute("siteKey",{action:"verify"}):new Promise((o,d)=>{r(this.auth).then(p=>{if(!t&&db(window.grecaptcha))s(p,o,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let w=$D();w.length!==0&&(w+=p),mA(w).then(()=>{s(p,o,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function wb(n,e,t,r=!1,s=!1){const o=new i8(n);let d;if(s)d=yA;else try{d=await o.verify(t)}catch{d=await o.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const w=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const w=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:w,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jm(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await wb(n,e,t,t==="getOobCode");return r(n,d)}else return r(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await wb(n,e,t,t==="getOobCode");return r(n,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(n,e){const t=By(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(zl(o,e??{}))return s;Bs(s,"already-initialized")}return t.initialize({options:e})}function a8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Va);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function o8(n,e,t){const r=Kl(n);pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=wA(e),{host:d,port:p}=l8(e),w=p===null?"":`:${p}`,y={url:`${o}//${d}${w}/`},_=Object.freeze({host:d,port:p,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(zl(y,r.config.emulator)&&zl(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,c8()}function wA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function l8(n){const e=wA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:xb(r.substr(o.length+1))}}else{const[o,d]=r.split(":");return{host:o,port:xb(d)}}}function xb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function c8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ba("not implemented")}_getIdTokenResponse(e){return Ba("not implemented")}_linkToIdToken(e,t){return Ba("not implemented")}_getReauthenticationResolver(e){return Ba("not implemented")}}async function u8(n,e){return ol(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(n,e){return gd(n,"POST","/v1/accounts:signInWithPassword",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d8(n,e){return gd(n,"POST","/v1/accounts:signInWithEmailLink",al(n,e))}async function h8(n,e){return gd(n,"POST","/v1/accounts:signInWithEmailLink",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends Hy{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Kf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Kf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,t,"signInWithPassword",f8);case"emailLink":return d8(e,{email:this._email,oobCode:this._password});default:Bs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,r,"signUpPassword",u8);case"emailLink":return h8(e,{idToken:t,email:this._email,oobCode:this._password});default:Bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n,e){return gd(n,"POST","/v1/accounts:signInWithIdp",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="http://localhost";class Hl extends Hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Vy(t,["providerId","signInMethod"]);if(!r||!s)return null;const d=new Hl(r,s);return d.idToken=o.idToken||void 0,d.accessToken=o.accessToken||void 0,d.secret=o.secret,d.nonce=o.nonce,d.pendingToken=o.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Jc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jc(e,t)}buildRequest(){const e={requestUri:g8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m8(n){const e=Cf(If(n)).link,t=e?Cf(If(e)).deep_link_id:null,r=Cf(If(n)).deep_link_id;return(r?Cf(If(r)).link:null)||r||t||e||n}class Gy{constructor(e){var t,r,s,o,d,p;const w=Cf(If(e)),y=(t=w.apiKey)!==null&&t!==void 0?t:null,_=(r=w.oobCode)!==null&&r!==void 0?r:null,A=p8((s=w.mode)!==null&&s!==void 0?s:null);pt(y&&_&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=_,this.continueUrl=(o=w.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(d=w.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(p=w.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=m8(e);try{return new Gy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.providerId=bu.PROVIDER_ID}static credential(e,t){return Kf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Gy.parseLink(t);return pt(r,"argument-error"),Kf._fromEmailAndCode(e,r.code,r.tenantId)}}bu.PROVIDER_ID="password";bu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends xA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends pd{constructor(){super("facebook.com")}static credential(e){return Hl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends pd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return zo.credential(t,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends pd{constructor(){super("github.com")}static credential(e){return Hl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends pd{constructor(){super("twitter.com")}static credential(e,t){return Hl._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ho.credential(t,r)}catch{return null}}}Ho.TWITTER_SIGN_IN_METHOD="twitter.com";Ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(n,e){return gd(n,"POST","/v1/accounts:signUp",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Ps._fromIdTokenResponse(e,r,s),d=vb(r);return new Gl({user:o,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=vb(r);return new Gl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function vb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends $a{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,h0.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new h0(e,t,r,s)}}function vA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?h0._fromErrorAndOperation(n,o,e,r):o})}async function w8(n,e,t=!1){const r=await Xf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(n,e,t=!1){const{auth:r}=n;if(vs(r.app))return Promise.reject(za(r));const s="reauthenticate";try{const o=await Xf(n,vA(r,s,e,n),t);pt(o.idToken,r,"internal-error");const d=zy(o.idToken);pt(d,r,"internal-error");const{sub:p}=d;return pt(n.uid===p,r,"user-mismatch"),Gl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Bs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(n,e,t=!1){if(vs(n.app))return Promise.reject(za(n));const r="signIn",s=await vA(n,r,e),o=await Gl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function v8(n,e){return bA(Kl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n){const e=Kl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function b8(n,e,t){if(vs(n.app))return Promise.reject(za(n));const r=Kl(n),d=await jm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",y8).catch(w=>{throw w.code==="auth/password-does-not-meet-requirements"&&EA(n),w}),p=await Gl._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function E8(n,e,t){return vs(n.app)?Promise.reject(za(n)):v8(Fr(n),bu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EA(n),r})}function _8(n,e,t,r){return Fr(n).onIdTokenChanged(e,t,r)}function T8(n,e,t){return Fr(n).beforeAuthStateChanged(e,t)}function A8(n,e,t,r){return Fr(n).onAuthStateChanged(e,t,r)}function S8(n){return Fr(n).signOut()}const g0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(g0,"1"),this.storage.removeItem(g0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=1e3,I8=10;class TA extends _A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,w)=>{this.notifyListeners(d,w)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},o=this.storage.getItem(r);qD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,I8):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},C8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}TA.type="LOCAL";const R8=TA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends _A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AA.type="SESSION";const SA=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Q0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,d=this.handlersMap[s];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const p=Array.from(d).map(async y=>y(t.origin,o)),w=await N8(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:w})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Q0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,d;return new Promise((p,w)=>{const y=qy("",20);s.port1.start();const _=setTimeout(()=>{w(new Error("unsupported_event"))},r);d={messageChannel:s,onMessage(A){const I=A;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),p(I.data.response);break;default:clearTimeout(_),clearTimeout(o),w(new Error("invalid_response"));break}}},this.handlers.add(d),s.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return window}function D8(n){ra().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return typeof ra().WorkerGlobalScope<"u"&&typeof ra().importScripts=="function"}async function O8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function P8(){return CA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firebaseLocalStorageDb",L8=1,p0="firebaseLocalStorage",RA="fbase_key";class md{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Z0(n,e){return n.transaction([p0],e?"readwrite":"readonly").objectStore(p0)}function B8(){const n=indexedDB.deleteDatabase(IA);return new md(n).toPromise()}function Hm(){const n=indexedDB.open(IA,L8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(p0,{keyPath:RA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(p0)?e(r):(r.close(),await B8(),e(await Hm()))})})}async function bb(n,e,t){const r=Z0(n,!0).put({[RA]:e,value:t});return new md(r).toPromise()}async function V8(n,e){const t=Z0(n,!1).get(e),r=await new md(t).toPromise();return r===void 0?null:r.value}function Eb(n,e){const t=Z0(n,!0).delete(e);return new md(t).toPromise()}const U8=800,F8=3;class NA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>F8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Q0._getInstance(P8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await O8(),!this.activeServiceWorker)return;this.sender=new M8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await bb(e,g0,"1"),await Eb(e,g0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>V8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Eb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Z0(s,!1).getAll();return new md(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NA.type="LOCAL";const z8=NA;new hd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(n,e){return e?Va(e):(pt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy extends Hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function H8(n){return bA(n.auth,new Yy(n),n.bypassAuthState)}function G8(n){const{auth:e,user:t}=n;return pt(t,e,"internal-error"),x8(t,new Yy(n),n.bypassAuthState)}async function q8(n){const{auth:e,user:t}=n;return pt(t,e,"internal-error"),w8(t,new Yy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:d,type:p}=e;if(d){this.reject(d);return}const w={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(w))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H8;case"linkViaPopup":case"linkViaRedirect":return q8;case"reauthViaPopup":case"reauthViaRedirect":return G8;default:Bs(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=new hd(2e3,1e4);class qc extends MA{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,qc.currentPopupAction&&qc.currentPopupAction.cancel(),qc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y8.get())};e()}}qc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="pendingRedirect",Qh=new Map;class X8 extends MA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const r=await K8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K8(n,e){const t=$8(e),r=Z8(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Q8(n,e){Qh.set(n._key(),e)}function Z8(n){return Va(n._redirectPersistence)}function $8(n){return Kh(W8,n.config.apiKey,n.name)}async function J8(n,e,t=!1){if(vs(n.app))return Promise.reject(za(n));const r=Kl(n),s=j8(r,e),d=await new X8(r,s,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=10*60*1e3;class t6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!DA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(na(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e6&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}}function _b(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(n,e={}){return ol(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s6=/^https?/;async function a6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await r6(n);for(const t of e)try{if(o6(t))return}catch{}Bs(n,"unauthorized-domain")}function o6(n){const e=Fm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!s6.test(t))return!1;if(i6.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new hd(3e4,6e4);function Tb(){const n=ra().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function c6(n){return new Promise((e,t)=>{var r,s,o;function d(){Tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tb(),t(na(n,"network-request-failed"))},timeout:l6.get()})}if(!((s=(r=ra().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ra().gapi)===null||o===void 0)&&o.load)d();else{const p=e8("iframefcb");return ra()[p]=()=>{gapi.load?d():t(na(n,"network-request-failed"))},mA(`${JD()}?onload=${p}`).catch(w=>t(w))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function u6(n){return Zh=Zh||c6(n),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new hd(5e3,15e3),d6="__/auth/iframe",h6="emulator/auth/iframe",g6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m6(n){const e=n.config;pt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fy(e,h6):`https://${n.config.authDomain}/${d6}`,r={apiKey:e.apiKey,appName:n.name,v:vu},s=p6.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${dd(r).slice(1)}`}async function y6(n){const e=await u6(n),t=ra().gapi;return pt(t,n,"internal-error"),e.open({where:document.body,url:m6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g6,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const d=na(n,"network-request-failed"),p=ra().setTimeout(()=>{o(d)},f6.get());function w(){ra().clearTimeout(p),s(r)}r.ping(w).then(w,()=>{o(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x6=500,v6=600,b6="_blank",E6="http://localhost";class Ab{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _6(n,e,t,r=x6,s=v6){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const w=Object.assign(Object.assign({},w6),{width:r.toString(),height:s.toString(),top:o,left:d}),y=fi().toLowerCase();t&&(p=cA(y)?b6:t),oA(y)&&(e=e||E6,w.scrollbars="yes");const _=Object.entries(w).reduce((I,[N,M])=>`${I}${N}=${M},`,"");if(GD(y)&&p!=="_self")return T6(e||"",p),new Ab(null);const A=window.open(e||"",p,_);pt(A,n,"popup-blocked");try{A.focus()}catch{}return new Ab(A)}function T6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="__/auth/handler",S6="emulator/auth/handler",C6=encodeURIComponent("fac");async function Sb(n,e,t,r,s,o){pt(n.config.authDomain,n,"auth-domain-config-required"),pt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vu,eventId:s};if(e instanceof xA){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",dM(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))d[_]=A}if(e instanceof pd){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(d.scopes=_.join(","))}n.tenantId&&(d.tid=n.tenantId);const p=d;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const w=await n._getAppCheckToken(),y=w?`#${C6}=${encodeURIComponent(w)}`:"";return`${I6(n)}?${dd(p).slice(1)}${y}`}function I6({config:n}){return n.emulator?Fy(n,S6):`https://${n.authDomain}/${A6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class R6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SA,this._completeRedirectFn=J8,this._overrideRedirectResult=Q8}async _openPopup(e,t,r,s){var o;Wa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const d=await Sb(e,t,r,Fm(),s);return _6(e,d,qy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Sb(e,t,r,Fm(),s);return D8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Wa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await y6(e),r=new t6(e);return t.register("authEvent",s=>(pt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},s=>{var o;const d=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Op];d!==void 0&&t(!!d),Bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=a6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gA()||lA()||jy()}}const N6=R6;var Cb="@firebase/auth",Ib="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O6(n){lu(new jl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const w={apiKey:d,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(n)},y=new QD(r,s,o,w);return a8(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),lu(new jl("auth-internal",e=>{const t=Kl(e.getProvider("auth").getImmediate());return(r=>new M6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(Cb,Ib,D6(n)),Xo(Cb,Ib,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=5*60,P6=YT("authIdTokenMaxAge")||k6;let Rb=null;const L6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>P6)return;const s=t==null?void 0:t.token;Rb!==s&&(Rb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function B6(n=QT()){const e=By(n,"auth");if(e.isInitialized())return e.getImmediate();const t=s8(n,{popupRedirectResolver:N6,persistence:[z8,R8,SA]}),r=YT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const d=L6(o.toString());T8(t,d,()=>d(t.currentUser)),_8(t,p=>d(p))}}const s=GT("auth");return s&&o8(t,`http://${s}`),t}function V6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=na("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",V6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O6("Browser");var U6="firebase",F6="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(U6,F6,"app");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ko,OA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,P){function O(){}O.prototype=P.prototype,V.D=P.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(W,Q,Y){for(var q=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)q[_e-2]=arguments[_e];return P.prototype[Q].apply(W,q)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,P,O){O||(O=0);var W=Array(16);if(typeof P=="string")for(var Q=0;16>Q;++Q)W[Q]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for(Q=0;16>Q;++Q)W[Q]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=V.g[0],O=V.g[1],Q=V.g[2];var Y=V.g[3],q=P+(Y^O&(Q^Y))+W[0]+3614090360&4294967295;P=O+(q<<7&4294967295|q>>>25),q=Y+(Q^P&(O^Q))+W[1]+3905402710&4294967295,Y=P+(q<<12&4294967295|q>>>20),q=Q+(O^Y&(P^O))+W[2]+606105819&4294967295,Q=Y+(q<<17&4294967295|q>>>15),q=O+(P^Q&(Y^P))+W[3]+3250441966&4294967295,O=Q+(q<<22&4294967295|q>>>10),q=P+(Y^O&(Q^Y))+W[4]+4118548399&4294967295,P=O+(q<<7&4294967295|q>>>25),q=Y+(Q^P&(O^Q))+W[5]+1200080426&4294967295,Y=P+(q<<12&4294967295|q>>>20),q=Q+(O^Y&(P^O))+W[6]+2821735955&4294967295,Q=Y+(q<<17&4294967295|q>>>15),q=O+(P^Q&(Y^P))+W[7]+4249261313&4294967295,O=Q+(q<<22&4294967295|q>>>10),q=P+(Y^O&(Q^Y))+W[8]+1770035416&4294967295,P=O+(q<<7&4294967295|q>>>25),q=Y+(Q^P&(O^Q))+W[9]+2336552879&4294967295,Y=P+(q<<12&4294967295|q>>>20),q=Q+(O^Y&(P^O))+W[10]+4294925233&4294967295,Q=Y+(q<<17&4294967295|q>>>15),q=O+(P^Q&(Y^P))+W[11]+2304563134&4294967295,O=Q+(q<<22&4294967295|q>>>10),q=P+(Y^O&(Q^Y))+W[12]+1804603682&4294967295,P=O+(q<<7&4294967295|q>>>25),q=Y+(Q^P&(O^Q))+W[13]+4254626195&4294967295,Y=P+(q<<12&4294967295|q>>>20),q=Q+(O^Y&(P^O))+W[14]+2792965006&4294967295,Q=Y+(q<<17&4294967295|q>>>15),q=O+(P^Q&(Y^P))+W[15]+1236535329&4294967295,O=Q+(q<<22&4294967295|q>>>10),q=P+(Q^Y&(O^Q))+W[1]+4129170786&4294967295,P=O+(q<<5&4294967295|q>>>27),q=Y+(O^Q&(P^O))+W[6]+3225465664&4294967295,Y=P+(q<<9&4294967295|q>>>23),q=Q+(P^O&(Y^P))+W[11]+643717713&4294967295,Q=Y+(q<<14&4294967295|q>>>18),q=O+(Y^P&(Q^Y))+W[0]+3921069994&4294967295,O=Q+(q<<20&4294967295|q>>>12),q=P+(Q^Y&(O^Q))+W[5]+3593408605&4294967295,P=O+(q<<5&4294967295|q>>>27),q=Y+(O^Q&(P^O))+W[10]+38016083&4294967295,Y=P+(q<<9&4294967295|q>>>23),q=Q+(P^O&(Y^P))+W[15]+3634488961&4294967295,Q=Y+(q<<14&4294967295|q>>>18),q=O+(Y^P&(Q^Y))+W[4]+3889429448&4294967295,O=Q+(q<<20&4294967295|q>>>12),q=P+(Q^Y&(O^Q))+W[9]+568446438&4294967295,P=O+(q<<5&4294967295|q>>>27),q=Y+(O^Q&(P^O))+W[14]+3275163606&4294967295,Y=P+(q<<9&4294967295|q>>>23),q=Q+(P^O&(Y^P))+W[3]+4107603335&4294967295,Q=Y+(q<<14&4294967295|q>>>18),q=O+(Y^P&(Q^Y))+W[8]+1163531501&4294967295,O=Q+(q<<20&4294967295|q>>>12),q=P+(Q^Y&(O^Q))+W[13]+2850285829&4294967295,P=O+(q<<5&4294967295|q>>>27),q=Y+(O^Q&(P^O))+W[2]+4243563512&4294967295,Y=P+(q<<9&4294967295|q>>>23),q=Q+(P^O&(Y^P))+W[7]+1735328473&4294967295,Q=Y+(q<<14&4294967295|q>>>18),q=O+(Y^P&(Q^Y))+W[12]+2368359562&4294967295,O=Q+(q<<20&4294967295|q>>>12),q=P+(O^Q^Y)+W[5]+4294588738&4294967295,P=O+(q<<4&4294967295|q>>>28),q=Y+(P^O^Q)+W[8]+2272392833&4294967295,Y=P+(q<<11&4294967295|q>>>21),q=Q+(Y^P^O)+W[11]+1839030562&4294967295,Q=Y+(q<<16&4294967295|q>>>16),q=O+(Q^Y^P)+W[14]+4259657740&4294967295,O=Q+(q<<23&4294967295|q>>>9),q=P+(O^Q^Y)+W[1]+2763975236&4294967295,P=O+(q<<4&4294967295|q>>>28),q=Y+(P^O^Q)+W[4]+1272893353&4294967295,Y=P+(q<<11&4294967295|q>>>21),q=Q+(Y^P^O)+W[7]+4139469664&4294967295,Q=Y+(q<<16&4294967295|q>>>16),q=O+(Q^Y^P)+W[10]+3200236656&4294967295,O=Q+(q<<23&4294967295|q>>>9),q=P+(O^Q^Y)+W[13]+681279174&4294967295,P=O+(q<<4&4294967295|q>>>28),q=Y+(P^O^Q)+W[0]+3936430074&4294967295,Y=P+(q<<11&4294967295|q>>>21),q=Q+(Y^P^O)+W[3]+3572445317&4294967295,Q=Y+(q<<16&4294967295|q>>>16),q=O+(Q^Y^P)+W[6]+76029189&4294967295,O=Q+(q<<23&4294967295|q>>>9),q=P+(O^Q^Y)+W[9]+3654602809&4294967295,P=O+(q<<4&4294967295|q>>>28),q=Y+(P^O^Q)+W[12]+3873151461&4294967295,Y=P+(q<<11&4294967295|q>>>21),q=Q+(Y^P^O)+W[15]+530742520&4294967295,Q=Y+(q<<16&4294967295|q>>>16),q=O+(Q^Y^P)+W[2]+3299628645&4294967295,O=Q+(q<<23&4294967295|q>>>9),q=P+(Q^(O|~Y))+W[0]+4096336452&4294967295,P=O+(q<<6&4294967295|q>>>26),q=Y+(O^(P|~Q))+W[7]+1126891415&4294967295,Y=P+(q<<10&4294967295|q>>>22),q=Q+(P^(Y|~O))+W[14]+2878612391&4294967295,Q=Y+(q<<15&4294967295|q>>>17),q=O+(Y^(Q|~P))+W[5]+4237533241&4294967295,O=Q+(q<<21&4294967295|q>>>11),q=P+(Q^(O|~Y))+W[12]+1700485571&4294967295,P=O+(q<<6&4294967295|q>>>26),q=Y+(O^(P|~Q))+W[3]+2399980690&4294967295,Y=P+(q<<10&4294967295|q>>>22),q=Q+(P^(Y|~O))+W[10]+4293915773&4294967295,Q=Y+(q<<15&4294967295|q>>>17),q=O+(Y^(Q|~P))+W[1]+2240044497&4294967295,O=Q+(q<<21&4294967295|q>>>11),q=P+(Q^(O|~Y))+W[8]+1873313359&4294967295,P=O+(q<<6&4294967295|q>>>26),q=Y+(O^(P|~Q))+W[15]+4264355552&4294967295,Y=P+(q<<10&4294967295|q>>>22),q=Q+(P^(Y|~O))+W[6]+2734768916&4294967295,Q=Y+(q<<15&4294967295|q>>>17),q=O+(Y^(Q|~P))+W[13]+1309151649&4294967295,O=Q+(q<<21&4294967295|q>>>11),q=P+(Q^(O|~Y))+W[4]+4149444226&4294967295,P=O+(q<<6&4294967295|q>>>26),q=Y+(O^(P|~Q))+W[11]+3174756917&4294967295,Y=P+(q<<10&4294967295|q>>>22),q=Q+(P^(Y|~O))+W[2]+718787259&4294967295,Q=Y+(q<<15&4294967295|q>>>17),q=O+(Y^(Q|~P))+W[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(Q+(q<<21&4294967295|q>>>11))&4294967295,V.g[2]=V.g[2]+Q&4294967295,V.g[3]=V.g[3]+Y&4294967295}r.prototype.u=function(V,P){P===void 0&&(P=V.length);for(var O=P-this.blockSize,W=this.B,Q=this.h,Y=0;Y<P;){if(Q==0)for(;Y<=O;)s(this,V,Y),Y+=this.blockSize;if(typeof V=="string"){for(;Y<P;)if(W[Q++]=V.charCodeAt(Y++),Q==this.blockSize){s(this,W),Q=0;break}}else for(;Y<P;)if(W[Q++]=V[Y++],Q==this.blockSize){s(this,W),Q=0;break}}this.h=Q,this.o+=P},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;var O=8*this.o;for(P=V.length-8;P<V.length;++P)V[P]=O&255,O/=256;for(this.u(V),V=Array(16),P=O=0;4>P;++P)for(var W=0;32>W;W+=8)V[O++]=this.g[P]>>>W&255;return V};function o(V,P){var O=p;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=P(V)}function d(V,P){this.h=P;for(var O=[],W=!0,Q=V.length-1;0<=Q;Q--){var Y=V[Q]|0;W&&Y==P||(O[Q]=Y,W=!1)}this.g=O}var p={};function w(V){return-128<=V&&128>V?o(V,function(P){return new d([P|0],0>P?-1:0)}):new d([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return H(y(-V));for(var P=[],O=1,W=0;V>=O;W++)P[W]=V/O|0,O*=4294967296;return new d(P,0)}function _(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return H(_(V.substring(1),P));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=y(Math.pow(P,8)),W=A,Q=0;Q<V.length;Q+=8){var Y=Math.min(8,V.length-Q),q=parseInt(V.substring(Q,Q+Y),P);8>Y?(Y=y(Math.pow(P,Y)),W=W.j(Y).add(y(q))):(W=W.j(O),W=W.add(y(q)))}return W}var A=w(0),I=w(1),N=w(16777216);n=d.prototype,n.m=function(){if(k(this))return-H(this).m();for(var V=0,P=1,O=0;O<this.g.length;O++){var W=this.i(O);V+=(0<=W?W:4294967296+W)*P,P*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(k(this))return"-"+H(this).toString(V);for(var P=y(Math.pow(V,6)),O=this,W="";;){var Q=Z(O,P).g;O=F(O,Q.j(P));var Y=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=Q,M(O))return Y+W;for(;6>Y.length;)Y="0"+Y;W=Y+W}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(var P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function k(V){return V.h==-1}n.l=function(V){return V=F(this,V),k(V)?-1:M(V)?0:1};function H(V){for(var P=V.g.length,O=[],W=0;W<P;W++)O[W]=~V.g[W];return new d(O,~V.h).add(I)}n.abs=function(){return k(this)?H(this):this},n.add=function(V){for(var P=Math.max(this.g.length,V.g.length),O=[],W=0,Q=0;Q<=P;Q++){var Y=W+(this.i(Q)&65535)+(V.i(Q)&65535),q=(Y>>>16)+(this.i(Q)>>>16)+(V.i(Q)>>>16);W=q>>>16,Y&=65535,q&=65535,O[Q]=q<<16|Y}return new d(O,O[O.length-1]&-2147483648?-1:0)};function F(V,P){return V.add(H(P))}n.j=function(V){if(M(this)||M(V))return A;if(k(this))return k(V)?H(this).j(H(V)):H(H(this).j(V));if(k(V))return H(this.j(H(V)));if(0>this.l(N)&&0>V.l(N))return y(this.m()*V.m());for(var P=this.g.length+V.g.length,O=[],W=0;W<2*P;W++)O[W]=0;for(W=0;W<this.g.length;W++)for(var Q=0;Q<V.g.length;Q++){var Y=this.i(W)>>>16,q=this.i(W)&65535,_e=V.i(Q)>>>16,le=V.i(Q)&65535;O[2*W+2*Q]+=q*le,G(O,2*W+2*Q),O[2*W+2*Q+1]+=Y*le,G(O,2*W+2*Q+1),O[2*W+2*Q+1]+=q*_e,G(O,2*W+2*Q+1),O[2*W+2*Q+2]+=Y*_e,G(O,2*W+2*Q+2)}for(W=0;W<P;W++)O[W]=O[2*W+1]<<16|O[2*W];for(W=P;W<2*P;W++)O[W]=0;return new d(O,0)};function G(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function B(V,P){this.g=V,this.h=P}function Z(V,P){if(M(P))throw Error("division by zero");if(M(V))return new B(A,A);if(k(V))return P=Z(H(V),P),new B(H(P.g),H(P.h));if(k(P))return P=Z(V,H(P)),new B(H(P.g),P.h);if(30<V.g.length){if(k(V)||k(P))throw Error("slowDivide_ only works with positive integers.");for(var O=I,W=P;0>=W.l(V);)O=re(O),W=re(W);var Q=se(O,1),Y=se(W,1);for(W=se(W,2),O=se(O,2);!M(W);){var q=Y.add(W);0>=q.l(V)&&(Q=Q.add(O),Y=q),W=se(W,1),O=se(O,1)}return P=F(V,Q.j(P)),new B(Q,P)}for(Q=A;0<=V.l(P);){for(O=Math.max(1,Math.floor(V.m()/P.m())),W=Math.ceil(Math.log(O)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),Y=y(O),q=Y.j(P);k(q)||0<q.l(V);)O-=W,Y=y(O),q=Y.j(P);M(Y)&&(Y=I),Q=Q.add(Y),V=F(V,q)}return new B(Q,V)}n.A=function(V){return Z(this,V).h},n.and=function(V){for(var P=Math.max(this.g.length,V.g.length),O=[],W=0;W<P;W++)O[W]=this.i(W)&V.i(W);return new d(O,this.h&V.h)},n.or=function(V){for(var P=Math.max(this.g.length,V.g.length),O=[],W=0;W<P;W++)O[W]=this.i(W)|V.i(W);return new d(O,this.h|V.h)},n.xor=function(V){for(var P=Math.max(this.g.length,V.g.length),O=[],W=0;W<P;W++)O[W]=this.i(W)^V.i(W);return new d(O,this.h^V.h)};function re(V){for(var P=V.g.length+1,O=[],W=0;W<P;W++)O[W]=V.i(W)<<1|V.i(W-1)>>>31;return new d(O,V.h)}function se(V,P){var O=P>>5;P%=32;for(var W=V.g.length-O,Q=[],Y=0;Y<W;Y++)Q[Y]=0<P?V.i(Y+O)>>>P|V.i(Y+O+1)<<32-P:V.i(Y+O);return new d(Q,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OA=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=_,Ko=d}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kA,Rf,PA,$h,Gm,LA,BA,VA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,R,L){return b==Array.prototype||b==Object.prototype||(b[R]=L.value),b};function t(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var R=0;R<b.length;++R){var L=b[R];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function s(b,R){if(R)e:{var L=r;b=b.split(".");for(var ee=0;ee<b.length-1;ee++){var pe=b[ee];if(!(pe in L))break e;L=L[pe]}b=b[b.length-1],ee=L[b],R=R(ee),R!=ee&&R!=null&&e(L,b,{configurable:!0,writable:!0,value:R})}}function o(b,R){b instanceof String&&(b+="");var L=0,ee=!1,pe={next:function(){if(!ee&&L<b.length){var Se=L++;return{value:R(Se,b[Se]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}s("Array.prototype.values",function(b){return b||function(){return o(this,function(R,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function w(b){var R=typeof b;return R=R!="object"?R:b?Array.isArray(b)?"array":R:"null",R=="array"||R=="object"&&typeof b.length=="number"}function y(b){var R=typeof b;return R=="object"&&b!=null||R=="function"}function _(b,R,L){return b.call.apply(b.bind,arguments)}function A(b,R,L){if(!b)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,ee),b.apply(R,pe)}}return function(){return b.apply(R,arguments)}}function I(b,R,L){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,I.apply(null,arguments)}function N(b,R){var L=Array.prototype.slice.call(arguments,1);return function(){var ee=L.slice();return ee.push.apply(ee,arguments),b.apply(this,ee)}}function M(b,R){function L(){}L.prototype=R.prototype,b.aa=R.prototype,b.prototype=new L,b.prototype.constructor=b,b.Qb=function(ee,pe,Se){for(var ze=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ze[zt-2]=arguments[zt];return R.prototype[pe].apply(ee,ze)}}function k(b){const R=b.length;if(0<R){const L=Array(R);for(let ee=0;ee<R;ee++)L[ee]=b[ee];return L}return[]}function H(b,R){for(let L=1;L<arguments.length;L++){const ee=arguments[L];if(w(ee)){const pe=b.length||0,Se=ee.length||0;b.length=pe+Se;for(let ze=0;ze<Se;ze++)b[pe+ze]=ee[ze]}else b.push(ee)}}class F{constructor(R,L){this.i=R,this.j=L,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function G(b){return/^[\s\xa0]*$/.test(b)}function B(){var b=p.navigator;return b&&(b=b.userAgent)?b:""}function Z(b){return Z[" "](b),b}Z[" "]=function(){};var re=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function se(b,R,L){for(const ee in b)R.call(L,b[ee],ee,b)}function V(b,R){for(const L in b)R.call(void 0,b[L],L,b)}function P(b){const R={};for(const L in b)R[L]=b[L];return R}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(b,R){let L,ee;for(let pe=1;pe<arguments.length;pe++){ee=arguments[pe];for(L in ee)b[L]=ee[L];for(let Se=0;Se<O.length;Se++)L=O[Se],Object.prototype.hasOwnProperty.call(ee,L)&&(b[L]=ee[L])}}function Q(b){var R=1;b=b.split(":");const L=[];for(;0<R&&b.length;)L.push(b.shift()),R--;return b.length&&L.push(b.join(":")),L}function Y(b){p.setTimeout(()=>{throw b},0)}function q(){var b=Re;let R=null;return b.g&&(R=b.g,b.g=b.g.next,b.g||(b.h=null),R.next=null),R}class _e{constructor(){this.h=this.g=null}add(R,L){const ee=le.get();ee.set(R,L),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var le=new F(()=>new ae,b=>b.reset());class ae{constructor(){this.next=this.g=this.h=null}set(R,L){this.h=R,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ve=!1,Re=new _e,te=()=>{const b=p.Promise.resolve(void 0);de=()=>{b.then(ye)}};var ye=()=>{for(var b;b=q();){try{b.h.call(b.g)}catch(L){Y(L)}var R=le;R.j(b),100>R.h&&(R.h++,b.next=R.g,R.g=b)}ve=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(b,R){this.type=b,this.g=this.target=R,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var Ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var b=!1,R=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const L=()=>{};p.addEventListener("test",L,R),p.removeEventListener("test",L,R)}catch{}return b}();function it(b,R){if(Oe.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var L=this.type=b.type,ee=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=R,R=b.relatedTarget){if(re){e:{try{Z(R.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(R=null)}}else L=="mouseover"?R=b.fromElement:L=="mouseout"&&(R=b.toElement);this.relatedTarget=R,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:Ce[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&it.aa.h.call(this)}}M(it,Oe);var Ce={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),He=0;function Ye(b,R,L,ee,pe){this.listener=b,this.proxy=null,this.src=R,this.type=L,this.capture=!!ee,this.ha=pe,this.key=++He,this.da=this.fa=!1}function lt(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function et(b){this.src=b,this.g={},this.h=0}et.prototype.add=function(b,R,L,ee,pe){var Se=b.toString();b=this.g[Se],b||(b=this.g[Se]=[],this.h++);var ze=nt(b,R,ee,pe);return-1<ze?(R=b[ze],L||(R.fa=!1)):(R=new Ye(R,this.src,Se,!!ee,pe),R.fa=L,b.push(R)),R};function wt(b,R){var L=R.type;if(L in b.g){var ee=b.g[L],pe=Array.prototype.indexOf.call(ee,R,void 0),Se;(Se=0<=pe)&&Array.prototype.splice.call(ee,pe,1),Se&&(lt(R),b.g[L].length==0&&(delete b.g[L],b.h--))}}function nt(b,R,L,ee){for(var pe=0;pe<b.length;++pe){var Se=b[pe];if(!Se.da&&Se.listener==R&&Se.capture==!!L&&Se.ha==ee)return pe}return-1}var on="closure_lm_"+(1e6*Math.random()|0),Pt={};function Jn(b,R,L,ee,pe){if(Array.isArray(R)){for(var Se=0;Se<R.length;Se++)Jn(b,R[Se],L,ee,pe);return null}return L=eo(L),b&&b[We]?b.K(R,L,y(ee)?!!ee.capture:!1,pe):xt(b,R,L,!1,ee,pe)}function xt(b,R,L,ee,pe,Se){if(!R)throw Error("Invalid event type");var ze=y(pe)?!!pe.capture:!!pe,zt=ua(b);if(zt||(b[on]=zt=new et(b)),L=zt.add(R,L,ee,ze,Se),L.proxy)return L;if(ee=Lt(),L.proxy=ee,ee.src=b,ee.listener=L,b.addEventListener)Ge||(pe=ze),pe===void 0&&(pe=!1),b.addEventListener(R.toString(),ee,pe);else if(b.attachEvent)b.attachEvent(qe(R.toString()),ee);else if(b.addListener&&b.removeListener)b.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Lt(){function b(L){return R.call(b.src,b.listener,L)}const R=Ts;return b}function _t(b,R,L,ee,pe){if(Array.isArray(R))for(var Se=0;Se<R.length;Se++)_t(b,R[Se],L,ee,pe);else ee=y(ee)?!!ee.capture:!!ee,L=eo(L),b&&b[We]?(b=b.i,R=String(R).toString(),R in b.g&&(Se=b.g[R],L=nt(Se,L,ee,pe),-1<L&&(lt(Se[L]),Array.prototype.splice.call(Se,L,1),Se.length==0&&(delete b.g[R],b.h--)))):b&&(b=ua(b))&&(R=b.g[R.toString()],b=-1,R&&(b=nt(R,L,ee,pe)),(L=-1<b?R[b]:null)&&Mr(L))}function Mr(b){if(typeof b!="number"&&b&&!b.da){var R=b.src;if(R&&R[We])wt(R.i,b);else{var L=b.type,ee=b.proxy;R.removeEventListener?R.removeEventListener(L,ee,b.capture):R.detachEvent?R.detachEvent(qe(L),ee):R.addListener&&R.removeListener&&R.removeListener(ee),(L=ua(R))?(wt(L,b),L.h==0&&(L.src=null,R[on]=null)):lt(b)}}}function qe(b){return b in Pt?Pt[b]:Pt[b]="on"+b}function Ts(b,R){if(b.da)b=!0;else{R=new it(R,this);var L=b.listener,ee=b.ha||b.src;b.fa&&Mr(b),b=L.call(ee,R)}return b}function ua(b){return b=b[on],b instanceof et?b:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(b){return typeof b=="function"?b:(b[di]||(b[di]=function(R){return b.handleEvent(R)}),b[di])}function Kt(){Ne.call(this),this.i=new et(this),this.M=this,this.F=null}M(Kt,Ne),Kt.prototype[We]=!0,Kt.prototype.removeEventListener=function(b,R,L,ee){_t(this,b,R,L,ee)};function en(b,R){var L,ee=b.F;if(ee)for(L=[];ee;ee=ee.F)L.push(ee);if(b=b.M,ee=R.type||R,typeof R=="string")R=new Oe(R,b);else if(R instanceof Oe)R.target=R.target||b;else{var pe=R;R=new Oe(ee,b),W(R,pe)}if(pe=!0,L)for(var Se=L.length-1;0<=Se;Se--){var ze=R.g=L[Se];pe=er(ze,ee,!0,R)&&pe}if(ze=R.g=b,pe=er(ze,ee,!0,R)&&pe,pe=er(ze,ee,!1,R)&&pe,L)for(Se=0;Se<L.length;Se++)ze=R.g=L[Se],pe=er(ze,ee,!1,R)&&pe}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var b=this.i,R;for(R in b.g){for(var L=b.g[R],ee=0;ee<L.length;ee++)lt(L[ee]);delete b.g[R],b.h--}}this.F=null},Kt.prototype.K=function(b,R,L,ee){return this.i.add(String(b),R,!1,L,ee)},Kt.prototype.L=function(b,R,L,ee){return this.i.add(String(b),R,!0,L,ee)};function er(b,R,L,ee){if(R=b.i.g[String(R)],!R)return!0;R=R.concat();for(var pe=!0,Se=0;Se<R.length;++Se){var ze=R[Se];if(ze&&!ze.da&&ze.capture==L){var zt=ze.listener,Ln=ze.ha||ze.src;ze.fa&&wt(b.i,ze),pe=zt.call(Ln,ee)!==!1&&pe}}return pe&&!ee.defaultPrevented}function tn(b,R,L){if(typeof b=="function")L&&(b=I(b,L));else if(b&&typeof b.handleEvent=="function")b=I(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:p.setTimeout(b,R||0)}function hl(b){b.g=tn(()=>{b.g=null,b.i&&(b.i=!1,hl(b))},b.l);const R=b.h;b.h=null,b.m.apply(null,R)}class to extends Ne{constructor(R,L){super(),this.m=R,this.l=L,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(b){Ne.call(this),this.h=b,this.g={}}M(fa,Ne);var xn=[];function Fe(b){se(b.g,function(R,L){this.g.hasOwnProperty(L)&&Mr(R)},b),b.g={}}fa.prototype.N=function(){fa.aa.N.call(this),Fe(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=p.JSON.stringify,Qt=p.JSON.parse,un=class{stringify(b){return p.JSON.stringify(b,void 0)}parse(b){return p.JSON.parse(b,void 0)}};function As(){}As.prototype.h=null;function da(b){return b.h||(b.h=b.i())}function no(){}var Ct={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){Oe.call(this,"d")}M(zr,Oe);function ro(){Oe.call(this,"c")}M(ro,Oe);var ki={},jr=null;function is(){return jr=jr||new Kt}ki.La="serverreachability";function Qn(b){Oe.call(this,ki.La,b)}M(Qn,Oe);function hi(b){const R=is();en(R,new Qn(R))}ki.STAT_EVENT="statevent";function ha(b,R){Oe.call(this,ki.STAT_EVENT,b),this.stat=R}M(ha,Oe);function Xt(b){const R=is();en(R,new ha(R,b))}ki.Ma="timingevent";function lr(b,R){Oe.call(this,ki.Ma,b),this.size=R}M(lr,Oe);function vn(b,R){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){b()},R)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function pr(b,R,L,ee,pe,Se){b.info(function(){if(b.g)if(Se)for(var ze="",zt=Se.split("&"),Ln=0;Ln<zt.length;Ln++){var jt=zt[Ln].split("=");if(1<jt.length){var In=jt[0];jt=jt[1];var Yn=In.split("_");ze=2<=Yn.length&&Yn[1]=="type"?ze+(In+"="+jt+"&"):ze+(In+"=redacted&")}}else ze=null;else ze=Se;return"XMLHTTP REQ ("+ee+") [attempt "+pe+"]: "+R+`
`+L+`
`+ze})}function Ss(b,R,L,ee,pe,Se,ze){b.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+pe+"]: "+R+`
`+L+`
`+Se+" "+ze})}function cr(b,R,L,ee){b.info(function(){return"XMLHTTP TEXT ("+R+"): "+xi(b,L)+(ee?" "+ee:"")})}function Xe(b,R){b.info(function(){return"TIMEOUT: "+R})}Jr.prototype.info=function(){};function xi(b,R){if(!b.g)return R;if(!R)return null;try{var L=JSON.parse(R);if(L){for(b=0;b<L.length;b++)if(Array.isArray(L[b])){var ee=L[b];if(!(2>ee.length)){var pe=ee[1];if(Array.isArray(pe)&&!(1>pe.length)){var Se=pe[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var ze=1;ze<pe.length;ze++)pe[ze]=""}}}}return ln(L)}catch{return R}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function gi(){}M(gi,As),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},Hr=new gi;function mr(b,R,L,ee){this.j=b,this.i=R,this.l=L,this.R=ee||1,this.U=new fa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nn}function nn(){this.i=null,this.g="",this.h=!1}var gl={},io={};function tr(b,R,L){b.L=1,b.v=Nn(Dt(R)),b.m=L,b.P=!0,Dn(b,null)}function Dn(b,R){b.F=Date.now(),ei(b),b.A=Dt(b.v);var L=b.A,ee=b.R;Array.isArray(ee)||(ee=[String(ee)]),Hn(L.i,"t",ee),b.C=0,L=b.j.J,b.h=new nn,b.g=oc(b.j,L?R:null,!b.m),0<b.O&&(b.M=new to(I(b.Y,b,b.g),b.O)),R=b.U,L=b.g,ee=b.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(xn[0]=pe.toString()),pe=xn);for(var Se=0;Se<pe.length;Se++){var ze=Jn(L,pe[Se],ee||R.handleEvent,!1,R.h||R);if(!ze)break;R.g[ze.key]=ze}R=b.H?P(b.H):{},b.m?(b.u||(b.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,R)):(b.u="GET",b.g.ea(b.A,b.u,null,R)),hi(),pr(b.i,b.u,b.A,b.l,b.R,b.m)}mr.prototype.ca=function(b){b=b.target;const R=this.M;R&&bi(b)==3?R.j():this.Y(b)},mr.prototype.Y=function(b){try{if(b==this.g)e:{const Yn=bi(this.g);var R=this.g.Ba();const rr=this.g.Z();if(!(3>Yn)&&(Yn!=3||this.g&&(this.h.h||this.g.oa()||ic(this.g)))){this.J||Yn!=4||R==7||(R==8||0>=rr?hi(3):hi(2)),De(this);var L=this.g.Z();this.X=L;t:if(hn(this)){var ee=ic(this.g);b="";var pe=ee.length,Se=bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nt(this),as(this);var ze="";break t}this.h.i=new p.TextDecoder}for(R=0;R<pe;R++)this.h.h=!0,b+=this.h.i.decode(ee[R],{stream:!(Se&&R==pe-1)});ee.length=0,this.h.g+=b,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=L==200,Ss(this.i,this.u,this.A,this.l,this.R,Yn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,Ln=this.g;if((zt=Ln.g?Ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(zt)){var jt=zt;break t}}jt=null}if(L=jt)cr(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vi(this,L);else{this.o=!1,this.s=3,Xt(12),Nt(this),as(this);break e}}if(this.P){L=!0;let yr;for(;!this.J&&this.C<ze.length;)if(yr=pl(this,ze),yr==io){Yn==4&&(this.s=4,Xt(14),L=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==gl){this.s=4,Xt(15),cr(this.i,this.l,ze,"[Invalid Chunk]"),L=!1;break}else cr(this.i,this.l,yr,null),vi(this,yr);if(hn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yn!=4||ze.length!=0||this.h.h||(this.s=1,Xt(16),L=!1),this.o=this.o&&L,!L)cr(this.i,this.l,ze,"[Invalid Chunked Response]"),Nt(this),as(this);else if(0<ze.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Ns(In),In.M=!0,Xt(11))}}else cr(this.i,this.l,ze,null),vi(this,ze);Yn==4&&Nt(this),this.o&&!this.J&&(Yn==4?Cn(this.j,this):(this.o=!1,ei(this)))}else rn(this.g),L==400&&0<ze.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Nt(this),as(this)}}}catch{}finally{}};function hn(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function pl(b,R){var L=b.C,ee=R.indexOf(`
`,L);return ee==-1?io:(L=Number(R.substring(L,ee)),isNaN(L)?gl:(ee+=1,ee+L>R.length?io:(R=R.slice(ee,ee+L),b.C=ee+L,R)))}mr.prototype.cancel=function(){this.J=!0,Nt(this)};function ei(b){b.S=Date.now()+b.I,so(b,b.I)}function so(b,R){if(b.B!=null)throw Error("WatchDog timer not null");b.B=vn(I(b.ba,b),R)}function De(b){b.B&&(p.clearTimeout(b.B),b.B=null)}mr.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Xe(this.i,this.A),this.L!=2&&(hi(),Xt(17)),Nt(this),this.s=2,as(this)):so(this,this.S-b)};function as(b){b.j.G==0||b.J||Cn(b.j,b)}function Nt(b){De(b);var R=b.M;R&&typeof R.ma=="function"&&R.ma(),b.M=null,Fe(b.U),b.g&&(R=b.g,b.g=null,R.abort(),R.ma())}function vi(b,R){try{var L=b.j;if(L.G!=0&&(L.g==b||ga(L.h,b))){if(!b.K&&ga(L.h,b)&&L.G==3){try{var ee=L.Da.g.parse(R)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var pe=ee;if(pe[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<b.F)Gs(L),co(L);else break e;ml(L),Xt(18)}}else L.za=pe[1],0<L.za-L.T&&37500>pe[2]&&L.F&&L.v==0&&!L.C&&(L.C=vn(I(L.Za,L),6e3));if(1>=St(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else qr(L,11)}else if((b.K||L.g==b)&&Gs(L),!G(R))for(pe=L.Da.g.parse(R),R=0;R<pe.length;R++){let jt=pe[R];if(L.T=jt[0],jt=jt[1],L.G==2)if(jt[0]=="c"){L.K=jt[1],L.ia=jt[2];const In=jt[3];In!=null&&(L.la=In,L.j.info("VER="+L.la));const Yn=jt[4];Yn!=null&&(L.Aa=Yn,L.j.info("SVER="+L.Aa));const rr=jt[5];rr!=null&&typeof rr=="number"&&0<rr&&(ee=1.5*rr,L.L=ee,L.j.info("backChannelRequestTimeoutMs_="+ee)),ee=L;const yr=b.g;if(yr){const fr=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fr){var Se=ee.h;Se.g||fr.indexOf("spdy")==-1&&fr.indexOf("quic")==-1&&fr.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(Fs(Se,Se.h),Se.h=null))}if(ee.D){const yl=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(ee.ya=yl,je(ee.I,ee.D,yl))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-b.F,L.j.info("Handshake RTT: "+L.R+"ms")),ee=L;var ze=b;if(ee.qa=ot(ee,ee.J?ee.ia:null,ee.W),ze.K){Er(ee.h,ze);var zt=ze,Ln=ee.L;Ln&&(zt.I=Ln),zt.B&&(De(zt),ei(zt)),ee.g=ze}else ac(ee);0<L.i.length&&vt(L)}else jt[0]!="stop"&&jt[0]!="close"||qr(L,7);else L.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?qr(L,7):Ei(L):jt[0]!="noop"&&L.l&&L.l.ta(jt),L.v=0)}}hi(4)}catch{}}var nc=class{constructor(b,R){this.g=b,this.map=R}};function Mt(b){this.l=b||10,p.PerformanceNavigationTiming?(b=p.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bt(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function St(b){return b.h?1:b.g?b.g.size:0}function ga(b,R){return b.h?b.h==R:b.g?b.g.has(R):!1}function Fs(b,R){b.g?b.g.add(R):b.h=R}function Er(b,R){b.h&&b.h==R?b.h=null:b.g&&b.g.has(R)&&b.g.delete(R)}Mt.prototype.cancel=function(){if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function On(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let R=b.i;for(const L of b.g.values())R=R.concat(L.D);return R}return k(b.i)}function os(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(w(b)){for(var R=[],L=b.length,ee=0;ee<L;ee++)R.push(b[ee]);return R}R=[],L=0;for(ee in b)R[L++]=b[ee];return R}function ao(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(w(b)||typeof b=="string"){var R=[];b=b.length;for(var L=0;L<b;L++)R.push(L);return R}R=[],L=0;for(const ee in b)R[L++]=ee;return R}}}function Tn(b,R){if(b.forEach&&typeof b.forEach=="function")b.forEach(R,void 0);else if(w(b)||typeof b=="string")Array.prototype.forEach.call(b,R,void 0);else for(var L=ao(b),ee=os(b),pe=ee.length,Se=0;Se<pe;Se++)R.call(void 0,ee[Se],L&&L[Se],b)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Du(b,R){if(b){b=b.split("&");for(var L=0;L<b.length;L++){var ee=b[L].indexOf("="),pe=null;if(0<=ee){var Se=b[L].substring(0,ee);pe=b[L].substring(ee+1)}else Se=b[L];R(Se,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function An(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof An){this.h=b.h,jn(this,b.j),this.o=b.o,this.g=b.g,ge(this,b.s),this.l=b.l;var R=b.i,L=new Pi;L.i=R.i,R.g&&(L.g=new Map(R.g),L.h=R.h),ne(this,L),this.m=b.m}else b&&(R=String(b).match(ti))?(this.h=!1,jn(this,R[1]||"",!0),this.o=kn(R[2]||""),this.g=kn(R[3]||"",!0),ge(this,R[4]),this.l=kn(R[5]||"",!0),ne(this,R[6]||"",!0),this.m=kn(R[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}An.prototype.toString=function(){var b=[],R=this.j;R&&b.push(pa(R,Dr,!0),":");var L=this.g;return(L||R=="file")&&(b.push("//"),(R=this.o)&&b.push(pa(R,Dr,!0),"@"),b.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&b.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&b.push("/"),b.push(pa(L,L.charAt(0)=="/"?Sn:rt,!0))),(L=this.i.toString())&&b.push("?",L),(L=this.m)&&b.push("#",pa(L,lo)),b.join("")};function Dt(b){return new An(b)}function jn(b,R,L){b.j=L?kn(R,!0):R,b.j&&(b.j=b.j.replace(/:$/,""))}function ge(b,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);b.s=R}else b.s=null}function ne(b,R,L){R instanceof Pi?(b.i=R,Bi(b.i,b.h)):(L||(R=pa(R,rc)),b.i=new Pi(R,b.h))}function je(b,R,L){b.i.set(R,L)}function Nn(b){return je(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function kn(b,R){return b?R?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function pa(b,R,L){return typeof b=="string"?(b=encodeURI(b).replace(R,oo),L&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function oo(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Dr=/[#\/\?@]/g,rt=/[#\?:]/g,Sn=/[#\?]/g,rc=/[#\?@]/g,lo=/#/g;function Pi(b,R){this.h=this.g=null,this.i=b||null,this.j=!!R}function Gr(b){b.g||(b.g=new Map,b.h=0,b.i&&Du(b.i,function(R,L){b.add(decodeURIComponent(R.replace(/\+/g," ")),L)}))}n=Pi.prototype,n.add=function(b,R){Gr(this),this.i=null,b=ni(this,b);var L=this.g.get(b);return L||this.g.set(b,L=[]),L.push(R),this.h+=1,this};function Li(b,R){Gr(b),R=ni(b,R),b.g.has(R)&&(b.i=null,b.h-=b.g.get(R).length,b.g.delete(R))}function Cs(b,R){return Gr(b),R=ni(b,R),b.g.has(R)}n.forEach=function(b,R){Gr(this),this.g.forEach(function(L,ee){L.forEach(function(pe){b.call(R,pe,ee,this)},this)},this)},n.na=function(){Gr(this);const b=Array.from(this.g.values()),R=Array.from(this.g.keys()),L=[];for(let ee=0;ee<R.length;ee++){const pe=b[ee];for(let Se=0;Se<pe.length;Se++)L.push(R[ee])}return L},n.V=function(b){Gr(this);let R=[];if(typeof b=="string")Cs(this,b)&&(R=R.concat(this.g.get(ni(this,b))));else{b=Array.from(this.g.values());for(let L=0;L<b.length;L++)R=R.concat(b[L])}return R},n.set=function(b,R){return Gr(this),this.i=null,b=ni(this,b),Cs(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[R]),this.h+=1,this},n.get=function(b,R){return b?(b=this.V(b),0<b.length?String(b[0]):R):R};function Hn(b,R,L){Li(b,R),0<L.length&&(b.i=null,b.g.set(ni(b,R),k(L)),b.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],R=Array.from(this.g.keys());for(var L=0;L<R.length;L++){var ee=R[L];const Se=encodeURIComponent(String(ee)),ze=this.V(ee);for(ee=0;ee<ze.length;ee++){var pe=Se;ze[ee]!==""&&(pe+="="+encodeURIComponent(String(ze[ee]))),b.push(pe)}}return this.i=b.join("&")};function ni(b,R){return R=String(R),b.j&&(R=R.toLowerCase()),R}function Bi(b,R){R&&!b.j&&(Gr(b),b.i=null,b.g.forEach(function(L,ee){var pe=ee.toLowerCase();ee!=pe&&(Li(this,ee),Hn(this,pe,L))},b)),b.j=R}function st(b,R){const L=new Jr;if(p.Image){const ee=new Image;ee.onload=N(ft,L,"TestLoadImage: loaded",!0,R,ee),ee.onerror=N(ft,L,"TestLoadImage: error",!1,R,ee),ee.onabort=N(ft,L,"TestLoadImage: abort",!1,R,ee),ee.ontimeout=N(ft,L,"TestLoadImage: timeout",!1,R,ee),p.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=b}else R(!1)}function Vi(b,R){const L=new Jr,ee=new AbortController,pe=setTimeout(()=>{ee.abort(),ft(L,"TestPingServer: timeout",!1,R)},1e4);fetch(b,{signal:ee.signal}).then(Se=>{clearTimeout(pe),Se.ok?ft(L,"TestPingServer: ok",!0,R):ft(L,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(pe),ft(L,"TestPingServer: error",!1,R)})}function ft(b,R,L,ee,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),ee(L)}catch{}}function Pn(){this.g=new un}function ls(b,R,L){const ee=L||"";try{Tn(b,function(pe,Se){let ze=pe;y(pe)&&(ze=ln(pe)),R.push(ee+Se+"="+encodeURIComponent(ze))})}catch(pe){throw R.push(ee+"type="+encodeURIComponent("_badmap")),pe}}function cs(b){this.l=b.Ub||null,this.j=b.eb||!1}M(cs,As),cs.prototype.g=function(){return new us(this.l,this.j)},cs.prototype.i=function(b){return function(){return b}}({});function us(b,R){Kt.call(this),this.D=b,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(us,Kt),n=us.prototype,n.open=function(b,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=R,this.readyState=1,ri(this)},n.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(R.body=b),(this.D||p).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},n.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ui(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ui(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}n.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var R=b.value?b.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!b.done}))&&(this.response=this.responseText+=R)}b.done?fs(this):ri(this),this.readyState==3&&Ui(this)}},n.Ra=function(b){this.g&&(this.response=this.responseText=b,fs(this))},n.Qa=function(b){this.g&&(this.response=b,fs(this))},n.ga=function(){this.g&&fs(this)};function fs(b){b.readyState=4,b.l=null,b.j=null,b.v=null,ri(b)}n.setRequestHeader=function(b,R){this.u.append(b,R)},n.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],R=this.h.entries();for(var L=R.next();!L.done;)L=L.value,b.push(L[0]+": "+L[1]),L=R.next();return b.join(`\r
`)};function ri(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Is(b){let R="";return se(b,function(L,ee){R+=ee,R+=":",R+=L,R+=`\r
`}),R}function Gn(b,R,L){e:{for(ee in L){var ee=!1;break e}ee=!0}ee||(L=Is(L),typeof b=="string"?L!=null&&encodeURIComponent(String(L)):je(b,R,L))}function Jt(b){Kt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Jt,Kt);var ds=/^https?$/i,Fi=["POST","PUT"];n=Jt.prototype,n.Ha=function(b){this.J=b},n.ea=function(b,R,L,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);R=R?R.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?da(this.o):da(Hr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(R,String(b),!0),this.B=!1}catch(Se){_r(this,Se);return}if(b=L||"",L=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var pe in ee)L.set(pe,ee[pe]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Se of ee.keys())L.set(Se,ee.get(Se));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(L.keys()).find(Se=>Se.toLowerCase()=="content-type"),pe=p.FormData&&b instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Fi,R,void 0))||ee||pe||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,ze]of L)this.g.setRequestHeader(Se,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wa(this),this.u=!0,this.g.send(b),this.u=!1}catch(Se){_r(this,Se)}};function _r(b,R){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=R,b.m=5,ma(b),zi(b)}function ma(b){b.A||(b.A=!0,en(b,"complete"),en(b,"error"))}n.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,en(this,"complete"),en(this,"abort"),zi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},n.bb=function(){ya(this)};function ya(b){if(b.h&&typeof d<"u"&&(!b.v[1]||bi(b)!=4||b.Z()!=2)){if(b.u&&bi(b)==4)tn(b.Ea,0,b);else if(en(b,"readystatechange"),bi(b)==4){b.h=!1;try{const ze=b.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var L;if(!(L=R)){var ee;if(ee=ze===0){var pe=String(b.D).match(ti)[1]||null;!pe&&p.self&&p.self.location&&(pe=p.self.location.protocol.slice(0,-1)),ee=!ds.test(pe?pe.toLowerCase():"")}L=ee}if(L)en(b,"complete"),en(b,"success");else{b.m=6;try{var Se=2<bi(b)?b.g.statusText:""}catch{Se=""}b.l=Se+" ["+b.Z()+"]",ma(b)}}finally{zi(b)}}}}function zi(b,R){if(b.g){wa(b);const L=b.g,ee=b.v[0]?()=>{}:null;b.g=null,b.v=null,R||en(b,"ready");try{L.onreadystatechange=ee}catch{}}}function wa(b){b.I&&(p.clearTimeout(b.I),b.I=null)}n.isActive=function(){return!!this.g};function bi(b){return b.g?b.g.readyState:0}n.Z=function(){try{return 2<bi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(b){if(this.g){var R=this.g.responseText;return b&&R.indexOf(b)==0&&(R=R.substring(b.length)),Qt(R)}};function ic(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function rn(b){const R={};b=(b.g&&2<=bi(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<b.length;ee++){if(G(b[ee]))continue;var L=Q(b[ee]);const pe=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Se=R[pe]||[];R[pe]=Se,Se.push(L)}V(R,function(ee){return ee.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(b,R,L){return L&&L.internalChannelParams&&L.internalChannelParams[b]||R}function Rs(b){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,b),this.cb=zs("retryDelaySeedMs",1e4,b),this.Wa=zs("forwardChannelMaxRetries",2,b),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new Mt(b&&b.concurrentRequestLimit),this.Da=new Pn,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Rs.prototype,n.la=8,n.G=1,n.connect=function(b,R,L,ee){Xt(0),this.W=b,this.H=R||{},L&&ee!==void 0&&(this.H.OSID=L,this.H.OAID=ee),this.F=this.X,this.I=ot(this,null,this.W),vt(this)};function Ei(b){if(Te(b),b.G==3){var R=b.U++,L=Dt(b.I);if(je(L,"SID",b.K),je(L,"RID",R),je(L,"TYPE","terminate"),Hs(b,L),R=new mr(b,b.j,R),R.L=2,R.v=Nn(Dt(L)),L=!1,p.navigator&&p.navigator.sendBeacon)try{L=p.navigator.sendBeacon(R.v.toString(),"")}catch{}!L&&p.Image&&(new Image().src=R.v,L=!0),L||(R.g=oc(R.j,null),R.g.ea(R.v)),R.F=Date.now(),ei(R)}sn(b)}function co(b){b.g&&(Ns(b),b.g.cancel(),b.g=null)}function Te(b){co(b),b.u&&(p.clearTimeout(b.u),b.u=null),Gs(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&p.clearTimeout(b.s),b.s=null)}function vt(b){if(!Bt(b.h)&&!b.s){b.s=!0;var R=b.Ga;de||te(),ve||(de(),ve=!0),Re.add(R,b),b.B=0}}function ur(b,R){return St(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=R.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=vn(I(b.Ga,b,R),qs(b,b.B)),b.B++,!0)}n.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const pe=new mr(this,this.j,b);let Se=this.o;if(this.S&&(Se?(Se=P(Se),W(Se,this.S)):Se=this.S),this.m!==null||this.O||(pe.H=Se,Se=null),this.P)e:{for(var R=0,L=0;L<this.i.length;L++){t:{var ee=this.i[L];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(R+=ee,4096<R){R=L;break e}if(R===4096||L===this.i.length-1){R=L+1;break e}}R=1e3}else R=1e3;R=sc(this,pe,R),L=Dt(this.I),je(L,"RID",b),je(L,"CVER",22),this.D&&je(L,"X-HTTP-Session-Id",this.D),Hs(this,L),Se&&(this.O?R="headers="+encodeURIComponent(String(Is(Se)))+"&"+R:this.m&&Gn(L,this.m,Se)),Fs(this.h,pe),this.Ua&&je(L,"TYPE","init"),this.P?(je(L,"$req",R),je(L,"SID","null"),pe.T=!0,tr(pe,L,null)):tr(pe,L,R),this.G=2}}else this.G==3&&(b?js(this,b):this.i.length==0||Bt(this.h)||js(this))};function js(b,R){var L;R?L=R.l:L=b.U++;const ee=Dt(b.I);je(ee,"SID",b.K),je(ee,"RID",L),je(ee,"AID",b.T),Hs(b,ee),b.m&&b.o&&Gn(ee,b.m,b.o),L=new mr(b,b.j,L,b.B+1),b.m===null&&(L.H=b.o),R&&(b.i=R.D.concat(b.i)),R=sc(b,L,1e3),L.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),Fs(b.h,L),tr(L,ee,R)}function Hs(b,R){b.H&&se(b.H,function(L,ee){je(R,ee,L)}),b.l&&Tn({},function(L,ee){je(R,ee,L)})}function sc(b,R,L){L=Math.min(b.i.length,L);var ee=b.l?I(b.l.Na,b.l,b):null;e:{var pe=b.i;let Se=-1;for(;;){const ze=["count="+L];Se==-1?0<L?(Se=pe[0].g,ze.push("ofs="+Se)):Se=0:ze.push("ofs="+Se);let zt=!0;for(let Ln=0;Ln<L;Ln++){let jt=pe[Ln].g;const In=pe[Ln].map;if(jt-=Se,0>jt)Se=Math.max(0,pe[Ln].g-100),zt=!1;else try{ls(In,ze,"req"+jt+"_")}catch{ee&&ee(In)}}if(zt){ee=ze.join("&");break e}}}return b=b.i.splice(0,L),R.D=b,ee}function ac(b){if(!b.g&&!b.u){b.Y=1;var R=b.Fa;de||te(),ve||(de(),ve=!0),Re.add(R,b),b.v=0}}function ml(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=vn(I(b.Fa,b),qs(b,b.v)),b.v++,!0)}n.Fa=function(){if(this.u=null,qn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=vn(I(this.ab,this),b)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),co(this),qn(this))};function Ns(b){b.A!=null&&(p.clearTimeout(b.A),b.A=null)}function qn(b){b.g=new mr(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var R=Dt(b.qa);je(R,"RID","rpc"),je(R,"SID",b.K),je(R,"AID",b.T),je(R,"CI",b.F?"0":"1"),!b.F&&b.ja&&je(R,"TO",b.ja),je(R,"TYPE","xmlhttp"),Hs(b,R),b.m&&b.o&&Gn(R,b.m,b.o),b.L&&(b.g.I=b.L);var L=b.g;b=b.ia,L.L=1,L.v=Nn(Dt(R)),L.m=null,L.P=!0,Dn(L,b)}n.Za=function(){this.C!=null&&(this.C=null,co(this),ml(this),Xt(19))};function Gs(b){b.C!=null&&(p.clearTimeout(b.C),b.C=null)}function Cn(b,R){var L=null;if(b.g==R){Gs(b),Ns(b),b.g=null;var ee=2}else if(ga(b.h,R))L=R.D,Er(b.h,R),ee=1;else return;if(b.G!=0){if(R.o)if(ee==1){L=R.m?R.m.length:0,R=Date.now()-R.F;var pe=b.B;ee=is(),en(ee,new lr(ee,L)),vt(b)}else ac(b);else if(pe=R.s,pe==3||pe==0&&0<R.X||!(ee==1&&ur(b,R)||ee==2&&ml(b)))switch(L&&0<L.length&&(R=b.h,R.i=R.i.concat(L)),pe){case 1:qr(b,5);break;case 4:qr(b,10);break;case 3:qr(b,6);break;default:qr(b,2)}}}function qs(b,R){let L=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(L*=2),L*R}function qr(b,R){if(b.j.info("Error code "+R),R==2){var L=I(b.fb,b),ee=b.Xa;const pe=!ee;ee=new An(ee||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||jn(ee,"https"),Nn(ee),pe?st(ee.toString(),L):Vi(ee.toString(),L)}else Xt(2);b.G=0,b.l&&b.l.sa(R),sn(b),Te(b)}n.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function sn(b){if(b.G=0,b.ka=[],b.l){const R=On(b.h);(R.length!=0||b.i.length!=0)&&(H(b.ka,R),H(b.ka,b.i),b.h.i.length=0,k(b.i),b.i.length=0),b.l.ra()}}function ot(b,R,L){var ee=L instanceof An?Dt(L):new An(L);if(ee.g!="")R&&(ee.g=R+"."+ee.g),ge(ee,ee.s);else{var pe=p.location;ee=pe.protocol,R=R?R+"."+pe.hostname:pe.hostname,pe=+pe.port;var Se=new An(null);ee&&jn(Se,ee),R&&(Se.g=R),pe&&ge(Se,pe),L&&(Se.l=L),ee=Se}return L=b.D,R=b.ya,L&&R&&je(ee,L,R),je(ee,"VER",b.la),Hs(b,ee),ee}function oc(b,R,L){if(R&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=b.Ca&&!b.pa?new Jt(new cs({eb:L})):new Jt(b.pa),R.Ha(b.J),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fn(){}n=fn.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function _i(){}_i.prototype.g=function(b,R){return new nr(b,R)};function nr(b,R){Kt.call(this),this.g=new Rs(R),this.l=b,this.h=R&&R.messageUrlParams||null,b=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(b?b["X-WebChannel-Content-Type"]=R.messageContentType:b={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(b?b["X-WebChannel-Client-Profile"]=R.va:b={"X-WebChannel-Client-Profile":R.va}),this.g.S=b,(b=R&&R.Sb)&&!G(b)&&(this.g.m=b),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!G(R)&&(this.g.D=R,b=this.h,b!==null&&R in b&&(b=this.h,R in b&&delete b[R])),this.j=new Ti(this)}M(nr,Kt),nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nr.prototype.close=function(){Ei(this.g)},nr.prototype.o=function(b){var R=this.g;if(typeof b=="string"){var L={};L.__data__=b,b=L}else this.u&&(L={},L.__data__=ln(b),b=L);R.i.push(new nc(R.Ya++,b)),R.G==3&&vt(R)},nr.prototype.N=function(){this.g.l=null,delete this.j,Ei(this.g),delete this.g,nr.aa.N.call(this)};function lc(b){zr.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var R=b.__sm__;if(R){e:{for(const L in R){b=L;break e}b=void 0}(this.i=b)&&(b=this.i,R=R!==null&&b in R?R[b]:void 0),this.data=R}else this.data=b}M(lc,zr);function pi(){ro.call(this),this.status=1}M(pi,ro);function Ti(b){this.g=b}M(Ti,fn),Ti.prototype.ua=function(){en(this.g,"a")},Ti.prototype.ta=function(b){en(this.g,new lc(b))},Ti.prototype.sa=function(b){en(this.g,new pi)},Ti.prototype.ra=function(){en(this.g,"b")},_i.prototype.createWebChannel=_i.prototype.g,nr.prototype.send=nr.prototype.o,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,VA=function(){return new _i},BA=function(){return is()},LA=ki,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,$h=ss,zn.COMPLETE="complete",PA=zn,no.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,Rf=no,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,kA=Jt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const Mb="@firebase/firestore",Db="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Py("@firebase/firestore");function zc(){return ql.logLevel}function Ze(n,...e){if(ql.logLevel<=qt.DEBUG){const t=e.map(Wy);ql.debug(`Firestore (${Eu}): ${n}`,...t)}}function Xa(n,...e){if(ql.logLevel<=qt.ERROR){const t=e.map(Wy);ql.error(`Firestore (${Eu}): ${n}`,...t)}}function cu(n,...e){if(ql.logLevel<=qt.WARN){const t=e.map(Wy);ql.warn(`Firestore (${Eu}): ${n}`,...t)}}function Wy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n="Unexpected state"){const e=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: `+n;throw Xa(e),new Error(e)}function dn(n,e){n||yt()}function At(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends $a{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class j6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class H6{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dn(this.o===void 0);let r=this.i;const s=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let o=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qo,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const w=o;e.enqueueRetryable(async()=>{await w.promise,await s(this.currentUser)})},p=w=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(w=>p(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?p(w):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qo)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dn(typeof r.accessToken=="string"),new UA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dn(e===null||typeof e=="string"),new ci(e)}}class G6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class q6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new G6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){dn(this.o===void 0);const r=o=>{o.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const d=o.token!==this.R;return this.R=o.token,Ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ob(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dn(typeof t.token=="string"),this.R=t.token,new Ob(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=W6(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function kt(n,e){return n<e?-1:n>e?1:0}function qm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return kt(r,s);{const o=FA(),d=X6(o.encode(kb(n,t)),o.encode(kb(e,t)));return d!==0?d:kt(r,s)}}t+=r>65535?2:1}return kt(n.length,e.length)}function kb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function X6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return kt(n[t],e[t]);return kt(n.length,e.length)}function uu(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=-62135596800,Lb=1e6;class Fn{static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Lb);return new Fn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Je(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Je(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Pb)throw new Je(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lb}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Fn(0,0))}static max(){return new Et(new Fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__name__";class ea{constructor(e,t,r){t===void 0?t=0:t>e.length&&yt(),r===void 0?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=ea.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return kt(e.length,t.length)}static compareSegments(e,t){const r=ea.isNumericId(e),s=ea.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ea.extractNumericId(e).compare(ea.extractNumericId(t)):qm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ko.fromString(e.substring(4,e.length-2))}}class Un extends ea{construct(e,t,r){return new Un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const K6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends ea{construct(e,t,r){return new Zr(e,t,r)}static isValidIdentifier(e){return K6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bb}static keyField(){return new Zr([Bb])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Je(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const p=e[s];if(p==="\\"){if(s+1===e.length)throw new Je(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if(w!=="\\"&&w!=="."&&w!=="`")throw new Je(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else p==="`"?(d=!d,s++):p!=="."||d?(r+=p,s++):(o(),s++)}if(o(),d)throw new Je(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(t)}static emptyPath(){return new Zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Un.fromString(e))}static fromName(e){return new ut(Un.fromString(e).popFirst(5))}static empty(){return new ut(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Un(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=-1;function Q6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Et.fromTimestamp(r===1e9?new Fn(t+1,0):new Fn(t,r));return new $o(s,ut.empty(),e)}function Z6(n){return new $o(n.readTime,n.key,Qf)}class $o{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $o(Et.min(),ut.empty(),Qf)}static max(){return new $o(Et.max(),ut.empty(),Qf)}}function $6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ut.comparator(n.documentKey,e.documentKey),t!==0?t:kt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(n){if(n.code!==Le.FAILED_PRECONDITION||n.message!==J6)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pe((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Pe?t:Pe.resolve(t)}catch(t){return Pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Pe.reject(t)}static resolve(e){return new Pe((t,r)=>{t(e)})}static reject(e){return new Pe((t,r)=>{r(e)})}static waitFor(e){return new Pe((t,r)=>{let s=0,o=0,d=!1;e.forEach(p=>{++s,p.next(()=>{++o,d&&o===s&&t()},w=>r(w))}),d=!0,o===s&&t()})}static or(e){let t=Pe.resolve(!1);for(const r of e)t=t.next(s=>s?Pe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new Pe((r,s)=>{const o=e.length,d=new Array(o);let p=0;for(let w=0;w<o;w++){const y=w;t(e[y]).next(_=>{d[y]=_,++p,p===o&&r(d)},_=>s(_))}})}static doWhile(e,t){return new Pe((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function tO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Tu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function J0(n){return n==null}function m0(n){return n===0&&1/n==-1/0}function nO(n){return typeof n=="number"&&Number.isInteger(n)&&!m0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="";function rO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vb(e)),e=iO(n.get(t),e);return Vb(e)}function iO(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case jA:t+="";break;default:t+=o}}return t}function Vb(n){return n+jA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ll(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Qr.RED,this.left=s??Qr.EMPTY,this.right=o??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Qr(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Qr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,t,r,s,o){return this}insert(e,t,r){return new Qr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cr(this.comparator);return t.data=e,t}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new es([])}unionWith(e){let t=new Cr(Zr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new es(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GA("Invalid base64 string: "+o):o}}(e);return new $r(t)}static fromUint8Array(e){const t=function(s){let o="";for(let d=0;d<s.length;++d)o+=String.fromCharCode(s[d]);return o}(e);return new $r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$r.EMPTY_BYTE_STRING=new $r("");const sO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(n){if(dn(!!n),typeof n=="string"){let e=0;const t=sO.exec(n);if(dn(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gr(n.seconds),nanos:gr(n.nanos)}}function gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function el(n){return typeof n=="string"?$r.fromBase64String(n):$r.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="server_timestamp",YA="__type__",WA="__previous_value__",XA="__local_write_time__";function Ky(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[YA])===null||t===void 0?void 0:t.stringValue)===qA}function eg(n){const e=n.mapValue.fields[WA];return Ky(e)?eg(e):e}function Zf(n){const e=Jo(n.mapValue.fields[XA].timestampValue);return new Fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,r,s,o,d,p,w,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=w,this.useFetchStreams=y}}const y0="(default)";class $f{constructor(e,t){this.projectId=e,this.database=t||y0}static empty(){return new $f("","")}get isDefaultDatabase(){return this.database===y0}isEqual(e){return e instanceof $f&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="__type__",oO="__max__",Mh={mapValue:{}},QA="__vector__",w0="value";function tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ky(n)?4:cO(n)?9007199254740991:lO(n)?10:11:yt()}function la(n,e){if(n===e)return!0;const t=tl(n);if(t!==tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zf(n).isEqual(Zf(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const d=Jo(s.timestampValue),p=Jo(o.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return el(s.bytesValue).isEqual(el(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return gr(s.geoPointValue.latitude)===gr(o.geoPointValue.latitude)&&gr(s.geoPointValue.longitude)===gr(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return gr(s.integerValue)===gr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const d=gr(s.doubleValue),p=gr(o.doubleValue);return d===p?m0(d)===m0(p):isNaN(d)&&isNaN(p)}return!1}(n,e);case 9:return uu(n.arrayValue.values||[],e.arrayValue.values||[],la);case 10:case 11:return function(s,o){const d=s.mapValue.fields||{},p=o.mapValue.fields||{};if(Ub(d)!==Ub(p))return!1;for(const w in d)if(d.hasOwnProperty(w)&&(p[w]===void 0||!la(d[w],p[w])))return!1;return!0}(n,e);default:return yt()}}function Jf(n,e){return(n.values||[]).find(t=>la(t,e))!==void 0}function fu(n,e){if(n===e)return 0;const t=tl(n),r=tl(e);if(t!==r)return kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(o,d){const p=gr(o.integerValue||o.doubleValue),w=gr(d.integerValue||d.doubleValue);return p<w?-1:p>w?1:p===w?0:isNaN(p)?isNaN(w)?0:-1:1}(n,e);case 3:return zb(n.timestampValue,e.timestampValue);case 4:return zb(Zf(n),Zf(e));case 5:return qm(n.stringValue,e.stringValue);case 6:return function(o,d){const p=el(o),w=el(d);return p.compareTo(w)}(n.bytesValue,e.bytesValue);case 7:return function(o,d){const p=o.split("/"),w=d.split("/");for(let y=0;y<p.length&&y<w.length;y++){const _=kt(p[y],w[y]);if(_!==0)return _}return kt(p.length,w.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,d){const p=kt(gr(o.latitude),gr(d.latitude));return p!==0?p:kt(gr(o.longitude),gr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jb(n.arrayValue,e.arrayValue);case 10:return function(o,d){var p,w,y,_;const A=o.fields||{},I=d.fields||{},N=(p=A[w0])===null||p===void 0?void 0:p.arrayValue,M=(w=I[w0])===null||w===void 0?void 0:w.arrayValue,k=kt(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:jb(N,M)}(n.mapValue,e.mapValue);case 11:return function(o,d){if(o===Mh.mapValue&&d===Mh.mapValue)return 0;if(o===Mh.mapValue)return 1;if(d===Mh.mapValue)return-1;const p=o.fields||{},w=Object.keys(p),y=d.fields||{},_=Object.keys(y);w.sort(),_.sort();for(let A=0;A<w.length&&A<_.length;++A){const I=qm(w[A],_[A]);if(I!==0)return I;const N=fu(p[w[A]],y[_[A]]);if(N!==0)return N}return kt(w.length,_.length)}(n.mapValue,e.mapValue);default:throw yt()}}function zb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return kt(n,e);const t=Jo(n),r=Jo(e),s=kt(t.seconds,r.seconds);return s!==0?s:kt(t.nanos,r.nanos)}function jb(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=fu(t[s],r[s]);if(o)return o}return kt(t.length,r.length)}function du(n){return Ym(n)}function Ym(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Jo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return el(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ut.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Ym(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const d of r)o?o=!1:s+=",",s+=`${d}:${Ym(t.fields[d])}`;return s+"}"}(n.mapValue):yt()}function Jh(n){switch(tl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eg(n);return e?16+Jh(e):16;case 5:return 2*n.stringValue.length;case 6:return el(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Jh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return ll(r.fields,(o,d)=>{s+=o.length+Jh(d)}),s}(n.mapValue);default:throw yt()}}function Hb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wm(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function Gb(n){return!!n&&"nullValue"in n}function qb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function e0(n){return!!n&&"mapValue"in n}function lO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KA])===null||t===void 0?void 0:t.stringValue)===QA}function Lf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ll(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Lf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.value=e}static empty(){return new Di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!e0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lf(t)}setAll(e){let t=Zr.emptyPath(),r={},s=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=p.popLast()}d?r[p.lastSegment()]=Lf(d):s.push(p.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());e0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return la(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];e0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ll(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Di(Lf(this.value))}}function ZA(n){const e=[];return ll(n.fields,(t,r)=>{const s=new Zr([t]);if(e0(r)){const o=ZA(r.mapValue).fields;if(o.length===0)e.push(s);else for(const d of o)e.push(s.child(d))}else e.push(s)}),new es(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,r,s,o,d,p){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ui(e,0,Et.min(),Et.min(),Et.min(),Di.empty(),0)}static newFoundDocument(e,t,r,s){return new ui(e,1,t,Et.min(),r,s,0)}static newNoDocument(e,t){return new ui(e,2,t,Et.min(),Et.min(),Di.empty(),0)}static newUnknownDocument(e,t){return new ui(e,3,t,Et.min(),Et.min(),Di.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,t){this.position=e,this.inclusive=t}}function Yb(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],d=n.position[s];if(o.field.isKeyField()?r=ut.comparator(ut.fromName(d.referenceValue),t.key):r=fu(d,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!la(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t="asc"){this.field=e,this.dir=t}}function uO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{}class br extends $A{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new dO(e,t,r):t==="array-contains"?new pO(e,r):t==="in"?new mO(e,r):t==="not-in"?new yO(e,r):t==="array-contains-any"?new wO(e,r):new br(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hO(e,r):new gO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fu(t,this.value)):t!==null&&tl(this.value)===tl(t)&&this.matchesComparison(fu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends $A{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Vs(e,t)}matches(e){return JA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function JA(n){return n.op==="and"}function eS(n){return fO(n)&&JA(n)}function fO(n){for(const e of n.filters)if(e instanceof Vs)return!1;return!0}function Xm(n){if(n instanceof br)return n.field.canonicalString()+n.op.toString()+du(n.value);if(eS(n))return n.filters.map(e=>Xm(e)).join(",");{const e=n.filters.map(t=>Xm(t)).join(",");return`${n.op}(${e})`}}function tS(n,e){return n instanceof br?function(r,s){return s instanceof br&&r.op===s.op&&r.field.isEqual(s.field)&&la(r.value,s.value)}(n,e):n instanceof Vs?function(r,s){return s instanceof Vs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,d,p)=>o&&tS(d,s.filters[p]),!0):!1}(n,e):void yt()}function nS(n){return n instanceof br?function(t){return`${t.field.canonicalString()} ${t.op} ${du(t.value)}`}(n):n instanceof Vs?function(t){return t.op.toString()+" {"+t.getFilters().map(nS).join(" ,")+"}"}(n):"Filter"}class dO extends br{constructor(e,t,r){super(e,t,r),this.key=ut.fromName(r.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.matchesComparison(t)}}class hO extends br{constructor(e,t){super(e,"in",t),this.keys=rS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gO extends br{constructor(e,t){super(e,"not-in",t),this.keys=rS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ut.fromName(r.referenceValue))}class pO extends br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qy(t)&&Jf(t.arrayValue,this.value)}}class mO extends br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jf(this.value.arrayValue,t)}}class yO extends br{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Jf(this.value.arrayValue,t)}}class wO extends br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t=null,r=[],s=[],o=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=d,this.endAt=p,this.le=null}}function Xb(n,e=null,t=[],r=[],s=null,o=null,d=null){return new xO(n,e,t,r,s,o,d)}function Zy(n){const e=At(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Xm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),J0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>du(r)).join(",")),e.le=t}return e.le}function $y(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!uO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wb(n.startAt,e.startAt)&&Wb(n.endAt,e.endAt)}function Km(n){return ut.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t=null,r=[],s=[],o=null,d="F",p=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=d,this.startAt=p,this.endAt=w,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vO(n,e,t,r,s,o,d,p){return new Au(n,e,t,r,s,o,d,p)}function iS(n){return new Au(n)}function Kb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sS(n){return n.collectionGroup!==null}function Bf(n){const e=At(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Cr(Zr.comparator);return d.filters.forEach(w=>{w.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new ed(o,r))}),t.has(Zr.keyField().canonicalString())||e.he.push(new ed(Zr.keyField(),r))}return e.he}function ia(n){const e=At(n);return e.Pe||(e.Pe=bO(e,Bf(n))),e.Pe}function bO(n,e){if(n.limitType==="F")return Xb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new ed(s.field,o)});const t=n.endAt?new x0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new x0(n.startAt.position,n.startAt.inclusive):null;return Xb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Qm(n,e){const t=n.filters.concat([e]);return new Au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Zm(n,e,t){return new Au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tg(n,e){return $y(ia(n),ia(e))&&n.limitType===e.limitType}function aS(n){return`${Zy(ia(n))}|lt:${n.limitType}`}function jc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>nS(s)).join(", ")}]`),J0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>du(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>du(s)).join(",")),`Target(${r})`}(ia(n))}; limitType=${n.limitType})`}function ng(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ut.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Bf(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(d,p,w){const y=Yb(d,p,w);return d.inclusive?y<=0:y<0}(r.startAt,Bf(r),s)||r.endAt&&!function(d,p,w){const y=Yb(d,p,w);return d.inclusive?y>=0:y>0}(r.endAt,Bf(r),s))}(n,e)}function EO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oS(n){return(e,t)=>{let r=!1;for(const s of Bf(n)){const o=_O(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function _O(n,e,t){const r=n.field.isKeyField()?ut.comparator(e.key,t.key):function(o,d,p){const w=d.data.field(o),y=p.data.field(o);return w!==null&&y!==null?fu(w,y):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new $n(ut.comparator);function Ka(){return TO}const lS=new $n(ut.comparator);function Nf(...n){let e=lS;for(const t of n)e=e.insert(t.key,t);return e}function cS(n){let e=lS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vl(){return Vf()}function uS(){return Vf()}function Vf(){return new Ql(n=>n.toString(),(n,e)=>n.isEqual(e))}const AO=new $n(ut.comparator),SO=new Cr(ut.comparator);function Wt(...n){let e=SO;for(const t of n)e=e.add(t);return e}const CO=new Cr(kt);function IO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m0(e)?"-0":e}}function fS(n){return{integerValue:""+n}}function RO(n,e){return nO(e)?fS(e):Jy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this._=void 0}}function NO(n,e,t){return n instanceof td?function(s,o){const d={fields:{[YA]:{stringValue:qA},[XA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Ky(o)&&(o=eg(o)),o&&(d.fields[WA]=o),{mapValue:d}}(t,e):n instanceof nd?hS(n,e):n instanceof rd?gS(n,e):function(s,o){const d=dS(s,o),p=Qb(d)+Qb(s.Ie);return Wm(d)&&Wm(s.Ie)?fS(p):Jy(s.serializer,p)}(n,e)}function MO(n,e,t){return n instanceof nd?hS(n,e):n instanceof rd?gS(n,e):t}function dS(n,e){return n instanceof v0?function(r){return Wm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class td extends rg{}class nd extends rg{constructor(e){super(),this.elements=e}}function hS(n,e){const t=pS(e);for(const r of n.elements)t.some(s=>la(s,r))||t.push(r);return{arrayValue:{values:t}}}class rd extends rg{constructor(e){super(),this.elements=e}}function gS(n,e){let t=pS(e);for(const r of n.elements)t=t.filter(s=>!la(s,r));return{arrayValue:{values:t}}}class v0 extends rg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Qb(n){return gr(n.integerValue||n.doubleValue)}function pS(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t){this.field=e,this.transform=t}}function OO(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof nd&&s instanceof nd||r instanceof rd&&s instanceof rd?uu(r.elements,s.elements,la):r instanceof v0&&s instanceof v0?la(r.Ie,s.Ie):r instanceof td&&s instanceof td}(n.transform,e.transform)}class kO{constructor(e,t){this.version=e,this.transformResults=t}}class bs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function t0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ig{}function mS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ew(n.key,bs.none()):new yd(n.key,n.data,bs.none());{const t=n.data,r=Di.empty();let s=new Cr(Zr.comparator);for(let o of e.fields)if(!s.has(o)){let d=t.field(o);d===null&&o.length>1&&(o=o.popLast(),d=t.field(o)),d===null?r.delete(o):r.set(o,d),s=s.add(o)}return new cl(n.key,r,new es(s.toArray()),bs.none())}}function PO(n,e,t){n instanceof yd?function(s,o,d){const p=s.value.clone(),w=$b(s.fieldTransforms,o,d.transformResults);p.setAll(w),o.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):n instanceof cl?function(s,o,d){if(!t0(s.precondition,o))return void o.convertToUnknownDocument(d.version);const p=$b(s.fieldTransforms,o,d.transformResults),w=o.data;w.setAll(yS(s)),w.setAll(p),o.convertToFoundDocument(d.version,w).setHasCommittedMutations()}(n,e,t):function(s,o,d){o.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Uf(n,e,t,r){return n instanceof yd?function(o,d,p,w){if(!t0(o.precondition,d))return p;const y=o.value.clone(),_=Jb(o.fieldTransforms,w,d);return y.setAll(_),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof cl?function(o,d,p,w){if(!t0(o.precondition,d))return p;const y=Jb(o.fieldTransforms,w,d),_=d.data;return _.setAll(yS(o)),_.setAll(y),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),p===null?null:p.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,r):function(o,d,p){return t0(o.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(n,e,t)}function LO(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=dS(r.transform,s||null);o!=null&&(t===null&&(t=Di.empty()),t.set(r.field,o))}return t||null}function Zb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uu(r,s,(o,d)=>OO(o,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yd extends ig{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cl extends ig{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function yS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $b(n,e,t){const r=new Map;dn(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],d=o.transform,p=e.data.field(o.field);r.set(o.field,MO(d,p,t[s]))}return r}function Jb(n,e,t){const r=new Map;for(const s of n){const o=s.transform,d=t.data.field(s.field);r.set(s.field,NO(o,d,e))}return r}class ew extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BO extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&PO(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Uf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Uf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uS();return this.mutations.forEach(s=>{const o=e.get(s.key),d=o.overlayedDocument;let p=this.applyToLocalView(d,o.mutatedFields);p=t.has(s.key)?null:p;const w=mS(d,p);w!==null&&r.set(s.key,w),d.isValidDocument()||d.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wt())}isEqual(e){return this.batchId===e.batchId&&uu(this.mutations,e.mutations,(t,r)=>Zb(t,r))&&uu(this.baseMutations,e.baseMutations,(t,r)=>Zb(t,r))}}class tw{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){dn(e.mutations.length===r.length);let s=function(){return AO}();const o=e.mutations;for(let d=0;d<o.length;d++)s=s.insert(o[d].key,r[d].version);return new tw(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr,$t;function zO(n){switch(n){case Le.OK:return yt();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return yt()}}function wS(n){if(n===void 0)return Xa("GRPC error has no .code"),Le.UNKNOWN;switch(n){case vr.OK:return Le.OK;case vr.CANCELLED:return Le.CANCELLED;case vr.UNKNOWN:return Le.UNKNOWN;case vr.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case vr.INTERNAL:return Le.INTERNAL;case vr.UNAVAILABLE:return Le.UNAVAILABLE;case vr.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case vr.NOT_FOUND:return Le.NOT_FOUND;case vr.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case vr.ABORTED:return Le.ABORTED;case vr.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case vr.DATA_LOSS:return Le.DATA_LOSS;default:return yt()}}($t=vr||(vr={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new Ko([4294967295,4294967295],0);function eE(n){const e=FA().encode(n),t=new OA;return t.update(e),new Uint8Array(t.digest())}function tE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ko([t,r],0),new Ko([s,o],0)]}class nw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mf(`Invalid padding: ${t}`);if(r<0)throw new Mf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ko.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(Ko.fromNumber(r)));return s.compare(jO)===1&&(s=new Ko([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=eE(e),[r,s]=tE(t);for(let o=0;o<this.hashCount;o++){const d=this.Ae(r,s,o);if(!this.Re(d))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),d=new nw(o,s,t);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const t=eE(e),[r,s]=tE(t);for(let o=0;o<this.hashCount;o++){const d=this.Ae(r,s,o);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,wd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sg(Et.min(),s,new $n(kt),Ka(),Wt())}}class wd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wd(r,t,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class xS{constructor(e,t){this.targetId=e,this.ge=t}}class vS{constructor(e,t,r=$r.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class nE{constructor(){this.pe=0,this.ye=rE(),this.we=$r.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Wt(),t=Wt(),r=Wt();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:yt()}}),new wd(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=rE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,dn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class HO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ka(),this.$e=Dh(),this.Ue=Dh(),this.Ke=new $n(kt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(Km(o))if(r===0){const d=new ut(o.path);this.ze(t,d,ui.newNoDocument(d,Et.min()))}else dn(r===1);else{const d=this.et(t);if(d!==r){const p=this.tt(e),w=p?this.nt(p,e,d):1;if(w!==0){this.Ye(t);const y=w===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let d,p;try{d=el(r).toUint8Array()}catch(w){if(w instanceof GA)return cu("Decoding the base64 bloom filter in existence filter failed ("+w.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw w}try{p=new nw(d,s,o)}catch(w){return cu(w instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",w),null}return p.Ee===0?null:p}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${o.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,d)=>{const p=this.Xe(d);if(p){if(o.current&&Km(p.target)){const w=new ut(p.target.path);this._t(w).has(d)||this.ut(d,w)||this.ze(d,w,ui.newNoDocument(w,e))}o.ve&&(t.set(d,o.Fe()),o.Me())}});let r=Wt();this.Ue.forEach((o,d)=>{let p=!0;d.forEachWhile(w=>{const y=this.Xe(w);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(o))}),this.Qe.forEach((o,d)=>d.setReadTime(e));const s=new sg(e,t,this.Ke,this.Qe,r);return this.Qe=Ka(),this.$e=Dh(),this.Ue=Dh(),this.Ke=new $n(kt),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new nE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Cr(kt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Cr(kt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new nE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Dh(){return new $n(ut.comparator)}function rE(){return new $n(ut.comparator)}const GO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YO={and:"AND",or:"OR"};class WO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $m(n,e){return n.useProto3Json||J0(e)?e:{value:e}}function b0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function XO(n,e){return b0(n,e.toTimestamp())}function sa(n){return dn(!!n),Et.fromTimestamp(function(t){const r=Jo(t);return new Fn(r.seconds,r.nanos)}(n))}function rw(n,e){return Jm(n,e).canonicalString()}function Jm(n,e){const t=function(s){return new Un(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ES(n){const e=Un.fromString(n);return dn(CS(e)),e}function ey(n,e){return rw(n.databaseId,e.path)}function kp(n,e){const t=ES(e);if(t.get(1)!==n.databaseId.projectId)throw new Je(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Je(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(TS(t))}function _S(n,e){return rw(n.databaseId,e)}function KO(n){const e=ES(n);return e.length===4?Un.emptyPath():TS(e)}function ty(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TS(n){return dn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function iE(n,e,t){return{name:ey(n,e),fields:t.value.mapValue.fields}}function QO(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(y,_){return y.useProto3Json?(dn(_===void 0||typeof _=="string"),$r.fromBase64String(_||"")):(dn(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),$r.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const _=y.code===void 0?Le.UNKNOWN:wS(y.code);return new Je(_,y.message||"")}(d);t=new vS(r,s,o,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=kp(n,r.document.name),o=sa(r.document.updateTime),d=r.document.createTime?sa(r.document.createTime):Et.min(),p=new Di({mapValue:{fields:r.document.fields}}),w=ui.newFoundDocument(s,o,d,p),y=r.targetIds||[],_=r.removedTargetIds||[];t=new n0(y,_,w.key,w)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=kp(n,r.document),o=r.readTime?sa(r.readTime):Et.min(),d=ui.newNoDocument(s,o),p=r.removedTargetIds||[];t=new n0([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=kp(n,r.document),o=r.removedTargetIds||[];t=new n0([],o,s,null)}else{if(!("filter"in e))return yt();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,d=new FO(s,o),p=r.targetId;t=new xS(p,d)}}return t}function ZO(n,e){let t;if(e instanceof yd)t={update:iE(n,e.key,e.value)};else if(e instanceof ew)t={delete:ey(n,e.key)};else if(e instanceof cl)t={update:iE(n,e.key,e.data),updateMask:a5(e.fieldMask)};else{if(!(e instanceof BO))return yt();t={verify:ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,d){const p=d.transform;if(p instanceof td)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nd)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof rd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof v0)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:XO(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(n,e.precondition)),t}function $O(n,e){return n&&n.length>0?(dn(e!==void 0),n.map(t=>function(s,o){let d=s.updateTime?sa(s.updateTime):sa(o);return d.isEqual(Et.min())&&(d=sa(o)),new kO(d,s.transformResults||[])}(t,e))):[]}function JO(n,e){return{documents:[_S(n,e.path)]}}function e5(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_S(n,s);const o=function(y){if(y.length!==0)return SS(Vs.create(y,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const d=function(y){if(y.length!==0)return y.map(_=>function(I){return{field:Hc(I.field),direction:r5(I.dir)}}(_))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=$m(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:s}}function t5(n){let e=KO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){dn(r===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let o=[];t.where&&(o=function(A){const I=AS(A);return I instanceof Vs&&eS(I)?I.getFilters():[I]}(t.where));let d=[];t.orderBy&&(d=function(A){return A.map(I=>function(M){return new ed(Gc(M.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(t.orderBy));let p=null;t.limit&&(p=function(A){let I;return I=typeof A=="object"?A.value:A,J0(I)?null:I}(t.limit));let w=null;t.startAt&&(w=function(A){const I=!!A.before,N=A.values||[];return new x0(N,I)}(t.startAt));let y=null;return t.endAt&&(y=function(A){const I=!A.before,N=A.values||[];return new x0(N,I)}(t.endAt)),vO(e,s,d,o,p,"F",w,y)}function n5(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Gc(t.unaryFilter.field);return br.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Gc(t.unaryFilter.field);return br.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gc(t.unaryFilter.field);return br.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Gc(t.unaryFilter.field);return br.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(n):n.fieldFilter!==void 0?function(t){return br.create(Gc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vs.create(t.compositeFilter.filters.map(r=>AS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return yt()}}(t.compositeFilter.op))}(n):yt()}function r5(n){return GO[n]}function i5(n){return qO[n]}function s5(n){return YO[n]}function Hc(n){return{fieldPath:n.canonicalString()}}function Gc(n){return Zr.fromServerFormat(n.fieldPath)}function SS(n){return n instanceof br?function(t){if(t.op==="=="){if(qb(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NAN"}};if(Gb(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qb(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NAN"}};if(Gb(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(t.field),op:i5(t.op),value:t.value}}}(n):n instanceof Vs?function(t){const r=t.getFilters().map(s=>SS(s));return r.length===1?r[0]:{compositeFilter:{op:s5(t.op),filters:r}}}(n):yt()}function a5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t,r,s,o=Et.min(),d=Et.min(),p=$r.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=w}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.Tt=e}}function l5(n){const e=t5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.Tn=new u5}addToCollectionParentIndex(e,t){return this.Tn.add(t),Pe.resolve()}getCollectionParents(e,t){return Pe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Pe.resolve()}deleteFieldIndex(e,t){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,t){return Pe.resolve()}getDocumentsMatchingTarget(e,t){return Pe.resolve(null)}getIndexType(e,t){return Pe.resolve(0)}getFieldIndexes(e,t){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,t){return Pe.resolve($o.min())}getMinOffsetFromCollectionGroup(e,t){return Pe.resolve($o.min())}updateCollectionGroup(e,t,r){return Pe.resolve()}updateIndexEntries(e,t){return Pe.resolve()}}class u5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Cr(Un.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Cr(Un.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IS=41943040;class Mi{static withCacheSize(e){return new Mi(e,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi.DEFAULT_COLLECTION_PERCENTILE=10,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mi.DEFAULT=new Mi(IS,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mi.DISABLED=new Mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new hu(0)}static Kn(){return new hu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",f5=1048576;function oE([n,e],[t,r]){const s=kt(n,t);return s===0?kt(e,r):s}class d5{constructor(e){this.Hn=e,this.buffer=new Cr(oE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class h5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ze(aE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Tu(t)?Ze(aE,"Ignoring IndexedDB error during garbage collection: ",t):await _u(t)}await this.er(3e5)})}}class g5{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Pe.resolve($0.ae);const r=new d5(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(sE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,o,d,p,w,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,d=Date.now(),this.nthSequenceNumber(e,s))).next(A=>(r=A,p=Date.now(),this.removeTargets(e,r,t))).next(A=>(o=A,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(y=Date.now(),zc()<=qt.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${s} in `+(p-d)+`ms
	Removed ${o} targets in `+(w-p)+`ms
	Removed ${A} documents in `+(y-w)+`ms
Total Duration: ${y-_}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A})))}}function p5(n,e){return new g5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.changes=new Ql(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Uf(r.mutation,s,es.empty(),Fn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Wt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Wt()){const s=Vl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let d=Nf();return o.forEach((p,w)=>{d=d.insert(p,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Vl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Wt()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,s){let o=Ka();const d=Vf(),p=function(){return Vf()}();return t.forEach((w,y)=>{const _=r.get(y.key);s.has(y.key)&&(_===void 0||_.mutation instanceof cl)?o=o.insert(y.key,y):_!==void 0?(d.set(y.key,_.mutation.getFieldMask()),Uf(_.mutation,y,_.mutation.getFieldMask(),Fn.now())):d.set(y.key,es.empty())}),this.recalculateAndSaveOverlays(e,o).next(w=>(w.forEach((y,_)=>d.set(y,_)),t.forEach((y,_)=>{var A;return p.set(y,new y5(_,(A=d.get(y))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Vf();let s=new $n((d,p)=>d-p),o=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(w=>{const y=t.get(w);if(y===null)return;let _=r.get(w)||es.empty();_=p.applyToLocalView(y,_),r.set(w,_);const A=(s.get(p.batchId)||Wt()).add(w);s=s.insert(p.batchId,A)})}).next(()=>{const d=[],p=s.getReverseIterator();for(;p.hasNext();){const w=p.getNext(),y=w.key,_=w.value,A=uS();_.forEach(I=>{if(!o.has(I)){const N=mS(t.get(I),r.get(I));N!==null&&A.set(I,N),o=o.add(I)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,A))}return Pe.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const d=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Pe.resolve(Vl());let p=Qf,w=o;return d.next(y=>Pe.forEach(y,(_,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),o.get(_)?Pe.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{w=w.insert(_,I)}))).next(()=>this.populateOverlays(e,y,o)).next(()=>this.computeViews(e,w,y,Wt())).next(_=>({batchId:p,changes:cS(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ut(t)).next(r=>{let s=Nf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let d=Nf();return this.indexManager.getCollectionParents(e,o).next(p=>Pe.forEach(p,w=>{const y=function(A,I){return new Au(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,w.child(o));return this.getDocumentsMatchingCollectionQuery(e,y,r,s).next(_=>{_.forEach((A,I)=>{d=d.insert(A,I)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(o=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(d=>{o.forEach((w,y)=>{const _=y.getKey();d.get(_)===null&&(d=d.insert(_,ui.newInvalidDocument(_)))});let p=Nf();return d.forEach((w,y)=>{const _=o.get(w);_!==void 0&&Uf(_.mutation,y,es.empty(),Fn.now()),ng(t,y)&&(p=p.insert(w,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Pe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:sa(s.createTime)}}(t)),Pe.resolve()}getNamedQuery(e,t){return Pe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:l5(s.bundledQuery),readTime:sa(s.readTime)}}(t)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.overlays=new $n(ut.comparator),this.Rr=new Map}getOverlay(e,t){return Pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vl();return Pe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.Et(e,t,o)}),Pe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Pe.resolve()}getOverlaysForCollection(e,t,r){const s=Vl(),o=t.length+1,d=new ut(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const w=p.getNext().value,y=w.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&w.largestBatchId>r&&s.set(w.getKey(),w)}return Pe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new $n((y,_)=>y-_);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let _=o.get(y.largestBatchId);_===null&&(_=Vl(),o=o.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const p=Vl(),w=o.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((y,_)=>p.set(y,_)),!(p.size()>=s)););return Pe.resolve(p)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const d=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new UO(t,r));let o=this.Rr.get(t);o===void 0&&(o=Wt(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.sessionToken=$r.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.Vr=new Cr(Br.mr),this.gr=new Cr(Br.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Br(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Br(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ut(new Un([])),r=new Br(t,e),s=new Br(t,e+1),o=[];return this.gr.forEachInRange([r,s],d=>{this.wr(d),o.push(d.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ut(new Un([])),r=new Br(t,e),s=new Br(t,e+1);let o=Wt();return this.gr.forEachInRange([r,s],d=>{o=o.add(d.key)}),o}containsKey(e){const t=new Br(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ut.comparator(e.key,t.key)||kt(e.Cr,t.Cr)}static pr(e,t){return kt(e.Cr,t.Cr)||ut.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Cr(Br.mr)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VO(o,t,r,s);this.mutationQueue.push(d);for(const p of s)this.Mr=this.Mr.add(new Br(p.key,o)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Pe.resolve(d)}lookupMutationBatch(e,t){return Pe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),o=s<0?0:s;return Pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?Xy:this.Fr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),s=new Br(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,s],d=>{const p=this.Or(d.Cr);o.push(p)}),Pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cr(kt);return t.forEach(s=>{const o=new Br(s,0),d=new Br(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,d],p=>{r=r.add(p.Cr)})}),Pe.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;ut.isDocumentKey(o)||(o=o.child(""));const d=new Br(new ut(o),0);let p=new Cr(kt);return this.Mr.forEachWhile(w=>{const y=w.key.path;return!!r.isPrefixOf(y)&&(y.length===s&&(p=p.add(w.Cr)),!0)},d),Pe.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){dn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Pe.forEach(t.mutations,s=>{const o=new Br(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Br(t,0),s=this.Mr.firstAfterOrEqual(r);return Pe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.kr=e,this.docs=function(){return new $n(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,d=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Pe.resolve(r?r.document.mutableCopy():ui.newInvalidDocument(t))}getEntries(e,t){let r=Ka();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ui.newInvalidDocument(s))}),Pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Ka();const d=t.path,p=new ut(d.child("__id-9223372036854775808__")),w=this.docs.getIteratorFrom(p);for(;w.hasNext();){const{key:y,value:{document:_}}=w.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||$6(Z6(_),r)<=0||(s.has(_.key)||ng(t,_))&&(o=o.insert(_.key,_.mutableCopy()))}return Pe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){yt()}qr(e,t){return Pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new T5(this)}getSize(e){return Pe.resolve(this.size)}}class T5 extends m5{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Pe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.persistence=e,this.Qr=new Ql(t=>Zy(t),$y),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new iw,this.targetCount=0,this.Kr=hu.Un()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Pe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new hu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Pe.resolve()}updateTargetData(e,t){return this.zn(t),Pe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.Qr.delete(d),o.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),Pe.waitFor(o).next(()=>s)}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Pe.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),Pe.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(d=>{o.push(s.markPotentiallyOrphaned(e,d))}),Pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return Pe.resolve(r)}containsKey(e,t){return Pe.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new $0(0),this.zr=!1,this.zr=!0,this.jr=new b5,this.referenceDelegate=e(this),this.Hr=new A5(this),this.indexManager=new c5,this.remoteDocumentCache=function(s){return new _5(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new o5(t),this.Yr=new x5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new v5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new E5(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const s=new S5(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return Pe.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class S5 extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class sw{constructor(e){this.persistence=e,this.ti=new iw,this.ni=null}static ri(e){return new sw(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Pe.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Pe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.ii,r=>{const s=ut.fromPath(r);return this.si(e,s).next(o=>{o||t.removeEntry(s,Et.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Pe.or([()=>Pe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class E0{constructor(e,t){this.persistence=e,this.oi=new Ql(r=>rO(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=p5(this,t)}static ri(e,t){return new E0(e,t)}Zr(){}Xr(e){return Pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Pe.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(o=>o?Pe.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,d=>this.ar(e,d,t).next(p=>{p||(r++,o.removeEntry(d,Et.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Pe.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Pe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jh(e.data.value)),t}ar(e,t,r){return Pe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return Pe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Wt(),s=Wt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new aw(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return aM()?8:tO(fi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.rs(e,t).next(d=>{o.result=d}).next(()=>{if(!o.result)return this.ss(e,t,s,r).next(d=>{o.result=d})}).next(()=>{if(o.result)return;const d=new C5;return this._s(e,t,d).next(p=>{if(o.result=p,this.Xi)return this.us(e,t,d,p.size)})}).next(()=>o.result)}us(e,t,r,s){return r.documentReadCount<this.es?(zc()<=qt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",jc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Pe.resolve()):(zc()<=qt.DEBUG&&Ze("QueryEngine","Query:",jc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(zc()<=qt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",jc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ia(t))):Pe.resolve())}rs(e,t){if(Kb(t))return Pe.resolve(null);let r=ia(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Zm(t,null,"F"),r=ia(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const d=Wt(...o);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(w=>{const y=this.cs(t,p);return this.ls(t,y,d,w.readTime)?this.rs(e,Zm(t,null,"F")):this.hs(e,y,t,w)}))})))}ss(e,t,r,s){return Kb(t)||s.isEqual(Et.min())?Pe.resolve(null):this.ns.getDocuments(e,r).next(o=>{const d=this.cs(t,o);return this.ls(t,d,r,s)?Pe.resolve(null):(zc()<=qt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jc(t)),this.hs(e,d,t,Q6(s,Qf)).next(p=>p))})}cs(e,t){let r=new Cr(oS(e));return t.forEach((s,o)=>{ng(e,o)&&(r=r.add(o))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,r){return zc()<=qt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",jc(t)),this.ns.getDocumentsMatchingQuery(e,t,$o.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(d=>{o=o.insert(d.key,d)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="LocalStore",R5=3e8;class N5{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new $n(kt),this.Is=new Ql(o=>Zy(o),$y),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function M5(n,e,t,r){return new N5(n,e,t,r)}async function NS(n,e){const t=At(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const d=[],p=[];let w=Wt();for(const y of s){d.push(y.batchId);for(const _ of y.mutations)w=w.add(_.key)}for(const y of o){p.push(y.batchId);for(const _ of y.mutations)w=w.add(_.key)}return t.localDocuments.getDocuments(r,w).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:p}))})})}function D5(n,e){const t=At(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,w,y,_){const A=y.batch,I=A.keys();let N=Pe.resolve();return I.forEach(M=>{N=N.next(()=>_.getEntry(w,M)).next(k=>{const H=y.docVersions.get(M);dn(H!==null),k.version.compareTo(H)<0&&(A.applyToRemoteDocument(k,y),k.isValidDocument()&&(k.setReadTime(y.commitVersion),_.addEntry(k)))})}),N.next(()=>p.mutationQueue.removeMutationBatch(w,A))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let w=Wt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(w=w.add(p.batch.mutations[y].key));return w}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function MS(n){const e=At(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function O5(n,e){const t=At(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const p=[];e.targetChanges.forEach((_,A)=>{const I=s.get(A);if(!I)return;p.push(t.Hr.removeMatchingKeys(o,_.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(o,_.addedDocuments,A)));let N=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?N=N.withResumeToken($r.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,r)),s=s.insert(A,N),function(k,H,F){return k.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=R5?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(I,N,_)&&p.push(t.Hr.updateTargetData(o,N))});let w=Ka(),y=Wt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(o,_))}),p.push(k5(o,d,e.documentUpdates).next(_=>{w=_.Vs,y=_.fs})),!r.isEqual(Et.min())){const _=t.Hr.getLastRemoteSnapshotVersion(o).next(A=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));p.push(_)}return Pe.waitFor(p).next(()=>d.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,w,y)).next(()=>w)}).then(o=>(t.Ts=s,o))}function k5(n,e,t){let r=Wt(),s=Wt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let d=Ka();return t.forEach((p,w)=>{const y=o.get(p);w.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(p)),w.isNoDocument()&&w.version.isEqual(Et.min())?(e.removeEntry(p,w.readTime),d=d.insert(p,w)):!y.isValidDocument()||w.version.compareTo(y.version)>0||w.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(w),d=d.insert(p,w)):Ze(ow,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",w.version)}),{Vs:d,fs:s}})}function P5(n,e){const t=At(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L5(n,e){const t=At(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(o=>o?(s=o,Pe.resolve(s)):t.Hr.allocateTargetId(r).next(d=>(s=new Go(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function ny(n,e,t){const r=At(n),s=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,d=>r.persistence.referenceDelegate.removeTarget(d,s))}catch(d){if(!Tu(d))throw d;Ze(ow,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function lE(n,e,t){const r=At(n);let s=Et.min(),o=Wt();return r.persistence.runTransaction("Execute query","readwrite",d=>function(w,y,_){const A=At(w),I=A.Is.get(_);return I!==void 0?Pe.resolve(A.Ts.get(I)):A.Hr.getTargetData(y,_)}(r,d,ia(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,p.targetId).next(w=>{o=w})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,t?s:Et.min(),t?o:Wt())).next(p=>(B5(r,EO(e),p),{documents:p,gs:o})))}function B5(n,e,t){let r=n.Es.get(e)||Et.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class cE{constructor(){this.activeTargetIds=IO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V5{constructor(){this.ho=new cE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new cE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class fE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ze(uE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ze(uE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function ry(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",F5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===y0?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,o){const d=ry(),p=this.bo(e,t.toUriEncodedString());Ze(Pp,`Sending RPC '${e}' ${d}:`,p,r);const w={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(w,s,o),this.vo(e,p,w,r).then(y=>(Ze(Pp,`Received RPC '${e}' ${d}: `,y),y),y=>{throw cu(Pp,`RPC '${e}' ${d} failed with error: `,y,"url: ",p,"request:",r),y})}Co(e,t,r,s,o,d){return this.So(e,t,r,s,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const r=F5[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="WebChannelConnection";class H5 extends z5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const o=ry();return new Promise((d,p)=>{const w=new kA;w.setWithCredentials(!0),w.listenOnce(PA.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case $h.NO_ERROR:const _=w.getResponseJson();Ze(li,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(_)),d(_);break;case $h.TIMEOUT:Ze(li,`RPC '${e}' ${o} timed out`),p(new Je(Le.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const A=w.getStatus();if(Ze(li,`RPC '${e}' ${o} failed with status:`,A,"response text:",w.getResponseText()),A>0){let I=w.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const M=function(H){const F=H.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(F)>=0?F:Le.UNKNOWN}(N.status);p(new Je(M,N.message))}else p(new Je(Le.UNKNOWN,"Server responded with status "+w.getStatus()))}else p(new Je(Le.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Ze(li,`RPC '${e}' ${o} completed.`)}});const y=JSON.stringify(s);Ze(li,`RPC '${e}' ${o} sending request:`,s),w.send(t,"POST",y,r,15)})}Wo(e,t,r){const s=ry(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=VA(),p=BA(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(w.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(w.useFetchStreams=!0),this.Do(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const _=o.join("");Ze(li,`Creating RPC '${e}' stream ${s}: ${_}`,w);const A=d.createWebChannel(_,w);let I=!1,N=!1;const M=new j5({Fo:H=>{N?Ze(li,`Not sending because RPC '${e}' stream ${s} is closed:`,H):(I||(Ze(li,`Opening RPC '${e}' stream ${s} transport.`),A.open(),I=!0),Ze(li,`RPC '${e}' stream ${s} sending:`,H),A.send(H))},Mo:()=>A.close()}),k=(H,F,G)=>{H.listen(F,B=>{try{G(B)}catch(Z){setTimeout(()=>{throw Z},0)}})};return k(A,Rf.EventType.OPEN,()=>{N||(Ze(li,`RPC '${e}' stream ${s} transport opened.`),M.Qo())}),k(A,Rf.EventType.CLOSE,()=>{N||(N=!0,Ze(li,`RPC '${e}' stream ${s} transport closed`),M.Uo())}),k(A,Rf.EventType.ERROR,H=>{N||(N=!0,cu(li,`RPC '${e}' stream ${s} transport errored:`,H),M.Uo(new Je(Le.UNAVAILABLE,"The operation could not be completed")))}),k(A,Rf.EventType.MESSAGE,H=>{var F;if(!N){const G=H.data[0];dn(!!G);const B=G,Z=(B==null?void 0:B.error)||((F=B[0])===null||F===void 0?void 0:F.error);if(Z){Ze(li,`RPC '${e}' stream ${s} received error:`,Z);const re=Z.status;let se=function(O){const W=vr[O];if(W!==void 0)return wS(W)}(re),V=Z.message;se===void 0&&(se=Le.INTERNAL,V="Unknown error status: "+re+" with message "+Z.message),N=!0,M.Uo(new Je(se,V)),A.close()}else Ze(li,`RPC '${e}' stream ${s} received:`,G),M.Ko(G)}}),k(p,LA.STAT_EVENT,H=>{H.stat===Gm.PROXY?Ze(li,`RPC '${e}' stream ${s} detected buffering proxy`):H.stat===Gm.NOPROXY&&Ze(li,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(n){return new WO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&Ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class OS{constructor(e,t,r,s,o,d,p,w){this.Ti=e,this.n_=r,this.r_=s,this.connection=o,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=w,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new DS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Le.RESOURCE_EXHAUSTED?(Xa(t.toString()),Xa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new Je(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ze(dE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ze(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G5 extends OS{constructor(e,t,r,s,o,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=QO(this.serializer,e),r=function(o){if(!("targetChange"in o))return Et.min();const d=o.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?sa(d.readTime):Et.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=ty(this.serializer),t.addTarget=function(o,d){let p;const w=d.target;if(p=Km(w)?{documents:JO(o,w)}:{query:e5(o,w).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=bS(o,d.resumeToken);const y=$m(o,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=b0(o,d.snapshotVersion.toTimestamp());const y=$m(o,d.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const r=n5(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=ty(this.serializer),t.removeTarget=e,this.I_(t)}}class q5 extends OS{constructor(e,t,r,s,o,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return dn(!!e.streamToken),this.lastStreamToken=e.streamToken,dn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=$O(e.writeResults,e.commitTime),r=sa(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=ty(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ZO(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{}class W5 extends Y5{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Je(Le.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,d])=>this.connection.So(e,Jm(t,r),s,o,d)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(Le.UNKNOWN,o.toString())})}Co(e,t,r,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,Jm(t,r),s,d,p,o)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Je(Le.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class X5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xa(t),this.N_=!1):Ze("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="RemoteStore";class K5{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(d=>{r.enqueueAndForget(async()=>{Zl(this)&&(Ze(Yl,"Restarting streams for network reachability change."),await async function(w){const y=At(w);y.W_.add(4),await xd(y),y.j_.set("Unknown"),y.W_.delete(4),await og(y)}(this))})}),this.j_=new X5(r,s)}}async function og(n){if(Zl(n))for(const e of n.G_)await e(!0)}async function xd(n){for(const e of n.G_)await e(!1)}function kS(n,e){const t=At(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),fw(t)?uw(t):Su(t).c_()&&cw(t,e))}function lw(n,e){const t=At(n),r=Su(t);t.K_.delete(e),r.c_()&&PS(t,e),t.K_.size===0&&(r.c_()?r.P_():Zl(t)&&t.j_.set("Unknown"))}function cw(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Su(n).y_(e)}function PS(n,e){n.H_.Ne(e),Su(n).w_(e)}function uw(n){n.H_=new HO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Su(n).start(),n.j_.B_()}function fw(n){return Zl(n)&&!Su(n).u_()&&n.K_.size>0}function Zl(n){return At(n).W_.size===0}function LS(n){n.H_=void 0}async function Q5(n){n.j_.set("Online")}async function Z5(n){n.K_.forEach((e,t)=>{cw(n,e)})}async function $5(n,e){LS(n),fw(n)?(n.j_.q_(e),uw(n)):n.j_.set("Unknown")}async function J5(n,e,t){if(n.j_.set("Online"),e instanceof vS&&e.state===2&&e.cause)try{await async function(s,o){const d=o.cause;for(const p of o.targetIds)s.K_.has(p)&&(await s.remoteSyncer.rejectListen(p,d),s.K_.delete(p),s.H_.removeTarget(p))}(n,e)}catch(r){Ze(Yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _0(n,r)}else if(e instanceof n0?n.H_.We(e):e instanceof xS?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Et.min()))try{const r=await MS(n.localStore);t.compareTo(r)>=0&&await function(o,d){const p=o.H_.ot(d);return p.targetChanges.forEach((w,y)=>{if(w.resumeToken.approximateByteSize()>0){const _=o.K_.get(y);_&&o.K_.set(y,_.withResumeToken(w.resumeToken,d))}}),p.targetMismatches.forEach((w,y)=>{const _=o.K_.get(w);if(!_)return;o.K_.set(w,_.withResumeToken($r.EMPTY_BYTE_STRING,_.snapshotVersion)),PS(o,w);const A=new Go(_.target,w,y,_.sequenceNumber);cw(o,A)}),o.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(r){Ze(Yl,"Failed to raise snapshot:",r),await _0(n,r)}}async function _0(n,e,t){if(!Tu(e))throw e;n.W_.add(1),await xd(n),n.j_.set("Offline"),t||(t=()=>MS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ze(Yl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await og(n)})}function BS(n,e){return e().catch(t=>_0(n,t,e))}async function lg(n){const e=At(n),t=nl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Xy;for(;ek(e);)try{const s=await P5(e.localStore,r);if(s===null){e.U_.length===0&&t.P_();break}r=s.batchId,tk(e,s)}catch(s){await _0(e,s)}VS(e)&&US(e)}function ek(n){return Zl(n)&&n.U_.length<10}function tk(n,e){n.U_.push(e);const t=nl(n);t.c_()&&t.S_&&t.b_(e.mutations)}function VS(n){return Zl(n)&&!nl(n).u_()&&n.U_.length>0}function US(n){nl(n).start()}async function nk(n){nl(n).C_()}async function rk(n){const e=nl(n);for(const t of n.U_)e.b_(t.mutations)}async function ik(n,e,t){const r=n.U_.shift(),s=tw.from(r,e,t);await BS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await lg(n)}async function sk(n,e){e&&nl(n).S_&&await async function(r,s){if(function(d){return zO(d)&&d!==Le.ABORTED}(s.code)){const o=r.U_.shift();nl(r).h_(),await BS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await lg(r)}}(n,e),VS(n)&&US(n)}async function hE(n,e){const t=At(n);t.asyncQueue.verifyOperationInProgress(),Ze(Yl,"RemoteStore received new credentials");const r=Zl(t);t.W_.add(3),await xd(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await og(t)}async function ak(n,e){const t=At(n);e?(t.W_.delete(2),await og(t)):e||(t.W_.add(2),await xd(t),t.j_.set("Unknown"))}function Su(n){return n.J_||(n.J_=function(t,r,s){const o=At(t);return o.M_(),new G5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:Q5.bind(null,n),No:Z5.bind(null,n),Lo:$5.bind(null,n),p_:J5.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),fw(n)?uw(n):n.j_.set("Unknown")):(await n.J_.stop(),LS(n))})),n.J_}function nl(n){return n.Y_||(n.Y_=function(t,r,s){const o=At(t);return o.M_(),new q5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:nk.bind(null,n),Lo:sk.bind(null,n),D_:rk.bind(null,n),v_:ik.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await lg(n)):(await n.Y_.stop(),n.U_.length>0&&(Ze(Yl,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const d=Date.now()+r,p=new dw(e,t,d,s,o);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hw(n,e){if(Xa("AsyncQueue",`${e}: ${n}`),Tu(n))return new Je(Le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{static emptySet(e){return new eu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ut.comparator(t.key,r.key):(t,r)=>ut.comparator(t.key,r.key),this.keyedMap=Nf(),this.sortedSet=new $n(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.Z_=new $n(ut.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class gu{constructor(e,t,r,s,o,d,p,w,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=w,this.hasCachedResults=y}static fromInitialDocuments(e,t,r,s,o){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new gu(e,t,eu.emptySet(t),d,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class lk{constructor(){this.queries=pE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=At(t),o=s.queries;s.queries=pE(),o.forEach((d,p)=>{for(const w of p.ta)w.onError(r)})})(this,new Je(Le.ABORTED,"Firestore shutting down"))}}function pE(){return new Ql(n=>aS(n),tg)}async function ck(n,e){const t=At(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(r=2):(o=new ok,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(d){const p=hw(d,`Initialization of query '${jc(e.query)}' failed`);return void e.onError(p)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&gw(t)}async function uk(n,e){const t=At(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const d=o.ta.indexOf(e);d>=0&&(o.ta.splice(d,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function fk(n,e){const t=At(n);let r=!1;for(const s of e){const o=s.query,d=t.queries.get(o);if(d){for(const p of d.ta)p.oa(s)&&(r=!0);d.ea=s}}r&&gw(t)}function dk(n,e,t){const r=At(n),s=r.queries.get(e);if(s)for(const o of s.ta)o.onError(t);r.queries.delete(e)}function gw(n){n.ia.forEach(e=>{e.next()})}var iy,mE;(mE=iy||(iy={}))._a="default",mE.Cache="cache";class hk{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.key=e}}class zS{constructor(e){this.key=e}}class gk{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Wt(),this.mutatedKeys=Wt(),this.ya=oS(e),this.wa=new eu(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new gE,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,d=s,p=!1;const w=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,A)=>{const I=s.get(_),N=ng(this.query,A)?A:null,M=!!I&&this.mutatedKeys.has(I.key),k=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let H=!1;I&&N?I.data.isEqual(N.data)?M!==k&&(r.track({type:3,doc:N}),H=!0):this.va(I,N)||(r.track({type:2,doc:N}),H=!0,(w&&this.ya(N,w)>0||y&&this.ya(N,y)<0)&&(p=!0)):!I&&N?(r.track({type:0,doc:N}),H=!0):I&&!N&&(r.track({type:1,doc:I}),H=!0,(w||y)&&(p=!0)),H&&(N?(d=d.add(N),o=k?o.add(_):o.delete(_)):(d=d.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),o=o.delete(_.key),r.track({type:1,doc:_})}return{wa:d,Da:r,ls:p,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((_,A)=>function(N,M){const k=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return k(N)-k(M)}(_.type,A.type)||this.ya(_.doc,A.doc)),this.Ca(r),s=s!=null&&s;const p=t&&!s?this.Fa():[],w=this.pa.size===0&&this.current&&!s?1:0,y=w!==this.ga;return this.ga=w,d.length!==0||y?{snapshot:new gu(this.query,e.wa,o,d,e.mutatedKeys,w===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new gE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Wt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new zS(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new FS(r))}),t}Oa(e){this.fa=e.gs,this.pa=Wt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return gu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pw="SyncEngine";class pk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mk{constructor(e){this.key=e,this.Ba=!1}}class yk{constructor(e,t,r,s,o,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ql(p=>aS(p),tg),this.qa=new Map,this.Qa=new Set,this.$a=new $n(ut.comparator),this.Ua=new Map,this.Ka=new iw,this.Wa={},this.Ga=new Map,this.za=hu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function wk(n,e,t=!0){const r=WS(n);let s;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await jS(r,e,t,!0),s}async function xk(n,e){const t=WS(n);await jS(t,e,!0,!1)}async function jS(n,e,t,r){const s=await L5(n.localStore,ia(e)),o=s.targetId,d=n.sharedClientState.addLocalQueryTarget(o,t);let p;return r&&(p=await vk(n,e,o,d==="current",s.resumeToken)),n.isPrimaryClient&&t&&kS(n.remoteStore,s),p}async function vk(n,e,t,r,s){n.Ha=(A,I,N)=>async function(k,H,F,G){let B=H.view.ba(F);B.ls&&(B=await lE(k.localStore,H.query,!1).then(({documents:V})=>H.view.ba(V,B)));const Z=G&&G.targetChanges.get(H.targetId),re=G&&G.targetMismatches.get(H.targetId)!=null,se=H.view.applyChanges(B,k.isPrimaryClient,Z,re);return wE(k,H.targetId,se.Ma),se.snapshot}(n,A,I,N);const o=await lE(n.localStore,e,!0),d=new gk(e,o.gs),p=d.ba(o.documents),w=wd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),y=d.applyChanges(p,n.isPrimaryClient,w);wE(n,t,y.Ma);const _=new pk(e,t,d);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function bk(n,e,t){const r=At(n),s=r.ka.get(e),o=r.qa.get(s.targetId);if(o.length>1)return r.qa.set(s.targetId,o.filter(d=>!tg(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ny(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&lw(r.remoteStore,s.targetId),sy(r,s.targetId)}).catch(_u)):(sy(r,s.targetId),await ny(r.localStore,s.targetId,!0))}async function Ek(n,e){const t=At(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lw(t.remoteStore,r.targetId))}async function _k(n,e,t){const r=Nk(n);try{const s=await function(d,p){const w=At(d),y=Fn.now(),_=p.reduce((N,M)=>N.add(M.key),Wt());let A,I;return w.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=Ka(),k=Wt();return w.ds.getEntries(N,_).next(H=>{M=H,M.forEach((F,G)=>{G.isValidDocument()||(k=k.add(F))})}).next(()=>w.localDocuments.getOverlayedDocuments(N,M)).next(H=>{A=H;const F=[];for(const G of p){const B=LO(G,A.get(G.key).overlayedDocument);B!=null&&F.push(new cl(G.key,B,ZA(B.value.mapValue),bs.exists(!0)))}return w.mutationQueue.addMutationBatch(N,y,F,p)}).next(H=>{I=H;const F=H.applyToLocalDocumentSet(A,k);return w.documentOverlayCache.saveOverlays(N,H.batchId,F)})}).then(()=>({batchId:I.batchId,changes:cS(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(d,p,w){let y=d.Wa[d.currentUser.toKey()];y||(y=new $n(kt)),y=y.insert(p,w),d.Wa[d.currentUser.toKey()]=y}(r,s.batchId,t),await vd(r,s.changes),await lg(r.remoteStore)}catch(s){const o=hw(s,"Failed to persist write");t.reject(o)}}async function HS(n,e){const t=At(n);try{const r=await O5(t.localStore,e);e.targetChanges.forEach((s,o)=>{const d=t.Ua.get(o);d&&(dn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.Ba=!0:s.modifiedDocuments.size>0?dn(d.Ba):s.removedDocuments.size>0&&(dn(d.Ba),d.Ba=!1))}),await vd(t,r,e)}catch(r){await _u(r)}}function yE(n,e,t){const r=At(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((o,d)=>{const p=d.view.sa(e);p.snapshot&&s.push(p.snapshot)}),function(d,p){const w=At(d);w.onlineState=p;let y=!1;w.queries.forEach((_,A)=>{for(const I of A.ta)I.sa(p)&&(y=!0)}),y&&gw(w)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tk(n,e,t){const r=At(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ua.get(e),o=s&&s.key;if(o){let d=new $n(ut.comparator);d=d.insert(o,ui.newNoDocument(o,Et.min()));const p=Wt().add(o),w=new sg(Et.min(),new Map,new $n(kt),d,p);await HS(r,w),r.$a=r.$a.remove(o),r.Ua.delete(e),mw(r)}else await ny(r.localStore,e,!1).then(()=>sy(r,e,t)).catch(_u)}async function Ak(n,e){const t=At(n),r=e.batch.batchId;try{const s=await D5(t.localStore,e);qS(t,r,null),GS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vd(t,s)}catch(s){await _u(s)}}async function Sk(n,e,t){const r=At(n);try{const s=await function(d,p){const w=At(d);return w.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return w.mutationQueue.lookupMutationBatch(y,p).next(A=>(dn(A!==null),_=A.keys(),w.mutationQueue.removeMutationBatch(y,A))).next(()=>w.mutationQueue.performConsistencyCheck(y)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(y,_,p)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>w.localDocuments.getDocuments(y,_))})}(r.localStore,e);qS(r,e,t),GS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vd(r,s)}catch(s){await _u(s)}}function GS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function qS(n,e,t){const r=At(n);let s=r.Wa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||YS(n,r)})}function YS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(lw(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),mw(n))}function wE(n,e,t){for(const r of t)r instanceof FS?(n.Ka.addReference(r.key,e),Ck(n,r)):r instanceof zS?(Ze(pw,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||YS(n,r.key)):yt()}function Ck(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(Ze(pw,"New document in limbo: "+t),n.Qa.add(r),mw(n))}function mw(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ut(Un.fromString(e)),r=n.za.next();n.Ua.set(r,new mk(t)),n.$a=n.$a.insert(t,r),kS(n.remoteStore,new Go(ia(iS(t.path)),r,"TargetPurposeLimboResolution",$0.ae))}}async function vd(n,e,t){const r=At(n),s=[],o=[],d=[];r.ka.isEmpty()||(r.ka.forEach((p,w)=>{d.push(r.Ha(w,e,t).then(y=>{var _;if((y||t)&&r.isPrimaryClient){const A=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(w.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(w.targetId,A?"current":"not-current")}if(y){s.push(y);const A=aw.Yi(w.targetId,y);o.push(A)}}))}),await Promise.all(d),r.La.p_(s),await async function(w,y){const _=At(w);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Pe.forEach(y,I=>Pe.forEach(I.Hi,N=>_.persistence.referenceDelegate.addReference(A,I.targetId,N)).next(()=>Pe.forEach(I.Ji,N=>_.persistence.referenceDelegate.removeReference(A,I.targetId,N)))))}catch(A){if(!Tu(A))throw A;Ze(ow,"Failed to update sequence numbers: "+A)}for(const A of y){const I=A.targetId;if(!A.fromCache){const N=_.Ts.get(I),M=N.snapshotVersion,k=N.withLastLimboFreeSnapshotVersion(M);_.Ts=_.Ts.insert(I,k)}}}(r.localStore,o))}async function Ik(n,e){const t=At(n);if(!t.currentUser.isEqual(e)){Ze(pw,"User change. New user:",e.toKey());const r=await NS(t.localStore,e);t.currentUser=e,function(o,d){o.Ga.forEach(p=>{p.forEach(w=>{w.reject(new Je(Le.CANCELLED,d))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vd(t,r.Rs)}}function Rk(n,e){const t=At(n),r=t.Ua.get(e);if(r&&r.Ba)return Wt().add(r.key);{let s=Wt();const o=t.qa.get(e);if(!o)return s;for(const d of o){const p=t.ka.get(d);s=s.unionWith(p.view.Sa)}return s}}function WS(n){const e=At(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tk.bind(null,e),e.La.p_=fk.bind(null,e.eventManager),e.La.Ja=dk.bind(null,e.eventManager),e}function Nk(n){const e=At(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ak.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Sk.bind(null,e),e}class T0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ag(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return M5(this.persistence,new I5,e.initialUser,this.serializer)}Xa(e){return new RS(sw.ri,this.serializer)}Za(e){return new V5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}T0.provider={build:()=>new T0};class Mk extends T0{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){dn(this.persistence.referenceDelegate instanceof E0);const r=this.persistence.referenceDelegate.garbageCollector;return new h5(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Mi.withCacheSize(this.cacheSizeBytes):Mi.DEFAULT;return new RS(r=>E0.ri(r,t),this.serializer)}}class ay{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ik.bind(null,this.syncEngine),await ak(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lk}()}createDatastore(e){const t=ag(e.databaseInfo.databaseId),r=function(o){return new H5(o)}(e.databaseInfo);return function(o,d,p,w){return new W5(o,d,p,w)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,d,p){return new K5(r,s,o,d,p)}(this.localStore,this.datastore,e.asyncQueue,t=>yE(this.syncEngine,t,0),function(){return fE.D()?new fE:new U5}())}createSyncEngine(e,t){return function(s,o,d,p,w,y,_){const A=new yk(s,o,d,p,w,y);return _&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=At(s);Ze(Yl,"RemoteStore shutting down."),o.W_.add(5),await xd(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ay.provider={build:()=>new ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="FirestoreClient";class Ok{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=ci.UNAUTHENTICATED,this.clientId=zA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async d=>{Ze(rl,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(Ze(rl,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=hw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bp(n,e){n.asyncQueue.verifyOperationInProgress(),Ze(rl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await NS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kk(n);Ze(rl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>hE(e.remoteStore,s)),n._onlineComponents=e}async function kk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ze(rl,"Using user provided OfflineComponentProvider");try{await Bp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Le.FAILED_PRECONDITION||s.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;cu("Error using user provided cache. Falling back to memory cache: "+t),await Bp(n,new T0)}}else Ze(rl,"Using default OfflineComponentProvider"),await Bp(n,new Mk(void 0));return n._offlineComponents}async function XS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ze(rl,"Using user provided OnlineComponentProvider"),await xE(n,n._uninitializedComponentsProvider._online)):(Ze(rl,"Using default OnlineComponentProvider"),await xE(n,new ay))),n._onlineComponents}function Pk(n){return XS(n).then(e=>e.syncEngine)}async function Lk(n){const e=await XS(n),t=e.eventManager;return t.onListen=wk.bind(null,e.syncEngine),t.onUnlisten=bk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ek.bind(null,e.syncEngine),t}function Bk(n,e,t={}){const r=new Qo;return n.asyncQueue.enqueueAndForget(async()=>function(o,d,p,w,y){const _=new Dk({next:I=>{_.su(),d.enqueueAndForget(()=>uk(o,A)),I.fromCache&&w.source==="server"?y.reject(new Je(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),A=new hk(p,_,{includeMetadataChanges:!0,Ta:!0});return ck(o,A)}(await Lk(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n,e,t){if(!t)throw new Je(Le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vk(n,e,t,r){if(e===!0&&r===!0)throw new Je(Le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bE(n){if(!ut.isDocumentKey(n))throw new Je(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EE(n){if(ut.isDocumentKey(n))throw new Je(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":yt()}function Qa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Je(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cg(n);throw new Je(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firestore.googleapis.com",_E=!0;class TE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZS,this.ssl=_E}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_E;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f5)throw new Je(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Je(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new z6;switch(r.type){case"firstParty":return new q6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=vE.get(t);r&&(Ze("ComponentProvider","Removing Datastore"),vE.delete(t),r.terminate())}(this),Promise.resolve()}}function Uk(n,e,t,r={}){var s;const o=(n=Qa(n,ug))._getSettings(),d=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;o.host!==ZS&&o.host!==p&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const w=Object.assign(Object.assign({},o),{host:p,ssl:!1,emulatorOptions:r});if(!zl(w,d)&&(n._setSettings(w),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=ci.MOCK_USER;else{y=JN(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new Je(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new ci(A)}n._authCredentials=new j6(new UA(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class Oi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oi(this.firestore,e,this._key)}}class Zo extends $l{constructor(e,t,r){super(e,t,iS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oi(this.firestore,null,new ut(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Ls(n,e,...t){if(n=Fr(n),QS("collection","path",e),n instanceof ug){const r=Un.fromString(e,...t);return EE(r),new Zo(n,null,r)}{if(!(n instanceof Oi||n instanceof Zo))throw new Je(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return EE(r),new Zo(n.firestore,null,r)}}function ul(n,e,...t){if(n=Fr(n),arguments.length===1&&(e=zA.newId()),QS("doc","path",e),n instanceof ug){const r=Un.fromString(e,...t);return bE(r),new Oi(n,null,new ut(r))}{if(!(n instanceof Oi||n instanceof Zo))throw new Je(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return bE(r),new Oi(n.firestore,n instanceof Zo?n.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class SE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new DS(this,"async_queue_retry"),this.Su=()=>{const r=Lp();r&&Ze(AE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Lp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Lp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Qo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Tu(e))throw e;Ze(AE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(r);throw Xa("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=dw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Cu extends ug{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new SE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SE(e),this._firestoreClient=void 0,await e}}}function Fk(n,e){const t=typeof n=="object"?n:QT(),r=typeof n=="string"?n:y0,s=By(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=ZN("firestore");o&&Uk(s,...o)}return s}function $S(n){if(n._terminated)throw new Je(Le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zk(n),n._firestoreClient}function zk(n){var e,t,r;const s=n._freezeSettings(),o=function(p,w,y,_){return new aO(p,w,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,KS(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Ok(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(p){const w=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(w),_online:w}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu($r.fromBase64String(e))}catch(t){throw new Je(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pu($r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Je(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Je(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Je(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=/^__.*__$/;class Hk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new yd(e,this.data,t,this.fieldTransforms)}}class JS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class xw{constructor(e,t,r,s,o,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return A0(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(eC(this.Lu)&&jk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Gk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ag(e)}ju(e,t,r,s=!1){return new xw({Lu:e,methodName:t,zu:r,path:Zr.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(n){const e=n._freezeSettings(),t=ag(n._databaseId);return new Gk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tC(n,e,t,r,s,o={}){const d=n.ju(o.merge||o.mergeFields?2:0,e,t,s);bw("Data must be an object, but it was:",d,r);const p=nC(r,d);let w,y;if(o.merge)w=new es(d.fieldMask),y=d.fieldTransforms;else if(o.mergeFields){const _=[];for(const A of o.mergeFields){const I=oy(e,A,t);if(!d.contains(I))throw new Je(Le.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);iC(_,I)||_.push(I)}w=new es(_),y=d.fieldTransforms.filter(A=>w.covers(A.field))}else w=null,y=d.fieldTransforms;return new Hk(new Di(p),w,y)}class gg extends dg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gg}}class vw extends dg{_toFieldTransform(e){return new DO(e.path,new td)}isEqual(e){return e instanceof vw}}function qk(n,e,t,r){const s=n.ju(1,e,t);bw("Data must be an object, but it was:",s,r);const o=[],d=Di.empty();ll(r,(w,y)=>{const _=Ew(e,w,t);y=Fr(y);const A=s.Uu(_);if(y instanceof gg)o.push(_);else{const I=bd(y,A);I!=null&&(o.push(_),d.set(_,I))}});const p=new es(o);return new JS(d,p,s.fieldTransforms)}function Yk(n,e,t,r,s,o){const d=n.ju(1,e,t),p=[oy(e,r,t)],w=[s];if(o.length%2!=0)throw new Je(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<o.length;I+=2)p.push(oy(e,o[I])),w.push(o[I+1]);const y=[],_=Di.empty();for(let I=p.length-1;I>=0;--I)if(!iC(y,p[I])){const N=p[I];let M=w[I];M=Fr(M);const k=d.Uu(N);if(M instanceof gg)y.push(N);else{const H=bd(M,k);H!=null&&(y.push(N),_.set(N,H))}}const A=new es(y);return new JS(_,A,d.fieldTransforms)}function Wk(n,e,t,r=!1){return bd(t,n.ju(r?4:3,e))}function bd(n,e){if(rC(n=Fr(n)))return bw("Unsupported field value:",e,n),nC(n,e);if(n instanceof dg)return function(r,s){if(!eC(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const o=[];let d=0;for(const p of r){let w=bd(p,s.Ku(d));w==null&&(w={nullValue:"NULL_VALUE"}),o.push(w),d++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Fr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Fn.fromDate(r);return{timestampValue:b0(s.serializer,o)}}if(r instanceof Fn){const o=new Fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:b0(s.serializer,o)}}if(r instanceof yw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pu)return{bytesValue:bS(s.serializer,r._byteString)};if(r instanceof Oi){const o=s.databaseId,d=r.firestore._databaseId;if(!d.isEqual(o))throw s.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ww)return function(d,p){return{mapValue:{fields:{[KA]:{stringValue:QA},[w0]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw p.Wu("VectorValues must only contain numeric values.");return Jy(p.serializer,y)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${cg(r)}`)}(n,e)}function nC(n,e){const t={};return HA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(n,(r,s)=>{const o=bd(s,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function rC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fn||n instanceof yw||n instanceof pu||n instanceof Oi||n instanceof dg||n instanceof ww)}function bw(n,e,t){if(!rC(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=cg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function oy(n,e,t){if((e=Fr(e))instanceof fg)return e._internalPath;if(typeof e=="string")return Ew(n,e);throw A0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Xk=new RegExp("[~\\*/\\[\\]]");function Ew(n,e,t){if(e.search(Xk)>=0)throw A0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fg(...e.split("."))._internalPath}catch{throw A0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function A0(n,e,t,r,s){const o=r&&!r.isEmpty(),d=s!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let w="";return(o||d)&&(w+=" (found",o&&(w+=` in field ${r}`),d&&(w+=` in document ${s}`),w+=")"),new Je(Le.INVALID_ARGUMENT,p+n+w)}function iC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Kk extends sC{data(){return super.data()}}function pg(n,e){return typeof e=="string"?Ew(n,e):e instanceof fg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Je(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _w{}class aC extends _w{}function tu(n,e,...t){let r=[];e instanceof _w&&r.push(e),r=r.concat(t),function(o){const d=o.filter(w=>w instanceof Tw).length,p=o.filter(w=>w instanceof mg).length;if(d>1||d>0&&p>0)throw new Je(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class mg extends aC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mg(e,t,r)}_apply(e){const t=this._parse(e);return oC(e._query,t),new $l(e.firestore,e.converter,Qm(e._query,t))}_parse(e){const t=hg(e.firestore);return function(o,d,p,w,y,_,A){let I;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Je(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){IE(A,_);const M=[];for(const k of A)M.push(CE(w,o,k));I={arrayValue:{values:M}}}else I=CE(w,o,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||IE(A,_),I=Wk(p,d,A,_==="in"||_==="not-in");return br.create(y,_,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ly(n,e,t){const r=e,s=pg("where",n);return mg._create(s,r,t)}class Tw extends _w{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Vs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let d=s;const p=o.getFlattenedFilters();for(const w of p)oC(d,w),d=Qm(d,w)}(e._query,t),new $l(e.firestore,e.converter,Qm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Aw extends aC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Aw(e,t)}_apply(e){const t=function(s,o,d){if(s.startAt!==null)throw new Je(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Je(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ed(o,d)}(e._query,this._field,this._direction);return new $l(e.firestore,e.converter,function(s,o){const d=s.explicitOrderBy.concat([o]);return new Au(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Ff(n,e="asc"){const t=e,r=pg("orderBy",n);return Aw._create(r,t)}function CE(n,e,t){if(typeof(t=Fr(t))=="string"){if(t==="")throw new Je(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sS(e)&&t.indexOf("/")!==-1)throw new Je(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Un.fromString(t));if(!ut.isDocumentKey(r))throw new Je(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hb(n,new ut(r))}if(t instanceof Oi)return Hb(n,t._key);throw new Je(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cg(t)}.`)}function IE(n,e){if(!Array.isArray(n)||n.length===0)throw new Je(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oC(n,e){const t=function(s,o){for(const d of s)for(const p of d.getFlattenedFilters())if(o.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Je(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Je(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Zk{convertValue(e,t="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ll(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[w0].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(d=>gr(d.doubleValue));return new ww(o)}convertGeoPoint(e){return new yw(gr(e.latitude),gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Zf(e));default:return null}}convertTimestamp(e){const t=Jo(e);return new Fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Un.fromString(e);dn(CS(r));const s=new $f(r.get(1),r.get(3)),o=new ut(r.popFirst(5));return s.isEqual(t)||Xa(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $k extends sC{constructor(e,t,r,s,o,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class r0 extends $k{data(e={}){return super.data(e)}}class Jk{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new kh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new r0(this._firestore,this._userDataWriter,r.key,r,new kh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Je(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(p=>{const w=new r0(s._firestore,s._userDataWriter,p.doc.key,p.doc,new kh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);return p.doc,{type:"added",doc:w,oldIndex:-1,newIndex:d++}})}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>o||p.type!==3).map(p=>{const w=new r0(s._firestore,s._userDataWriter,p.doc.key,p.doc,new kh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,_=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),_=d.indexOf(p.doc.key)),{type:e9(p.type),doc:w,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class t9 extends Zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Oi(this.firestore,null,t)}}function ja(n){n=Qa(n,$l);const e=Qa(n.firestore,Cu),t=$S(e),r=new t9(e);return Qk(n._query),Bk(t,n._query).then(s=>new Jk(e,r,n,s))}function n9(n,e,t){n=Qa(n,Oi);const r=Qa(n.firestore,Cu),s=lC(n.converter,e);return wg(r,[tC(hg(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,bs.none())])}function yg(n,e,t,...r){n=Qa(n,Oi);const s=Qa(n.firestore,Cu),o=hg(s);let d;return d=typeof(e=Fr(e))=="string"||e instanceof fg?Yk(o,"updateDoc",n._key,e,t,r):qk(o,"updateDoc",n._key,e),wg(s,[d.toMutation(n._key,bs.exists(!0))])}function nu(n){return wg(Qa(n.firestore,Cu),[new ew(n._key,bs.none())])}function Sw(n,e){const t=Qa(n.firestore,Cu),r=ul(n),s=lC(n.converter,e);return wg(t,[tC(hg(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,bs.exists(!1))]).then(()=>r)}function wg(n,e){return function(r,s){const o=new Qo;return r.asyncQueue.enqueueAndForget(async()=>_k(await Pk(r),s,o)),o.promise}($S(n),e)}function Cw(){return new vw("serverTimestamp")}(function(e,t=!0){(function(s){Eu=s})(vu),lu(new jl("firestore",(r,{instanceIdentifier:s,options:o})=>{const d=r.getProvider("app").getImmediate(),p=new Cu(new H6(r.getProvider("auth-internal")),new Y6(d,r.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Je(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $f(y.options.projectId,_)}(d,s),d);return o=Object.assign({useFetchStreams:t},o),p._setSettings(o),p},"PUBLIC").setMultipleInstances(!0)),Xo(Mb,Db,e),Xo(Mb,Db,"esm2017")})();const r9={apiKey:"AIzaSyDDjg-YMs-i_TAem3LJk4j-qrgXYPUIsO8",authDomain:"freezer-manager-36acd.firebaseapp.com",projectId:"freezer-manager-36acd",storageBucket:"freezer-manager-36acd.firebasestorage.app",messagingSenderId:"572471426932",appId:"1:572471426932:web:3a4fca9342a8c9ae883621",measurementId:"G-N8SX67S0SY"},cC=KT(r9),xg=B6(cC),Ur=Fk(cC),uC=$.createContext(),i9=({children:n})=>{const[e,t]=$.useState(null);return $.useEffect(()=>{const r=A8(xg,s=>{t(s)});return()=>r()},[]),X.jsx(uC.Provider,{value:e,children:n})},Ed=()=>ct.useContext(uC);function s9({children:n}){return Ed()?n:X.jsx(SR,{to:"/login",replace:!0})}function dt(n,e){const t=e.split(".");let r=n;for(const s of t){if(typeof r=="boolean"||typeof r=="string")return r;if(r==null||typeof r!="object")return;r=r[s]}return r}function a9(n){const{theme:e,clearTheme:t,applyTheme:r,...s}=n;return s}function Ir(n,e){let t=a9(n);return e&&(t={...e,...n}),t}const fl={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};fl.defaultMerge;function o9(n,e){return e}function l9(n,e){return n.filter(t=>t!==void 0)}var RE;(function(n){n[n.NOT=0]="NOT",n[n.RECORD=1]="RECORD",n[n.ARRAY=2]="ARRAY",n[n.SET=3]="SET",n[n.MAP=4]="MAP",n[n.OTHER=5]="OTHER"})(RE||(RE={}));function NE(n){return typeof n!="object"||n===null?0:Array.isArray(n)?2:f9(n)?1:n instanceof Set?3:n instanceof Map?4:5}function c9(n){const e=new Set;for(const t of n)for(const r of[...Object.keys(t),...Object.getOwnPropertySymbols(t)])e.add(r);return e}function u9(n,e){return typeof n=="object"&&Object.prototype.propertyIsEnumerable.call(n,e)}function fC(n){var r;let e=0,t=(r=n[0])==null?void 0:r[Symbol.iterator]();return{[Symbol.iterator](){return{next(){var s;do{if(t===void 0)return{done:!0,value:void 0};const o=t.next();if(o.done===!0){e+=1,t=(s=n[e])==null?void 0:s[Symbol.iterator]();continue}return{done:!1,value:o.value}}while(!0)}}}}}const ME=["[object Object]","[object Module]"];function f9(n){if(!ME.includes(Object.prototype.toString.call(n)))return!1;const{constructor:e}=n;if(e===void 0)return!0;const t=e.prototype;return!(t===null||typeof t!="object"||!ME.includes(Object.prototype.toString.call(t))||!t.hasOwnProperty("isPrototypeOf"))}function d9(n,e,t){const r={};for(const s of c9(n)){const o=[];for(const w of n)u9(w,s)&&o.push(w[s]);if(o.length===0)continue;const d=e.metaDataUpdater(t,{key:s,parents:n}),p=hC(o,e,d);p!==fl.skip&&(s==="__proto__"?Object.defineProperty(r,s,{value:p,configurable:!0,enumerable:!0,writable:!0}):r[s]=p)}return r}function h9(n){return n.flat()}function g9(n){return new Set(fC(n))}function p9(n){return new Map(fC(n))}function m9(n){return n.at(-1)}const Ph={mergeRecords:d9,mergeArrays:h9,mergeSets:g9,mergeMaps:p9,mergeOthers:m9};function y9(...n){return dC({})(...n)}function dC(n,e){const t=w9(n,r);function r(...s){return hC(s,t,e)}return r}function w9(n,e){return{defaultMergeFunctions:Ph,mergeFunctions:{...Ph,...Object.fromEntries(Object.entries(n).filter(([t,r])=>Object.hasOwn(Ph,t)).map(([t,r])=>r===!1?[t,Ph.mergeOthers]:[t,r]))},metaDataUpdater:n.metaDataUpdater??o9,deepmerge:e,useImplicitDefaultMerging:n.enableImplicitDefaultMerging??!1,filterValues:n.filterValues===!1?void 0:n.filterValues??l9,actions:fl}}function hC(n,e,t){var o;const r=((o=e.filterValues)==null?void 0:o.call(e,n,t))??n;if(r.length===0)return;if(r.length===1)return Vp(r,e,t);const s=NE(r[0]);if(s!==0&&s!==5){for(let d=1;d<r.length;d++)if(NE(r[d])!==s)return Vp(r,e,t)}switch(s){case 1:return x9(r,e,t);case 2:return v9(r,e,t);case 3:return b9(r,e,t);case 4:return E9(r,e,t);default:return Vp(r,e,t)}}function x9(n,e,t){const r=e.mergeFunctions.mergeRecords(n,e,t);return r===fl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(n,e,t):r}function v9(n,e,t){const r=e.mergeFunctions.mergeArrays(n,e,t);return r===fl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(n):r}function b9(n,e,t){const r=e.mergeFunctions.mergeSets(n,e,t);return r===fl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(n):r}function E9(n,e,t){const r=e.mergeFunctions.mergeMaps(n,e,t);return r===fl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(n):r}function Vp(n,e,t){const r=e.mergeFunctions.mergeOthers(n,e,t);return r===fl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(n):r}function i0(n){var e,t,r;if(Array.isArray(n)){for(t=Array(e=n.length);e--;)t[e]=(r=n[e])&&typeof r=="object"?i0(r):r;return t}if(Object.prototype.toString.call(n)==="[object Object]"){t={};for(e in n)e==="__proto__"?Object.defineProperty(t,e,{value:i0(n[e]),configurable:!0,enumerable:!0,writable:!0}):t[e]=(r=n[e])&&typeof r=="object"?i0(r):r;return t}return n}const gC={dark:void 0,prefix:void 0};function _9(){return gC.dark}function pC(){return gC.prefix}const DE=new Map;function T9(n){if(!n.trim().length)return n;const e=n,t=DE.get(e);if(t)return t;const s=n.split(/(\s+)/).map(o=>{if(/^\s+$/.test(o))return o;const d=o,p=d.match(/^([^:]+:)?(.+)$/);if(p){const[,w="",y]=p;for(const[_,A]of A9)if(_.test(y))return w+y.replace(_,A)}return d}).join("");return DE.set(e,s),s}const A9=[[/^shadow-sm$/,"shadow-xs"],[/^shadow$/,"shadow-sm"],[/^drop-shadow-sm$/,"drop-shadow-xs"],[/^drop-shadow$/,"drop-shadow-sm"],[/^blur-sm$/,"blur-xs"],[/^blur$/,"blur-sm"],[/^rounded-sm$/,"rounded-xs"],[/^rounded$/,"rounded-sm"],[/^ring$/,"ring-3"]];function S9(n){return dC({mergeOthers:(e,t)=>{if(e.some(r=>typeof r=="string")){const r=e.filter(d=>typeof d=="string"),s=new Set,o=[];for(const d of r){const p=[...new Set(d.split(/\s+/))];o.push(p.filter(w=>!s.has(w)).join(" "));for(const w of p)s.add(w)}return n(o)}return t.actions.defaultMerge}})}const C9="4.1.4";function mC(){try{return parseInt(C9.split(".")[0],10)}catch{return}}function cy(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;if(Array.isArray(n))return n.length!==e.length?!1:n.every((r,s)=>cy(r,e[s]));if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();const t=Object.keys(n);return t.length!==Object.keys(e).length?!1:t.every(r=>Object.prototype.hasOwnProperty.call(e,r)&&cy(n[r],e[r]))}return n!==n&&e!==e}const Iw="-",I9=n=>{const e=N9(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:d=>{const p=d.split(Iw);return p[0]===""&&p.length!==1&&p.shift(),yC(p,e)||R9(d)},getConflictingClassGroupIds:(d,p)=>{const w=t[d]||[];return p&&r[d]?[...w,...r[d]]:w}}},yC=(n,e)=>{var d;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?yC(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(Iw);return(d=e.validators.find(({validator:p})=>p(o)))==null?void 0:d.classGroupId},OE=/^\[(.+)\]$/,R9=n=>{if(OE.test(n)){const e=OE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},N9=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return D9(Object.entries(n.classGroups),t).forEach(([o,d])=>{uy(d,r,o,e)}),r},uy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:kE(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(M9(s)){uy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,d])=>{uy(d,kE(e,o),t,r)})})},kE=(n,e)=>{let t=n;return e.split(Iw).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},M9=n=>n.isThemeGetter,D9=(n,e)=>e?n.map(([t,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([d,p])=>[e+d,p])):o);return[t,s]}):n,O9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,d)=>{t.set(o,d),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let d=t.get(o);if(d!==void 0)return d;if((d=r.get(o))!==void 0)return s(o,d),d},set(o,d){t.has(o)?t.set(o,d):s(o,d)}}},wC="!",k9=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],o=e.length,d=p=>{const w=[];let y=0,_=0,A;for(let H=0;H<p.length;H++){let F=p[H];if(y===0){if(F===s&&(r||p.slice(H,H+o)===e)){w.push(p.slice(_,H)),_=H+o;continue}if(F==="/"){A=H;continue}}F==="["?y++:F==="]"&&y--}const I=w.length===0?p:p.substring(_),N=I.startsWith(wC),M=N?I.substring(1):I,k=A&&A>_?A-_:void 0;return{modifiers:w,hasImportantModifier:N,baseClassName:M,maybePostfixModifierPosition:k}};return t?p=>t({className:p,parseClassName:d}):d},P9=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},L9=n=>({cache:O9(n.cacheSize),parseClassName:k9(n),...I9(n)}),B9=/\s+/,V9=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],d=n.trim().split(B9);let p="";for(let w=d.length-1;w>=0;w-=1){const y=d[w],{modifiers:_,hasImportantModifier:A,baseClassName:I,maybePostfixModifierPosition:N}=t(y);let M=!!N,k=r(M?I.substring(0,N):I);if(!k){if(!M){p=y+(p.length>0?" "+p:p);continue}if(k=r(I),!k){p=y+(p.length>0?" "+p:p);continue}M=!1}const H=P9(_).join(":"),F=A?H+wC:H,G=F+k;if(o.includes(G))continue;o.push(G);const B=s(k,M);for(let Z=0;Z<B.length;++Z){const re=B[Z];o.push(F+re)}p=y+(p.length>0?" "+p:p)}return p};function U9(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=xC(e))&&(r&&(r+=" "),r+=t);return r}const xC=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=xC(n[r]))&&(t&&(t+=" "),t+=e);return t};function PE(n,...e){let t,r,s,o=d;function d(w){const y=e.reduce((_,A)=>A(_),n());return t=L9(y),r=t.cache.get,s=t.cache.set,o=p,p(w)}function p(w){const y=r(w);if(y)return y;const _=V9(w,t);return s(w,_),_}return function(){return o(U9.apply(null,arguments))}}const Bn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},vC=/^\[(?:([a-z-]+):)?(.+)\]$/i,F9=/^\d+\/\d+$/,z9=new Set(["px","full","screen"]),j9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,H9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,q9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=n=>ru(n)||z9.has(n)||F9.test(n),Po=n=>Iu(n,"length",e7),ru=n=>!!n&&!Number.isNaN(Number(n)),Up=n=>Iu(n,"number",ru),_f=n=>!!n&&Number.isInteger(Number(n)),W9=n=>n.endsWith("%")&&ru(n.slice(0,-1)),Rt=n=>vC.test(n),Lo=n=>j9.test(n),X9=new Set(["length","size","percentage"]),K9=n=>Iu(n,X9,bC),Q9=n=>Iu(n,"position",bC),Z9=new Set(["image","url"]),$9=n=>Iu(n,Z9,n7),J9=n=>Iu(n,"",t7),Tf=()=>!0,Iu=(n,e,t)=>{const r=vC.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},e7=n=>H9.test(n)&&!G9.test(n),bC=()=>!1,t7=n=>q9.test(n),n7=n=>Y9.test(n),LE=()=>{const n=Bn("colors"),e=Bn("spacing"),t=Bn("blur"),r=Bn("brightness"),s=Bn("borderColor"),o=Bn("borderRadius"),d=Bn("borderSpacing"),p=Bn("borderWidth"),w=Bn("contrast"),y=Bn("grayscale"),_=Bn("hueRotate"),A=Bn("invert"),I=Bn("gap"),N=Bn("gradientColorStops"),M=Bn("gradientColorStopPositions"),k=Bn("inset"),H=Bn("margin"),F=Bn("opacity"),G=Bn("padding"),B=Bn("saturate"),Z=Bn("scale"),re=Bn("sepia"),se=Bn("skew"),V=Bn("space"),P=Bn("translate"),O=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",Rt,e],Y=()=>[Rt,e],q=()=>["",Oa,Po],_e=()=>["auto",ru,Rt],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],Re=()=>["","0",Rt],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ye=()=>[ru,Rt];return{cacheSize:500,separator:":",theme:{colors:[Tf],spacing:[Oa,Po],blur:["none","",Lo,Rt],brightness:ye(),borderColor:[n],borderRadius:["none","","full",Lo,Rt],borderSpacing:Y(),borderWidth:q(),contrast:ye(),grayscale:Re(),hueRotate:ye(),invert:Re(),gap:Y(),gradientColorStops:[n],gradientColorStopPositions:[W9,Po],inset:Q(),margin:Q(),opacity:ye(),padding:Y(),saturate:ye(),scale:ye(),sepia:Re(),skew:ye(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[Lo]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),Rt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_f,Rt]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:Re()}],shrink:[{shrink:Re()}],order:[{order:["first","last","none",_f,Rt]}],"grid-cols":[{"grid-cols":[Tf]}],"col-start-end":[{col:["auto",{span:["full",_f,Rt]},Rt]}],"col-start":[{"col-start":_e()}],"col-end":[{"col-end":_e()}],"grid-rows":[{"grid-rows":[Tf]}],"row-start-end":[{row:["auto",{span:[_f,Rt]},Rt]}],"row-start":[{"row-start":_e()}],"row-end":[{"row-end":_e()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[G]}],px:[{px:[G]}],py:[{py:[G]}],ps:[{ps:[G]}],pe:[{pe:[G]}],pt:[{pt:[G]}],pr:[{pr:[G]}],pb:[{pb:[G]}],pl:[{pl:[G]}],m:[{m:[H]}],mx:[{mx:[H]}],my:[{my:[H]}],ms:[{ms:[H]}],me:[{me:[H]}],mt:[{mt:[H]}],mr:[{mr:[H]}],mb:[{mb:[H]}],ml:[{ml:[H]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,e]}],"min-w":[{"min-w":[Rt,e,"min","max","fit"]}],"max-w":[{"max-w":[Rt,e,"none","full","min","max","fit","prose",{screen:[Lo]},Lo]}],h:[{h:[Rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Lo,Po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Up]}],"font-family":[{font:[Tf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",ru,Up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oa,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[F]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oa,Po]}],"underline-offset":[{"underline-offset":["auto",Oa,Rt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[F]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),Q9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$9]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[M]}],"gradient-via-pos":[{via:[M]}],"gradient-to-pos":[{to:[M]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[F]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[F]}],"divide-style":[{divide:ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Oa,Rt]}],"outline-w":[{outline:[Oa,Po]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[F]}],"ring-offset-w":[{"ring-offset":[Oa,Po]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Lo,J9]}],"shadow-color":[{shadow:[Tf]}],opacity:[{opacity:[F]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[w]}],"drop-shadow":[{"drop-shadow":["","none",Lo,Rt]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[A]}],saturate:[{saturate:[B]}],sepia:[{sepia:[re]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[w]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[F]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Z]}],"scale-x":[{"scale-x":[Z]}],"scale-y":[{"scale-y":[Z]}],rotate:[{rotate:[_f,Rt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[se]}],"skew-y":[{"skew-y":[se]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Oa,Po,Up]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},r7=(n,{cacheSize:e,prefix:t,separator:r,experimentalParseClassName:s,extend:o={},override:d={}})=>{Df(n,"cacheSize",e),Df(n,"prefix",t),Df(n,"separator",r),Df(n,"experimentalParseClassName",s);for(const p in d)i7(n[p],d[p]);for(const p in o)s7(n[p],o[p]);return n},Df=(n,e,t)=>{t!==void 0&&(n[e]=t)},i7=(n,e)=>{if(e)for(const t in e)Df(n,t,e[t])},s7=(n,e)=>{if(e)for(const t in e){const r=e[t];r!==void 0&&(n[t]=(n[t]||[]).concat(r))}},a7=(n,...e)=>typeof n=="function"?PE(LE,n,...e):PE(()=>r7(LE(),n),...e),Rw="-",o7=n=>{const e=c7(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:d=>{const p=d.split(Rw);return p[0]===""&&p.length!==1&&p.shift(),EC(p,e)||l7(d)},getConflictingClassGroupIds:(d,p)=>{const w=t[d]||[];return p&&r[d]?[...w,...r[d]]:w}}},EC=(n,e)=>{var d;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?EC(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(Rw);return(d=e.validators.find(({validator:p})=>p(o)))==null?void 0:d.classGroupId},BE=/^\[(.+)\]$/,l7=n=>{if(BE.test(n)){const e=BE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},c7=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)fy(t[s],r,s,e);return r},fy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:VE(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(u7(s)){fy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,d])=>{fy(d,VE(e,o),t,r)})})},VE=(n,e)=>{let t=n;return e.split(Rw).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},u7=n=>n.isThemeGetter,f7=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,d)=>{t.set(o,d),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let d=t.get(o);if(d!==void 0)return d;if((d=r.get(o))!==void 0)return s(o,d),d},set(o,d){t.has(o)?t.set(o,d):s(o,d)}}},dy="!",hy=":",d7=hy.length,h7=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const o=[];let d=0,p=0,w=0,y;for(let M=0;M<s.length;M++){let k=s[M];if(d===0&&p===0){if(k===hy){o.push(s.slice(w,M)),w=M+d7;continue}if(k==="/"){y=M;continue}}k==="["?d++:k==="]"?d--:k==="("?p++:k===")"&&p--}const _=o.length===0?s:s.substring(w),A=g7(_),I=A!==_,N=y&&y>w?y-w:void 0;return{modifiers:o,hasImportantModifier:I,baseClassName:A,maybePostfixModifierPosition:N}};if(e){const s=e+hy,o=r;r=d=>d.startsWith(s)?o(d.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=o=>t({className:o,parseClassName:s})}return r},g7=n=>n.endsWith(dy)?n.substring(0,n.length-1):n.startsWith(dy)?n.substring(1):n,p7=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(d=>{d[0]==="["||e[d]?(s.push(...o.sort(),d),o=[]):o.push(d)}),s.push(...o.sort()),s}},m7=n=>({cache:f7(n.cacheSize),parseClassName:h7(n),sortModifiers:p7(n),...o7(n)}),y7=/\s+/,w7=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,d=[],p=n.trim().split(y7);let w="";for(let y=p.length-1;y>=0;y-=1){const _=p[y],{isExternal:A,modifiers:I,hasImportantModifier:N,baseClassName:M,maybePostfixModifierPosition:k}=t(_);if(A){w=_+(w.length>0?" "+w:w);continue}let H=!!k,F=r(H?M.substring(0,k):M);if(!F){if(!H){w=_+(w.length>0?" "+w:w);continue}if(F=r(M),!F){w=_+(w.length>0?" "+w:w);continue}H=!1}const G=o(I).join(":"),B=N?G+dy:G,Z=B+F;if(d.includes(Z))continue;d.push(Z);const re=s(F,H);for(let se=0;se<re.length;++se){const V=re[se];d.push(B+V)}w=_+(w.length>0?" "+w:w)}return w};function x7(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=_C(e))&&(r&&(r+=" "),r+=t);return r}const _C=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=_C(n[r]))&&(t&&(t+=" "),t+=e);return t};function UE(n,...e){let t,r,s,o=d;function d(w){const y=e.reduce((_,A)=>A(_),n());return t=m7(y),r=t.cache.get,s=t.cache.set,o=p,p(w)}function p(w){const y=r(w);if(y)return y;const _=w7(w,t);return s(w,_),_}return function(){return o(x7.apply(null,arguments))}}const Lr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},TC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v7=/^\d+\/\d+$/,b7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,T7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bc=n=>v7.test(n),Gt=n=>!!n&&!Number.isNaN(Number(n)),Ml=n=>!!n&&Number.isInteger(Number(n)),FE=n=>n.endsWith("%")&&Gt(n.slice(0,-1)),Bo=n=>b7.test(n),S7=()=>!0,C7=n=>E7.test(n)&&!_7.test(n),Nw=()=>!1,I7=n=>T7.test(n),R7=n=>A7.test(n),N7=n=>!Ke(n)&&!Qe(n),M7=n=>Ru(n,IC,Nw),Ke=n=>TC.test(n),Dl=n=>Ru(n,RC,C7),Fp=n=>Ru(n,j7,Gt),D7=n=>Ru(n,SC,Nw),O7=n=>Ru(n,CC,R7),k7=n=>Ru(n,Nw,I7),Qe=n=>AC.test(n),Lh=n=>Nu(n,RC),P7=n=>Nu(n,H7),L7=n=>Nu(n,SC),B7=n=>Nu(n,IC),V7=n=>Nu(n,CC),U7=n=>Nu(n,G7,!0),Ru=(n,e,t)=>{const r=TC.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Nu=(n,e,t=!1)=>{const r=AC.exec(n);return r?r[1]?e(r[1]):t:!1},SC=n=>n==="position",F7=new Set(["image","url"]),CC=n=>F7.has(n),z7=new Set(["length","size","percentage"]),IC=n=>z7.has(n),RC=n=>n==="length",j7=n=>n==="number",H7=n=>n==="family-name",G7=n=>n==="shadow",zE=()=>{const n=Lr("color"),e=Lr("font"),t=Lr("text"),r=Lr("font-weight"),s=Lr("tracking"),o=Lr("leading"),d=Lr("breakpoint"),p=Lr("container"),w=Lr("spacing"),y=Lr("radius"),_=Lr("shadow"),A=Lr("inset-shadow"),I=Lr("drop-shadow"),N=Lr("blur"),M=Lr("perspective"),k=Lr("aspect"),H=Lr("ease"),F=Lr("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto","contain","none"],se=()=>[Bc,"px","full","auto",Qe,Ke,w],V=()=>[Ml,"none","subgrid",Qe,Ke],P=()=>["auto",{span:["full",Ml,Qe,Ke]},Qe,Ke],O=()=>[Ml,"auto",Qe,Ke],W=()=>["auto","min","max","fr",Qe,Ke],Q=()=>[Qe,Ke,w],Y=()=>["start","end","center","between","around","evenly","stretch","baseline"],q=()=>["start","end","center","stretch"],_e=()=>[Qe,Ke,w],le=()=>["px",..._e()],ae=()=>["px","auto",..._e()],de=()=>[Bc,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",Qe,Ke,w],ve=()=>[n,Qe,Ke],Re=()=>[FE,Dl],te=()=>["","none","full",y,Qe,Ke],ye=()=>["",Gt,Lh,Dl],Ne=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ge=()=>["","none",N,Qe,Ke],it=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe,Ke],Ce=()=>["none",Gt,Qe,Ke],We=()=>["none",Gt,Qe,Ke],He=()=>[Gt,Qe,Ke],Ye=()=>[Bc,"full","px",Qe,Ke,w];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bo],breakpoint:[Bo],color:[S7],container:[Bo],"drop-shadow":[Bo],ease:["in","out","in-out"],font:[N7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bo],shadow:[Bo],spacing:[Gt],text:[Bo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bc,Ke,Qe,k]}],container:["container"],columns:[{columns:[Gt,Ke,Qe,p]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Ke,Qe]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:re()}],"overscroll-x":[{"overscroll-x":re()}],"overscroll-y":[{"overscroll-y":re()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[Ml,"auto",Qe,Ke]}],basis:[{basis:[Bc,"full","auto",Qe,Ke,p,w]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gt,Bc,"auto","initial","none",Ke]}],grow:[{grow:["",Gt,Qe,Ke]}],shrink:[{shrink:["",Gt,Qe,Ke]}],order:[{order:[Ml,"first","last","none",Qe,Ke]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:Q()}],"gap-x":[{"gap-x":Q()}],"gap-y":[{"gap-y":Q()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...q(),"baseline"]}],"align-self":[{self:["auto",...q(),"baseline"]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:le()}],px:[{px:le()}],py:[{py:le()}],ps:[{ps:le()}],pe:[{pe:le()}],pt:[{pt:le()}],pr:[{pr:le()}],pb:[{pb:le()}],pl:[{pl:le()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":_e()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_e()}],"space-y-reverse":["space-y-reverse"],size:[{size:de()}],w:[{w:[p,"screen",...de()]}],"min-w":[{"min-w":[p,"screen","none",...de()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[d]},...de()]}],h:[{h:["screen",...de()]}],"min-h":[{"min-h":["screen","none",...de()]}],"max-h":[{"max-h":["screen",...de()]}],"font-size":[{text:["base",t,Lh,Dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Qe,Fp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",FE,Ke]}],"font-family":[{font:[P7,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Qe,Ke]}],"line-clamp":[{"line-clamp":[Gt,"none",Qe,Fp]}],leading:[{leading:[Qe,Ke,o,w]}],"list-image":[{"list-image":["none",Qe,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ve()}],"text-color":[{text:ve()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Gt,"from-font","auto",Qe,Dl]}],"text-decoration-color":[{decoration:ve()}],"underline-offset":[{"underline-offset":[Gt,"auto",Qe,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",..._e()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),L7,D7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",B7,M7]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ml,Qe,Ke],radial:["",Qe,Ke],conic:[Ml,Qe,Ke]},V7,O7]}],"bg-color":[{bg:ve()}],"gradient-from-pos":[{from:Re()}],"gradient-via-pos":[{via:Re()}],"gradient-to-pos":[{to:Re()}],"gradient-from":[{from:ve()}],"gradient-via":[{via:ve()}],"gradient-to":[{to:ve()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:ve()}],"border-color-x":[{"border-x":ve()}],"border-color-y":[{"border-y":ve()}],"border-color-s":[{"border-s":ve()}],"border-color-e":[{"border-e":ve()}],"border-color-t":[{"border-t":ve()}],"border-color-r":[{"border-r":ve()}],"border-color-b":[{"border-b":ve()}],"border-color-l":[{"border-l":ve()}],"divide-color":[{divide:ve()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Gt,Qe,Ke]}],"outline-w":[{outline:["",Gt,Lh,Dl]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",_,U7,k7]}],"shadow-color":[{shadow:ve()}],"inset-shadow":[{"inset-shadow":["none",Qe,Ke,A]}],"inset-shadow-color":[{"inset-shadow":ve()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ve()}],"ring-offset-w":[{"ring-offset":[Gt,Dl]}],"ring-offset-color":[{"ring-offset":ve()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":ve()}],opacity:[{opacity:[Gt,Qe,Ke]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],filter:[{filter:["","none",Qe,Ke]}],blur:[{blur:Ge()}],brightness:[{brightness:[Gt,Qe,Ke]}],contrast:[{contrast:[Gt,Qe,Ke]}],"drop-shadow":[{"drop-shadow":["","none",I,Qe,Ke]}],grayscale:[{grayscale:["",Gt,Qe,Ke]}],"hue-rotate":[{"hue-rotate":[Gt,Qe,Ke]}],invert:[{invert:["",Gt,Qe,Ke]}],saturate:[{saturate:[Gt,Qe,Ke]}],sepia:[{sepia:["",Gt,Qe,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Ke]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[Gt,Qe,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Gt,Qe,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gt,Qe,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gt,Qe,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Gt,Qe,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Gt,Qe,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Gt,Qe,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Gt,Qe,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_e()}],"border-spacing-x":[{"border-spacing-x":_e()}],"border-spacing-y":[{"border-spacing-y":_e()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gt,"initial",Qe,Ke]}],ease:[{ease:["linear","initial",H,Qe,Ke]}],delay:[{delay:[Gt,Qe,Ke]}],animate:[{animate:["none",F,Qe,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,Qe,Ke]}],"perspective-origin":[{"perspective-origin":it()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Qe,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:it()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:ve()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ve()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_e()}],"scroll-mx":[{"scroll-mx":_e()}],"scroll-my":[{"scroll-my":_e()}],"scroll-ms":[{"scroll-ms":_e()}],"scroll-me":[{"scroll-me":_e()}],"scroll-mt":[{"scroll-mt":_e()}],"scroll-mr":[{"scroll-mr":_e()}],"scroll-mb":[{"scroll-mb":_e()}],"scroll-ml":[{"scroll-ml":_e()}],"scroll-p":[{"scroll-p":_e()}],"scroll-px":[{"scroll-px":_e()}],"scroll-py":[{"scroll-py":_e()}],"scroll-ps":[{"scroll-ps":_e()}],"scroll-pe":[{"scroll-pe":_e()}],"scroll-pt":[{"scroll-pt":_e()}],"scroll-pr":[{"scroll-pr":_e()}],"scroll-pb":[{"scroll-pb":_e()}],"scroll-pl":[{"scroll-pl":_e()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Ke]}],fill:[{fill:["none",...ve()]}],"stroke-w":[{stroke:[Gt,Lh,Dl,Fp]}],stroke:[{stroke:["none",...ve()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},q7=(n,{cacheSize:e,prefix:t,experimentalParseClassName:r,extend:s={},override:o={}})=>(Of(n,"cacheSize",e),Of(n,"prefix",t),Of(n,"experimentalParseClassName",r),Bh(n.theme,o.theme),Bh(n.classGroups,o.classGroups),Bh(n.conflictingClassGroups,o.conflictingClassGroups),Bh(n.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),Of(n,"orderSensitiveModifiers",o.orderSensitiveModifiers),Vh(n.theme,s.theme),Vh(n.classGroups,s.classGroups),Vh(n.conflictingClassGroups,s.conflictingClassGroups),Vh(n.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),NC(n,s,"orderSensitiveModifiers"),n),Of=(n,e,t)=>{t!==void 0&&(n[e]=t)},Bh=(n,e)=>{if(e)for(const t in e)Of(n,t,e[t])},Vh=(n,e)=>{if(e)for(const t in e)NC(n,e,t)},NC=(n,e,t)=>{const r=e[t];r!==void 0&&(n[t]=n[t]?n[t].concat(r):r)},Y7=(n,...e)=>typeof n=="function"?UE(zE,n,...e):UE(()=>q7(zE(),n),...e),jE=new Map;function Yt(...n){const e=pC(),t=mC(),r=`${e}.${t}`,s=jE.get(r);if(s)return s(...n);const o=(t===3?a7:Y7)({extend:{classGroups:{"bg-image":["bg-arrow-down-icon","bg-check-icon","bg-dash-icon","bg-dot-icon"],shadow:["shadow-sm-light"]}},prefix:e});return jE.set(r,o),o(...n)}function Rr(...n){return W7(()=>X7(...n),n)}function W7(n,e){const t=$.useRef(),r=$.useRef();return(!t.current||!cy(t.current,e))&&(t.current=e,r.current=n()),r.current}function X7([n,...e],t,r){const s=_9(),o=pC(),d=mC(),p=e!=null&&e.length?e==null?void 0:e.filter(I=>I!==void 0):void 0,w=t!=null&&t.length?t==null?void 0:t.filter(I=>I!==void 0):void 0,y=r!=null&&r.length?r==null?void 0:r.filter(I=>I!==void 0):void 0,_=w!=null&&w.length||s===!1||d===4||o?i0(n):n;if(w!=null&&w.length){const I=gy(_,!1);let N=!1;for(const M of w)M&&(N=!0),K7(I,M);N&&Z7(_,I)}(d===4||o)&&J7(_,I=>(d===4&&(I=T9(I)),I));let A=_;if(p!=null&&p.length&&(A=S9(Yt)(_,...p)),y!=null&&y.length&&(p!=null&&p.length)){const I=gy(_,"merge");let N=!1;for(const M of y)M!=="merge"&&(N=!0),Q7(I,M);N&&$7(A,y9(_,...e),I)}return A}function K7(n,e){function t(r,s){if(typeof s=="boolean")if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return s;if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function Q7(n,e){function t(r,s){if(typeof s=="string")if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return s;if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function Z7(n,e){function t(r,s){if(s===!0)if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return"";if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function $7(n,e,t){function r(s,o,d){if(d==="replace")if(typeof s=="object"&&s!==null)for(const p in s)s[p]=r(s[p],o[p],d);else return o;if(typeof d=="object"&&d!==null)for(const p in d)s[p]=r(s[p],o[p],d[p]);return s}r(n,e,t)}function J7(n,e){function t(r){if(typeof r=="string")return e(r);if(Array.isArray(r))for(let s=0;s<r.length;s++)r[s]=t(r[s]);else if(typeof r=="object"&&r!==null)for(const s in r)r[s]=t(r[s]);return r}t(n)}function gy(n,e){if(n===null||typeof n!="object")return e;const t={};for(const r in n)t[r]=gy(n[r],e);return t}const MC=$.forwardRef((n,e)=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:X.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M5.293 7.293a1 1 0 0 1 1.414 0L10 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));MC.displayName="ChevronDownIcon";const eP=$.createContext(void 0);function Nr(){return $.useContext(eP)??{}}const Mw={root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"p-5 first:rounded-t-lg last:rounded-b-lg dark:bg-gray-900"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between p-5 text-left font-medium text-gray-500 first:rounded-t-lg last:rounded-b-lg dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white"}}};function DC(n){var N,M,k;const e=Nr(),t=Rr([Mw.root,(M=(N=e.theme)==null?void 0:N.accordion)==null?void 0:M.root,n.theme],[dt(e.clearTheme,"accordion.root"),n.clearTheme],[dt(e.applyTheme,"accordion.root"),n.applyTheme]),{alwaysOpen:r=!1,arrowIcon:s=MC,children:o,flush:d=!1,collapseAll:p=!1,className:w,...y}=Ir(n,(k=e.props)==null?void 0:k.accordion),[_,A]=$.useState(p?-1:0),I=$.useMemo(()=>$.Children.map(o,(H,F)=>$.cloneElement(H,{alwaysOpen:r,arrowIcon:s,flush:d,isOpen:_===F,setOpen:()=>A(_===F?-1:F)})),[r,s,o,d,_]);return X.jsx("div",{className:Yt(t.base,t.flush[d?"on":"off"],w),"data-testid":"flowbite-accordion",...y,children:I})}DC.displayName="Accordion";const OC=$.createContext(void 0);function kC(){const n=$.useContext(OC);if(!n)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return n}function PC(n){var d,p,w;const{isOpen:e}=kC(),t=Nr(),r=Rr([Mw.content,(p=(d=t.theme)==null?void 0:d.accordion)==null?void 0:p.content,n.theme],[dt(t.clearTheme,"accordion.content"),n.clearTheme],[dt(t.applyTheme,"accordion.content"),n.applyTheme]),{className:s,...o}=Ir(n,(w=t.props)==null?void 0:w.accordionContent);return X.jsx("div",{className:Yt(r.base,s),"data-testid":"flowbite-accordion-content",hidden:!e,...o})}PC.displayName="AccordionContent";function LC({children:n,...e}){const{alwaysOpen:t}=e,[r,s]=$.useState(e.isOpen),o=t?{...e,isOpen:r,setOpen:()=>s(!r)}:e;return X.jsx(OC.Provider,{value:o,children:n})}LC.displayName="AccordionPanel";function BC(n){var I,N,M;const{arrowIcon:e,flush:t,isOpen:r,setOpen:s}=kC(),o=()=>typeof s<"u"&&s(),d=Nr(),p=Rr([Mw.title,(N=(I=d.theme)==null?void 0:I.accordion)==null?void 0:N.title,n.theme],[dt(d.clearTheme,"accordion.title"),n.clearTheme],[dt(d.applyTheme,"accordion.title"),n.applyTheme]),{as:w="h2",children:y,className:_,...A}=Ir(n,(M=d.props)==null?void 0:M.accordionTitle);return X.jsxs("button",{className:Yt(p.base,p.flush[t?"on":"off"],p.open[r?"on":"off"],_),onClick:o,type:"button",...A,children:[X.jsx(w,{className:p.heading,"data-testid":"flowbite-accordion-heading",children:y}),e&&X.jsx(e,{"aria-hidden":!0,className:Yt(p.arrow.base,p.arrow.open[r?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})}BC.displayName="AccordionTitle";const VC=$.forwardRef(({children:n,as:e,href:t,type:r="button",...s},o)=>{const d=e||(t?"a":"button");return $.createElement(d,{ref:o,href:t,type:r,...s},n)});VC.displayName="ButtonBase";const tP=$.createContext(void 0);function nP(){return $.useContext(tP)}const rP={base:"relative flex items-center justify-center rounded-lg text-center font-medium focus:outline-none focus:ring-4",disabled:"pointer-events-none opacity-50",fullSized:"w-full",grouped:"rounded-none border-l-0 first:rounded-s-lg first:border-l last:rounded-e-lg focus:ring-2",pill:"rounded-full",size:{xs:"h-8 px-3 text-xs",sm:"h-9 px-3 text-sm",md:"h-10 px-5 text-sm",lg:"h-12 px-5 text-base",xl:"h-[52px] px-6 text-base"},color:{default:"bg-primary-700 text-white hover:bg-primary-800 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",alternative:"border border-gray-200 bg-white text-gray-900 hover:bg-gray-100 hover:text-primary-700 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-700",blue:"bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",cyan:"bg-cyan-700 text-white hover:bg-cyan-800 focus:ring-cyan-300 dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800",dark:"bg-gray-800 text-white hover:bg-gray-900 focus:ring-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700",gray:"bg-gray-700 text-white hover:bg-gray-800 focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800",green:"bg-green-700 text-white hover:bg-green-800 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",indigo:"bg-indigo-700 text-white hover:bg-indigo-800 focus:ring-indigo-300 dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-indigo-800",light:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-700",lime:"bg-lime-700 text-white hover:bg-lime-800 focus:ring-lime-300 dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:ring-lime-800",pink:"bg-pink-700 text-white hover:bg-pink-800 focus:ring-pink-300 dark:bg-pink-600 dark:hover:bg-pink-700 dark:focus:ring-pink-800",purple:"bg-purple-700 text-white hover:bg-purple-800 focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-800",red:"bg-red-700 text-white hover:bg-red-800 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",teal:"bg-teal-700 text-white hover:bg-teal-800 focus:ring-teal-300 dark:bg-teal-600 dark:hover:bg-teal-700 dark:focus:ring-teal-800",yellow:"bg-yellow-400 text-white hover:bg-yellow-500 focus:ring-yellow-300 dark:bg-yellow-600 dark:hover:bg-yellow-400 dark:focus:ring-yellow-900"},outlineColor:{default:"border border-primary-700 text-primary-700 hover:border-primary-800 hover:bg-primary-800 hover:text-white focus:ring-primary-300 dark:border-primary-600 dark:text-primary-500 dark:hover:border-primary-700 dark:hover:bg-primary-700 dark:hover:text-white dark:focus:ring-primary-800",blue:"border border-blue-700 text-blue-700 hover:border-blue-800 hover:bg-blue-800 hover:text-white focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:border-blue-700 dark:hover:bg-blue-700 dark:hover:text-white dark:focus:ring-blue-800",cyan:"border border-cyan-700 text-cyan-700 hover:border-cyan-800 hover:bg-cyan-800 hover:text-white focus:ring-cyan-300 dark:border-cyan-500 dark:text-cyan-500 dark:hover:border-cyan-700 dark:hover:bg-cyan-700 dark:hover:text-white dark:focus:ring-cyan-800",dark:"border border-gray-800 text-gray-800 hover:border-gray-900 hover:bg-gray-900 hover:text-white focus:ring-gray-300 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:ring-gray-800",gray:"border border-gray-700 text-gray-700 hover:border-gray-800 hover:bg-gray-800 hover:text-white focus:ring-gray-300 dark:border-gray-600 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-800",green:"border border-green-700 text-green-700 hover:border-green-800 hover:bg-green-800 hover:text-white focus:ring-green-300 dark:border-green-600 dark:text-green-500 dark:hover:border-green-700 dark:hover:bg-green-700 dark:hover:text-white dark:focus:ring-green-800",indigo:"border border-indigo-700 text-indigo-700 hover:border-indigo-800 hover:bg-indigo-800 hover:text-white focus:ring-indigo-300 dark:border-indigo-600 dark:text-indigo-400 dark:hover:border-indigo-700 dark:hover:bg-indigo-700 dark:hover:text-white dark:focus:ring-indigo-800",lime:"border border-lime-700 text-lime-700 hover:border-lime-800 hover:bg-lime-800 hover:text-white focus:ring-lime-300 dark:border-lime-600 dark:text-lime-500 dark:hover:border-lime-700 dark:hover:bg-lime-700 dark:hover:text-white dark:focus:ring-lime-800",pink:"border border-pink-700 text-pink-700 hover:border-pink-800 hover:bg-pink-800 hover:text-white focus:ring-pink-300 dark:border-pink-600 dark:text-pink-500 dark:hover:border-pink-700 dark:hover:bg-pink-700 dark:hover:text-white dark:focus:ring-pink-800",purple:"border border-purple-700 text-purple-700 hover:border-purple-800 hover:bg-purple-800 hover:text-white focus:ring-purple-300 dark:border-purple-600 dark:text-purple-400 dark:hover:border-purple-700 dark:hover:bg-purple-700 dark:hover:text-white dark:focus:ring-purple-800",red:"border border-red-700 text-red-700 hover:border-red-800 hover:bg-red-800 hover:text-white focus:ring-red-300 dark:border-red-600 dark:text-red-500 dark:hover:border-red-700 dark:hover:bg-red-700 dark:hover:text-white dark:focus:ring-red-800",teal:"border border-teal-700 text-teal-700 hover:border-teal-800 hover:bg-teal-800 hover:text-white focus:ring-teal-300 dark:border-teal-600 dark:text-teal-400 dark:hover:border-teal-700 dark:hover:bg-teal-700 dark:hover:text-white dark:focus:ring-teal-800",yellow:"border border-yellow-400 text-yellow-400 hover:border-yellow-500 hover:bg-yellow-500 hover:text-white focus:ring-yellow-300 dark:border-yellow-300 dark:text-yellow-300 dark:hover:border-yellow-400 dark:hover:bg-yellow-400 dark:hover:text-white dark:focus:ring-yellow-900"}},aa=$.forwardRef((n,e)=>{var H,F;const t=Nr(),r=Rr([rP,(H=t.theme)==null?void 0:H.button,n.theme],[dt(t.clearTheme,"button"),n.clearTheme],[dt(t.applyTheme,"button"),n.applyTheme]),{children:s,className:o,color:d="default",disabled:p,fullSized:w,outline:y,pill:_,size:A="md",...I}=Ir(n,(F=t.props)==null?void 0:F.button),N=nP(),M=(N==null?void 0:N.outline)??y,k=(N==null?void 0:N.pill)??_;return X.jsx(VC,{ref:e,disabled:p,className:Yt(r.base,r.size[A],k&&r.pill,p&&r.disabled,w&&r.fullSized,M?r.outlineColor[d]:r.color[d],N&&r.grouped,o),...I,children:s})});aa.displayName="Button";const iP={root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},iu=$.forwardRef((n,e)=>{var N,M;const t=Nr(),r=Rr([iP,(N=t.theme)==null?void 0:N.card,n.theme],[dt(t.clearTheme,"card"),n.clearTheme],[dt(t.applyTheme,"card"),n.applyTheme]),{children:s,className:o,horizontal:d,href:p,imgAlt:w,imgSrc:y,renderImage:_,...A}=Ir(n,(M=t.props)==null?void 0:M.card),I=typeof p>"u"?"div":"a";return X.jsxs(I,{ref:e,"data-testid":"flowbite-card",href:p,className:Yt(r.root.base,r.root.horizontal[d?"on":"off"],p&&r.root.href,o),...A,children:[(_==null?void 0:_(r,!!d))??(y&&X.jsx("img",{"data-testid":"flowbite-card-image",alt:w??"",src:y,className:Yt(r.img.base,r.img.horizontal[n.horizontal?"on":"off"])})),X.jsx("div",{className:r.root.children,children:s})]})});iu.displayName="Card";function vg(){return typeof window<"u"}function dl(n){return UC(n)?(n.nodeName||"").toLowerCase():"#document"}function ns(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ja(n){var e;return(e=(UC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function UC(n){return vg()?n instanceof Node||n instanceof ns(n).Node:!1}function or(n){return vg()?n instanceof Element||n instanceof ns(n).Element:!1}function Vr(n){return vg()?n instanceof HTMLElement||n instanceof ns(n).HTMLElement:!1}function py(n){return!vg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ns(n).ShadowRoot}function _d(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=_s(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function sP(n){return["table","td","th"].includes(dl(n))}function bg(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Dw(n){const e=Eg(),t=or(n)?_s(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function aP(n){let e=Za(n);for(;Vr(e)&&!Ha(e);){if(Dw(e))return e;if(bg(e))return null;e=Za(e)}return null}function Eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ha(n){return["html","body","#document"].includes(dl(n))}function _s(n){return ns(n).getComputedStyle(n)}function _g(n){return or(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Za(n){if(dl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||py(n)&&n.host||Ja(n);return py(e)?e.host:e}function FC(n){const e=Za(n);return Ha(e)?n.ownerDocument?n.ownerDocument.body:n.body:Vr(e)&&_d(e)?e:FC(e)}function su(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=FC(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),d=ns(s);if(o){const p=my(d);return e.concat(d,d.visualViewport||[],_d(s)?s:[],p&&t?su(p):[])}return e.concat(s,su(s,[],t))}function my(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function kl(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Zi(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&py(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function zC(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function jC(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function oP(n){return n.mozInputSource===0&&n.isTrusted?!0:yy()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function lP(n){return uP()?!1:!yy()&&n.width===0&&n.height===0||yy()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function cP(){return/apple/i.test(navigator.vendor)}function yy(){const n=/android/i;return n.test(zC())||n.test(jC())}function uP(){return jC().includes("jsdom/")}function HE(n,e){return["mouse","pen"].includes(n)}function fP(n){return"nativeEvent"in n}function dP(n){return n.matches("html,body")}function Os(n){return(n==null?void 0:n.ownerDocument)||document}function zp(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function Bl(n){return"composedPath"in n?n.composedPath()[0]:n.target}const hP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function HC(n){return Vr(n)&&n.matches(hP)}function jp(n){n.preventDefault(),n.stopPropagation()}function gP(n){return n?n.getAttribute("role")==="combobox"&&HC(n):!1}const GE=Math.min,zf=Math.max,S0=Math.round,oa=n=>({x:n,y:n});function GC(n){return n.split("-")[0]}function pP(n){return n.split("-")[1]}function mP(n){return n==="x"?"y":"x"}function yP(n){return n==="y"?"height":"width"}function qC(n){return["top","bottom"].includes(GC(n))?"y":"x"}function wP(n){return mP(qC(n))}function YC(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var xP=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],C0=xP.join(","),WC=typeof Element>"u",mu=WC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,I0=!WC&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},R0=function n(e,t){var r;t===void 0&&(t=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=s===""||s==="true",d=o||t&&e&&n(e.parentNode);return d},vP=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},bP=function(e,t,r){if(R0(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(C0));return t&&mu.call(e,C0)&&s.unshift(e),s=s.filter(r),s},EP=function n(e,t,r){for(var s=[],o=Array.from(e);o.length;){var d=o.shift();if(!R0(d,!1))if(d.tagName==="SLOT"){var p=d.assignedElements(),w=p.length?p:d.children,y=n(w,!0,r);r.flatten?s.push.apply(s,y):s.push({scopeParent:d,candidates:y})}else{var _=mu.call(d,C0);_&&r.filter(d)&&(t||!e.includes(d))&&s.push(d);var A=d.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(d),I=!R0(A,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(d));if(A&&I){var N=n(A===!0?d.children:A.children,!0,r);r.flatten?s.push.apply(s,N):s.push({scopeParent:d,candidates:N})}else o.unshift.apply(o,d.children)}}return s},XC=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},KC=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||vP(e))&&!XC(e)?0:e.tabIndex},_P=function(e,t){var r=KC(e);return r<0&&t&&!XC(e)?0:r},TP=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},QC=function(e){return e.tagName==="INPUT"},AP=function(e){return QC(e)&&e.type==="hidden"},SP=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},CP=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},IP=function(e){if(!e.name)return!0;var t=e.form||I0(e),r=function(p){return t.querySelectorAll('input[type="radio"][name="'+p+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var o=CP(s,e.form);return!o||o===e},RP=function(e){return QC(e)&&e.type==="radio"},NP=function(e){return RP(e)&&!IP(e)},MP=function(e){var t,r=e&&I0(e),s=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var d,p,w;for(o=!!((d=s)!==null&&d!==void 0&&(p=d.ownerDocument)!==null&&p!==void 0&&p.contains(s)||e!=null&&(w=e.ownerDocument)!==null&&w!==void 0&&w.contains(e));!o&&s;){var y,_,A;r=I0(s),s=(y=r)===null||y===void 0?void 0:y.host,o=!!((_=s)!==null&&_!==void 0&&(A=_.ownerDocument)!==null&&A!==void 0&&A.contains(s))}}return o},qE=function(e){var t=e.getBoundingClientRect(),r=t.width,s=t.height;return r===0&&s===0},DP=function(e,t){var r=t.displayCheck,s=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=mu.call(e,"details>summary:first-of-type"),d=o?e.parentElement:e;if(mu.call(d,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var p=e;e;){var w=e.parentElement,y=I0(e);if(w&&!w.shadowRoot&&s(w)===!0)return qE(e);e.assignedSlot?e=e.assignedSlot:!w&&y!==e.ownerDocument?e=y.host:e=w}e=p}if(MP(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return qE(e);return!1},OP=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var s=t.children.item(r);if(s.tagName==="LEGEND")return mu.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},kP=function(e,t){return!(t.disabled||R0(t)||AP(t)||DP(t,e)||SP(t)||OP(t))},wy=function(e,t){return!(NP(t)||KC(t)<0||!kP(e,t))},PP=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},LP=function n(e){var t=[],r=[];return e.forEach(function(s,o){var d=!!s.scopeParent,p=d?s.scopeParent:s,w=_P(p,d),y=d?n(s.candidates):p;w===0?d?t.push.apply(t,y):t.push(p):r.push({documentOrder:o,tabIndex:w,item:s,isScope:d,content:y})}),r.sort(TP).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(t)},Tg=function(e,t){t=t||{};var r;return t.getShadowRoot?r=EP([e],t.includeContainer,{filter:wy.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:PP}):r=bP(e,t.includeContainer,wy.bind(null,t)),LP(r)},BP=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return mu.call(e,C0)===!1?!1:wy(t,e)};function YE(n,e,t){let{reference:r,floating:s}=n;const o=qC(e),d=wP(e),p=yP(d),w=GC(e),y=o==="y",_=r.x+r.width/2-s.width/2,A=r.y+r.height/2-s.height/2,I=r[p]/2-s[p]/2;let N;switch(w){case"top":N={x:_,y:r.y-s.height};break;case"bottom":N={x:_,y:r.y+r.height};break;case"right":N={x:r.x+r.width,y:A};break;case"left":N={x:r.x-s.width,y:A};break;default:N={x:r.x,y:r.y}}switch(pP(e)){case"start":N[d]-=I*(t&&y?-1:1);break;case"end":N[d]+=I*(t&&y?-1:1);break}return N}const VP=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:d}=t,p=o.filter(Boolean),w=await(d.isRTL==null?void 0:d.isRTL(e));let y=await d.getElementRects({reference:n,floating:e,strategy:s}),{x:_,y:A}=YE(y,r,w),I=r,N={},M=0;for(let k=0;k<p.length;k++){const{name:H,fn:F}=p[k],{x:G,y:B,data:Z,reset:re}=await F({x:_,y:A,initialPlacement:r,placement:I,strategy:s,middlewareData:N,rects:y,platform:d,elements:{reference:n,floating:e}});_=G??_,A=B??A,N={...N,[H]:{...N[H],...Z}},re&&M<=50&&(M++,typeof re=="object"&&(re.placement&&(I=re.placement),re.rects&&(y=re.rects===!0?await d.getElementRects({reference:n,floating:e,strategy:s}):re.rects),{x:_,y:A}=YE(y,I,w)),k=-1)}return{x:_,y:A,placement:I,strategy:s,middlewareData:N}};function ZC(n){const e=_s(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Vr(n),o=s?n.offsetWidth:t,d=s?n.offsetHeight:r,p=S0(t)!==o||S0(r)!==d;return p&&(t=o,r=d),{width:t,height:r,$:p}}function $C(n){return or(n)?n:n.contextElement}function au(n){const e=$C(n);if(!Vr(e))return oa(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=ZC(e);let d=(o?S0(t.width):t.width)/r,p=(o?S0(t.height):t.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!p||!Number.isFinite(p))&&(p=1),{x:d,y:p}}const UP=oa(0);function JC(n){const e=ns(n);return!Eg()||!e.visualViewport?UP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FP(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ns(n)?!1:e}function id(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=$C(n);let d=oa(1);e&&(r?or(r)&&(d=au(r)):d=au(n));const p=FP(o,t,r)?JC(o):oa(0);let w=(s.left+p.x)/d.x,y=(s.top+p.y)/d.y,_=s.width/d.x,A=s.height/d.y;if(o){const I=ns(o),N=r&&or(r)?ns(r):r;let M=I,k=my(M);for(;k&&r&&N!==M;){const H=au(k),F=k.getBoundingClientRect(),G=_s(k),B=F.left+(k.clientLeft+parseFloat(G.paddingLeft))*H.x,Z=F.top+(k.clientTop+parseFloat(G.paddingTop))*H.y;w*=H.x,y*=H.y,_*=H.x,A*=H.y,w+=B,y+=Z,M=ns(k),k=my(M)}}return YC({width:_,height:A,x:w,y})}function Ow(n,e){const t=_g(n).scrollLeft;return e?e.left+t:id(Ja(n)).left+t}function eI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Ow(n,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function zP(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const o=s==="fixed",d=Ja(r),p=e?bg(e.floating):!1;if(r===d||p&&o)return t;let w={scrollLeft:0,scrollTop:0},y=oa(1);const _=oa(0),A=Vr(r);if((A||!A&&!o)&&((dl(r)!=="body"||_d(d))&&(w=_g(r)),Vr(r))){const N=id(r);y=au(r),_.x=N.x+r.clientLeft,_.y=N.y+r.clientTop}const I=d&&!A&&!o?eI(d,w,!0):oa(0);return{width:t.width*y.x,height:t.height*y.y,x:t.x*y.x-w.scrollLeft*y.x+_.x+I.x,y:t.y*y.y-w.scrollTop*y.y+_.y+I.y}}function jP(n){return Array.from(n.getClientRects())}function HP(n){const e=Ja(n),t=_g(n),r=n.ownerDocument.body,s=zf(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=zf(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let d=-t.scrollLeft+Ow(n);const p=-t.scrollTop;return _s(r).direction==="rtl"&&(d+=zf(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:d,y:p}}function GP(n,e){const t=ns(n),r=Ja(n),s=t.visualViewport;let o=r.clientWidth,d=r.clientHeight,p=0,w=0;if(s){o=s.width,d=s.height;const y=Eg();(!y||y&&e==="fixed")&&(p=s.offsetLeft,w=s.offsetTop)}return{width:o,height:d,x:p,y:w}}function qP(n,e){const t=id(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,o=Vr(n)?au(n):oa(1),d=n.clientWidth*o.x,p=n.clientHeight*o.y,w=s*o.x,y=r*o.y;return{width:d,height:p,x:w,y}}function WE(n,e,t){let r;if(e==="viewport")r=GP(n,t);else if(e==="document")r=HP(Ja(n));else if(or(e))r=qP(e,t);else{const s=JC(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return YC(r)}function tI(n,e){const t=Za(n);return t===e||!or(t)||Ha(t)?!1:_s(t).position==="fixed"||tI(t,e)}function YP(n,e){const t=e.get(n);if(t)return t;let r=su(n,[],!1).filter(p=>or(p)&&dl(p)!=="body"),s=null;const o=_s(n).position==="fixed";let d=o?Za(n):n;for(;or(d)&&!Ha(d);){const p=_s(d),w=Dw(d);!w&&p.position==="fixed"&&(s=null),(o?!w&&!s:!w&&p.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||_d(d)&&!w&&tI(n,d))?r=r.filter(_=>_!==d):s=p,d=Za(d)}return e.set(n,r),r}function WP(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const d=[...t==="clippingAncestors"?bg(e)?[]:YP(e,this._c):[].concat(t),r],p=d[0],w=d.reduce((y,_)=>{const A=WE(e,_,s);return y.top=zf(A.top,y.top),y.right=GE(A.right,y.right),y.bottom=GE(A.bottom,y.bottom),y.left=zf(A.left,y.left),y},WE(e,p,s));return{width:w.right-w.left,height:w.bottom-w.top,x:w.left,y:w.top}}function XP(n){const{width:e,height:t}=ZC(n);return{width:e,height:t}}function KP(n,e,t){const r=Vr(e),s=Ja(e),o=t==="fixed",d=id(n,!0,o,e);let p={scrollLeft:0,scrollTop:0};const w=oa(0);if(r||!r&&!o)if((dl(e)!=="body"||_d(s))&&(p=_g(e)),r){const I=id(e,!0,o,e);w.x=I.x+e.clientLeft,w.y=I.y+e.clientTop}else s&&(w.x=Ow(s));const y=s&&!r&&!o?eI(s,p):oa(0),_=d.left+p.scrollLeft-w.x-y.x,A=d.top+p.scrollTop-w.y-y.y;return{x:_,y:A,width:d.width,height:d.height}}function Hp(n){return _s(n).position==="static"}function XE(n,e){if(!Vr(n)||_s(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ja(n)===t&&(t=t.ownerDocument.body),t}function nI(n,e){const t=ns(n);if(bg(n))return t;if(!Vr(n)){let s=Za(n);for(;s&&!Ha(s);){if(or(s)&&!Hp(s))return s;s=Za(s)}return t}let r=XE(n,e);for(;r&&sP(r)&&Hp(r);)r=XE(r,e);return r&&Ha(r)&&Hp(r)&&!Dw(r)?t:r||aP(n)||t}const QP=async function(n){const e=this.getOffsetParent||nI,t=this.getDimensions,r=await t(n.floating);return{reference:KP(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZP(n){return _s(n).direction==="rtl"}const $P={convertOffsetParentRelativeRectToViewportRelativeRect:zP,getDocumentElement:Ja,getClippingRect:WP,getOffsetParent:nI,getElementRects:QP,getClientRects:jP,getDimensions:XP,getScale:au,isElement:or,isRTL:ZP},JP=(n,e,t)=>{const r=new Map,s={platform:$P,...t},o={...s.platform,_c:r};return VP(n,e,{...s,platform:o})};var s0=typeof document<"u"?$.useLayoutEffect:$.useEffect;function N0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!N0(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!N0(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function rI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function KE(n,e){const t=rI(n);return Math.round(e*t)/t}function Gp(n){const e=$.useRef(n);return s0(()=>{e.current=n}),e}function eL(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:d}={},transform:p=!0,whileElementsMounted:w,open:y}=n,[_,A]=$.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[I,N]=$.useState(r);N0(I,r)||N(r);const[M,k]=$.useState(null),[H,F]=$.useState(null),G=$.useCallback(ve=>{ve!==se.current&&(se.current=ve,k(ve))},[]),B=$.useCallback(ve=>{ve!==V.current&&(V.current=ve,F(ve))},[]),Z=o||M,re=d||H,se=$.useRef(null),V=$.useRef(null),P=$.useRef(_),O=w!=null,W=Gp(w),Q=Gp(s),Y=Gp(y),q=$.useCallback(()=>{if(!se.current||!V.current)return;const ve={placement:e,strategy:t,middleware:I};Q.current&&(ve.platform=Q.current),JP(se.current,V.current,ve).then(Re=>{const te={...Re,isPositioned:Y.current!==!1};_e.current&&!N0(P.current,te)&&(P.current=te,OT.flushSync(()=>{A(te)}))})},[I,e,t,Q,Y]);s0(()=>{y===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,A(ve=>({...ve,isPositioned:!1})))},[y]);const _e=$.useRef(!1);s0(()=>(_e.current=!0,()=>{_e.current=!1}),[]),s0(()=>{if(Z&&(se.current=Z),re&&(V.current=re),Z&&re){if(W.current)return W.current(Z,re,q);q()}},[Z,re,q,W,O]);const le=$.useMemo(()=>({reference:se,floating:V,setReference:G,setFloating:B}),[G,B]),ae=$.useMemo(()=>({reference:Z,floating:re}),[Z,re]),de=$.useMemo(()=>{const ve={position:t,left:0,top:0};if(!ae.floating)return ve;const Re=KE(ae.floating,_.x),te=KE(ae.floating,_.y);return p?{...ve,transform:"translate("+Re+"px, "+te+"px)",...rI(ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Re,top:te}},[t,p,ae.floating,_.x,_.y]);return $.useMemo(()=>({..._,update:q,refs:le,elements:ae,floatingStyles:de}),[_,q,le,ae,de])}function xy(n){return $.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},n)}const iI={...M4},tL=iI.useInsertionEffect,nL=tL||(n=>n());function La(n){const e=$.useRef(()=>{});return nL(()=>{e.current=n}),$.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var ts=typeof document<"u"?$.useLayoutEffect:$.useEffect;let QE=!1,rL=0;const ZE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+rL++;function iL(){const[n,e]=$.useState(()=>QE?ZE():void 0);return ts(()=>{n==null&&e(ZE())},[]),$.useEffect(()=>{QE=!0},[]),n}const sL=iI.useId,kw=sL||iL;function aL(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(s=>s(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(s=>s!==t))||[])}}}const oL=$.createContext(null),lL=$.createContext(null),sI=()=>{var n;return((n=$.useContext(oL))==null?void 0:n.id)||null},Pw=()=>$.useContext(lL);function sd(n){return"data-floating-ui-"+n}function qp(n){const e=$.useRef(n);return ts(()=>{e.current=n}),e}let $E=0;function Vc(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:s=!1}=e;r&&cancelAnimationFrame($E);const o=()=>n==null?void 0:n.focus({preventScroll:t});s?o():$E=requestAnimationFrame(o)}function JE(n,e){var t;let r=[],s=(t=n.find(o=>o.id===e))==null?void 0:t.parentId;for(;s;){const o=n.find(d=>d.id===s);s=o==null?void 0:o.parentId,o&&(r=r.concat(o))}return r}function jf(n,e){let t=n.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),r=t;for(;r.length;)r=n.filter(s=>{var o;return(o=r)==null?void 0:o.some(d=>{var p;return s.parentId===d.id&&((p=s.context)==null?void 0:p.open)})}),t=t.concat(r);return t}let Uc=new WeakMap,Uh=new WeakSet,Fh={},Yp=0;const cL=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,aI=n=>n&&(n.host||aI(n.parentNode)),uL=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=aI(t);return n.contains(r)?r:null}).filter(t=>t!=null);function fL(n,e,t,r){const s="data-floating-ui-inert",o=r?"inert":t?"aria-hidden":null,d=uL(e,n),p=new Set,w=new Set(d),y=[];Fh[s]||(Fh[s]=new WeakMap);const _=Fh[s];d.forEach(A),I(e),p.clear();function A(N){!N||p.has(N)||(p.add(N),N.parentNode&&A(N.parentNode))}function I(N){!N||w.has(N)||[].forEach.call(N.children,M=>{if(dl(M)!=="script")if(p.has(M))I(M);else{const k=o?M.getAttribute(o):null,H=k!==null&&k!=="false",F=Uc.get(M)||0,G=o?F+1:F,B=(_.get(M)||0)+1;Uc.set(M,G),_.set(M,B),y.push(M),G===1&&H&&Uh.add(M),B===1&&M.setAttribute(s,""),!H&&o&&M.setAttribute(o,"true")}})}return Yp++,()=>{y.forEach(N=>{const M=Uc.get(N)||0,k=o?M-1:M,H=(_.get(N)||0)-1;Uc.set(N,k),_.set(N,H),k||(!Uh.has(N)&&o&&N.removeAttribute(o),Uh.delete(N)),H||N.removeAttribute(s)}),Yp--,Yp||(Uc=new WeakMap,Uc=new WeakMap,Uh=new WeakSet,Fh={})}}function e_(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=Os(n[0]).body;return fL(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const Ag=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function oI(n,e){const t=Tg(n,Ag());e==="prev"&&t.reverse();const r=t.indexOf(kl(Os(n)));return t.slice(r+1)[0]}function lI(){return oI(document.body,"next")}function cI(){return oI(document.body,"prev")}function Hf(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Zi(t,r)}function dL(n){Tg(n,Ag()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function t_(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}const Sg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let hL;function n_(n){n.key==="Tab"&&(n.target,clearTimeout(hL))}const M0=$.forwardRef(function(e,t){const[r,s]=$.useState();ts(()=>(cP()&&s("button"),document.addEventListener("keydown",n_),()=>{document.removeEventListener("keydown",n_)}),[]);const o={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[sd("focus-guard")]:"",style:Sg};return X.jsx("span",{...e,...o})}),uI=$.createContext(null),r_=sd("portal");function gL(n){n===void 0&&(n={});const{id:e,root:t}=n,r=kw(),s=fI(),[o,d]=$.useState(null),p=$.useRef(null);return ts(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{p.current=null})},[o]),ts(()=>{if(!r||p.current)return;const w=e?document.getElementById(e):null;if(!w)return;const y=document.createElement("div");y.id=r,y.setAttribute(r_,""),w.appendChild(y),p.current=y,d(y)},[e,r]),ts(()=>{if(t===null||!r||p.current)return;let w=t||(s==null?void 0:s.portalNode);w&&!or(w)&&(w=w.current),w=w||document.body;let y=null;e&&(y=document.createElement("div"),y.id=e,w.appendChild(y));const _=document.createElement("div");_.id=r,_.setAttribute(r_,""),w=y||w,w.appendChild(_),p.current=_,d(_)},[e,t,r,s]),o}function pL(n){const{children:e,id:t,root:r,preserveTabOrder:s=!0}=n,o=gL({id:t,root:r}),[d,p]=$.useState(null),w=$.useRef(null),y=$.useRef(null),_=$.useRef(null),A=$.useRef(null),I=d==null?void 0:d.modal,N=d==null?void 0:d.open,M=!!d&&!d.modal&&d.open&&s&&!!(r||o);return $.useEffect(()=>{if(!o||!s||I)return;function k(H){o&&Hf(H)&&(H.type==="focusin"?t_:dL)(o)}return o.addEventListener("focusin",k,!0),o.addEventListener("focusout",k,!0),()=>{o.removeEventListener("focusin",k,!0),o.removeEventListener("focusout",k,!0)}},[o,s,I]),$.useEffect(()=>{o&&(N||t_(o))},[N,o]),X.jsxs(uI.Provider,{value:$.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:w,afterOutsideRef:y,beforeInsideRef:_,afterInsideRef:A,portalNode:o,setFocusManagerState:p}),[s,o]),children:[M&&o&&X.jsx(M0,{"data-type":"outside",ref:w,onFocus:k=>{if(Hf(k,o)){var H;(H=_.current)==null||H.focus()}else{const F=cI()||(d==null?void 0:d.domReference);F==null||F.focus()}}}),M&&o&&X.jsx("span",{"aria-owns":o.id,style:Sg}),o&&OT.createPortal(e,o),M&&o&&X.jsx(M0,{"data-type":"outside",ref:y,onFocus:k=>{if(Hf(k,o)){var H;(H=A.current)==null||H.focus()}else{const F=lI()||(d==null?void 0:d.domReference);F==null||F.focus(),d!=null&&d.closeOnFocusOut&&(d==null||d.onOpenChange(!1,k.nativeEvent,"focus-out"))}}})]})}const fI=()=>$.useContext(uI),vy="data-floating-ui-focusable";function i_(n){return n?n.hasAttribute(vy)?n:n.querySelector("["+vy+"]")||n:null}const mL=20;let Pl=[];function Wp(n){Pl=Pl.filter(e=>e.isConnected),n&&dl(n)!=="body"&&(Pl.push(n),Pl.length>mL&&(Pl=Pl.slice(-20)))}function s_(){return Pl.slice().reverse().find(n=>n.isConnected)}function yL(n){const e=Ag();return BP(n,e)?n:Tg(n,e)[0]||n}const wL=$.forwardRef(function(e,t){return X.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:Sg})});function xL(n){const{context:e,children:t,disabled:r=!1,order:s=["content"],guards:o=!0,initialFocus:d=0,returnFocus:p=!0,restoreFocus:w=!1,modal:y=!0,visuallyHiddenDismiss:_=!1,closeOnFocusOut:A=!0,outsideElementsInert:I=!1}=n,{open:N,onOpenChange:M,events:k,dataRef:H,elements:{domReference:F,floating:G}}=e,B=La(()=>{var Ye;return(Ye=H.current.floatingContext)==null?void 0:Ye.nodeId}),Z=typeof d=="number"&&d<0,re=gP(F)&&Z,se=cL(),V=se?o:!0,P=!V||se&&I,O=qp(s),W=qp(d),Q=qp(p),Y=Pw(),q=fI(),_e=$.useRef(null),le=$.useRef(null),ae=$.useRef(!1),de=$.useRef(!1),ve=$.useRef(-1),Re=q!=null,te=i_(G),ye=La(function(Ye){return Ye===void 0&&(Ye=te),Ye?Tg(Ye,Ag()):[]}),Ne=La(Ye=>{const lt=ye(Ye);return O.current.map(et=>F&&et==="reference"?F:te&&et==="floating"?te:lt).filter(Boolean).flat()});$.useEffect(()=>{if(r||!y)return;function Ye(et){if(et.key==="Tab"){Zi(te,kl(Os(te)))&&ye().length===0&&!re&&jp(et);const wt=Ne(),nt=Bl(et);O.current[0]==="reference"&&nt===F&&(jp(et),et.shiftKey?Vc(wt[wt.length-1]):Vc(wt[1])),O.current[1]==="floating"&&nt===te&&et.shiftKey&&(jp(et),Vc(wt[0]))}}const lt=Os(te);return lt.addEventListener("keydown",Ye),()=>{lt.removeEventListener("keydown",Ye)}},[r,F,te,y,O,re,ye,Ne]),$.useEffect(()=>{if(r||!G)return;function Ye(lt){const et=Bl(lt),nt=ye().indexOf(et);nt!==-1&&(ve.current=nt)}return G.addEventListener("focusin",Ye),()=>{G.removeEventListener("focusin",Ye)}},[r,G,ye]),$.useEffect(()=>{if(r||!A)return;function Ye(){de.current=!0,setTimeout(()=>{de.current=!1})}function lt(et){const wt=et.relatedTarget;queueMicrotask(()=>{const nt=B(),on=!(Zi(F,wt)||Zi(G,wt)||Zi(wt,G)||Zi(q==null?void 0:q.portalNode,wt)||wt!=null&&wt.hasAttribute(sd("focus-guard"))||Y&&(jf(Y.nodesRef.current,nt).find(Pt=>{var Jn,xt;return Zi((Jn=Pt.context)==null?void 0:Jn.elements.floating,wt)||Zi((xt=Pt.context)==null?void 0:xt.elements.domReference,wt)})||JE(Y.nodesRef.current,nt).find(Pt=>{var Jn,xt,Lt;return[(Jn=Pt.context)==null?void 0:Jn.elements.floating,i_((xt=Pt.context)==null?void 0:xt.elements.floating)].includes(wt)||((Lt=Pt.context)==null?void 0:Lt.elements.domReference)===wt})));if(w&&on&&kl(Os(te))===Os(te).body){Vr(te)&&te.focus();const Pt=ve.current,Jn=ye(),xt=Jn[Pt]||Jn[Jn.length-1]||te;Vr(xt)&&xt.focus()}(re||!y)&&wt&&on&&!de.current&&wt!==s_()&&(ae.current=!0,M(!1,et,"focus-out"))})}if(G&&Vr(F))return F.addEventListener("focusout",lt),F.addEventListener("pointerdown",Ye),G.addEventListener("focusout",lt),()=>{F.removeEventListener("focusout",lt),F.removeEventListener("pointerdown",Ye),G.removeEventListener("focusout",lt)}},[r,F,G,te,y,Y,q,M,A,w,ye,re,B]);const Oe=$.useRef(null),Ge=$.useRef(null),it=xy([Oe,q==null?void 0:q.beforeInsideRef]),Ce=xy([Ge,q==null?void 0:q.afterInsideRef]);$.useEffect(()=>{var Ye;if(r||!G)return;const lt=Array.from((q==null||(Ye=q.portalNode)==null?void 0:Ye.querySelectorAll("["+sd("portal")+"]"))||[]),et=Y&&!y?JE(Y==null?void 0:Y.nodesRef.current,B()).map(on=>{var Pt;return(Pt=on.context)==null?void 0:Pt.elements.floating}):[],wt=[G,...lt,...et,_e.current,le.current,Oe.current,Ge.current,q==null?void 0:q.beforeOutsideRef.current,q==null?void 0:q.afterOutsideRef.current,O.current.includes("reference")||re?F:null].filter(on=>on!=null),nt=y||re?e_(wt,!P,P):e_(wt);return()=>{nt()}},[r,F,G,y,O,q,re,V,P,Y,B]),ts(()=>{if(r||!Vr(te))return;const Ye=Os(te),lt=kl(Ye);queueMicrotask(()=>{const et=Ne(te),wt=W.current,nt=(typeof wt=="number"?et[wt]:wt.current)||te,on=Zi(te,lt);!Z&&!on&&N&&Vc(nt,{preventScroll:nt===te})})},[r,N,te,Z,Ne,W]),ts(()=>{if(r||!te)return;let Ye=!1;const lt=Os(te),et=kl(lt);let nt=H.current.openEvent;Wp(et);function on(xt){let{open:Lt,reason:_t,event:Mr,nested:qe}=xt;Lt&&(nt=Mr),_t==="escape-key"&&F&&Wp(F),["hover","safe-polygon"].includes(_t)&&Mr.type==="mouseleave"&&(ae.current=!0),_t==="outside-press"&&(qe?(ae.current=!1,Ye=!0):ae.current=!(oP(Mr)||lP(Mr)))}k.on("openchange",on);const Pt=lt.createElement("span");Pt.setAttribute("tabindex","-1"),Pt.setAttribute("aria-hidden","true"),Object.assign(Pt.style,Sg),Re&&F&&F.insertAdjacentElement("afterend",Pt);function Jn(){return typeof Q.current=="boolean"?s_()||Pt:Q.current.current||Pt}return()=>{k.off("openchange",on);const xt=kl(lt),Lt=Zi(G,xt)||Y&&jf(Y.nodesRef.current,B()).some(qe=>{var Ts;return Zi((Ts=qe.context)==null?void 0:Ts.elements.floating,xt)});(Lt||nt&&["click","mousedown"].includes(nt.type))&&F&&Wp(F);const Mr=Jn();queueMicrotask(()=>{const qe=yL(Mr);Q.current&&!ae.current&&Vr(qe)&&(!(qe!==xt&&xt!==lt.body)||Lt)&&qe.focus({preventScroll:Ye}),Pt.remove()})}},[r,G,te,Q,H,k,Y,Re,F,B]),$.useEffect(()=>{queueMicrotask(()=>{ae.current=!1})},[r]),ts(()=>{if(!r&&q)return q.setFocusManagerState({modal:y,closeOnFocusOut:A,open:N,onOpenChange:M,domReference:F}),()=>{q.setFocusManagerState(null)}},[r,q,y,N,M,A,F]),ts(()=>{if(r||!te||typeof MutationObserver!="function"||Z)return;const Ye=()=>{const et=te.getAttribute("tabindex"),wt=ye(),nt=kl(Os(G)),on=wt.indexOf(nt);on!==-1&&(ve.current=on),O.current.includes("floating")||nt!==F&&wt.length===0?et!=="0"&&te.setAttribute("tabindex","0"):et!=="-1"&&te.setAttribute("tabindex","-1")};Ye();const lt=new MutationObserver(Ye);return lt.observe(te,{childList:!0,subtree:!0,attributes:!0}),()=>{lt.disconnect()}},[r,G,te,F,O,ye,Z]);function We(Ye){return r||!_||!y?null:X.jsx(wL,{ref:Ye==="start"?_e:le,onClick:lt=>M(!1,lt.nativeEvent),children:typeof _=="string"?_:"Dismiss"})}const He=!r&&V&&(y?!re:!0)&&(Re||y);return X.jsxs(X.Fragment,{children:[He&&X.jsx(M0,{"data-type":"inside",ref:it,onFocus:Ye=>{if(y){const et=Ne();Vc(s[0]==="reference"?et[0]:et[et.length-1])}else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(ae.current=!1,Hf(Ye,q.portalNode)){const et=lI()||F;et==null||et.focus()}else{var lt;(lt=q.beforeOutsideRef.current)==null||lt.focus()}}}),!re&&We("start"),t,We("end"),He&&X.jsx(M0,{"data-type":"inside",ref:Ce,onFocus:Ye=>{if(y)Vc(Ne()[0]);else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(A&&(ae.current=!0),Hf(Ye,q.portalNode)){const et=cI()||F;et==null||et.focus()}else{var lt;(lt=q.afterOutsideRef.current)==null||lt.focus()}}})]})}let zh=0;function vL(){const n=/iP(hone|ad|od)|iOS/.test(zC()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,o=e.left?parseFloat(e.left):window.scrollX,d=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",s&&(e[r]=s+"px"),n){var p,w;const y=((p=window.visualViewport)==null?void 0:p.offsetLeft)||0,_=((w=window.visualViewport)==null?void 0:w.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(d-Math.floor(_))+"px",left:-(o-Math.floor(y))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),n&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(o,d))}}let a_=()=>{};const bL=$.forwardRef(function(e,t){const{lockScroll:r=!1,...s}=e;return ts(()=>{if(r)return zh++,zh===1&&(a_=vL()),()=>{zh--,zh===0&&a_()}},[r]),X.jsx("div",{ref:t,...s,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...s.style}})});function o_(n){return Vr(n.target)&&n.target.tagName==="BUTTON"}function l_(n){return HC(n)}function EL(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:s,elements:{domReference:o}}=n,{enabled:d=!0,event:p="click",toggle:w=!0,ignoreMouse:y=!1,keyboardHandlers:_=!0,stickIfOpen:A=!0}=e,I=$.useRef(),N=$.useRef(!1),M=$.useMemo(()=>({onPointerDown(k){I.current=k.pointerType},onMouseDown(k){const H=I.current;k.button===0&&p!=="click"&&(HE(H)&&y||(t&&w&&(!(s.current.openEvent&&A)||s.current.openEvent.type==="mousedown")?r(!1,k.nativeEvent,"click"):(k.preventDefault(),r(!0,k.nativeEvent,"click"))))},onClick(k){const H=I.current;if(p==="mousedown"&&I.current){I.current=void 0;return}HE(H)&&y||(t&&w&&(!(s.current.openEvent&&A)||s.current.openEvent.type==="click")?r(!1,k.nativeEvent,"click"):r(!0,k.nativeEvent,"click"))},onKeyDown(k){I.current=void 0,!(k.defaultPrevented||!_||o_(k))&&(k.key===" "&&!l_(o)&&(k.preventDefault(),N.current=!0),k.key==="Enter"&&r(!(t&&w),k.nativeEvent,"click"))},onKeyUp(k){k.defaultPrevented||!_||o_(k)||l_(o)||k.key===" "&&N.current&&(N.current=!1,r(!(t&&w),k.nativeEvent,"click"))}}),[s,o,p,y,_,r,t,A,w]);return $.useMemo(()=>d?{reference:M}:{},[d,M])}const _L={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},TL={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},c_=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n==null?void 0:n.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n==null?void 0:n.outsidePress)!=null?t:!0}};function AL(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:s,dataRef:o}=n,{enabled:d=!0,escapeKey:p=!0,outsidePress:w=!0,outsidePressEvent:y="pointerdown",referencePress:_=!1,referencePressEvent:A="pointerdown",ancestorScroll:I=!1,bubbles:N,capture:M}=e,k=Pw(),H=La(typeof w=="function"?w:()=>!1),F=typeof w=="function"?H:w,G=$.useRef(!1),B=$.useRef(!1),{escapeKey:Z,outsidePress:re}=c_(N),{escapeKey:se,outsidePress:V}=c_(M),P=$.useRef(!1),O=La(le=>{var ae;if(!t||!d||!p||le.key!=="Escape"||P.current)return;const de=(ae=o.current.floatingContext)==null?void 0:ae.nodeId,ve=k?jf(k.nodesRef.current,de):[];if(!Z&&(le.stopPropagation(),ve.length>0)){let Re=!0;if(ve.forEach(te=>{var ye;if((ye=te.context)!=null&&ye.open&&!te.context.dataRef.current.__escapeKeyBubbles){Re=!1;return}}),!Re)return}r(!1,fP(le)?le.nativeEvent:le,"escape-key")}),W=La(le=>{var ae;const de=()=>{var ve;O(le),(ve=Bl(le))==null||ve.removeEventListener("keydown",de)};(ae=Bl(le))==null||ae.addEventListener("keydown",de)}),Q=La(le=>{var ae;const de=G.current;G.current=!1;const ve=B.current;if(B.current=!1,y==="click"&&ve||de||typeof F=="function"&&!F(le))return;const Re=Bl(le),te="["+sd("inert")+"]",ye=Os(s.floating).querySelectorAll(te);let Ne=or(Re)?Re:null;for(;Ne&&!Ha(Ne);){const Ce=Za(Ne);if(Ha(Ce)||!or(Ce))break;Ne=Ce}if(ye.length&&or(Re)&&!dP(Re)&&!Zi(Re,s.floating)&&Array.from(ye).every(Ce=>!Zi(Ne,Ce)))return;if(Vr(Re)&&_e){const Ce=Ha(Re),We=_s(Re),He=/auto|scroll/,Ye=Ce||He.test(We.overflowX),lt=Ce||He.test(We.overflowY),et=Ye&&Re.clientWidth>0&&Re.scrollWidth>Re.clientWidth,wt=lt&&Re.clientHeight>0&&Re.scrollHeight>Re.clientHeight,nt=We.direction==="rtl",on=wt&&(nt?le.offsetX<=Re.offsetWidth-Re.clientWidth:le.offsetX>Re.clientWidth),Pt=et&&le.offsetY>Re.clientHeight;if(on||Pt)return}const Oe=(ae=o.current.floatingContext)==null?void 0:ae.nodeId,Ge=k&&jf(k.nodesRef.current,Oe).some(Ce=>{var We;return zp(le,(We=Ce.context)==null?void 0:We.elements.floating)});if(zp(le,s.floating)||zp(le,s.domReference)||Ge)return;const it=k?jf(k.nodesRef.current,Oe):[];if(it.length>0){let Ce=!0;if(it.forEach(We=>{var He;if((He=We.context)!=null&&He.open&&!We.context.dataRef.current.__outsidePressBubbles){Ce=!1;return}}),!Ce)return}r(!1,le,"outside-press")}),Y=La(le=>{var ae;const de=()=>{var ve;Q(le),(ve=Bl(le))==null||ve.removeEventListener(y,de)};(ae=Bl(le))==null||ae.addEventListener(y,de)});$.useEffect(()=>{if(!t||!d)return;o.current.__escapeKeyBubbles=Z,o.current.__outsidePressBubbles=re;let le=-1;function ae(ye){r(!1,ye,"ancestor-scroll")}function de(){window.clearTimeout(le),P.current=!0}function ve(){le=window.setTimeout(()=>{P.current=!1},Eg()?5:0)}const Re=Os(s.floating);p&&(Re.addEventListener("keydown",se?W:O,se),Re.addEventListener("compositionstart",de),Re.addEventListener("compositionend",ve)),F&&Re.addEventListener(y,V?Y:Q,V);let te=[];return I&&(or(s.domReference)&&(te=su(s.domReference)),or(s.floating)&&(te=te.concat(su(s.floating))),!or(s.reference)&&s.reference&&s.reference.contextElement&&(te=te.concat(su(s.reference.contextElement)))),te=te.filter(ye=>{var Ne;return ye!==((Ne=Re.defaultView)==null?void 0:Ne.visualViewport)}),te.forEach(ye=>{ye.addEventListener("scroll",ae,{passive:!0})}),()=>{p&&(Re.removeEventListener("keydown",se?W:O,se),Re.removeEventListener("compositionstart",de),Re.removeEventListener("compositionend",ve)),F&&Re.removeEventListener(y,V?Y:Q,V),te.forEach(ye=>{ye.removeEventListener("scroll",ae)}),window.clearTimeout(le)}},[o,s,p,F,y,t,r,I,d,Z,re,O,se,W,Q,V,Y]),$.useEffect(()=>{G.current=!1},[F,y]);const q=$.useMemo(()=>({onKeyDown:O,..._&&{[_L[A]]:le=>{r(!1,le.nativeEvent,"reference-press")},...A!=="click"&&{onClick(le){r(!1,le.nativeEvent,"reference-press")}}}}),[O,r,_,A]),_e=$.useMemo(()=>({onKeyDown:O,onMouseDown(){B.current=!0},onMouseUp(){B.current=!0},[TL[y]]:()=>{G.current=!0}}),[O,y]);return $.useMemo(()=>d?{reference:q,floating:_e}:{},[d,q,_e])}function SL(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=kw(),o=$.useRef({}),[d]=$.useState(()=>aL()),p=sI()!=null,[w,y]=$.useState(r.reference),_=La((N,M,k)=>{o.current.openEvent=N?M:void 0,d.emit("openchange",{open:N,event:M,reason:k,nested:p}),t==null||t(N,M,k)}),A=$.useMemo(()=>({setPositionReference:y}),[]),I=$.useMemo(()=>({reference:w||r.reference||null,floating:r.floating||null,domReference:r.reference}),[w,r.reference,r.floating]);return $.useMemo(()=>({dataRef:o,open:e,onOpenChange:_,elements:I,events:d,floatingId:s,refs:A}),[e,_,I,d,s,A])}function CL(n){n===void 0&&(n={});const{nodeId:e}=n,t=SL({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,s=r.elements,[o,d]=$.useState(null),[p,w]=$.useState(null),_=(s==null?void 0:s.domReference)||o,A=$.useRef(null),I=Pw();ts(()=>{_&&(A.current=_)},[_]);const N=eL({...n,elements:{...s,...p&&{reference:p}}}),M=$.useCallback(B=>{const Z=or(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;w(Z),N.refs.setReference(Z)},[N.refs]),k=$.useCallback(B=>{(or(B)||B===null)&&(A.current=B,d(B)),(or(N.refs.reference.current)||N.refs.reference.current===null||B!==null&&!or(B))&&N.refs.setReference(B)},[N.refs]),H=$.useMemo(()=>({...N.refs,setReference:k,setPositionReference:M,domReference:A}),[N.refs,k,M]),F=$.useMemo(()=>({...N.elements,domReference:_}),[N.elements,_]),G=$.useMemo(()=>({...N,...r,refs:H,elements:F,nodeId:e}),[N,H,F,e,r]);return ts(()=>{r.dataRef.current.floatingContext=G;const B=I==null?void 0:I.nodesRef.current.find(Z=>Z.id===e);B&&(B.context=G)}),$.useMemo(()=>({...N,context:G,refs:H,elements:F}),[N,H,F,G])}const u_="active",f_="selected";function Xp(n,e,t){const r=new Map,s=t==="item";let o=n;if(s&&n){const{[u_]:d,[f_]:p,...w}=n;o=w}return{...t==="floating"&&{tabIndex:-1,[vy]:""},...o,...e.map(d=>{const p=d?d[t]:null;return typeof p=="function"?n?p(n):null:p}).concat(n).reduce((d,p)=>(p&&Object.entries(p).forEach(w=>{let[y,_]=w;if(!(s&&[u_,f_].includes(y)))if(y.indexOf("on")===0){if(r.has(y)||r.set(y,[]),typeof _=="function"){var A;(A=r.get(y))==null||A.push(_),d[y]=function(){for(var I,N=arguments.length,M=new Array(N),k=0;k<N;k++)M[k]=arguments[k];return(I=r.get(y))==null?void 0:I.map(H=>H(...M)).find(H=>H!==void 0)}}}else d[y]=_}),d),{})}}function IL(n){n===void 0&&(n=[]);const e=n.map(p=>p==null?void 0:p.reference),t=n.map(p=>p==null?void 0:p.floating),r=n.map(p=>p==null?void 0:p.item),s=$.useCallback(p=>Xp(p,n,"reference"),e),o=$.useCallback(p=>Xp(p,n,"floating"),t),d=$.useCallback(p=>Xp(p,n,"item"),r);return $.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:d}),[s,o,d])}const RL=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function NL(n,e){var t;e===void 0&&(e={});const{open:r,floatingId:s}=n,{enabled:o=!0,role:d="dialog"}=e,p=(t=RL.get(d))!=null?t:d,w=kw(),_=sI()!=null,A=$.useMemo(()=>p==="tooltip"||d==="label"?{["aria-"+(d==="label"?"labelledby":"describedby")]:r?s:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":r?s:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:w},...p==="menu"&&_&&{role:"menuitem"},...d==="select"&&{"aria-autocomplete":"none"},...d==="combobox"&&{"aria-autocomplete":"list"}},[p,s,_,r,w,d]),I=$.useMemo(()=>{const M={id:s,...p&&{role:p}};return p==="tooltip"||d==="label"?M:{...M,...p==="menu"&&{"aria-labelledby":w}}},[p,s,w,d]),N=$.useCallback(M=>{let{active:k,selected:H}=M;const F={role:"option",...k&&{id:s+"-option"}};switch(d){case"select":return{...F,"aria-selected":k&&H};case"combobox":return{...F,...k&&{"aria-selected":!0}}}return{}},[s,d]);return $.useMemo(()=>o?{reference:A,floating:I,item:N}:{},[o,A,I,N])}const dI=$.forwardRef((n,e)=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:X.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414z",clipRule:"evenodd"})}));dI.displayName="ArrowLeftIcon";const hI=$.forwardRef((n,e)=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:X.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M10.293 3.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L14.586 11H3a1 1 0 1 1 0-2h11.586l-4.293-4.293a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));hI.displayName="ArrowRightIcon";const gI=$.forwardRef((n,e)=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:X.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M6 2a1 1 0 0 0-1 1v1H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1V3a1 1 0 1 0-2 0v1H7V3a1 1 0 0 0-1-1zm0 5a1 1 0 0 0 0 2h8a1 1 0 1 0 0-2H6z",clipRule:"evenodd"})}));gI.displayName="CalendarIcon";const ML={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},Lw=$.forwardRef((n,e)=>{var N,M;const t=Nr(),r=Rr([ML,(N=t.theme)==null?void 0:N.textInput,n.theme],[dt(t.clearTheme,"textInput"),n.clearTheme],[dt(t.applyTheme,"textInput"),n.applyTheme]),{addon:s,className:o,color:d="gray",icon:p,rightIcon:w,shadow:y,sizing:_="md",type:A="text",...I}=Ir(n,(M=t.props)==null?void 0:M.textInput);return X.jsxs("div",{className:Yt(r.base,o),children:[s&&X.jsx("span",{className:r.addon,children:s}),X.jsxs("div",{className:r.field.base,children:[p&&X.jsx("div",{className:r.field.icon.base,children:X.jsx(p,{className:r.field.icon.svg})}),w&&X.jsx("div",{"data-testid":"right-icon",className:r.field.rightIcon.base,children:X.jsx(w,{className:r.field.rightIcon.svg})}),X.jsx("input",{className:Yt(r.field.input.base,r.field.input.colors[d],r.field.input.sizes[_],r.field.input.withIcon[p?"on":"off"],r.field.input.withRightIcon[w?"on":"off"],r.field.input.withAddon[s?"on":"off"],r.field.input.withShadow[y?"on":"off"]),type:A,...I,ref:e})]})]})});Lw.displayName="TextInput";const pI=$.createContext(void 0);function Cg(){const n=$.useContext(pI);if(!n)throw new Error("useDatePickerContext should be used within the DatePickerContext provider!");return n}var Xn=(n=>(n[n.Days=0]="Days",n[n.Months=1]="Months",n[n.Years=2]="Years",n[n.Decades=3]="Decades",n))(Xn||{}),mI=(n=>(n[n.Sunday=0]="Sunday",n[n.Monday=1]="Monday",n[n.Tuesday=2]="Tuesday",n[n.Wednesday=3]="Wednesday",n[n.Thursday=4]="Thursday",n[n.Friday=5]="Friday",n[n.Saturday=6]="Saturday",n))(mI||{});function yu(n,e,t){const r=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime();if(e&&t){const s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),o=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return r>=s&&r<=o}if(e){const s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();return r>=s}if(t){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return r<=s}return!0}function ad(n,e){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.getTime()===e.getTime()}function jh(n,e,t){return yu(n,e,t)||(e&&n<e?n=e:t&&n>t&&(n=t)),n}function DL(n,e){const t=new Date(n.getFullYear(),n.getMonth(),1);let s=t.getDay()-e;return s<0&&(s+=7),Bw(t,-s)}function OL(n,e){const t=[],r=new Date(0);r.setDate(r.getDate()-r.getDay()+e);const s=new Intl.DateTimeFormat(n,{weekday:"short"});for(let o=0;o<7;o++)t.push(s.format(Bw(r,o)));return t}function Bw(n,e){const t=new Date(n);return t.setDate(t.getDate()+e),t}function kL(n,e){const t=new Date(n);return t.setMonth(t.getMonth()+e),t}function Yc(n,e){const t=new Date(n);return t.setFullYear(t.getFullYear()+e),t}function Wc(n,e,t){let r={day:"numeric",month:"long",year:"numeric"};return t&&(r=t),new Intl.DateTimeFormat(n,r).format(e)}function Xc(n,e){const t=n.getFullYear();return Math.floor(t/e)*e}function PL(n,e){const t=n.getFullYear(),r=e+9;return t>=e&&t<=r}const LL={root:{base:"relative"},popup:{root:{base:"absolute top-10 z-50 block pt-2",inline:"relative top-0 z-auto",inner:"inline-block rounded-lg bg-white p-4 shadow-lg dark:bg-gray-700"},header:{base:"",title:"px-2 py-3 text-center font-semibold text-gray-900 dark:text-white",selectors:{base:"mb-2 flex justify-between",button:{base:"rounded-lg bg-white px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",prev:"",next:"",view:""}}},view:{base:"p-1"},footer:{base:"mt-2 flex space-x-2",button:{base:"w-full rounded-lg px-5 py-2 text-center text-sm font-medium focus:ring-4 focus:ring-cyan-300",today:"bg-cyan-700 text-white hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700",clear:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}}},views:{days:{header:{base:"mb-1 grid grid-cols-7",title:"h-6 text-center text-sm font-medium leading-6 text-gray-500 dark:text-gray-400"},items:{base:"grid w-64 grid-cols-7",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},months:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},years:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},decades:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}}}};function yI(){const{theme:n,weekStart:e,minDate:t,maxDate:r,viewDate:s,selectedDate:o,changeSelectedDate:d,language:p}=Cg(),w=n.views.days,y=OL(p,e),_=DL(s,e);return X.jsxs(X.Fragment,{children:[X.jsx("div",{className:w.header.base,children:y.map((A,I)=>X.jsx("span",{className:w.header.title,children:A},I))}),X.jsx("div",{className:w.items.base,children:[...Array(42)].map((A,I)=>{const N=Bw(_,I),M=Wc(p,N,{day:"numeric"}),k=o&&ad(o,N),H=!yu(N,t,r);return X.jsx("button",{disabled:H,type:"button",className:Yt(w.items.item.base,k&&w.items.item.selected,H&&w.items.item.disabled),onClick:()=>{H||d(N,!0)},children:M},I)})})]})}yI.displayName="DatepickerViewsDays";function wI(){const{theme:n,viewDate:e,selectedDate:t,minDate:r,maxDate:s,setViewDate:o,setView:d}=Cg(),p=n.views.decades,w=Xc(e,100);return X.jsx("div",{className:p.items.base,children:[...Array(12)].map((y,_)=>{const A=w-10+_*10;new Date(e.getTime()).setFullYear(A+e.getFullYear()%10);const N=new Date(A,0,1),M=Yc(N,9),k=t&&PL(t,A),H=!yu(N,r,s)&&!yu(M,r,s);return X.jsx("button",{disabled:H,type:"button",className:Yt(p.items.item.base,k&&p.items.item.selected,H&&p.items.item.disabled),onClick:()=>{H||(t&&o(Yc(e,A-t.getFullYear())),d(Xn.Years))},children:A},_)})})}wI.displayName="DatepickerViewsDecades";function xI(){const{theme:n,minDate:e,maxDate:t,selectedDate:r,viewDate:s,language:o,setViewDate:d,setView:p}=Cg(),w=n.views.months;return X.jsx("div",{className:w.items.base,children:[...Array(12)].map((y,_)=>{const A=new Date;A.setMonth(_,1),A.setFullYear(s.getFullYear());const I=Wc(o,A,{month:"short"}),N=r&&ad(r,A),M=!yu(A,e,t);return X.jsx("button",{disabled:M,type:"button",className:Yt(w.items.item.base,N&&w.items.item.selected,M&&w.items.item.disabled),onClick:()=>{M||(d(A),p(Xn.Days))},children:I},_)})})}xI.displayName="DatepickerViewsMonth";function vI(){const{theme:n,selectedDate:e,minDate:t,maxDate:r,viewDate:s,setViewDate:o,setView:d}=Cg(),p=n.views.years;return X.jsx("div",{className:p.items.base,children:[...Array(12)].map((w,y)=>{const A=Xc(s,10)+y,I=new Date(s.getTime());I.setFullYear(A);const N=e&&ad(e,I),M=!yu(I,t,r);return X.jsx("button",{disabled:M,type:"button",className:Yt(p.items.item.base,N&&p.items.item.selected,M&&p.items.item.disabled),onClick:()=>{M||(o(I),d(Xn.Months))},children:A},y)})})}vI.displayName="DatepickerViewsYears";const bI=$.forwardRef((n,e)=>{var it,Ce;const t=Nr(),r=Rr([LL,(it=t.theme)==null?void 0:it.datepicker,n.theme],[dt(t.clearTheme,"datepicker"),n.clearTheme],[dt(t.applyTheme,"datepicker"),n.applyTheme]),{title:s,open:o,inline:d=!1,autoHide:p=!0,showClearButton:w=!0,labelClearButton:y="Clear",showTodayButton:_=!0,labelTodayButton:A="Today",defaultValue:I,minDate:N,maxDate:M,language:k="en",weekStart:H=mI.Sunday,className:F,onChange:G,label:B,value:Z,...re}=Ir(n,(Ce=t.props)==null?void 0:Ce.datepicker),se=I?jh(I,N,M):null,V=$.useMemo(()=>I?jh(I,N,M):new Date,[]),[P,O]=$.useState(o),[W,Q]=$.useState(Xn.Days),[Y,q]=$.useState(Z??se),[_e,le]=$.useState(Z??V),ae=$.useRef(null),de=$.useRef(null);function ve(We,He){q(We),(We===null||We)&&G&&G(We),p&&W===Xn.Days&&He==!0&&!d&&O(!1)}function Re(){ve(se,!0),I&&le(I)}$.useImperativeHandle(e,()=>({focus(){var We;(We=ae.current)==null||We.focus()},clear(){Re()}}));function te(We){switch(We){case Xn.Decades:return X.jsx(wI,{});case Xn.Years:return X.jsx(vI,{});case Xn.Months:return X.jsx(xI,{});case Xn.Days:default:return X.jsx(yI,{})}}function ye(){switch(W){case Xn.Days:return Xn.Months;case Xn.Months:return Xn.Years;case Xn.Years:return Xn.Decades}return W}function Ne(){switch(W){case Xn.Decades:return`${Xc(_e,100)-10} - ${Xc(_e,100)+100}`;case Xn.Years:return`${Xc(_e,10)} - ${Xc(_e,10)+11}`;case Xn.Months:return Wc(k,_e,{year:"numeric"});case Xn.Days:default:return Wc(k,_e,{month:"long",year:"numeric"})}}function Oe(We,He,Ye){switch(We){case Xn.Days:return new Date(kL(He,Ye));case Xn.Months:return new Date(Yc(He,Ye));case Xn.Years:return new Date(Yc(He,Ye*10));case Xn.Decades:return new Date(Yc(He,Ye*100));default:return new Date(Yc(He,Ye*10))}}$.useEffect(()=>{const We=He=>{var et,wt;const Ye=(et=de==null?void 0:de.current)==null?void 0:et.contains(He.target),lt=(wt=ae==null?void 0:ae.current)==null?void 0:wt.contains(He.target);!Ye&&!lt&&O(!1)};return document.addEventListener("mousedown",We),()=>{document.removeEventListener("mousedown",We)}},[ae,de,O]),$.useEffect(()=>{const We=Z&&jh(new Date(Z),N,M),He=Y&&jh(new Date(Y),N,M);He&&We&&!ad(We,He)&&q(We),Y==null&&q(se)},[Z,q,le,Y]);const Ge=Z===null?B:Wc(k,Y||new Date);return X.jsx(pI.Provider,{value:{theme:r,language:k,minDate:N,maxDate:M,weekStart:H,isOpen:P,setIsOpen:O,view:W,setView:Q,viewDate:_e,setViewDate:le,selectedDate:Y,setSelectedDate:q,changeSelectedDate:ve},children:X.jsxs("div",{className:Yt(r.root.base,F),children:[!d&&X.jsx(Lw,{theme:r.root.input,icon:gI,ref:ae,onFocus:()=>{Y&&!ad(_e,Y)&&le(Y),O(!0)},value:Ge,defaultValue:se?Wc(k,se):B,readOnly:!0,...re}),(P||d)&&X.jsx("div",{ref:de,className:Yt(r.popup.root.base,d&&r.popup.root.inline),children:X.jsxs("div",{className:r.popup.root.inner,children:[X.jsxs("div",{className:r.popup.header.base,children:[s&&X.jsx("div",{className:r.popup.header.title,children:s}),X.jsxs("div",{className:r.popup.header.selectors.base,children:[X.jsx("button",{type:"button",className:Yt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.prev),onClick:()=>le(Oe(W,_e,-1)),children:X.jsx(dI,{})}),X.jsx("button",{type:"button",className:Yt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.view),onClick:()=>Q(ye()),children:Ne()}),X.jsx("button",{type:"button",className:Yt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.next),onClick:()=>le(Oe(W,_e,1)),children:X.jsx(hI,{})})]})]}),X.jsx("div",{className:r.popup.view.base,children:te(W)}),(w||_)&&X.jsxs("div",{className:r.popup.footer.base,children:[_&&X.jsx("button",{type:"button",className:Yt(r.popup.footer.button.base,r.popup.footer.button.today),onClick:()=>{const We=new Date;ve(We,!0),le(We)},children:A}),w&&X.jsx("button",{type:"button",className:Yt(r.popup.footer.button.base,r.popup.footer.button.clear),onClick:()=>{ve(null,!0)},children:y})]})]})})]})})});bI.displayName="Datepicker";const BL={base:"block w-full cursor-pointer rounded-lg border file:-ms-4 file:me-4 file:cursor-pointer file:border-none file:bg-gray-800 file:py-2.5 file:pe-4 file:ps-8 file:text-sm file:font-medium file:leading-[inherit] file:text-white hover:file:bg-gray-700 focus:outline-none focus:ring-1 dark:file:bg-gray-600 dark:hover:file:bg-gray-500",sizes:{sm:"text-xs",md:"text-sm",lg:"text-lg"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}},EI=$.forwardRef((n,e)=>{var w,y;const t=Nr(),r=Rr([BL,(w=t.theme)==null?void 0:w.fileInput,n.theme],[dt(t.clearTheme,"fileInput"),n.clearTheme],[dt(t.applyTheme,"fileInput"),n.applyTheme]),{className:s,color:o="gray",sizing:d="md",...p}=Ir(n,(y=t.props)==null?void 0:y.fileInput);return X.jsx("input",{ref:e,type:"file",className:Yt(r.base,r.colors[o],r.sizes[d],s),...p})});EI.displayName="FileInput";const VL={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},_I=$.forwardRef((n,e)=>{var w,y;const t=Nr(),r=Rr([VL,(w=t.theme)==null?void 0:w.label,n.theme],[dt(t.clearTheme,"label"),n.clearTheme],[dt(t.applyTheme,"label"),n.applyTheme]),{className:s,color:o="default",disabled:d=!1,...p}=Ir(n,(y=t.props)==null?void 0:y.label);return X.jsx("label",{ref:e,className:Yt(r.root.base,r.root.colors[o],d&&r.root.disabled,s),"data-testid":"flowbite-label",...p})});_I.displayName="Label";const TI=$.createContext(void 0);function Ig(){const n=$.useContext(TI);if(!n)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return n}const Td={root:{base:"bg-white px-2 py-2.5 sm:px-4 dark:border-gray-700 dark:bg-gray-800",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pl-3 pr-4 md:p-0",active:{on:"bg-primary-700 text-white md:bg-transparent md:text-primary-700 dark:text-white",off:"border-b border-gray-100 text-gray-700 hover:bg-gray-50 md:border-0 md:hover:bg-transparent md:hover:text-primary-700 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 md:hidden dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",icon:"h-6 w-6 shrink-0",title:"sr-only"}},AI=$.forwardRef((n,e)=>{var N,M;const t=Nr(),r=Rr([Td,(N=t.theme)==null?void 0:N.navbar,n.theme],[dt(t.clearTheme,"navbar"),n.clearTheme],[dt(t.applyTheme,"navbar"),n.applyTheme]),{border:s,children:o,className:d,fluid:p=!1,menuOpen:w,rounded:y,..._}=Ir(n,(M=t.props)==null?void 0:M.navbar),[A,I]=$.useState(w);return X.jsx(TI.Provider,{value:{theme:n.theme,clearTheme:n.clearTheme,applyTheme:n.applyTheme,isOpen:A,setIsOpen:I},children:X.jsx("nav",{ref:e,className:Yt(r.root.base,r.root.bordered[s?"on":"off"],r.root.rounded[y?"on":"off"],d),..._,children:X.jsx("div",{className:Yt(r.root.inner.base,r.root.inner.fluid[p?"on":"off"]),children:o})})})});AI.displayName="Navbar";const SI=$.forwardRef((n,e)=>{var _,A,I;const{theme:t,clearTheme:r,applyTheme:s}=Ig(),o=Nr(),d=Rr([Td.brand,(A=(_=o.theme)==null?void 0:_.navbar)==null?void 0:A.brand,t==null?void 0:t.brand,n.theme],[dt(o.clearTheme,"navbar.brand"),dt(r,"brand"),n.clearTheme],[dt(o.applyTheme,"navbar.brand"),dt(s,"brand"),n.applyTheme]),{as:p="a",className:w,...y}=Ir(n,(I=o.props)==null?void 0:I.navbarBrand);return X.jsx(p,{ref:e,className:Yt(d.base,w),...y})});SI.displayName="NavbarBrand";const CI=$.forwardRef((n,e)=>{var A,I,N;const{theme:t,clearTheme:r,applyTheme:s,isOpen:o}=Ig(),d=Nr(),p=Rr([Td.collapse,(I=(A=d.theme)==null?void 0:A.navbar)==null?void 0:I.collapse,t==null?void 0:t.collapse,n.theme],[dt(d.clearTheme,"navbar.collapse"),dt(r,"collapse"),n.clearTheme],[dt(d.applyTheme,"navbar.collapse"),dt(s,"collapse"),n.applyTheme]),{children:w,className:y,..._}=Ir(n,(N=d.props)==null?void 0:N.navbarCollapse);return X.jsx("div",{ref:e,"data-testid":"flowbite-navbar-collapse",className:Yt(p.base,p.hidden[o?"off":"on"],y),..._,children:X.jsx("ul",{className:p.list,children:w})})});CI.displayName="NavbarCollapse";const Ll=$.forwardRef((n,e)=>{var H,F,G;const{theme:t,clearTheme:r,applyTheme:s,setIsOpen:o}=Ig(),d=Nr(),p=Rr([Td.link,(F=(H=d.theme)==null?void 0:H.navbar)==null?void 0:F.link,t==null?void 0:t.link,n.theme],[dt(d.clearTheme,"navbar.link"),dt(r,"link"),n.clearTheme],[dt(d.applyTheme,"navbar.link"),dt(s,"link"),n.applyTheme]),{active:w,as:y="a",disabled:_,children:A,className:I,onClick:N,...M}=Ir(n,(G=d.props)==null?void 0:G.navbarLink);function k(B){o(!1),N==null||N(B)}return X.jsx("li",{ref:e,children:X.jsx(y,{className:Yt(p.base,w&&p.active.on,!w&&!_&&p.active.off,p.disabled[_?"on":"off"],I),onClick:k,...M,children:A})})});Ll.displayName="NavbarLink";const II=$.forwardRef((n,e)=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",ref:e,...n,children:X.jsx("path",{stroke:"none",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}));II.displayName="BarsIcon";const RI=$.forwardRef((n,e)=>{var N,M,k;const{theme:t,clearTheme:r,applyTheme:s,isOpen:o,setIsOpen:d}=Ig(),p=Nr(),w=Rr([Td.toggle,(M=(N=p.theme)==null?void 0:N.navbar)==null?void 0:M.toggle,t==null?void 0:t.toggle,n.theme],[dt(p.clearTheme,"navbar.toggle"),dt(r,"toggle"),n.clearTheme],[dt(p.applyTheme,"navbar.toggle"),dt(s,"toggle"),n.applyTheme]),{barIcon:y=II,className:_,...A}=Ir(n,(k=p.props)==null?void 0:k.navbarToggle);function I(){d(!o)}return X.jsxs("button",{ref:e,"data-testid":"flowbite-navbar-toggle",onClick:I,className:Yt(w.base,_),...A,children:[X.jsx("span",{className:w.title,children:"Open main menu"}),X.jsx(y,{"aria-hidden":!0,className:w.icon})]})});RI.displayName="NavbarToggle";const NI=$.createContext(void 0);function Vw(){const n=$.useContext(NI);if(!n)throw new Error("useModalContext should be used within the ModalContext provider!");return n}const Rg={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900/50 dark:bg-gray-900/80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"flex-1 overflow-auto p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t border-b p-5 dark:border-gray-600",popup:"border-b-0 p-2",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},Ng=$.forwardRef((n,e)=>{var V,P;const[t,r]=$.useState(void 0),s=Nr(),o=Rr([Rg,(V=s.theme)==null?void 0:V.modal,n.theme],[dt(s.clearTheme,"modal"),n.clearTheme],[dt(s.applyTheme,"modal"),n.applyTheme]),{children:d,className:p,dismissible:w=!1,onClose:y,popup:_,position:A="center",root:I,show:N,size:M="2xl",initialFocus:k,...H}=Ir(n,(P=s.props)==null?void 0:P.modal),{context:F}=CL({open:N,onOpenChange:()=>y&&y()}),G=xy([F.refs.setFloating,e]),B=EL(F),Z=AL(F,{outsidePressEvent:"mousedown",enabled:w}),re=NL(F),{getFloatingProps:se}=IL([B,Z,re]);return N?X.jsx(NI.Provider,{value:{theme:n.theme,clearTheme:n.clearTheme,applyTheme:n.applyTheme,popup:_,onClose:y,setHeaderId:r},children:X.jsx(pL,{root:I,children:X.jsx(bL,{lockScroll:!0,"data-testid":"modal-overlay",className:Yt(o.root.base,o.root.positions[A],N?o.root.show.on:o.root.show.off,p),...H,children:X.jsx(xL,{context:F,initialFocus:k,children:X.jsx("div",{ref:G,...se(H),"aria-labelledby":t,className:Yt(o.content.base,o.root.sizes[M]),children:X.jsx("div",{className:o.content.inner,children:d})})})})})}):null});Ng.displayName="Modal";const Mg=$.forwardRef((n,e)=>{var _,A,I;const{theme:t,clearTheme:r,applyTheme:s,popup:o}=Vw(),d=Nr(),p=Rr([Rg.body,(A=(_=d.theme)==null?void 0:_.modal)==null?void 0:A.body,t==null?void 0:t.body,n.theme],[dt(d.clearTheme,"modal.body"),dt(r,"body"),n.clearTheme],[dt(d.applyTheme,"modal.body"),dt(s,"body"),n.applyTheme]),{className:w,...y}=Ir(n,(I=d.props)==null?void 0:I.modalBody);return X.jsx("div",{ref:e,className:Yt(p.base,o&&p.popup,w),...y})});Mg.displayName="ModalBody";const MI=$.forwardRef((n,e)=>{var _,A,I;const{theme:t,clearTheme:r,applyTheme:s,popup:o}=Vw(),d=Nr(),p=Rr([Rg.footer,(A=(_=d.theme)==null?void 0:_.modal)==null?void 0:A.footer,t==null?void 0:t.footer,n.theme],[dt(d.clearTheme,"modal.footer"),dt(r,"footer"),n.clearTheme],[dt(d.applyTheme,"modal.footer"),dt(s,"footer"),n.applyTheme]),{className:w,...y}=Ir(n,(I=d.props)==null?void 0:I.modalFooter);return X.jsx("div",{ref:e,className:Yt(p.base,!o&&p.popup,w),...y})});MI.displayName="ModalFooter";const DI=$.forwardRef((n,e)=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",ref:e,...n,children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}));DI.displayName="OutlineXIcon";const Dg=$.forwardRef((n,e)=>{var F,G,B;const{theme:t,clearTheme:r,applyTheme:s,popup:o,onClose:d,setHeaderId:p}=Vw(),w=Nr(),y=Rr([Rg.header,(G=(F=w.theme)==null?void 0:F.modal)==null?void 0:G.header,t==null?void 0:t.header,n.theme],[dt(w.clearTheme,"modal.header"),dt(r,"header"),n.clearTheme],[dt(w.applyTheme,"modal.header"),dt(s,"header"),n.applyTheme]),{as:_="h3",children:A,className:I,id:N,...M}=Ir(n,(B=w.props)==null?void 0:B.modalHeader),k=$.useId(),H=N||k;return $.useLayoutEffect(()=>(p(H),()=>p(void 0)),[H,p]),X.jsxs("div",{ref:e,className:Yt(y.base,o&&y.popup,I),...M,children:[X.jsx(_,{id:H,className:y.title,children:A}),X.jsx("button",{"aria-label":"Close",className:y.close.base,type:"button",onClick:d,children:X.jsx(DI,{"aria-hidden":!0,className:y.close.icon})})]})});Dg.displayName="ModalHeader";const UL={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full appearance-none border bg-arrow-down-icon bg-[length:0.75em_0.75em] bg-[position:right_12px_center] bg-no-repeat pr-10 focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},OI=$.forwardRef((n,e)=>{var A,I;const t=Nr(),r=Rr([UL,(A=t.theme)==null?void 0:A.select,n.theme],[dt(t.clearTheme,"select"),n.clearTheme],[dt(t.applyTheme,"select"),n.applyTheme]),{addon:s,className:o,color:d="gray",icon:p,shadow:w,sizing:y="md",..._}=Ir(n,(I=t.props)==null?void 0:I.select);return X.jsxs("div",{className:Yt(r.base,o),children:[s&&X.jsx("span",{className:r.addon,children:s}),X.jsxs("div",{className:r.field.base,children:[p&&X.jsx("div",{className:r.field.icon.base,children:X.jsx(p,{className:r.field.icon.svg})}),X.jsx("select",{ref:e,className:Yt(r.field.select.base,r.field.select.colors[d],r.field.select.sizes[y],r.field.select.withIcon[p?"on":"off"],r.field.select.withAddon[s?"on":"off"],r.field.select.withShadow[w?"on":"off"]),..._})]})]})});OI.displayName="Select";var kI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d_=ct.createContext&&ct.createContext(kI),FL=["attr","size","title"];function zL(n,e){if(n==null)return{};var t=jL(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function jL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function D0(){return D0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},D0.apply(this,arguments)}function h_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function O0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h_(Object(t),!0).forEach(function(r){HL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):h_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HL(n,e,t){return e=GL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GL(n){var e=qL(n,"string");return typeof e=="symbol"?e:e+""}function qL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function PI(n){return n&&n.map((e,t)=>ct.createElement(e.tag,O0({key:t},e.attr),PI(e.child)))}function Mu(n){return e=>ct.createElement(YL,D0({attr:O0({},n.attr)},e),PI(n.child))}function YL(n){var e=t=>{var{attr:r,size:s,title:o}=n,d=zL(n,FL),p=s||t.size||"1em",w;return t.className&&(w=t.className),n.className&&(w=(w?w+" ":"")+n.className),ct.createElement("svg",D0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,d,{className:w,style:O0(O0({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),o&&ct.createElement("title",null,o),n.children)};return d_!==void 0?ct.createElement(d_.Consumer,null,t=>e(t)):e(kI)}function WL(n){return Mu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},child:[]}]})(n)}function XL(n){return Mu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(n)}function KL(n){return Mu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(n)}function QL(n){return Mu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},child:[]}]})(n)}function ZL(n){return Mu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},child:[]}]})(n)}function LI(n){return Mu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"},child:[]}]})(n)}var Kp={exports:{}},Qp,g_;function $L(){if(g_)return Qp;g_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qp=n,Qp}var Zp,p_;function JL(){if(p_)return Zp;p_=1;var n=$L();function e(){}function t(){}return t.resetWarningCache=e,Zp=function(){function r(d,p,w,y,_,A){if(A!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Zp}var m_;function eB(){return m_||(m_=1,Kp.exports=JL()()),Kp.exports}var tB=eB();const $p=j0(tB),y_={delete:X.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-red-500 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:X.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})}),edit:X.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-gray-400 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:X.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"})}),scan:X.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-blue-500 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5v1.5a2.25 2.25 0 002.25 2.25h1.5m9-3.75h1.5a2.25 2.25 0 012.25 2.25v1.5m0 9v1.5a2.25 2.25 0 01-2.25 2.25h-1.5m-9 0h-1.5a2.25 2.25 0 01-2.25-2.25v-1.5"})})};function rs({action:n,onClick:e,children:t,label:r}){return n==="submit"?X.jsxs(aa,{type:"submit",onClick:s=>{s.stopPropagation(),e==null||e(s)},className:"",children:[t," ",r&&r]}):n==="add"?X.jsxs(aa,{className:"w-full shadow-lg cursor-pointer",color:"blue",onClick:s=>{s.stopPropagation(),e==null||e(s)},children:["Create ",r]}):n==="scan"?X.jsxs(aa,{className:"w-full shadow-lg cursor-pointer",color:"gray",onClick:s=>{s.stopPropagation(),e==null||e(s)},children:[y_[n]," ",r&&r]}):X.jsx("span",{type:"button",onClick:s=>{s.stopPropagation(),e==null||e(s)},"aria-label":n,className:"p-1 focus:outline-none",children:y_[n]})}rs.propTypes={variant:$p.oneOf(["delete","edit","submit","scan"]).isRequired,onClick:$p.func,children:$p.node};rs.defaultProps={onClick:()=>{},children:null};function Kc({type:n,placeholder:e,value:t,onChange:r,required:s,minDate:o,children:d,label:p,id:w,error:y}){const _=$.useId(),A=w||_,I=t??"",N=t||null;return X.jsxs(X.Fragment,{children:[X.jsx(_I,{htmlFor:A,className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-200",children:p}),n==="select"&&X.jsx(OI,{id:A,required:s,value:I,onChange:r,className:"w-full",children:d}),n==="file"&&X.jsx(EI,{id:A,onChange:r,required:s,className:"w-full"}),n==="date"&&X.jsx(bI,{id:A,value:N,onChange:M=>r({target:{value:M}}),required:s,minDate:o,className:"w-full"}),["select","file","date"].indexOf(n)<0&&X.jsx(Lw,{id:A,type:n,placeholder:e,value:I,onChange:r,required:s,className:"w-full"}),y&&X.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y})]})}function Og({show:n,onClose:e,onSubmit:t,mode:r,title:s,fields:o=[],initialData:d={}}){const[p,w]=$.useState({}),[y,_]=$.useState(null),[A,I]=$.useState({}),N=ct.useRef(!1);$.useEffect(()=>{if(!n){N.current=!1;return}if(!N.current){if(N.current=!0,r==="edit"){const B={};let Z=null;o.forEach(re=>{if(re.type==="file"){const se=d[re.key];se instanceof File?(B[re.key]=se,Z=URL.createObjectURL(se)):typeof se=="string"&&se?(B[re.key]=null,Z=se):B[re.key]=null}else B[re.key]=d[re.key]??(re.required?"":null)}),w(B),_(Z)}else if(r==="add"){const B=o.reduce((Z,re)=>(Z[re.key]="",Z),{});w(B),_(null)}I({})}},[r,o,d,n]);const M=(B,Z)=>{w(re=>({...re,[B]:Z}))},k=()=>{const B={};return r!=="delete"&&o.forEach(Z=>{const re=p[Z.key];Z.required&&Z.key!=="shelfId"&&(re===""||re==null)&&(B[Z.key]=`${Z.label||Z.key} is required`),Z.type==="number"&&re!==""&&re!=null&&(!isNaN(re)&&/^-?\d+(\.\d+)?$/.test(re.toString())||(B[Z.key]=`${Z.label||Z.key} must be a valid number`))}),B},H=()=>{const B=k();if(Object.keys(B).length){I(B);return}if(r==="delete")t();else if(r==="edit"){console.log("payload",{...p,id:d.id});const Z={...p,id:d.id};p.photoUrl==null&&delete Z.photoUrl,t(Z)}else t(p);e()},F=r==="delete",G=F?`Delete ${s}`:`${r==="edit"?"Edit":"Add"} ${s}`;return X.jsx(nB,{show:n,onClose:e,header:G,footer:X.jsx(rs,{onClick:H,action:"submit",children:F?"Delete":r==="edit"?"Save":"Add"}),children:F?X.jsxs("p",{className:"text-center",children:["Are you sure you want to delete this ",s,"? This action cannot be undone."]}):o.map(B=>{const Z=A[B.key];return X.jsxs("div",{className:"mb-4",children:[B.type==="file"&&X.jsxs(X.Fragment,{children:[X.jsx(Kc,{id:B.key,type:"file",accept:"image/*",onChange:re=>{const se=re.target.files[0];M(B.key,se),_(URL.createObjectURL(se))},label:B.label,error:Z}),y&&X.jsx("img",{src:y,alt:"Preview",className:"mt-2 h-32 w-full object-cover rounded-lg"})]}),B.type==="select"&&(()=>{var Y;const re=B.options||[],V={id:"",name:`-- No ${B.label||B.key} --`},P=((Y=B.value)==null?void 0:Y.id)??p[B.key]??"",O=re.find(q=>q.id===P)||null,W=re.filter(q=>q.id!==(O==null?void 0:O.id));let Q=[];return r==="add"?P?Q=[O,...W,V]:Q=[V,...W]:P?Q=[O,...W,V]:Q=[V,...W],X.jsx(Kc,{id:B.key,type:"select",value:P,onChange:q=>M(B.key,q.target.value),label:B.label,error:Z,children:Q.map(q=>q?X.jsx("option",{value:q.id,children:q.name},q.id):null)})})(),B.type==="date"&&(()=>{const re=p[B.key]||null;let se=null;if(re){if(typeof re=="string"){const P=re.includes(".")?re.split("."):re.split("/");if(P.length===3){const[O,W,Q]=P.map(Number);se=new Date(Q,W-1,O)}else se=new Date(re)}else re instanceof Date&&(se=re);se&&isNaN(se.getTime())&&(se=null)}let V;if(B.key==="freezingDate")V=new Date;else if(B.key==="expirationDate"){const P=p.freezingDate;if(P)if(typeof P=="string"){const O=P.includes(".")?P.split("."):P.split("/");if(O.length===3){const[W,Q,Y]=O.map(Number);V=new Date(Y,Q-1,W)}else V=new Date(P)}else P instanceof Date?V=P:V=new Date;else V=new Date}else V=new Date;return X.jsx(Kc,{id:B.key,type:B.type,required:B.required,value:se,onChange:P=>M(B.key,P.target.value),label:B.label,error:Z,minDate:V})})(),B.type!=="file"&&B.type!=="select"&&B.type!=="date"&&X.jsx(Kc,{id:B.key,type:B.type,placeholder:B.placeholder,required:B.required,value:p[B.key]||"",onChange:re=>M(B.key,re.target.value),label:B.label,error:Z})]},B.key)})})}function nB({show:n,onClose:e,header:t,children:r,footer:s}){return X.jsxs(Ng,{show:n,onClose:e,children:[X.jsx(Dg,{children:t}),X.jsx(Mg,{children:r}),X.jsx(MI,{children:s})]})}function rB({show:n,onClose:e,scanError:t,scanResult:r,qrContainerId:s}){return X.jsxs(Ng,{show:n,size:"md",popup:!0,onClose:e,children:[X.jsx(Dg,{}),X.jsx(Mg,{children:X.jsxs("div",{className:"space-y-4 text-center",children:[X.jsx("h3",{className:"text-xl font-medium text-white-900",children:"Scan QR Code"}),t&&X.jsxs("p",{className:"text-sm text-red-600",children:["Error: ",t]}),X.jsx("div",{id:s,className:"w-full"}),r&&X.jsxs("p",{className:"text-sm text-green-700",children:["Scanned: ",X.jsx("strong",{children:r})]}),X.jsx(aa,{color:"gray",onClick:e,children:"Cancel"})]})})]})}const iB=async(n,e)=>{const r=(await b8(xg,n,e)).user;return await n9(ul(Ur,"users",r.uid),{email:r.email,uid:r.uid}),r},BI=async(n,e)=>(await E8(xg,n,e)).user,sB=async()=>{await S8(xg)};function kg(){const n=Ed(),e=async()=>{try{await sB()}catch(t){console.error("Logout error:",t)}};return X.jsxs(AI,{fluid:!0,rounded:!0,className:"bg-white shadow-sm",children:[X.jsxs(SI,{as:Ni,to:"/",children:[X.jsx(LI,{className:"mr-3 h-6 w-6 text-blue-600"}),X.jsx("span",{className:"self-center whitespace-nowrap text-xl font-semibold text-white",children:"Freezer Manager"})]}),X.jsxs("div",{className:"flex order-2 items-center gap-2",children:[X.jsx("div",{className:"hidden sm:flex gap-2",children:n?X.jsxs(X.Fragment,{children:[X.jsx("span",{className:"text-sm text-gray-700 dark:text-white self-center",children:n.email}),X.jsx(aa,{color:"gray",size:"sm",onClick:e,children:"Log out"})]}):X.jsxs(X.Fragment,{children:[X.jsx(Ni,{to:"/login",children:X.jsx(aa,{color:"light",size:"sm",children:"Login"})}),X.jsx(Ni,{to:"/signup",children:X.jsx(aa,{color:"blue",size:"sm",children:"Sign Up"})})]})}),X.jsx(RI,{})]}),X.jsxs(CI,{children:[X.jsxs(Ll,{as:Ni,to:"/",className:"flex items-center gap-2",children:[X.jsx(KL,{className:"h-4 w-4"}),"Home"]}),n&&X.jsxs(Ll,{as:Ni,to:"/dashboard",className:"flex items-center gap-2",children:[X.jsx(ZL,{className:"h-4 w-4"}),"Dashboard"]}),!n&&X.jsxs(X.Fragment,{children:[X.jsx(Ll,{as:Ni,to:"/login",className:"block mt-2 sm:hidden",children:"Login"}),X.jsx(Ll,{as:Ni,to:"/signup",className:"block mt-2 sm:hidden",children:"Sign Up"})]}),n&&X.jsxs(X.Fragment,{children:[X.jsx(Ll,{as:"span",className:"block mt-2 text-gray-700 dark:text-white sm:hidden",children:n.email}),X.jsx(Ll,{as:Ni,onClick:e,className:"block mt-2 text-left sm:hidden",children:"Log out"})]})]})]})}function aB(){return X.jsxs(X.Fragment,{children:[X.jsx(kg,{}),X.jsxs("div",{className:"min-h-screen bg-gray-900",children:[X.jsx("section",{className:"bg-gray-900 pt-20 pb-16 w-full",children:X.jsx("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:X.jsxs("div",{className:"text-center",children:[X.jsx("div",{className:"flex justify-center mb-8",children:X.jsx(LI,{className:"h-20 w-20 text-blue-600"})}),X.jsx("h1",{className:"mb-6 text-4xl font-extrabold tracking-tight leading-none text-white md:text-5xl lg:text-6xl",children:"Freezer Manager"}),X.jsx("p",{className:"mb-10 text-lg font-normal text-gray-300 lg:text-xl max-w-3xl mx-auto leading-relaxed",children:"Keep track of your frozen inventory with ease. Manage stock, and never lose track of your frozen goods again."}),X.jsx("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4",children:X.jsx(Ni,{to:"/signup",children:X.jsx(aa,{size:"xl",className:"px-8 py-3 justify-self-center w-xl",children:"Get Started"})})})]})})}),X.jsx("section",{className:"py-16 w-full",children:X.jsxs("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:[X.jsxs("div",{className:"text-center mb-16",children:[X.jsx("h2",{className:"mb-4 text-3xl font-extrabold text-white lg:text-4xl",children:"Why Choose Freezer Manager?"}),X.jsx("p",{className:"text-gray-300 text-xl max-w-2xl mx-auto",children:"Everything you need to manage your freezer inventory efficiently"})]}),X.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[X.jsxs(iu,{className:"text-center p-8 border-0 shadow-lg bg-white",children:[X.jsx("div",{className:"flex justify-center mb-6",children:X.jsx(WL,{className:"h-12 w-12 text-blue-600"})}),X.jsx("h3",{className:"mb-4 text-xl font-bold text-white",children:"Real-time Monitoring"}),X.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Monitor expiration dates of all your products in real-time with alerts."})]}),X.jsxs(iu,{className:"text-center p-8 border-0 shadow-lg bg-white",children:[X.jsx("div",{className:"flex justify-center mb-6",children:X.jsx(QL,{className:"h-12 w-12 text-green-600"})}),X.jsx("h3",{className:"mb-4 text-xl font-bold text-white",children:"Smart Alerts"}),X.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Use QR-Codes for products easy and efficient product management."})]}),X.jsxs(iu,{className:"text-center p-8 border-0 shadow-lg bg-white",children:[X.jsx("div",{className:"flex justify-center mb-6",children:X.jsx(XL,{className:"h-12 w-12 text-purple-600"})}),X.jsx("h3",{className:"mb-4 text-xl font-bold text-white",children:"Inventory Tracking"}),X.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Keep detailed records of what's in each freezer with expiration dates and stock levels."})]})]})]})}),X.jsx("section",{className:"bg-gray-900 py-16 w-full",children:X.jsx("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:X.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[X.jsx("h2",{className:"mb-6 text-3xl font-extrabold leading-tight text-white lg:text-4xl",children:"Start managing your freezers today"}),X.jsx("p",{className:"mb-8 font-light text-gray-300 text-lg leading-relaxed",children:"Join thousands of users who trust Freezer Manager to keep their inventory organized and safe."}),X.jsx(Ni,{to:"/signup",children:X.jsx(aa,{size:"xl",className:"px-10 py-3 justify-self-center",children:"Create Free Account"})})]})})})]})]})}function VI({text:n,onSubmit:e}){const[t,r]=$.useState(""),[s,o]=$.useState(""),[d,p]=$.useState(!1),[w,y]=$.useState({}),_=Ny(),A=()=>{const N={};return t?/\S+@\S+\.\S+/.test(t)||(N.email="Please enter a valid email"):N.email="Email is required",s?s.length<6&&(N.password="Password must be at least 6 characters"):N.password="Password is required",y(N),Object.keys(N).length===0},I=async N=>{if(N.preventDefault(),!!A()){p(!0),y({});try{await e(t,s)&&_("/dashboard")}catch(M){console.error("Error during authentication:",M),y({general:M.message||"Authentication failed. Please try again."})}finally{p(!1)}}};return X.jsxs("div",{className:"w-full",children:[X.jsxs("div",{className:"text-center mb-6",children:[X.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 dark:from-indigo-400 dark:to-purple-400 rounded-full mb-4",children:X.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),X.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n})]}),w.general&&X.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:X.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:w.general})}),X.jsxs("form",{onSubmit:I,className:"space-y-5",children:[X.jsxs("div",{children:[X.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email address"}),X.jsxs("div",{className:"relative",children:[X.jsx(Kc,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:N=>{r(N.target.value),w.email&&y(M=>({...M,email:null}))},className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ${w.email?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}`,required:!0}),X.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:X.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]}),w.email&&X.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:w.email})]}),X.jsxs("div",{children:[X.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),X.jsxs("div",{className:"relative",children:[X.jsx(Kc,{id:"password",type:"password",placeholder:"Create a password",value:s,onChange:N=>{o(N.target.value),w.password&&y(M=>({...M,password:null}))},className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ${w.password?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}`,required:!0}),X.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:X.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]}),w.password&&X.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:w.password}),X.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Must be at least 6 characters long"})]}),X.jsx("div",{className:"pt-2",children:X.jsx("button",{type:"submit",disabled:d,className:`w-full py-3 px-4 rounded-xl font-medium text-white transition-all duration-200 ${d?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-500 dark:to-purple-500 hover:from-indigo-700 hover:to-purple-700 dark:hover:from-indigo-600 dark:hover:to-purple-600 focus:ring-4 focus:ring-indigo-500/50 dark:focus:ring-indigo-400/50 transform hover:scale-[1.02] active:scale-[0.98]"}`,children:d?X.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[X.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),X.jsx("span",{children:"Creating account..."})]}):X.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[X.jsx("span",{children:n}),X.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})})]})]})}function oB(){const n=async(e,t)=>{const r=await BI(e,t);return wn(`Успішний вхід: ${r.email}`),!0};return X.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 relative overflow-hidden",children:[X.jsx(kg,{}),X.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[X.jsx("div",{className:"absolute -top-40 -right-32 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 dark:from-blue-500/30 dark:to-purple-500/30 rounded-full blur-3xl"}),X.jsx("div",{className:"absolute -bottom-32 -left-32 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-pink-400/20 dark:from-indigo-500/30 dark:to-pink-500/30 rounded-full blur-3xl"})]}),X.jsx("div",{className:"relative flex items-center justify-center min-h-[calc(100vh-80px)] px-4 py-12",children:X.jsxs("div",{className:"w-full max-w-md",children:[X.jsxs("div",{className:"text-center mb-8",children:[X.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome Back"}),X.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Log in to your account"})]}),X.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 dark:border-gray-700/30 p-8",children:[X.jsx(VI,{text:"Login",onSubmit:n}),X.jsx("div",{className:"mt-6 text-center",children:X.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",X.jsx(Ni,{to:"/signup",className:"font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 transition-colors",children:"Sign Up"})]})})]})]})})]})}function lB(){const n=async(e,t)=>{const r=await iB(e,t);return wn(`Успішно зареєстровано: ${r.email}`),await BI(e,t),!0};return X.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 relative overflow-hidden",children:[X.jsx(kg,{}),X.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[X.jsx("div",{className:"absolute -top-40 -right-32 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 dark:from-blue-500/30 dark:to-purple-500/30 rounded-full blur-3xl"}),X.jsx("div",{className:"absolute -bottom-32 -left-32 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-pink-400/20 dark:from-indigo-500/30 dark:to-pink-500/30 rounded-full blur-3xl"})]}),X.jsx("div",{className:"relative flex items-center justify-center min-h-[calc(100vh-80px)] px-4 py-12",children:X.jsxs("div",{className:"w-full max-w-md",children:[X.jsxs("div",{className:"text-center mb-8",children:[X.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Create your account"}),X.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Join us today and start your journey"})]}),X.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 dark:border-gray-700/30 p-8",children:[X.jsx(VI,{text:"Sign Up",onSubmit:n}),X.jsx("div",{className:"mt-6 text-center",children:X.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",X.jsx(Ni,{to:"/login",className:"font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 transition-colors",children:"Log in"})]})})]})]})})]})}function Pg(){const[n,e]=$.useState({mode:null}),t=$.useCallback(s=>e({...s,mode:s.mode}),[]),r=$.useCallback(()=>e({mode:null}),[]);return{config:n,open:t,close:r}}var $e;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($e||($e={}));var w_=new Map([[$e.QR_CODE,"QR_CODE"],[$e.AZTEC,"AZTEC"],[$e.CODABAR,"CODABAR"],[$e.CODE_39,"CODE_39"],[$e.CODE_93,"CODE_93"],[$e.CODE_128,"CODE_128"],[$e.DATA_MATRIX,"DATA_MATRIX"],[$e.MAXICODE,"MAXICODE"],[$e.ITF,"ITF"],[$e.EAN_13,"EAN_13"],[$e.EAN_8,"EAN_8"],[$e.PDF_417,"PDF_417"],[$e.RSS_14,"RSS_14"],[$e.RSS_EXPANDED,"RSS_EXPANDED"],[$e.UPC_A,"UPC_A"],[$e.UPC_E,"UPC_E"],[$e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),x_;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(x_||(x_={}));function cB(n){return Object.values($e).includes(n)}var il;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(il||(il={}));var ks=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[il.SCAN_TYPE_CAMERA,il.SCAN_TYPE_FILE],n}(),UI=function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!w_.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,w_.get(e))},n}(),v_=function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n}(),by;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(by||(by={}));var FI=function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:by.UNKWOWN_ERROR}},n}(),zI=function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n}();function Js(n){return typeof n>"u"||n===null}function uB(n,e,t){return n>t?t:n<e?e:n}var Qc=function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),yn=function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(e){return"Last Match: ".concat(e)},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.torchOnButton=function(){return"Switch On Torch"},n.torchOffButton=function(){return"Switch Off Torch"},n.torchOnFailedMessage=function(){return"Failed to turn on torch"},n.torchOffFailedMessage=function(){return"Failed to turn off torch"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n.fileSelectionChooseImage=function(){return"Choose Image"},n.fileSelectionChooseAnother=function(){return"Choose Another"},n.fileSelectionNoImageSelected=function(){return"No image choosen"},n.anonymousCameraPrefix=function(){return"Anonymous Camera"},n.dragAndDropMessage=function(){return"Or drop an image to scan"},n.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},n.zoom=function(){return"zoom"},n.loadingImage=function(){return"Loading image..."},n.cameraScanAltText=function(){return"Camera based scan"},n.fileScanAltText=function(){return"Fule based scan"},n}(),b_=function(){function n(){}return n.poweredBy=function(){return"Powered by "},n.reportIssues=function(){return"Report issues"},n}(),jI=function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),d=Object.keys(e),p=0,w=d;p<w.length;p++){var y=w[p];if(o.has(y))return t.logError("".concat(y," is not supported videoConstaints."),!0),!1}return!0},n}(),kf={exports:{}},fB=kf.exports,E_;function dB(){return E_||(E_=1,function(n,e){(function(t,r){r(e)})(fB,function(t){function r(z){return z==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,a){z.__proto__=a}||function(z,a){for(var c in a)a.hasOwnProperty(c)&&(z[c]=a[c])};function o(z,a){s(z,a);function c(){this.constructor=z}z.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}function d(z,a){var c=Object.setPrototypeOf;c?c(z,a):z.__proto__=a}function p(z,a){a===void 0&&(a=z.constructor);var c=Error.captureStackTrace;c&&c(z,a)}var w=function(z){o(a,z);function a(c){var u=this.constructor,h=z.call(this,c)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),d(h,u.prototype),p(h),h}return a}(Error);class y extends w{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}y.kind="Exception";class _ extends y{}_.kind="ArgumentException";class A extends y{}A.kind="IllegalArgumentException";class I{constructor(a){if(this.binarizer=a,a===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,c){return this.binarizer.getBlackRow(a,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,c,u,h){const g=this.binarizer.getLuminanceSource().crop(a,c,u,h);return new I(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class N extends y{static getChecksumInstance(){return new N}}N.kind="ChecksumException";class M{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(a,c,u,h,g){for(;g--;)u[h++]=a[c++]}static currentTimeMillis(){return Date.now()}}class H extends y{}H.kind="IndexOutOfBoundsException";class F extends H{constructor(a=void 0,c=void 0){super(c),this.index=a,this.message=c}}F.kind="ArrayIndexOutOfBoundsException";class G{static fill(a,c){for(let u=0,h=a.length;u<h;u++)a[u]=c}static fillWithin(a,c,u,h){G.rangeCheck(a.length,c,u);for(let g=c;g<u;g++)a[g]=h}static rangeCheck(a,c,u){if(c>u)throw new A("fromIndex("+c+") > toIndex("+u+")");if(c<0)throw new F(c);if(u>a)throw new F(u)}static asList(...a){return a}static create(a,c,u){return Array.from({length:a}).map(g=>Array.from({length:c}).fill(u))}static createInt32Array(a,c,u){return Array.from({length:a}).map(g=>Int32Array.from({length:c}).fill(u))}static equals(a,c){if(!a||!c||!a.length||!c.length||a.length!==c.length)return!1;for(let u=0,h=a.length;u<h;u++)if(a[u]!==c[u])return!1;return!0}static hashCode(a){if(a===null)return 0;let c=1;for(const u of a)c=31*c+u;return c}static fillUint8Array(a,c){for(let u=0;u!==a.length;u++)a[u]=c}static copyOf(a,c){return a.slice(0,c)}static copyOfUint8Array(a,c){if(a.length<=c){const u=new Uint8Array(c);return u.set(a),u}return a.slice(0,c)}static copyOfRange(a,c,u){const h=u-c,g=new Int32Array(h);return k.arraycopy(a,c,g,0,h),g}static binarySearch(a,c,u){u===void 0&&(u=G.numberComparator);let h=0,g=a.length-1;for(;h<=g;){const x=g+h>>1,v=u(c,a[x]);if(v>0)h=x+1;else if(v<0)g=x-1;else return x}return-h-1}static numberComparator(a,c){return a-c}}class B{static numberOfTrailingZeros(a){let c;if(a===0)return 32;let u=31;return c=a<<16,c!==0&&(u-=16,a=c),c=a<<8,c!==0&&(u-=8,a=c),c=a<<4,c!==0&&(u-=4,a=c),c=a<<2,c!==0&&(u-=2,a=c),u-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let c=1;return a>>>16||(c+=16,a<<=16),a>>>24||(c+=8,a<<=8),a>>>28||(c+=4,a<<=4),a>>>30||(c+=2,a<<=2),c-=a>>>31,c}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,c){return Math.trunc(a/c)}static parseInt(a,c=void 0){return parseInt(a,c)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(a,c){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,c==null?this.bits=Z.makeArray(a):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const c=Z.makeArray(a);k.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const c=this.size;if(a>=c)return c;const u=this.bits;let h=Math.floor(a/32),g=u[h];g&=~((1<<(a&31))-1);const x=u.length;for(;g===0;){if(++h===x)return c;g=u[h]}const v=h*32+B.numberOfTrailingZeros(g);return v>c?c:v}getNextUnset(a){const c=this.size;if(a>=c)return c;const u=this.bits;let h=Math.floor(a/32),g=~u[h];g&=~((1<<(a&31))-1);const x=u.length;for(;g===0;){if(++h===x)return c;g=~u[h]}const v=h*32+B.numberOfTrailingZeros(g);return v>c?c:v}setBulk(a,c){this.bits[Math.floor(a/32)]=c}setRange(a,c){if(c<a||a<0||c>this.size)throw new A;if(c===a)return;c--;const u=Math.floor(a/32),h=Math.floor(c/32),g=this.bits;for(let x=u;x<=h;x++){const v=x>u?0:a&31,C=(2<<(x<h?31:c&31))-(1<<v);g[x]|=C}}clear(){const a=this.bits.length,c=this.bits;for(let u=0;u<a;u++)c[u]=0}isRange(a,c,u){if(c<a||a<0||c>this.size)throw new A;if(c===a)return!0;c--;const h=Math.floor(a/32),g=Math.floor(c/32),x=this.bits;for(let v=h;v<=g;v++){const T=v>h?0:a&31,D=(2<<(v<g?31:c&31))-(1<<T)&4294967295;if((x[v]&D)!==(u?D:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,c){if(c<0||c>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let u=c;u>0;u--)this.appendBit((a>>u-1&1)===1)}appendBitArray(a){const c=a.size;this.ensureCapacity(this.size+c);for(let u=0;u<c;u++)this.appendBit(a.get(u))}xor(a){if(this.size!==a.size)throw new A("Sizes don't match");const c=this.bits;for(let u=0,h=c.length;u<h;u++)c[u]^=a.bits[u]}toBytes(a,c,u,h){for(let g=0;g<h;g++){let x=0;for(let v=0;v<8;v++)this.get(a)&&(x|=1<<7-v),a++;c[u+g]=x}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),u=c+1,h=this.bits;for(let g=0;g<u;g++){let x=h[g];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,a[c-g]=x}if(this.size!==u*32){const g=u*32-this.size;let x=a[0]>>>g;for(let v=1;v<u;v++){const T=a[v];x|=T<<32-g,a[v-1]=x,x=T>>>g}a[u-1]=x}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof Z))return!1;const c=a;return this.size===c.size&&G.equals(this.bits,c.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let a="";for(let c=0,u=this.size;c<u;c++)(c&7)===0&&(a+=" "),a+=this.get(c)?"X":".";return a}clone(){return new Z(this.size,this.bits.slice())}}var re;(function(z){z[z.OTHER=0]="OTHER",z[z.PURE_BARCODE=1]="PURE_BARCODE",z[z.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",z[z.TRY_HARDER=3]="TRY_HARDER",z[z.CHARACTER_SET=4]="CHARACTER_SET",z[z.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",z[z.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",z[z.ASSUME_GS1=7]="ASSUME_GS1",z[z.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",z[z.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",z[z.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(re||(re={}));var se=re;class V extends y{static getFormatInstance(){return new V}}V.kind="FormatException";var P;(function(z){z[z.Cp437=0]="Cp437",z[z.ISO8859_1=1]="ISO8859_1",z[z.ISO8859_2=2]="ISO8859_2",z[z.ISO8859_3=3]="ISO8859_3",z[z.ISO8859_4=4]="ISO8859_4",z[z.ISO8859_5=5]="ISO8859_5",z[z.ISO8859_6=6]="ISO8859_6",z[z.ISO8859_7=7]="ISO8859_7",z[z.ISO8859_8=8]="ISO8859_8",z[z.ISO8859_9=9]="ISO8859_9",z[z.ISO8859_10=10]="ISO8859_10",z[z.ISO8859_11=11]="ISO8859_11",z[z.ISO8859_13=12]="ISO8859_13",z[z.ISO8859_14=13]="ISO8859_14",z[z.ISO8859_15=14]="ISO8859_15",z[z.ISO8859_16=15]="ISO8859_16",z[z.SJIS=16]="SJIS",z[z.Cp1250=17]="Cp1250",z[z.Cp1251=18]="Cp1251",z[z.Cp1252=19]="Cp1252",z[z.Cp1256=20]="Cp1256",z[z.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",z[z.UTF8=22]="UTF8",z[z.ASCII=23]="ASCII",z[z.Big5=24]="Big5",z[z.GB18030=25]="GB18030",z[z.EUC_KR=26]="EUC_KR"})(P||(P={}));class O{constructor(a,c,u,...h){this.valueIdentifier=a,this.name=u,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=h,O.VALUE_IDENTIFIER_TO_ECI.set(a,this),O.NAME_TO_ECI.set(u,this);const g=this.values;for(let x=0,v=g.length;x!==v;x++){const T=g[x];O.VALUES_TO_ECI.set(T,this)}for(const x of h)O.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new V("incorect value");const c=O.VALUES_TO_ECI.get(a);if(c===void 0)throw new V("incorect value");return c}static getCharacterSetECIByName(a){const c=O.NAME_TO_ECI.get(a);if(c===void 0)throw new V("incorect value");return c}equals(a){if(!(a instanceof O))return!1;const c=a;return this.getName()===c.getName()}}O.VALUE_IDENTIFIER_TO_ECI=new Map,O.VALUES_TO_ECI=new Map,O.NAME_TO_ECI=new Map,O.Cp437=new O(P.Cp437,Int32Array.from([0,2]),"Cp437"),O.ISO8859_1=new O(P.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),O.ISO8859_2=new O(P.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),O.ISO8859_3=new O(P.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),O.ISO8859_4=new O(P.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),O.ISO8859_5=new O(P.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),O.ISO8859_6=new O(P.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),O.ISO8859_7=new O(P.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),O.ISO8859_8=new O(P.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),O.ISO8859_9=new O(P.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),O.ISO8859_10=new O(P.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),O.ISO8859_11=new O(P.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),O.ISO8859_13=new O(P.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),O.ISO8859_14=new O(P.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),O.ISO8859_15=new O(P.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),O.ISO8859_16=new O(P.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),O.SJIS=new O(P.SJIS,20,"SJIS","Shift_JIS"),O.Cp1250=new O(P.Cp1250,21,"Cp1250","windows-1250"),O.Cp1251=new O(P.Cp1251,22,"Cp1251","windows-1251"),O.Cp1252=new O(P.Cp1252,23,"Cp1252","windows-1252"),O.Cp1256=new O(P.Cp1256,24,"Cp1256","windows-1256"),O.UnicodeBigUnmarked=new O(P.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),O.UTF8=new O(P.UTF8,26,"UTF8","UTF-8"),O.ASCII=new O(P.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),O.Big5=new O(P.Big5,28,"Big5"),O.GB18030=new O(P.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),O.EUC_KR=new O(P.EUC_KR,30,"EUC_KR","EUC-KR");class W extends y{}W.kind="UnsupportedOperationException";class Q{static decode(a,c){const u=this.encodingName(c);return this.customDecoder?this.customDecoder(a,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(a,u):new TextDecoder(u).decode(a)}static shouldDecodeOnFallback(a){return!Q.isBrowser()&&a==="ISO-8859-1"}static encode(a,c){const u=this.encodingName(c);return this.customEncoder?this.customEncoder(a,u):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof O?a:O.getCharacterSetECIByName(a)}static decodeFallback(a,c){const u=this.encodingCharacterSet(c);if(Q.isDecodeFallbackSupported(u)){let h="";for(let g=0,x=a.length;g<x;g++){let v=a[g].toString(16);v.length<2&&(v="0"+v),h+="%"+v}return decodeURIComponent(h)}if(u.equals(O.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new W(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(O.UTF8)||a.equals(O.ISO8859_1)||a.equals(O.ASCII)}static encodeFallback(a){const u=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let g=0;g<u.length;g++)h.push(u[g].charCodeAt(0));return new Uint8Array(h)}}class Y{static castAsNonUtf8Char(a,c=null){const u=c?c.getName():this.ISO88591;return Q.decode(new Uint8Array([a]),u)}static guessEncoding(a,c){if(c!=null&&c.get(se.CHARACTER_SET)!==void 0)return c.get(se.CHARACTER_SET).toString();const u=a.length;let h=!0,g=!0,x=!0,v=0,T=0,C=0,D=0,j=0,K=0,ie=0,ce=0,ue=0,me=0,Ee=0;const Ve=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let Ue=0;Ue<u&&(h||g||x);Ue++){const Be=a[Ue]&255;x&&(v>0?(Be&128)===0?x=!1:v--:(Be&128)!==0&&((Be&64)===0?x=!1:(v++,(Be&32)===0?T++:(v++,(Be&16)===0?C++:(v++,(Be&8)===0?D++:x=!1))))),h&&(Be>127&&Be<160?h=!1:Be>159&&(Be<192||Be===215||Be===247)&&Ee++),g&&(j>0?Be<64||Be===127||Be>252?g=!1:j--:Be===128||Be===160||Be>239?g=!1:Be>160&&Be<224?(K++,ce=0,ie++,ie>ue&&(ue=ie)):Be>127?(j++,ie=0,ce++,ce>me&&(me=ce)):(ie=0,ce=0))}return x&&v>0&&(x=!1),g&&j>0&&(g=!1),x&&(Ve||T+C+D>0)?Y.UTF8:g&&(Y.ASSUME_SHIFT_JIS||ue>=3||me>=3)?Y.SHIFT_JIS:h&&g?ue===2&&K===2||Ee*10>=u?Y.SHIFT_JIS:Y.ISO88591:h?Y.ISO88591:g?Y.SHIFT_JIS:x?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(a,...c){let u=-1;function h(x,v,T,C,D,j){if(x==="%%")return"%";if(c[++u]===void 0)return;x=C?parseInt(C.substr(1)):void 0;let K=D?parseInt(D.substr(1)):void 0,ie;switch(j){case"s":ie=c[u];break;case"c":ie=c[u][0];break;case"f":ie=parseFloat(c[u]).toFixed(x);break;case"p":ie=parseFloat(c[u]).toPrecision(x);break;case"e":ie=parseFloat(c[u]).toExponential(x);break;case"x":ie=parseInt(c[u]).toString(K||16);break;case"d":ie=parseFloat(parseInt(c[u],K||10).toPrecision(x)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(K);let ce=parseInt(T),ue=T&&T[0]+""=="0"?"0":" ";for(;ie.length<ce;)ie=v!==void 0?ie+ue:ue+ie;return ie}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}static getBytes(a,c){return Q.encode(a,c)}static getCharCode(a,c=0){return a.charCodeAt(c)}static getCharAt(a){return String.fromCharCode(a)}}Y.SHIFT_JIS=O.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=O.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=O.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class q{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,c,u){for(let h=c;c<c+u;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+1)}substring(a,c){return this.value.substring(a,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+c.length)}}class _e{constructor(a,c,u,h){if(this.width=a,this.height=c,this.rowSize=u,this.bits=h,c==null&&(c=a),this.height=c,a<1||c<1)throw new A("Both dimensions must be greater than 0");u==null&&(u=Math.floor((a+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const c=a.length,u=a[0].length,h=new _e(u,c);for(let g=0;g<c;g++){const x=a[g];for(let v=0;v<u;v++)x[v]&&h.set(v,g)}return h}static parseFromString(a,c,u){if(a===null)throw new A("stringRepresentation cannot be null");const h=new Array(a.length);let g=0,x=0,v=-1,T=0,C=0;for(;C<a.length;)if(a.charAt(C)===`
`||a.charAt(C)==="\r"){if(g>x){if(v===-1)v=g-x;else if(g-x!==v)throw new A("row lengths do not match");x=g,T++}C++}else if(a.substring(C,C+c.length)===c)C+=c.length,h[g]=!0,g++;else if(a.substring(C,C+u.length)===u)C+=u.length,h[g]=!1,g++;else throw new A("illegal character encountered: "+a.substring(C));if(g>x){if(v===-1)v=g-x;else if(g-x!==v)throw new A("row lengths do not match");T++}const D=new _e(v,T);for(let j=0;j<g;j++)h[j]&&D.set(Math.floor(j%v),Math.floor(j/v));return D}get(a,c){const u=c*this.rowSize+Math.floor(a/32);return(this.bits[u]>>>(a&31)&1)!==0}set(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]|=1<<(a&31)&4294967295}unset(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]&=~(1<<(a&31)&4294967295)}flip(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new A("input matrix dimensions do not match");const c=new Z(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let g=0,x=this.height;g<x;g++){const v=g*u,T=a.getRow(g,c).getBitArray();for(let C=0;C<u;C++)h[v+C]^=T[C]}}clear(){const a=this.bits,c=a.length;for(let u=0;u<c;u++)a[u]=0}setRegion(a,c,u,h){if(c<0||a<0)throw new A("Left and top must be nonnegative");if(h<1||u<1)throw new A("Height and width must be at least 1");const g=a+u,x=c+h;if(x>this.height||g>this.width)throw new A("The region must fit inside the matrix");const v=this.rowSize,T=this.bits;for(let C=c;C<x;C++){const D=C*v;for(let j=a;j<g;j++)T[D+Math.floor(j/32)]|=1<<(j&31)&4294967295}}getRow(a,c){c==null||c.getSize()<this.width?c=new Z(this.width):c.clear();const u=this.rowSize,h=this.bits,g=a*u;for(let x=0;x<u;x++)c.setBulk(x*32,h[g+x]);return c}setRow(a,c){k.arraycopy(c.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),c=this.getHeight();let u=new Z(a),h=new Z(a);for(let g=0,x=Math.floor((c+1)/2);g<x;g++)u=this.getRow(g,u),h=this.getRow(c-1-g,h),u.reverse(),h.reverse(),this.setRow(g,h),this.setRow(c-1-g,u)}getEnclosingRectangle(){const a=this.width,c=this.height,u=this.rowSize,h=this.bits;let g=a,x=c,v=-1,T=-1;for(let C=0;C<c;C++)for(let D=0;D<u;D++){const j=h[C*u+D];if(j!==0){if(C<x&&(x=C),C>T&&(T=C),D*32<g){let K=0;for(;(j<<31-K&4294967295)===0;)K++;D*32+K<g&&(g=D*32+K)}if(D*32+31>v){let K=31;for(;!(j>>>K);)K--;D*32+K>v&&(v=D*32+K)}}}return v<g||T<x?null:Int32Array.from([g,x,v-g+1,T-x+1])}getTopLeftOnBit(){const a=this.rowSize,c=this.bits;let u=0;for(;u<c.length&&c[u]===0;)u++;if(u===c.length)return null;const h=u/a;let g=u%a*32;const x=c[u];let v=0;for(;(x<<31-v&4294967295)===0;)v++;return g+=v,Int32Array.from([g,h])}getBottomRightOnBit(){const a=this.rowSize,c=this.bits;let u=c.length-1;for(;u>=0&&c[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/a);let g=Math.floor(u%a)*32;const x=c[u];let v=31;for(;!(x>>>v);)v--;return g+=v,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof _e))return!1;const c=a;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&G.equals(this.bits,c.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+G.hashCode(this.bits),a}toString(a="X ",c="  ",u=`
`){return this.buildToString(a,c,u)}buildToString(a,c,u){let h=new q;for(let g=0,x=this.height;g<x;g++){for(let v=0,T=this.width;v<T;v++)h.append(this.get(v,g)?a:c);h.append(u)}return h.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class le extends y{static getNotFoundInstance(){return new le}}le.kind="NotFoundException";class ae extends M{constructor(a){super(a),this.luminances=ae.EMPTY,this.buckets=new Int32Array(ae.LUMINANCE_BUCKETS)}getBlackRow(a,c){const u=this.getLuminanceSource(),h=u.getWidth();c==null||c.getSize()<h?c=new Z(h):c.clear(),this.initArrays(h);const g=u.getRow(a,this.luminances),x=this.buckets;for(let T=0;T<h;T++)x[(g[T]&255)>>ae.LUMINANCE_SHIFT]++;const v=ae.estimateBlackPoint(x);if(h<3)for(let T=0;T<h;T++)(g[T]&255)<v&&c.set(T);else{let T=g[0]&255,C=g[1]&255;for(let D=1;D<h-1;D++){const j=g[D+1]&255;(C*4-T-j)/2<v&&c.set(D),T=C,C=j}}return c}getBlackMatrix(){const a=this.getLuminanceSource(),c=a.getWidth(),u=a.getHeight(),h=new _e(c,u);this.initArrays(c);const g=this.buckets;for(let T=1;T<5;T++){const C=Math.floor(u*T/5),D=a.getRow(C,this.luminances),j=Math.floor(c*4/5);for(let K=Math.floor(c/5);K<j;K++){const ie=D[K]&255;g[ie>>ae.LUMINANCE_SHIFT]++}}const x=ae.estimateBlackPoint(g),v=a.getMatrix();for(let T=0;T<u;T++){const C=T*c;for(let D=0;D<c;D++)(v[C+D]&255)<x&&h.set(D,T)}return h}createBinarizer(a){return new ae(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const c=this.buckets;for(let u=0;u<ae.LUMINANCE_BUCKETS;u++)c[u]=0}static estimateBlackPoint(a){const c=a.length;let u=0,h=0,g=0;for(let D=0;D<c;D++)a[D]>g&&(h=D,g=a[D]),a[D]>u&&(u=a[D]);let x=0,v=0;for(let D=0;D<c;D++){const j=D-h,K=a[D]*j*j;K>v&&(x=D,v=K)}if(h>x){const D=h;h=x,x=D}if(x-h<=c/16)throw new le;let T=x-1,C=-1;for(let D=x-1;D>h;D--){const j=D-h,K=j*j*(x-D)*(u-a[D]);K>C&&(T=D,C=K)}return T<<ae.LUMINANCE_SHIFT}}ae.LUMINANCE_BITS=5,ae.LUMINANCE_SHIFT=8-ae.LUMINANCE_BITS,ae.LUMINANCE_BUCKETS=1<<ae.LUMINANCE_BITS,ae.EMPTY=Uint8ClampedArray.from([0]);class de extends ae{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),c=a.getWidth(),u=a.getHeight();if(c>=de.MINIMUM_DIMENSION&&u>=de.MINIMUM_DIMENSION){const h=a.getMatrix();let g=c>>de.BLOCK_SIZE_POWER;(c&de.BLOCK_SIZE_MASK)!==0&&g++;let x=u>>de.BLOCK_SIZE_POWER;(u&de.BLOCK_SIZE_MASK)!==0&&x++;const v=de.calculateBlackPoints(h,g,x,c,u),T=new _e(c,u);de.calculateThresholdForBlock(h,g,x,c,u,v,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new de(a)}static calculateThresholdForBlock(a,c,u,h,g,x,v){const T=g-de.BLOCK_SIZE,C=h-de.BLOCK_SIZE;for(let D=0;D<u;D++){let j=D<<de.BLOCK_SIZE_POWER;j>T&&(j=T);const K=de.cap(D,2,u-3);for(let ie=0;ie<c;ie++){let ce=ie<<de.BLOCK_SIZE_POWER;ce>C&&(ce=C);const ue=de.cap(ie,2,c-3);let me=0;for(let Ve=-2;Ve<=2;Ve++){const Ue=x[K+Ve];me+=Ue[ue-2]+Ue[ue-1]+Ue[ue]+Ue[ue+1]+Ue[ue+2]}const Ee=me/25;de.thresholdBlock(a,ce,j,Ee,h,v)}}}static cap(a,c,u){return a<c?c:a>u?u:a}static thresholdBlock(a,c,u,h,g,x){for(let v=0,T=u*g+c;v<de.BLOCK_SIZE;v++,T+=g)for(let C=0;C<de.BLOCK_SIZE;C++)(a[T+C]&255)<=h&&x.set(c+C,u+v)}static calculateBlackPoints(a,c,u,h,g){const x=g-de.BLOCK_SIZE,v=h-de.BLOCK_SIZE,T=new Array(u);for(let C=0;C<u;C++){T[C]=new Int32Array(c);let D=C<<de.BLOCK_SIZE_POWER;D>x&&(D=x);for(let j=0;j<c;j++){let K=j<<de.BLOCK_SIZE_POWER;K>v&&(K=v);let ie=0,ce=255,ue=0;for(let Ee=0,Ve=D*h+K;Ee<de.BLOCK_SIZE;Ee++,Ve+=h){for(let Ue=0;Ue<de.BLOCK_SIZE;Ue++){const Be=a[Ve+Ue]&255;ie+=Be,Be<ce&&(ce=Be),Be>ue&&(ue=Be)}if(ue-ce>de.MIN_DYNAMIC_RANGE)for(Ee++,Ve+=h;Ee<de.BLOCK_SIZE;Ee++,Ve+=h)for(let Ue=0;Ue<de.BLOCK_SIZE;Ue++)ie+=a[Ve+Ue]&255}let me=ie>>de.BLOCK_SIZE_POWER*2;if(ue-ce<=de.MIN_DYNAMIC_RANGE&&(me=ce/2,C>0&&j>0)){const Ee=(T[C-1][j]+2*T[C][j-1]+T[C-1][j-1])/4;ce<Ee&&(me=Ee)}T[C][j]=me}}return T}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class ve{constructor(a,c){this.width=a,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,c,u,h){throw new W("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new W("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new W("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let c=new q;for(let u=0;u<this.height;u++){const h=this.getRow(u,a);for(let g=0;g<this.width;g++){const x=h[g]&255;let v;x<64?v="#":x<128?v="+":x<192?v=".":v=" ",c.append(v)}c.append(`
`)}return c.toString()}}class Re extends ve{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,c){const u=this.delegate.getRow(a,c),h=this.getWidth();for(let g=0;g<h;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const a=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(c);for(let h=0;h<c;h++)u[h]=255-(a[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(a,c,u,h){return new Re(this.delegate.crop(a,c,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Re(this.delegate.rotateCounterClockwise45())}}class te extends ve{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=te.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const c=a.getContext("2d").getImageData(0,0,a.width,a.height);return te.toGrayscaleBuffer(c.data,a.width,a.height)}static toGrayscaleBuffer(a,c,u){const h=new Uint8ClampedArray(c*u);for(let g=0,x=0,v=a.length;g<v;g+=4,x++){let T;if(a[g+3]===0)T=255;else{const D=a[g],j=a[g+1],K=a[g+2];T=306*D+601*j+117*K+512>>10}h[x]=T}return h}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const u=this.getWidth(),h=a*u;return c===null?c=this.buffer.slice(h,h+u):(c.length<u&&(c=new Uint8ClampedArray(u)),c.set(this.buffer.slice(h,h+u))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,c,u,h){return super.crop(a,c,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const c=this.getTempCanvasElement(),u=c.getContext("2d"),h=a*te.DEGREE_TO_RADIANS,g=this.canvas.width,x=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*x),T=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*x);return c.width=v,c.height=T,u.translate(v/2,T/2),u.rotate(h),u.drawImage(this.canvas,g/-2,x/-2),this.buffer=te.makeBufferFromCanvasImageData(c),this}invert(){return new Re(this)}}te.DEGREE_TO_RADIANS=Math.PI/180;class ye{constructor(a,c,u){this.deviceId=a,this.label=c,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ne=(globalThis||Sh||self||window||void 0)&&(globalThis||Sh||self||window||void 0).__awaiter||function(z,a,c,u){function h(g){return g instanceof c?g:new c(function(x){x(g)})}return new(c||(c=Promise))(function(g,x){function v(D){try{C(u.next(D))}catch(j){x(j)}}function T(D){try{C(u.throw(D))}catch(j){x(j)}}function C(D){D.done?g(D.value):h(D.value).then(v,T)}C((u=u.apply(z,a||[])).next())})};class Oe{constructor(a,c=500,u){this.reader=a,this.timeBetweenScansMillis=c,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return Ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const u of a){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const g=u.deviceId||u.id,x=u.label||`Video device ${c.length+1}`,v=u.groupId,T={deviceId:g,label:x,kind:h,groupId:v};c.push(T)}return c})}getVideoInputDevices(){return Ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new ye(c.deviceId,c.label))})}findDeviceById(a){return Ne(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(u=>u.deviceId===a):null})}decodeFromInputVideoDevice(a,c){return Ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,c)})}decodeOnceFromVideoDevice(a,c){return Ne(this,void 0,void 0,function*(){this.reset();let u;a?u={deviceId:{exact:a}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,c)})}decodeOnceFromConstraints(a,c){return Ne(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(u,c)})}decodeOnceFromStream(a,c){return Ne(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(a,c);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(a,c,u){return Ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,c,u)})}decodeFromVideoDevice(a,c,u){return Ne(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,c,u)})}decodeFromConstraints(a,c,u){return Ne(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,c,u)})}decodeFromStream(a,c,u){return Ne(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,c);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,c){return Ne(this,void 0,void 0,function*(){const u=this.prepareVideoElement(c);return this.addVideoSource(u,a),this.videoElement=u,this.stream=a,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(a){return new Promise((c,u)=>this.playVideoOnLoad(a,()=>c()))}playVideoOnLoad(a,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",c),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return Ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,c){const u=document.getElementById(a);if(!u)throw new _(`element with id '${a}' not found`);if(u.nodeName.toLowerCase()!==c.toLowerCase())throw new _(`element with id '${a}' must be an ${c} element`);return u}decodeFromImage(a,c){if(!a&&!c)throw new _("either imageElement with a src set or an url must be provided");return c&&!a?this.decodeFromImageUrl(c):this.decodeFromImageElement(a)}decodeFromVideo(a,c){if(!a&&!c)throw new _("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,c,u){if(a===void 0&&c===void 0)throw new _("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrlContinuously(c,u):this.decodeFromVideoElementContinuously(a,u)}decodeFromImageElement(a){if(!a)throw new _("An image element must be provided.");this.reset();const c=this.prepareImageElement(a);this.imageElement=c;let u;return this.isImageLoaded(c)?u=this.decodeOnce(c,!1,!0):u=this._decodeOnLoadImage(c),u}decodeFromVideoElement(a){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(a,c){const u=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(u,c)}_decodeFromVideoElementSetup(a){if(!a)throw new _("A video element must be provided.");this.reset();const c=this.prepareVideoElement(a);return this.videoElement=c,c}decodeFromImageUrl(a){if(!a)throw new _("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const u=this._decodeOnLoadImage(c);return c.src=a,u}decodeFromVideoUrl(a){if(!a)throw new _("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),u=this.decodeFromVideoElement(c);return c.src=a,u}decodeFromVideoUrlContinuously(a,c){if(!a)throw new _("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,c);return u.src=a,h}_decodeOnLoadImage(a){return new Promise((c,u)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(c,u),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return Ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,c){return Ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,c)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let c;return typeof a>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(c=a),c}prepareVideoElement(a){let c;return!a&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(c=a),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(a,c=!0,u=!0){this._stopAsyncDecode=!1;const h=(g,x)=>{if(this._stopAsyncDecode){x(new le("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(a);g(v)}catch(v){const T=c&&v instanceof le,D=(v instanceof N||v instanceof V)&&u;if(T||D)return setTimeout(h,this._timeBetweenDecodingAttempts,g,x);x(v)}};return new Promise((g,x)=>h(g,x))}decodeContinuously(a,c){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);c(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){c(null,h);const g=h instanceof N||h instanceof V,x=h instanceof le;(g||x)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(a){const c=this.createBinaryBitmap(a);return this.decodeBitmap(c)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,c,u){c||(c={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(a,c,u=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const c=this.getCaptureCanvas(a),u=new te(c),h=new de(u);return new I(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const c=this.createCaptureCanvas(a);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let u,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(u=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(u=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),c.style.width=u+"px",c.style.height=h+"px",c.width=u,c.height=h,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,c){try{a.srcObject=c}catch{a.src=URL.createObjectURL(c)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Ge{constructor(a,c,u=c==null?0:8*c.length,h,g,x=k.currentTimeMillis()){this.text=a,this.rawBytes=c,this.numBits=u,this.resultPoints=h,this.format=g,this.timestamp=x,this.text=a,this.rawBytes=c,u==null?this.numBits=c==null?0:8*c.length:this.numBits=u,this.resultPoints=h,this.format=g,this.resultMetadata=null,x==null?this.timestamp=k.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,c)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const c=this.resultPoints;if(c===null)this.resultPoints=a;else if(a!==null&&a.length>0){const u=new Array(c.length+a.length);k.arraycopy(c,0,u,0,c.length),k.arraycopy(a,0,u,c.length,a.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(z){z[z.AZTEC=0]="AZTEC",z[z.CODABAR=1]="CODABAR",z[z.CODE_39=2]="CODE_39",z[z.CODE_93=3]="CODE_93",z[z.CODE_128=4]="CODE_128",z[z.DATA_MATRIX=5]="DATA_MATRIX",z[z.EAN_8=6]="EAN_8",z[z.EAN_13=7]="EAN_13",z[z.ITF=8]="ITF",z[z.MAXICODE=9]="MAXICODE",z[z.PDF_417=10]="PDF_417",z[z.QR_CODE=11]="QR_CODE",z[z.RSS_14=12]="RSS_14",z[z.RSS_EXPANDED=13]="RSS_EXPANDED",z[z.UPC_A=14]="UPC_A",z[z.UPC_E=15]="UPC_E",z[z.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var Ce=it,We;(function(z){z[z.OTHER=0]="OTHER",z[z.ORIENTATION=1]="ORIENTATION",z[z.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",z[z.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",z[z.ISSUE_NUMBER=4]="ISSUE_NUMBER",z[z.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",z[z.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",z[z.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",z[z.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",z[z.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",z[z.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(We||(We={}));var He=We;class Ye{constructor(a,c,u,h,g=-1,x=-1){this.rawBytes=a,this.text=c,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=x,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class lt{exp(a){return this.expTable[a]}log(a){if(a===0)throw new A;return this.logTable[a]}static addOrSubtract(a,c){return a^c}}class et{constructor(a,c){if(c.length===0)throw new A;this.field=a;const u=c.length;if(u>1&&c[0]===0){let h=1;for(;h<u&&c[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),k.arraycopy(c,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const c=this.coefficients;let u;if(a===1){u=0;for(let x=0,v=c.length;x!==v;x++){const T=c[x];u=lt.addOrSubtract(u,T)}return u}u=c[0];const h=c.length,g=this.field;for(let x=1;x<h;x++)u=lt.addOrSubtract(g.multiply(a,u),c[x]);return u}addOrSubtract(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,u=a.coefficients;if(c.length>u.length){const x=c;c=u,u=x}let h=new Int32Array(u.length);const g=u.length-c.length;k.arraycopy(u,0,h,0,g);for(let x=g;x<u.length;x++)h[x]=lt.addOrSubtract(c[x-g],u[x]);return new et(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const c=this.coefficients,u=c.length,h=a.coefficients,g=h.length,x=new Int32Array(u+g-1),v=this.field;for(let T=0;T<u;T++){const C=c[T];for(let D=0;D<g;D++)x[T+D]=lt.addOrSubtract(x[T+D],v.multiply(C,h[D]))}return new et(v,x)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const c=this.coefficients.length,u=this.field,h=new Int32Array(c),g=this.coefficients;for(let x=0;x<c;x++)h[x]=u.multiply(g[x],a);return new et(u,h)}multiplyByMonomial(a,c){if(a<0)throw new A;if(c===0)return this.field.getZero();const u=this.coefficients,h=u.length,g=new Int32Array(h+a),x=this.field;for(let v=0;v<h;v++)g[v]=x.multiply(u[v],c);return new et(x,g)}divide(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new A("Divide by 0");const c=this.field;let u=c.getZero(),h=this;const g=a.getCoefficient(a.getDegree()),x=c.inverse(g);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const v=h.getDegree()-a.getDegree(),T=c.multiply(h.getCoefficient(h.getDegree()),x),C=a.multiplyByMonomial(v,T),D=c.buildMonomial(v,T);u=u.addOrSubtract(D),h=h.addOrSubtract(C)}return[u,h]}toString(){let a="";for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);if(u!==0){if(u<0?(a+=" - ",u=-u):a.length>0&&(a+=" + "),c===0||u!==1){const h=this.field.log(u);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}c!==0&&(c===1?a+="x":(a+="x^",a+=c))}}return a}}class wt extends y{}wt.kind="ArithmeticException";class nt extends lt{constructor(a,c,u){super(),this.primitive=a,this.size=c,this.generatorBase=u;const h=new Int32Array(c);let g=1;for(let v=0;v<c;v++)h[v]=g,g*=2,g>=c&&(g^=a,g&=c-1);this.expTable=h;const x=new Int32Array(c);for(let v=0;v<c-1;v++)x[h[v]]=v;this.logTable=x,this.zero=new et(this,Int32Array.from([0])),this.one=new et(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new A;if(c===0)return this.zero;const u=new Int32Array(a+1);return u[0]=c,new et(this,u)}inverse(a){if(a===0)throw new wt;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}nt.AZTEC_DATA_12=new nt(4201,4096,1),nt.AZTEC_DATA_10=new nt(1033,1024,1),nt.AZTEC_DATA_6=new nt(67,64,1),nt.AZTEC_PARAM=new nt(19,16,1),nt.QR_CODE_FIELD_256=new nt(285,256,0),nt.DATA_MATRIX_FIELD_256=new nt(301,256,1),nt.AZTEC_DATA_8=nt.DATA_MATRIX_FIELD_256,nt.MAXICODE_FIELD_64=nt.AZTEC_DATA_6;class on extends y{}on.kind="ReedSolomonException";class Pt extends y{}Pt.kind="IllegalStateException";class Jn{constructor(a){this.field=a}decode(a,c){const u=this.field,h=new et(u,a),g=new Int32Array(c);let x=!0;for(let ie=0;ie<c;ie++){const ce=h.evaluateAt(u.exp(ie+u.getGeneratorBase()));g[g.length-1-ie]=ce,ce!==0&&(x=!1)}if(x)return;const v=new et(u,g),T=this.runEuclideanAlgorithm(u.buildMonomial(c,1),v,c),C=T[0],D=T[1],j=this.findErrorLocations(C),K=this.findErrorMagnitudes(D,j);for(let ie=0;ie<j.length;ie++){const ce=a.length-1-u.log(j[ie]);if(ce<0)throw new on("Bad error location");a[ce]=nt.addOrSubtract(a[ce],K[ie])}}runEuclideanAlgorithm(a,c,u){if(a.getDegree()<c.getDegree()){const ie=a;a=c,c=ie}const h=this.field;let g=a,x=c,v=h.getZero(),T=h.getOne();for(;x.getDegree()>=(u/2|0);){let ie=g,ce=v;if(g=x,v=T,g.isZero())throw new on("r_{i-1} was zero");x=ie;let ue=h.getZero();const me=g.getCoefficient(g.getDegree()),Ee=h.inverse(me);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){const Ve=x.getDegree()-g.getDegree(),Ue=h.multiply(x.getCoefficient(x.getDegree()),Ee);ue=ue.addOrSubtract(h.buildMonomial(Ve,Ue)),x=x.addOrSubtract(g.multiplyByMonomial(Ve,Ue))}if(T=ue.multiply(v).addOrSubtract(ce),x.getDegree()>=g.getDegree())throw new Pt("Division algorithm failed to reduce polynomial?")}const C=T.getCoefficient(0);if(C===0)throw new on("sigmaTilde(0) was zero");const D=h.inverse(C),j=T.multiplyScalar(D),K=x.multiplyScalar(D);return[j,K]}findErrorLocations(a){const c=a.getDegree();if(c===1)return Int32Array.from([a.getCoefficient(1)]);const u=new Int32Array(c);let h=0;const g=this.field;for(let x=1;x<g.getSize()&&h<c;x++)a.evaluateAt(x)===0&&(u[h]=g.inverse(x),h++);if(h!==c)throw new on("Error locator degree does not match number of roots");return u}findErrorMagnitudes(a,c){const u=c.length,h=new Int32Array(u),g=this.field;for(let x=0;x<u;x++){const v=g.inverse(c[x]);let T=1;for(let C=0;C<u;C++)if(x!==C){const D=g.multiply(c[C],v),j=(D&1)===0?D|1:D&-2;T=g.multiply(T,j)}h[x]=g.multiply(a.evaluateAt(v),g.inverse(T)),g.getGeneratorBase()!==0&&(h[x]=g.multiply(h[x],v))}return h}}var xt;(function(z){z[z.UPPER=0]="UPPER",z[z.LOWER=1]="LOWER",z[z.MIXED=2]="MIXED",z[z.DIGIT=3]="DIGIT",z[z.PUNCT=4]="PUNCT",z[z.BINARY=5]="BINARY"})(xt||(xt={}));class Lt{decode(a){this.ddata=a;let c=a.getBits(),u=this.extractBits(c),h=this.correctBits(u),g=Lt.convertBoolArrayToByteArray(h),x=Lt.getEncodedData(h),v=new Ye(g,x,null,null);return v.setNumBits(h.length),v}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let c=a.length,u=xt.UPPER,h=xt.UPPER,g="",x=0;for(;x<c;)if(h===xt.BINARY){if(c-x<5)break;let v=Lt.readCode(a,x,5);if(x+=5,v===0){if(c-x<11)break;v=Lt.readCode(a,x,11)+31,x+=11}for(let T=0;T<v;T++){if(c-x<8){x=c;break}const C=Lt.readCode(a,x,8);g+=Y.castAsNonUtf8Char(C),x+=8}h=u}else{let v=h===xt.DIGIT?4:5;if(c-x<v)break;let T=Lt.readCode(a,x,v);x+=v;let C=Lt.getCharacter(h,T);C.startsWith("CTRL_")?(u=h,h=Lt.getTable(C.charAt(5)),C.charAt(6)==="L"&&(u=h)):(g+=C,h=u)}return g}static getTable(a){switch(a){case"L":return xt.LOWER;case"P":return xt.PUNCT;case"M":return xt.MIXED;case"D":return xt.DIGIT;case"B":return xt.BINARY;case"U":default:return xt.UPPER}}static getCharacter(a,c){switch(a){case xt.UPPER:return Lt.UPPER_TABLE[c];case xt.LOWER:return Lt.LOWER_TABLE[c];case xt.MIXED:return Lt.MIXED_TABLE[c];case xt.PUNCT:return Lt.PUNCT_TABLE[c];case xt.DIGIT:return Lt.DIGIT_TABLE[c];default:throw new Pt("Bad table")}}correctBits(a){let c,u;this.ddata.getNbLayers()<=2?(u=6,c=nt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,c=nt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,c=nt.AZTEC_DATA_10):(u=12,c=nt.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=a.length/u;if(g<h)throw new V;let x=a.length%u,v=new Int32Array(g);for(let K=0;K<g;K++,x+=u)v[K]=Lt.readCode(a,x,u);try{new Jn(c).decode(v,g-h)}catch(K){throw new V(K)}let T=(1<<u)-1,C=0;for(let K=0;K<h;K++){let ie=v[K];if(ie===0||ie===T)throw new V;(ie===1||ie===T-1)&&C++}let D=new Array(h*u-C),j=0;for(let K=0;K<h;K++){let ie=v[K];if(ie===1||ie===T-1)D.fill(ie>1,j,j+u-1),j+=u-1;else for(let ce=u-1;ce>=0;--ce)D[j++]=(ie&1<<ce)!==0}return D}extractBits(a){let c=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(c?11:14)+u*4,g=new Int32Array(h),x=new Array(this.totalBitsInLayer(u,c));if(c)for(let v=0;v<g.length;v++)g[v]=v;else{let v=h+1+2*B.truncDivision(B.truncDivision(h,2)-1,15),T=h/2,C=B.truncDivision(v,2);for(let D=0;D<T;D++){let j=D+B.truncDivision(D,15);g[T-D-1]=C-j-1,g[T+D]=C+j+1}}for(let v=0,T=0;v<u;v++){let C=(u-v)*4+(c?9:12),D=v*2,j=h-1-D;for(let K=0;K<C;K++){let ie=K*2;for(let ce=0;ce<2;ce++)x[T+ie+ce]=a.get(g[D+ce],g[D+K]),x[T+2*C+ie+ce]=a.get(g[D+K],g[j-ce]),x[T+4*C+ie+ce]=a.get(g[j-ce],g[j-K]),x[T+6*C+ie+ce]=a.get(g[j-K],g[D+ce])}T+=C*8}return x}static readCode(a,c,u){let h=0;for(let g=c;g<c+u;g++)h<<=1,a[g]&&(h|=1);return h}static readByte(a,c){let u=a.length-c;return u>=8?Lt.readCode(a,c,8):Lt.readCode(a,c,u)<<8-u}static convertBoolArrayToByteArray(a){let c=new Uint8Array((a.length+7)/8);for(let u=0;u<c.length;u++)c[u]=Lt.readByte(a,8*u);return c}totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}Lt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Lt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Lt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Lt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Lt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _t{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,c,u,h){const g=a-u,x=c-h;return Math.sqrt(g*g+x*x)}static sum(a){let c=0;for(let u=0,h=a.length;u!==h;u++){const g=a[u];c+=g}return c}}class Mr{static floatToIntBits(a){return a}}Mr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class qe{constructor(a,c){this.x=a,this.y=c}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof qe){const c=a;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Mr.floatToIntBits(this.x)+Mr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const c=this.distance(a[0],a[1]),u=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let g,x,v;if(u>=c&&u>=h?(x=a[0],g=a[1],v=a[2]):h>=u&&h>=c?(x=a[1],g=a[0],v=a[2]):(x=a[2],g=a[0],v=a[1]),this.crossProductZ(g,x,v)<0){const T=g;g=v,v=T}a[0]=g,a[1]=x,a[2]=v}static distance(a,c){return _t.distance(a.x,a.y,c.x,c.y)}static crossProductZ(a,c,u){const h=c.x,g=c.y;return(u.x-h)*(a.y-g)-(u.y-g)*(a.x-h)}}class Ts{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class ua extends Ts{constructor(a,c,u,h,g){super(a,c),this.compact=u,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class di{constructor(a,c,u,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),c==null&&(c=di.INIT_SIZE),u==null&&(u=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const g=c/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}detect(){let a=this.leftInit,c=this.rightInit,u=this.upInit,h=this.downInit,g=!1,x=!0,v=!1,T=!1,C=!1,D=!1,j=!1;const K=this.width,ie=this.height;for(;x;){x=!1;let ce=!0;for(;(ce||!T)&&c<K;)ce=this.containsBlackPoint(u,h,c,!1),ce?(c++,x=!0,T=!0):T||c++;if(c>=K){g=!0;break}let ue=!0;for(;(ue||!C)&&h<ie;)ue=this.containsBlackPoint(a,c,h,!0),ue?(h++,x=!0,C=!0):C||h++;if(h>=ie){g=!0;break}let me=!0;for(;(me||!D)&&a>=0;)me=this.containsBlackPoint(u,h,a,!1),me?(a--,x=!0,D=!0):D||a--;if(a<0){g=!0;break}let Ee=!0;for(;(Ee||!j)&&u>=0;)Ee=this.containsBlackPoint(a,c,u,!0),Ee?(u--,x=!0,j=!0):j||u--;if(u<0){g=!0;break}x&&(v=!0)}if(!g&&v){const ce=c-a;let ue=null;for(let Ue=1;ue===null&&Ue<ce;Ue++)ue=this.getBlackPointOnSegment(a,h-Ue,a+Ue,h);if(ue==null)throw new le;let me=null;for(let Ue=1;me===null&&Ue<ce;Ue++)me=this.getBlackPointOnSegment(a,u+Ue,a+Ue,u);if(me==null)throw new le;let Ee=null;for(let Ue=1;Ee===null&&Ue<ce;Ue++)Ee=this.getBlackPointOnSegment(c,u+Ue,c-Ue,u);if(Ee==null)throw new le;let Ve=null;for(let Ue=1;Ve===null&&Ue<ce;Ue++)Ve=this.getBlackPointOnSegment(c,h-Ue,c-Ue,h);if(Ve==null)throw new le;return this.centerEdges(Ve,ue,Ee,me)}else throw new le}getBlackPointOnSegment(a,c,u,h){const g=_t.round(_t.distance(a,c,u,h)),x=(u-a)/g,v=(h-c)/g,T=this.image;for(let C=0;C<g;C++){const D=_t.round(a+C*x),j=_t.round(c+C*v);if(T.get(D,j))return new qe(D,j)}return null}centerEdges(a,c,u,h){const g=a.getX(),x=a.getY(),v=c.getX(),T=c.getY(),C=u.getX(),D=u.getY(),j=h.getX(),K=h.getY(),ie=di.CORR;return g<this.width/2?[new qe(j-ie,K+ie),new qe(v+ie,T+ie),new qe(C-ie,D-ie),new qe(g+ie,x-ie)]:[new qe(j+ie,K+ie),new qe(v+ie,T-ie),new qe(C-ie,D+ie),new qe(g-ie,x-ie)]}containsBlackPoint(a,c,u,h){const g=this.image;if(h){for(let x=a;x<=c;x++)if(g.get(x,u))return!0}else for(let x=a;x<=c;x++)if(g.get(u,x))return!0;return!1}}di.INIT_SIZE=10,di.CORR=1;class eo{static checkAndNudgePoints(a,c){const u=a.getWidth(),h=a.getHeight();let g=!0;for(let x=0;x<c.length&&g;x+=2){const v=Math.floor(c[x]),T=Math.floor(c[x+1]);if(v<-1||v>u||T<-1||T>h)throw new le;g=!1,v===-1?(c[x]=0,g=!0):v===u&&(c[x]=u-1,g=!0),T===-1?(c[x+1]=0,g=!0):T===h&&(c[x+1]=h-1,g=!0)}g=!0;for(let x=c.length-2;x>=0&&g;x-=2){const v=Math.floor(c[x]),T=Math.floor(c[x+1]);if(v<-1||v>u||T<-1||T>h)throw new le;g=!1,v===-1?(c[x]=0,g=!0):v===u&&(c[x]=u-1,g=!0),T===-1?(c[x+1]=0,g=!0):T===h&&(c[x+1]=h-1,g=!0)}}}class Kt{constructor(a,c,u,h,g,x,v,T,C){this.a11=a,this.a21=c,this.a31=u,this.a12=h,this.a22=g,this.a32=x,this.a13=v,this.a23=T,this.a33=C}static quadrilateralToQuadrilateral(a,c,u,h,g,x,v,T,C,D,j,K,ie,ce,ue,me){const Ee=Kt.quadrilateralToSquare(a,c,u,h,g,x,v,T);return Kt.squareToQuadrilateral(C,D,j,K,ie,ce,ue,me).times(Ee)}transformPoints(a){const c=a.length,u=this.a11,h=this.a12,g=this.a13,x=this.a21,v=this.a22,T=this.a23,C=this.a31,D=this.a32,j=this.a33;for(let K=0;K<c;K+=2){const ie=a[K],ce=a[K+1],ue=g*ie+T*ce+j;a[K]=(u*ie+x*ce+C)/ue,a[K+1]=(h*ie+v*ce+D)/ue}}transformPointsWithValues(a,c){const u=this.a11,h=this.a12,g=this.a13,x=this.a21,v=this.a22,T=this.a23,C=this.a31,D=this.a32,j=this.a33,K=a.length;for(let ie=0;ie<K;ie++){const ce=a[ie],ue=c[ie],me=g*ce+T*ue+j;a[ie]=(u*ce+x*ue+C)/me,c[ie]=(h*ce+v*ue+D)/me}}static squareToQuadrilateral(a,c,u,h,g,x,v,T){const C=a-u+g-v,D=c-h+x-T;if(C===0&&D===0)return new Kt(u-a,g-u,a,h-c,x-h,c,0,0,1);{const j=u-g,K=v-g,ie=h-x,ce=T-x,ue=j*ce-K*ie,me=(C*ce-K*D)/ue,Ee=(j*D-C*ie)/ue;return new Kt(u-a+me*u,v-a+Ee*v,a,h-c+me*h,T-c+Ee*T,c,me,Ee,1)}}static quadrilateralToSquare(a,c,u,h,g,x,v,T){return Kt.squareToQuadrilateral(a,c,u,h,g,x,v,T).buildAdjoint()}buildAdjoint(){return new Kt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Kt(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class en extends eo{sampleGrid(a,c,u,h,g,x,v,T,C,D,j,K,ie,ce,ue,me,Ee,Ve,Ue){const Be=Kt.quadrilateralToQuadrilateral(h,g,x,v,T,C,D,j,K,ie,ce,ue,me,Ee,Ve,Ue);return this.sampleGridWithTransform(a,c,u,Be)}sampleGridWithTransform(a,c,u,h){if(c<=0||u<=0)throw new le;const g=new _e(c,u),x=new Float32Array(2*c);for(let v=0;v<u;v++){const T=x.length,C=v+.5;for(let D=0;D<T;D+=2)x[D]=D/2+.5,x[D+1]=C;h.transformPoints(x),eo.checkAndNudgePoints(a,x);try{for(let D=0;D<T;D+=2)a.get(Math.floor(x[D]),Math.floor(x[D+1]))&&g.set(D/2,v)}catch{throw new le}}return g}}class er{static setGridSampler(a){er.gridSampler=a}static getInstance(){return er.gridSampler}}er.gridSampler=new en;class tn{constructor(a,c){this.x=a,this.y=c}toResultPoint(){return new qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class hl{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let c=this.getMatrixCenter(),u=this.getBullsEyeCorners(c);if(a){let x=u[0];u[0]=u[2],u[2]=x}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new ua(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new le;let c=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(a[0],a[1],c),this.sampleLine(a[1],a[2],c),this.sampleLine(a[2],a[3],c),this.sampleLine(a[3],a[0],c)]);this.shift=this.getRotation(u,c);let h=0;for(let x=0;x<4;x++){let v=u[(this.shift+x)%4];this.compact?(h<<=7,h+=v>>1&127):(h<<=10,h+=(v>>2&992)+(v>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(a,c){let u=0;a.forEach((h,g,x)=>{let v=(h>>c-2<<1)+(h&1);u=(u<<3)+v}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(B.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new le}getCorrectedParameterData(a,c){let u,h;c?(u=7,h=2):(u=10,h=4);let g=u-h,x=new Int32Array(u);for(let T=u-1;T>=0;--T)x[T]=a&15,a>>=4;try{new Jn(nt.AZTEC_PARAM).decode(x,g)}catch{throw new le}let v=0;for(let T=0;T<h;T++)v=(v<<4)+x[T];return v}getBullsEyeCorners(a){let c=a,u=a,h=a,g=a,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let j=this.getFirstDifferent(c,x,1,-1),K=this.getFirstDifferent(u,x,1,1),ie=this.getFirstDifferent(h,x,-1,1),ce=this.getFirstDifferent(g,x,-1,-1);if(this.nbCenterLayers>2){let ue=this.distancePoint(ce,j)*this.nbCenterLayers/(this.distancePoint(g,c)*(this.nbCenterLayers+2));if(ue<.75||ue>1.25||!this.isWhiteOrBlackRectangle(j,K,ie,ce))break}c=j,u=K,h=ie,g=ce,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;let v=new qe(c.getX()+.5,c.getY()-.5),T=new qe(u.getX()+.5,u.getY()+.5),C=new qe(h.getX()-.5,h.getY()+.5),D=new qe(g.getX()-.5,g.getY()-.5);return this.expandSquare([v,T,C,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,c,u,h;try{let v=new di(this.image).detect();a=v[0],c=v[1],u=v[2],h=v[3]}catch{let T=this.image.getWidth()/2,C=this.image.getHeight()/2;a=this.getFirstDifferent(new tn(T+7,C-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new tn(T+7,C+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new tn(T-7,C+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new tn(T-7,C-7),!1,-1,-1).toResultPoint()}let g=_t.round((a.getX()+h.getX()+c.getX()+u.getX())/4),x=_t.round((a.getY()+h.getY()+c.getY()+u.getY())/4);try{let v=new di(this.image,15,g,x).detect();a=v[0],c=v[1],u=v[2],h=v[3]}catch{a=this.getFirstDifferent(new tn(g+7,x-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new tn(g+7,x+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new tn(g-7,x+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new tn(g-7,x-7),!1,-1,-1).toResultPoint()}return g=_t.round((a.getX()+h.getX()+c.getX()+u.getX())/4),x=_t.round((a.getY()+h.getY()+c.getY()+u.getY())/4),new tn(g,x)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,c,u,h,g){let x=er.getInstance(),v=this.getDimension(),T=v/2-this.nbCenterLayers,C=v/2+this.nbCenterLayers;return x.sampleGrid(a,v,v,T,T,C,T,C,C,T,C,c.getX(),c.getY(),u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(a,c,u){let h=0,g=this.distanceResultPoint(a,c),x=g/u,v=a.getX(),T=a.getY(),C=x*(c.getX()-a.getX())/g,D=x*(c.getY()-a.getY())/g;for(let j=0;j<u;j++)this.image.get(_t.round(v+j*C),_t.round(T+j*D))&&(h|=1<<u-j-1);return h}isWhiteOrBlackRectangle(a,c,u,h){let g=3;a=new tn(a.getX()-g,a.getY()+g),c=new tn(c.getX()-g,c.getY()-g),u=new tn(u.getX()+g,u.getY()-g),h=new tn(h.getX()+g,h.getY()+g);let x=this.getColor(h,a);if(x===0)return!1;let v=this.getColor(a,c);return v!==x||(v=this.getColor(c,u),v!==x)?!1:(v=this.getColor(u,h),v===x)}getColor(a,c){let u=this.distancePoint(a,c),h=(c.getX()-a.getX())/u,g=(c.getY()-a.getY())/u,x=0,v=a.getX(),T=a.getY(),C=this.image.get(a.getX(),a.getY()),D=Math.ceil(u);for(let K=0;K<D;K++)v+=h,T+=g,this.image.get(_t.round(v),_t.round(T))!==C&&x++;let j=x/u;return j>.1&&j<.9?0:j<=.1===C?1:-1}getFirstDifferent(a,c,u,h){let g=a.getX()+u,x=a.getY()+h;for(;this.isValid(g,x)&&this.image.get(g,x)===c;)g+=u,x+=h;for(g-=u,x-=h;this.isValid(g,x)&&this.image.get(g,x)===c;)g+=u;for(g-=u;this.isValid(g,x)&&this.image.get(g,x)===c;)x+=h;return x-=h,new tn(g,x)}expandSquare(a,c,u){let h=u/(2*c),g=a[0].getX()-a[2].getX(),x=a[0].getY()-a[2].getY(),v=(a[0].getX()+a[2].getX())/2,T=(a[0].getY()+a[2].getY())/2,C=new qe(v+h*g,T+h*x),D=new qe(v-h*g,T-h*x);g=a[1].getX()-a[3].getX(),x=a[1].getY()-a[3].getY(),v=(a[1].getX()+a[3].getX())/2,T=(a[1].getY()+a[3].getY())/2;let j=new qe(v+h*g,T+h*x),K=new qe(v-h*g,T-h*x);return[C,j,D,K]}isValid(a,c){return a>=0&&a<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(a){let c=_t.round(a.getX()),u=_t.round(a.getY());return this.isValid(c,u)}distancePoint(a,c){return _t.distance(a.getX(),a.getY(),c.getX(),c.getY())}distanceResultPoint(a,c){return _t.distance(a.getX(),a.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class to{decode(a,c=null){let u=null,h=new hl(a.getBlackMatrix()),g=null,x=null;try{let D=h.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(c,g),x=new Lt().decode(D)}catch(D){u=D}if(x==null)try{let D=h.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(c,g),x=new Lt().decode(D)}catch(D){throw u??D}let v=new Ge(x.getText(),x.getRawBytes(),x.getNumBits(),g,Ce.AZTEC,k.currentTimeMillis()),T=x.getByteSegments();T!=null&&v.putMetadata(He.BYTE_SEGMENTS,T);let C=x.getECLevel();return C!=null&&v.putMetadata(He.ERROR_CORRECTION_LEVEL,C),v}reportFoundResultPoints(a,c){if(a!=null){let u=a.get(se.NEED_RESULT_POINT_CALLBACK);u!=null&&c.forEach((h,g,x)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class fa extends Oe{constructor(a=500){super(new to,a)}}class xn{decode(a,c){try{return this.doDecode(a,c)}catch{if(c&&c.get(se.TRY_HARDER)===!0&&a.isRotateSupported()){const g=a.rotateCounterClockwise(),x=this.doDecode(g,c),v=x.getResultMetadata();let T=270;v!==null&&v.get(He.ORIENTATION)===!0&&(T=T+v.get(He.ORIENTATION)%360),x.putMetadata(He.ORIENTATION,T);const C=x.getResultPoints();if(C!==null){const D=g.getHeight();for(let j=0;j<C.length;j++)C[j]=new qe(D-C[j].getY()-1,C[j].getX())}return x}else throw new le}}reset(){}doDecode(a,c){const u=a.getWidth(),h=a.getHeight();let g=new Z(u);const x=c&&c.get(se.TRY_HARDER)===!0,v=Math.max(1,h>>(x?8:5));let T;x?T=h:T=15;const C=Math.trunc(h/2);for(let D=0;D<T;D++){const j=Math.trunc((D+1)/2),K=(D&1)===0,ie=C+v*(K?j:-j);if(ie<0||ie>=h)break;try{g=a.getBlackRow(ie,g)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(g.reverse(),c&&c.get(se.NEED_RESULT_POINT_CALLBACK)===!0)){const ue=new Map;c.forEach((me,Ee)=>ue.set(Ee,me)),ue.delete(se.NEED_RESULT_POINT_CALLBACK),c=ue}try{const ue=this.decodeRow(ie,g,c);if(ce===1){ue.putMetadata(He.ORIENTATION,180);const me=ue.getResultPoints();me!==null&&(me[0]=new qe(u-me[0].getX()-1,me[0].getY()),me[1]=new qe(u-me[1].getX()-1,me[1].getY()))}return ue}catch{}}}throw new le}static recordPattern(a,c,u){const h=u.length;for(let C=0;C<h;C++)u[C]=0;const g=a.getSize();if(c>=g)throw new le;let x=!a.get(c),v=0,T=c;for(;T<g;){if(a.get(T)!==x)u[v]++;else{if(++v===h)break;u[v]=1,x=!x}T++}if(!(v===h||v===h-1&&T===g))throw new le}static recordPatternInReverse(a,c,u){let h=u.length,g=a.get(c);for(;c>0&&h>=0;)a.get(--c)!==g&&(h--,g=!g);if(h>=0)throw new le;xn.recordPattern(a,c+1,u)}static patternMatchVariance(a,c,u){const h=a.length;let g=0,x=0;for(let C=0;C<h;C++)g+=a[C],x+=c[C];if(g<x)return Number.POSITIVE_INFINITY;const v=g/x;u*=v;let T=0;for(let C=0;C<h;C++){const D=a[C],j=c[C]*v,K=D>j?D-j:j-D;if(K>u)return Number.POSITIVE_INFINITY;T+=K}return T/g}}class Fe extends xn{static findStartPattern(a){const c=a.getSize(),u=a.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),x=u,v=!1;const T=6;for(let C=u;C<c;C++)if(a.get(C)!==v)g[h]++;else{if(h===T-1){let D=Fe.MAX_AVG_VARIANCE,j=-1;for(let K=Fe.CODE_START_A;K<=Fe.CODE_START_C;K++){const ie=xn.patternMatchVariance(g,Fe.CODE_PATTERNS[K],Fe.MAX_INDIVIDUAL_VARIANCE);ie<D&&(D=ie,j=K)}if(j>=0&&a.isRange(Math.max(0,x-(C-x)/2),x,!1))return Int32Array.from([x,C,j]);x+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,v=!v}throw new le}static decodeCode(a,c,u){xn.recordPattern(a,u,c);let h=Fe.MAX_AVG_VARIANCE,g=-1;for(let x=0;x<Fe.CODE_PATTERNS.length;x++){const v=Fe.CODE_PATTERNS[x],T=this.patternMatchVariance(c,v,Fe.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,g=x)}if(g>=0)return g;throw new le}decodeRow(a,c,u){const h=u&&u.get(se.ASSUME_GS1)===!0,g=Fe.findStartPattern(c),x=g[2];let v=0;const T=new Uint8Array(20);T[v++]=x;let C;switch(x){case Fe.CODE_START_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_START_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_START_C:C=Fe.CODE_CODE_C;break;default:throw new V}let D=!1,j=!1,K="",ie=g[0],ce=g[1];const ue=Int32Array.from([0,0,0,0,0,0]);let me=0,Ee=0,Ve=x,Ue=0,Be=!0,Tt=!1,bt=!1;for(;!D;){const Ys=j;switch(j=!1,me=Ee,Ee=Fe.decodeCode(c,ue,ce),T[v++]=Ee,Ee!==Fe.CODE_STOP&&(Be=!0),Ee!==Fe.CODE_STOP&&(Ue++,Ve+=Ue*Ee),ie=ce,ce+=ue.reduce((ji,Sd)=>ji+Sd,0),Ee){case Fe.CODE_START_A:case Fe.CODE_START_B:case Fe.CODE_START_C:throw new V}switch(C){case Fe.CODE_CODE_A:if(Ee<64)bt===Tt?K+=String.fromCharCode(32+Ee):K+=String.fromCharCode(32+Ee+128),bt=!1;else if(Ee<96)bt===Tt?K+=String.fromCharCode(Ee-64):K+=String.fromCharCode(Ee+64),bt=!1;else switch(Ee!==Fe.CODE_STOP&&(Be=!1),Ee){case Fe.CODE_FNC_1:h&&(K.length===0?K+="]C1":K+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_A:!Tt&&bt?(Tt=!0,bt=!1):Tt&&bt?(Tt=!1,bt=!1):bt=!0;break;case Fe.CODE_SHIFT:j=!0,C=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_C:C=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:D=!0;break}break;case Fe.CODE_CODE_B:if(Ee<96)bt===Tt?K+=String.fromCharCode(32+Ee):K+=String.fromCharCode(32+Ee+128),bt=!1;else switch(Ee!==Fe.CODE_STOP&&(Be=!1),Ee){case Fe.CODE_FNC_1:h&&(K.length===0?K+="]C1":K+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_B:!Tt&&bt?(Tt=!0,bt=!1):Tt&&bt?(Tt=!1,bt=!1):bt=!0;break;case Fe.CODE_SHIFT:j=!0,C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_C:C=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:D=!0;break}break;case Fe.CODE_CODE_C:if(Ee<100)Ee<10&&(K+="0"),K+=Ee;else switch(Ee!==Fe.CODE_STOP&&(Be=!1),Ee){case Fe.CODE_FNC_1:h&&(K.length===0?K+="]C1":K+="");break;case Fe.CODE_CODE_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_STOP:D=!0;break}break}Ys&&(C=C===Fe.CODE_CODE_A?Fe.CODE_CODE_B:Fe.CODE_CODE_A)}const Yr=ce-ie;if(ce=c.getNextUnset(ce),!c.isRange(ce,Math.min(c.getSize(),ce+(ce-ie)/2),!1))throw new le;if(Ve-=Ue*me,Ve%103!==me)throw new N;const Si=K.length;if(Si===0)throw new le;Si>0&&Be&&(C===Fe.CODE_CODE_C?K=K.substring(0,Si-2):K=K.substring(0,Si-1));const ii=(g[1]+g[0])/2,gn=ie+Yr/2,Tr=T.length,si=new Uint8Array(Tr);for(let Ys=0;Ys<Tr;Ys++)si[Ys]=T[Ys];const xa=[new qe(ii,a),new qe(gn,a)];return new Ge(K,si,0,xa,Ce.CODE_128,new Date().getTime())}}Fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Fe.MAX_AVG_VARIANCE=.25,Fe.MAX_INDIVIDUAL_VARIANCE=.7,Fe.CODE_SHIFT=98,Fe.CODE_CODE_C=99,Fe.CODE_CODE_B=100,Fe.CODE_CODE_A=101,Fe.CODE_FNC_1=102,Fe.CODE_FNC_2=97,Fe.CODE_FNC_3=96,Fe.CODE_FNC_4_A=101,Fe.CODE_FNC_4_B=100,Fe.CODE_START_A=103,Fe.CODE_START_B=104,Fe.CODE_START_C=105,Fe.CODE_STOP=106;class ln extends xn{constructor(a=!1,c=!1){super(),this.usingCheckDigit=a,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,c,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=ln.findAsteriskPattern(c,h),x=c.getNextSet(g[1]),v=c.getSize(),T,C;do{ln.recordPattern(c,x,h);let ue=ln.toNarrowWidePattern(h);if(ue<0)throw new le;T=ln.patternToChar(ue),this.decodeRowResult+=T,C=x;for(let me of h)x+=me;x=c.getNextSet(x)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let ue of h)D+=ue;let j=x-C-D;if(x!==v&&j*2<D)throw new le;if(this.usingCheckDigit){let ue=this.decodeRowResult.length-1,me=0;for(let Ee=0;Ee<ue;Ee++)me+=ln.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ee));if(this.decodeRowResult.charAt(ue)!==ln.ALPHABET_STRING.charAt(me%43))throw new N;this.decodeRowResult=this.decodeRowResult.substring(0,ue)}if(this.decodeRowResult.length===0)throw new le;let K;this.extendedMode?K=ln.decodeExtended(this.decodeRowResult):K=this.decodeRowResult;let ie=(g[1]+g[0])/2,ce=C+D/2;return new Ge(K,null,0,[new qe(ie,a),new qe(ce,a)],Ce.CODE_39,new Date().getTime())}static findAsteriskPattern(a,c){let u=a.getSize(),h=a.getNextSet(0),g=0,x=h,v=!1,T=c.length;for(let C=h;C<u;C++)if(a.get(C)!==v)c[g]++;else{if(g===T-1){if(this.toNarrowWidePattern(c)===ln.ASTERISK_ENCODING&&a.isRange(Math.max(0,x-Math.floor((C-x)/2)),x,!1))return[x,C];x+=c[0]+c[1],c.copyWithin(0,2,2+g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,v=!v}throw new le}static toNarrowWidePattern(a){let c=a.length,u=0,h;do{let g=2147483647;for(let T of a)T<g&&T>u&&(g=T);u=g,h=0;let x=0,v=0;for(let T=0;T<c;T++){let C=a[T];C>u&&(v|=1<<c-1-T,h++,x+=C)}if(h===3){for(let T=0;T<c&&h>0;T++){let C=a[T];if(C>u&&(h--,C*2>=x))return-1}return v}}while(h>3);return-1}static patternToChar(a){for(let c=0;c<ln.CHARACTER_ENCODINGS.length;c++)if(ln.CHARACTER_ENCODINGS[c]===a)return ln.ALPHABET_STRING.charAt(c);if(a===ln.ASTERISK_ENCODING)return"*";throw new le}static decodeExtended(a){let c=a.length,u="";for(let h=0;h<c;h++){let g=a.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let x=a.charAt(h+1),v="\0";switch(g){case"+":if(x>="A"&&x<="Z")v=String.fromCharCode(x.charCodeAt(0)+32);else throw new V;break;case"$":if(x>="A"&&x<="Z")v=String.fromCharCode(x.charCodeAt(0)-64);else throw new V;break;case"%":if(x>="A"&&x<="E")v=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")v=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")v=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")v=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")v="\0";else if(x==="V")v="@";else if(x==="W")v="`";else if(x==="X"||x==="Y"||x==="Z")v="";else throw new V;break;case"/":if(x>="A"&&x<="O")v=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")v=":";else throw new V;break}u+=v,h++}else u+=g}return u}}ln.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ln.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ln.ASTERISK_ENCODING=148;class Qt extends xn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,c,u){let h=this.decodeStart(c),g=this.decodeEnd(c),x=new q;Qt.decodeMiddle(c,h[1],g[0],x);let v=x.toString(),T=null;u!=null&&(T=u.get(se.ALLOWED_LENGTHS)),T==null&&(T=Qt.DEFAULT_ALLOWED_LENGTHS);let C=v.length,D=!1,j=0;for(let ce of T){if(C===ce){D=!0;break}ce>j&&(j=ce)}if(!D&&C>j&&(D=!0),!D)throw new V;const K=[new qe(h[1],a),new qe(g[0],a)];return new Ge(v,null,0,K,Ce.ITF,new Date().getTime())}static decodeMiddle(a,c,u,h){let g=new Int32Array(10),x=new Int32Array(5),v=new Int32Array(5);for(g.fill(0),x.fill(0),v.fill(0);c<u;){xn.recordPattern(a,c,g);for(let C=0;C<5;C++){let D=2*C;x[C]=g[D],v[C]=g[D+1]}let T=Qt.decodeDigit(x);h.append(T.toString()),T=this.decodeDigit(v),h.append(T.toString()),g.forEach(function(C){c+=C})}}decodeStart(a){let c=Qt.skipWhiteSpace(a),u=Qt.findGuardPattern(a,c,Qt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(a,u[0]),u}validateQuietZone(a,c){let u=this.narrowLineWidth*10;u=u<c?u:c;for(let h=c-1;u>0&&h>=0&&!a.get(h);h--)u--;if(u!==0)throw new le}static skipWhiteSpace(a){const c=a.getSize(),u=a.getNextSet(0);if(u===c)throw new le;return u}decodeEnd(a){a.reverse();try{let c=Qt.skipWhiteSpace(a),u;try{u=Qt.findGuardPattern(a,c,Qt.END_PATTERN_REVERSED[0])}catch(g){g instanceof le&&(u=Qt.findGuardPattern(a,c,Qt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,u[0]);let h=u[0];return u[0]=a.getSize()-u[1],u[1]=a.getSize()-h,u}finally{a.reverse()}}static findGuardPattern(a,c,u){let h=u.length,g=new Int32Array(h),x=a.getSize(),v=!1,T=0,C=c;g.fill(0);for(let D=c;D<x;D++)if(a.get(D)!==v)g[T]++;else{if(T===h-1){if(xn.patternMatchVariance(g,u,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return[C,D];C+=g[0]+g[1],k.arraycopy(g,2,g,0,T-1),g[T-1]=0,g[T]=0,T--}else T++;g[T]=1,v=!v}throw new le}static decodeDigit(a){let c=Qt.MAX_AVG_VARIANCE,u=-1,h=Qt.PATTERNS.length;for(let g=0;g<h;g++){let x=Qt.PATTERNS[g],v=xn.patternMatchVariance(a,x,Qt.MAX_INDIVIDUAL_VARIANCE);v<c?(c=v,u=g):v===c&&(u=-1)}if(u>=0)return u%10;throw new le}}Qt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Qt.MAX_AVG_VARIANCE=.38,Qt.MAX_INDIVIDUAL_VARIANCE=.5,Qt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Qt.START_PATTERN=Int32Array.from([1,1,1,1]),Qt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class un extends xn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let c=!1,u,h=0,g=Int32Array.from([0,0,0]);for(;!c;){g=Int32Array.from([0,0,0]),u=un.findGuardPattern(a,h,!1,this.START_END_PATTERN,g);let x=u[0];h=u[1];let v=x-(h-x);v>=0&&(c=a.isRange(v,x,!1))}return u}static checkChecksum(a){return un.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let u=parseInt(a.charAt(c-1),10);return un.getStandardUPCEANChecksum(a.substring(0,c-1))===u}static getStandardUPCEANChecksum(a){let c=a.length,u=0;for(let h=c-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}u*=3;for(let h=c-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}return(1e3-u)%10}static decodeEnd(a,c){return un.findGuardPattern(a,c,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,c,u,h){return this.findGuardPattern(a,c,u,h,new Int32Array(h.length))}static findGuardPattern(a,c,u,h,g){let x=a.getSize();c=u?a.getNextUnset(c):a.getNextSet(c);let v=0,T=c,C=h.length,D=u;for(let j=c;j<x;j++)if(a.get(j)!==D)g[v]++;else{if(v===C-1){if(xn.patternMatchVariance(g,h,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return Int32Array.from([T,j]);T+=g[0]+g[1];let K=g.slice(2,g.length-1);for(let ie=0;ie<v-1;ie++)g[ie]=K[ie];g[v-1]=0,g[v]=0,v--}else v++;g[v]=1,D=!D}throw new le}static decodeDigit(a,c,u,h){this.recordPattern(a,u,c);let g=this.MAX_AVG_VARIANCE,x=-1,v=h.length;for(let T=0;T<v;T++){let C=h[T],D=xn.patternMatchVariance(c,C,un.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,x=T)}if(x>=0)return x;throw new le}}un.MAX_AVG_VARIANCE=.48,un.MAX_INDIVIDUAL_VARIANCE=.7,un.START_END_PATTERN=Int32Array.from([1,1,1]),un.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),un.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class As{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(c,u,h),x=h.toString(),v=As.parseExtensionString(x),T=[new qe((u[0]+u[1])/2,a),new qe(g,a)],C=new Ge(x,null,0,T,Ce.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&C.putAllMetadata(v),C}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=c[1],v=0;for(let C=0;C<5&&x<g;C++){let D=un.decodeDigit(a,h,x,un.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let j of h)x+=j;D>=10&&(v|=1<<4-C),C!==4&&(x=a.getNextSet(x),x=a.getNextUnset(x))}if(u.length!==5)throw new le;let T=this.determineCheckDigit(v);if(As.extensionChecksum(u.toString())!==T)throw new le;return x}static extensionChecksum(a){let c=a.length,u=0;for(let h=c-2;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;u*=3;for(let h=c-1;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(a){for(let c=0;c<10;c++)if(a===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new le}static parseExtensionString(a){if(a.length!==5)return null;let c=As.parseExtension5String(a);return c==null?null:new Map([[He.SUGGESTED_PRICE,c]])}static parseExtension5String(a){let c;switch(a.charAt(0)){case"0":c="£";break;case"5":c="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let u=parseInt(a.substring(1)),h=(u/100).toString(),g=u%100,x=g<10?"0"+g:g.toString();return c+h+"."+x}}class da{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(c,u,h),x=h.toString(),v=da.parseExtensionString(x),T=[new qe((u[0]+u[1])/2,a),new qe(g,a)],C=new Ge(x,null,0,T,Ce.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&C.putAllMetadata(v),C}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=c[1],v=0;for(let T=0;T<2&&x<g;T++){let C=un.decodeDigit(a,h,x,un.L_AND_G_PATTERNS);u+=String.fromCharCode(48+C%10);for(let D of h)x+=D;C>=10&&(v|=1<<1-T),T!==1&&(x=a.getNextSet(x),x=a.getNextUnset(x))}if(u.length!==2)throw new le;if(parseInt(u.toString())%4!==v)throw new le;return x}static parseExtensionString(a){return a.length!==2?null:new Map([[He.ISSUE_NUMBER,parseInt(a)]])}}class no{static decodeRow(a,c,u){let h=un.findGuardPattern(c,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new As().decodeRow(a,c,h)}catch{return new da().decodeRow(a,c,h)}}}no.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ct extends un{constructor(){super(),this.decodeRowStringBuffer="",Ct.L_AND_G_PATTERNS=Ct.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let c=Ct.L_PATTERNS[a-10],u=new Int32Array(c.length);for(let h=0;h<c.length;h++)u[h]=c[c.length-h-1];Ct.L_AND_G_PATTERNS[a]=u}}decodeRow(a,c,u){let h=Ct.findStartGuardPattern(c),g=u==null?null:u.get(se.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Be=new qe((h[0]+h[1])/2,a);g.foundPossibleResultPoint(Be)}let x=this.decodeMiddle(c,h,this.decodeRowStringBuffer),v=x.rowOffset,T=x.resultString;if(g!=null){const Be=new qe(v,a);g.foundPossibleResultPoint(Be)}let C=this.decodeEnd(c,v);if(g!=null){const Be=new qe((C[0]+C[1])/2,a);g.foundPossibleResultPoint(Be)}let D=C[1],j=D+(D-C[0]);if(j>=c.getSize()||!c.isRange(D,j,!1))throw new le;let K=T.toString();if(K.length<8)throw new V;if(!Ct.checkChecksum(K))throw new N;let ie=(h[1]+h[0])/2,ce=(C[1]+C[0])/2,ue=this.getBarcodeFormat(),me=[new qe(ie,a),new qe(ce,a)],Ee=new Ge(K,null,0,me,ue,new Date().getTime()),Ve=0;try{let Be=no.decodeRow(a,c,C[1]);Ee.putMetadata(He.UPC_EAN_EXTENSION,Be.getText()),Ee.putAllMetadata(Be.getResultMetadata()),Ee.addResultPoints(Be.getResultPoints()),Ve=Be.getText().length}catch{}let Ue=u==null?null:u.get(se.ALLOWED_EAN_EXTENSIONS);if(Ue!=null){let Be=!1;for(let Tt in Ue)if(Ve.toString()===Tt){Be=!0;break}if(!Be)throw new le}return Ee}decodeEnd(a,c){return Ct.findGuardPattern(a,c,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return Ct.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let u=parseInt(a.charAt(c-1),10);return Ct.getStandardUPCEANChecksum(a.substring(0,c-1))===u}static getStandardUPCEANChecksum(a){let c=a.length,u=0;for(let h=c-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}u*=3;for(let h=c-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}return(1e3-u)%10}}class zr extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=c[1],v=0;for(let C=0;C<6&&x<g;C++){let D=Ct.decodeDigit(a,h,x,Ct.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let j of h)x+=j;D>=10&&(v|=1<<5-C)}u=zr.determineFirstDigit(u,v),x=Ct.findGuardPattern(a,x,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&x<g;C++){let D=Ct.decodeDigit(a,h,x,Ct.L_PATTERNS);u+=String.fromCharCode(48+D);for(let j of h)x+=j}return{rowOffset:x,resultString:u}}getBarcodeFormat(){return Ce.EAN_13}static determineFirstDigit(a,c){for(let u=0;u<10;u++)if(c===this.FIRST_DIGIT_ENCODINGS[u])return a=String.fromCharCode(48+u)+a,a;throw new le}}zr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ro extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=c[1];for(let T=0;T<4&&x<g;T++){let C=Ct.decodeDigit(a,h,x,Ct.L_PATTERNS);u+=String.fromCharCode(48+C);for(let D of h)x+=D}x=Ct.findGuardPattern(a,x,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&x<g;T++){let C=Ct.decodeDigit(a,h,x,Ct.L_PATTERNS);u+=String.fromCharCode(48+C);for(let D of h)x+=D}return{rowOffset:x,resultString:u}}getBarcodeFormat(){return Ce.EAN_8}}class ki extends Ct{constructor(){super(...arguments),this.ean13Reader=new zr}getBarcodeFormat(){return Ce.UPC_A}decode(a,c){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,c,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,c,u))}decodeMiddle(a,c,u){return this.ean13Reader.decodeMiddle(a,c,u)}maybeReturnResult(a){let c=a.getText();if(c.charAt(0)==="0"){let u=new Ge(c.substring(1),null,null,a.getResultPoints(),Ce.UPC_A);return a.getResultMetadata()!=null&&u.putAllMetadata(a.getResultMetadata()),u}else throw new le}reset(){this.ean13Reader.reset()}}class jr extends Ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,c,u){const h=this.decodeMiddleCounters.map(C=>C);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=a.getSize();let x=c[1],v=0;for(let C=0;C<6&&x<g;C++){const D=jr.decodeDigit(a,h,x,jr.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let j of h)x+=j;D>=10&&(v|=1<<5-C)}let T=jr.determineNumSysAndCheckDigit(u,v);return{rowOffset:x,resultString:T}}decodeEnd(a,c){return jr.findGuardPatternWithoutCounters(a,c,!0,jr.MIDDLE_END_PATTERN)}checkChecksum(a){return Ct.checkChecksum(jr.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,c){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let g=String.fromCharCode(48+u),x=String.fromCharCode(48+h);return g+a+x}throw le.getNotFoundInstance()}getBarcodeFormat(){return Ce.UPC_E}static convertUPCEtoUPCA(a){const c=a.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new q;u.append(a.charAt(0));let h=c[5];switch(h){case 0:case 1:case 2:u.appendChars(c,0,2),u.append(h),u.append("0000"),u.appendChars(c,2,3);break;case 3:u.appendChars(c,0,3),u.append("00000"),u.appendChars(c,3,2);break;case 4:u.appendChars(c,0,4),u.append("00000"),u.append(c[4]);break;default:u.appendChars(c,0,5),u.append("0000"),u.append(h);break}return a.length>=8&&u.append(a.charAt(7)),u.toString()}}jr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),jr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class is extends xn{constructor(a){super();let c=a==null?null:a.get(se.POSSIBLE_FORMATS),u=[];r(c)?(u.push(new zr),u.push(new ki),u.push(new ro),u.push(new jr)):(c.indexOf(Ce.EAN_13)>-1&&u.push(new zr),c.indexOf(Ce.UPC_A)>-1&&u.push(new ki),c.indexOf(Ce.EAN_8)>-1&&u.push(new ro),c.indexOf(Ce.UPC_E)>-1&&u.push(new jr)),this.readers=u}decodeRow(a,c,u){for(let h of this.readers)try{const g=h.decodeRow(a,c,u),x=g.getBarcodeFormat()===Ce.EAN_13&&g.getText().charAt(0)==="0",v=u==null?null:u.get(se.POSSIBLE_FORMATS),T=v==null||v.includes(Ce.UPC_A);if(x&&T){const C=g.getRawBytes(),D=new Ge(g.getText().substring(1),C,C?C.length:null,g.getResultPoints(),Ce.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new le}reset(){for(let a of this.readers)a.reset()}}class Qn extends xn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,c){for(let u=0;u<c.length;u++)if(xn.patternMatchVariance(a,c[u],Qn.MAX_INDIVIDUAL_VARIANCE)<Qn.MAX_AVG_VARIANCE)return u;throw new le}static count(a){return _t.sum(new Int32Array(a))}static increment(a,c){let u=0,h=c[0];for(let g=1;g<a.length;g++)c[g]>h&&(h=c[g],u=g);a[u]++}static decrement(a,c){let u=0,h=c[0];for(let g=1;g<a.length;g++)c[g]<h&&(h=c[g],u=g);a[u]--}static isFinderPattern(a){let c=a[0]+a[1],u=c+a[2]+a[3],h=c/u;if(h>=Qn.MIN_FINDER_PATTERN_RATIO&&h<=Qn.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let v of a)v>x&&(x=v),v<g&&(g=v);return x<10*g}return!1}}Qn.MAX_AVG_VARIANCE=.2,Qn.MAX_INDIVIDUAL_VARIANCE=.45,Qn.MIN_FINDER_PATTERN_RATIO=9.5/12,Qn.MAX_FINDER_PATTERN_RATIO=12.5/14;class hi{constructor(a,c){this.value=a,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof hi))return!1;const c=a;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ha{constructor(a,c,u,h,g){this.value=a,this.startEnd=c,this.value=a,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new qe(u,g)),this.resultPoints.push(new qe(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof ha))return!1;const c=a;return this.value===c.value}hashCode(){return this.value}}class Xt{constructor(){}static getRSSvalue(a,c,u){let h=0;for(let T of a)h+=T;let g=0,x=0,v=a.length;for(let T=0;T<v-1;T++){let C;for(C=1,x|=1<<T;C<a[T];C++,x&=~(1<<T)){let D=Xt.combins(h-C-1,v-T-2);if(u&&x===0&&h-C-(v-T-1)>=v-T-1&&(D-=Xt.combins(h-C-(v-T),v-T-2)),v-T-1>1){let j=0;for(let K=h-C-(v-T-2);K>c;K--)j+=Xt.combins(h-C-K-1,v-T-3);D-=j*(v-1-T)}else h-C>c&&D--;g+=D}h-=C}return g}static combins(a,c){let u,h;a-c>c?(h=c,u=a-c):(h=a-c,u=c);let g=1,x=1;for(let v=a;v>u;v--)g*=v,x<=h&&(g/=x,x++);for(;x<=h;)g/=x,x++;return g}}class lr{static buildBitArray(a){let c=a.length*2-1;a[a.length-1].getRightChar()==null&&(c-=1);let u=12*c,h=new Z(u),g=0,v=a[0].getRightChar().getValue();for(let T=11;T>=0;--T)(v&1<<T)!=0&&h.set(g),g++;for(let T=1;T<a.length;++T){let C=a[T],D=C.getLeftChar().getValue();for(let j=11;j>=0;--j)(D&1<<j)!=0&&h.set(g),g++;if(C.getRightChar()!=null){let j=C.getRightChar().getValue();for(let K=11;K>=0;--K)(j&1<<K)!=0&&h.set(g),g++}}return h}}class vn{constructor(a,c){c?this.decodedInformation=null:(this.finished=a,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Jr{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class pr extends Jr{constructor(a,c){super(a),this.value=c}getValue(){return this.value}isFNC1(){return this.value===pr.FNC1}}pr.FNC1="$";class Ss extends Jr{constructor(a,c,u){super(a),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class cr extends Jr{constructor(a,c,u){if(super(a),c<0||c>10||u<0||u>10)throw new V;this.firstDigit=c,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===cr.FNC1}isSecondDigitFNC1(){return this.secondDigit===cr.FNC1}isAnyFNC1(){return this.firstDigit===cr.FNC1||this.secondDigit===cr.FNC1}}cr.FNC1=10;class Xe{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new le;let c=a.substring(0,2);for(let g of Xe.TWO_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(2,g[2],a):Xe.processFixedAI(2,g[1],a);if(a.length<3)throw new le;let u=a.substring(0,3);for(let g of Xe.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(3,g[2],a):Xe.processFixedAI(3,g[1],a);for(let g of Xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(4,g[2],a):Xe.processFixedAI(4,g[1],a);if(a.length<4)throw new le;let h=a.substring(0,4);for(let g of Xe.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(4,g[2],a):Xe.processFixedAI(4,g[1],a);throw new le}static processFixedAI(a,c,u){if(u.length<a)throw new le;let h=u.substring(0,a);if(u.length<a+c)throw new le;let g=u.substring(a,a+c),x=u.substring(a+c),v="("+h+")"+g,T=Xe.parseFieldsInGeneralPurpose(x);return T==null?v:v+T}static processVariableAI(a,c,u){let h=u.substring(0,a),g;u.length<a+c?g=u.length:g=a+c;let x=u.substring(a,g),v=u.substring(g),T="("+h+")"+x,C=Xe.parseFieldsInGeneralPurpose(v);return C==null?T:T+C}}Xe.VARIABLE_LENGTH=[],Xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Xe.VARIABLE_LENGTH,20],["22",Xe.VARIABLE_LENGTH,29],["30",Xe.VARIABLE_LENGTH,8],["37",Xe.VARIABLE_LENGTH,8],["90",Xe.VARIABLE_LENGTH,30],["91",Xe.VARIABLE_LENGTH,30],["92",Xe.VARIABLE_LENGTH,30],["93",Xe.VARIABLE_LENGTH,30],["94",Xe.VARIABLE_LENGTH,30],["95",Xe.VARIABLE_LENGTH,30],["96",Xe.VARIABLE_LENGTH,30],["97",Xe.VARIABLE_LENGTH,3],["98",Xe.VARIABLE_LENGTH,30],["99",Xe.VARIABLE_LENGTH,30]],Xe.THREE_DIGIT_DATA_LENGTH=[["240",Xe.VARIABLE_LENGTH,30],["241",Xe.VARIABLE_LENGTH,30],["242",Xe.VARIABLE_LENGTH,6],["250",Xe.VARIABLE_LENGTH,30],["251",Xe.VARIABLE_LENGTH,30],["253",Xe.VARIABLE_LENGTH,17],["254",Xe.VARIABLE_LENGTH,20],["400",Xe.VARIABLE_LENGTH,30],["401",Xe.VARIABLE_LENGTH,30],["402",17],["403",Xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Xe.VARIABLE_LENGTH,20],["421",Xe.VARIABLE_LENGTH,15],["422",3],["423",Xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Xe.VARIABLE_LENGTH,15],["391",Xe.VARIABLE_LENGTH,18],["392",Xe.VARIABLE_LENGTH,15],["393",Xe.VARIABLE_LENGTH,18],["703",Xe.VARIABLE_LENGTH,30]],Xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Xe.VARIABLE_LENGTH,20],["8003",Xe.VARIABLE_LENGTH,30],["8004",Xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Xe.VARIABLE_LENGTH,30],["8008",Xe.VARIABLE_LENGTH,12],["8018",18],["8020",Xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Xe.VARIABLE_LENGTH,70],["8200",Xe.VARIABLE_LENGTH,70]];class xi{constructor(a){this.buffer=new q,this.information=a}decodeAllCodes(a,c){let u=c,h=null;do{let g=this.decodeGeneralPurposeField(u,h),x=Xe.parseFieldsInGeneralPurpose(g.getNewString());if(x!=null&&a.append(x),g.isRemaining()?h=""+g.getRemainingValue():h=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let c=a;c<a+3;++c)if(this.information.get(c))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(a,4);return g===0?new cr(this.information.getSize(),cr.FNC1,cr.FNC1):new cr(this.information.getSize(),g-1,cr.FNC1)}let c=this.extractNumericValueFromBitArray(a,7),u=(c-8)/11,h=(c-8)%11;return new cr(a+7,u,h)}extractNumericValueFromBitArray(a,c){return xi.extractNumericValueFromBitArray(this.information,a,c)}static extractNumericValueFromBitArray(a,c,u){let h=0;for(let g=0;g<u;++g)a.get(c+g)&&(h|=1<<u-g-1);return h}decodeGeneralPurposeField(a,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(a);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Ss(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Ss(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,c;do{let u=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),a=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),a=c.isFinished()):(c=this.parseNumericBlock(),a=c.isFinished()),!(u!==this.current.getPosition())&&!a)break}while(!a);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let c;return a.isSecondDigitFNC1()?c=new Ss(this.current.getPosition(),this.buffer.toString()):c=new Ss(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new vn(!0,c)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let c=new Ss(this.current.getPosition(),this.buffer.toString());return new vn(!0,c)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Ss(this.current.getPosition(),this.buffer.toString());return new vn(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Ss(this.current.getPosition(),this.buffer.toString());return new vn(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vn(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new pr(a+5,pr.FNC1);if(c>=5&&c<15)return new pr(a+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<90)return new pr(a+7,""+(u+1));if(u>=90&&u<116)return new pr(a+7,""+(u+7));let h=this.extractNumericValueFromBitArray(a,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new V}return new pr(a+8,g)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,6);return u>=16&&u<63}decodeAlphanumeric(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new pr(a+5,pr.FNC1);if(c>=5&&c<15)return new pr(a+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(a,6);if(u>=32&&u<58)return new pr(a+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Pt("Decoding invalid alphanumeric value: "+u)}return new pr(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<5&&c+a<this.information.getSize();++c)if(c===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+c))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let c=a;c<a+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<4&&c+a<this.information.getSize();++c)if(this.information.get(a+c))return!1;return!0}}class ss{constructor(a){this.information=a,this.generalDecoder=new xi(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class zn extends ss{constructor(a){super(a)}encodeCompressedGtin(a,c){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,c,u)}encodeCompressedGtinWithoutAI(a,c,u){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*h,10);g/100===0&&a.append("0"),g/10===0&&a.append("0"),a.append(g)}zn.appendCheckDigit(a,u)}static appendCheckDigit(a,c){let u=0;for(let h=0;h<13;h++){let g=a.charAt(h+c).charCodeAt(0)-48;u+=(h&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),a.append(u)}}zn.GTIN_SIZE=40;class Hr extends zn{constructor(a){super(a)}parseInformation(){let a=new q;a.append("(01)");let c=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Hr.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,Hr.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(a,Hr.HEADER_SIZE+44)}}Hr.HEADER_SIZE=4;class gi extends ss{constructor(a){super(a)}parseInformation(){let a=new q;return this.getGeneralDecoder().decodeAllCodes(a,gi.HEADER_SIZE)}}gi.HEADER_SIZE=5;class mr extends zn{constructor(a){super(a)}encodeCompressedWeight(a,c,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(c,u);this.addWeightCode(a,h);let g=this.checkWeight(h),x=1e5;for(let v=0;v<5;++v)g/x===0&&a.append("0"),x/=10;a.append(g)}}class nn extends mr{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=nn.HEADER_SIZE+mr.GTIN_SIZE+nn.WEIGHT_SIZE)throw new le;let a=new q;return this.encodeCompressedGtin(a,nn.HEADER_SIZE),this.encodeCompressedWeight(a,nn.HEADER_SIZE+mr.GTIN_SIZE,nn.WEIGHT_SIZE),a.toString()}}nn.HEADER_SIZE=5,nn.WEIGHT_SIZE=15;class gl extends nn{constructor(a){super(a)}addWeightCode(a,c){a.append("(3103)")}checkWeight(a){return a}}class io extends nn{constructor(a){super(a)}addWeightCode(a,c){c<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class tr extends zn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<tr.HEADER_SIZE+zn.GTIN_SIZE)throw new le;let a=new q;this.encodeCompressedGtin(a,tr.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+zn.GTIN_SIZE,tr.LAST_DIGIT_SIZE);a.append("(392"),a.append(c),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(tr.HEADER_SIZE+zn.GTIN_SIZE+tr.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}tr.HEADER_SIZE=8,tr.LAST_DIGIT_SIZE=2;class Dn extends zn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Dn.HEADER_SIZE+zn.GTIN_SIZE)throw new le;let a=new q;this.encodeCompressedGtin(a,Dn.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+zn.GTIN_SIZE,Dn.LAST_DIGIT_SIZE);a.append("(393"),a.append(c),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+zn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE,Dn.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(Dn.HEADER_SIZE+zn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE+Dn.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}Dn.HEADER_SIZE=8,Dn.LAST_DIGIT_SIZE=2,Dn.FIRST_THREE_DIGITS_SIZE=10;class hn extends mr{constructor(a,c,u){super(a),this.dateCode=u,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=hn.HEADER_SIZE+hn.GTIN_SIZE+hn.WEIGHT_SIZE+hn.DATE_SIZE)throw new le;let a=new q;return this.encodeCompressedGtin(a,hn.HEADER_SIZE),this.encodeCompressedWeight(a,hn.HEADER_SIZE+hn.GTIN_SIZE,hn.WEIGHT_SIZE),this.encodeCompressedDate(a,hn.HEADER_SIZE+hn.GTIN_SIZE+hn.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(c,hn.DATE_SIZE);if(u==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=u%32;u/=32;let g=u%12+1;u/=12;let x=u;x/10==0&&a.append("0"),a.append(x),g/10==0&&a.append("0"),a.append(g),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,c){a.append("("),a.append(this.firstAIdigits),a.append(c/1e5),a.append(")")}checkWeight(a){return a%1e5}}hn.HEADER_SIZE=8,hn.WEIGHT_SIZE=20,hn.DATE_SIZE=16;function pl(z){try{if(z.get(1))return new Hr(z);if(!z.get(2))return new gi(z);switch(xi.extractNumericValueFromBitArray(z,1,4)){case 4:return new gl(z);case 5:return new io(z)}switch(xi.extractNumericValueFromBitArray(z,1,5)){case 12:return new tr(z);case 13:return new Dn(z)}switch(xi.extractNumericValueFromBitArray(z,1,7)){case 56:return new hn(z,"310","11");case 57:return new hn(z,"320","11");case 58:return new hn(z,"310","13");case 59:return new hn(z,"320","13");case 60:return new hn(z,"310","15");case 61:return new hn(z,"320","15");case 62:return new hn(z,"310","17");case 63:return new hn(z,"320","17")}}catch(a){throw console.log(a),new Pt("unknown decoder: "+z)}}class ei{constructor(a,c,u,h){this.leftchar=a,this.rightchar=c,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,c){return a instanceof ei?ei.equalsOrNull(a.leftchar,c.leftchar)&&ei.equalsOrNull(a.rightchar,c.rightchar)&&ei.equalsOrNull(a.finderpattern,c.finderpattern):!1}static equalsOrNull(a,c){return a===null?c===null:ei.equals(a,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class so{constructor(a,c,u){this.pairs=a,this.rowNumber=c,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,c){return a instanceof so?this.checkEqualitity(a,c)&&a.wasReversed===c.wasReversed:!1}checkEqualitity(a,c){if(!a||!c)return;let u;return a.forEach((h,g)=>{c.forEach(x=>{h.getLeftChar().getValue()===x.getLeftChar().getValue()&&h.getRightChar().getValue()===x.getRightChar().getValue()&&h.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(u=!0)})}),u}}class De extends Qn{constructor(a){super(...arguments),this.pairs=new Array(De.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,c,u){this.pairs.length=0,this.startFromEven=!1;try{return De.constructResult(this.decodeRow2pairs(a,c))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,De.constructResult(this.decodeRow2pairs(a,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,c){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,a))}catch(g){if(g instanceof le){if(!this.pairs.length)throw new le;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new le}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return a&&(this.rows=this.rows.reverse()),c}checkRows(a,c){for(let u=c;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let x of a)this.pairs.push(x.getPairs());if(this.pairs.push(h.getPairs()),!De.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(a);g.push(h);try{return this.checkRows(g,u+1)}catch(x){this.verbose&&console.log(x)}}throw new le}static isValidSequence(a){for(let c of De.FINDER_PATTERN_SEQUENCES){if(a.length>c.length)continue;let u=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=c[h]){u=!1;break}if(u)return!0}return!1}storeRow(a,c){let u=0,h=!1,g=!1;for(;u<this.rows.length;){let x=this.rows[u];if(x.getRowNumber()>a){g=x.isEquivalent(this.pairs);break}h=x.isEquivalent(this.pairs),u++}g||h||De.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new so(this.pairs,a,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,c){for(let u of c)if(u.getPairs().length!==a.length){for(let h of u.getPairs())for(let g of a)if(ei.equals(h,g))break}}static isPartialRow(a,c){for(let u of c){let h=!0;for(let g of a){let x=!1;for(let v of u.getPairs())if(g.equals(v)){x=!0;break}if(!x){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let c=lr.buildBitArray(a),h=pl(c).parseInformation(),g=a[0].getFinderPattern().getResultPoints(),x=a[a.length-1].getFinderPattern().getResultPoints(),v=[g[0],g[1],x[0],x[1]];return new Ge(h,null,null,v,Ce.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),c=a.getLeftChar(),u=a.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),g=2;for(let v=1;v<this.pairs.size();++v){let T=this.pairs.get(v);h+=T.getLeftChar().getChecksumPortion(),g++;let C=T.getRightChar();C!=null&&(h+=C.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==c.getValue()}static getNextSecondBar(a,c){let u;return a.get(c)?(u=a.getNextUnset(c),u=a.getNextSet(u)):(u=a.getNextSet(c),u=a.getNextUnset(u)),u}retrieveNextPair(a,c,u){let h=c.length%2==0;this.startFromEven&&(h=!h);let g,x=!0,v=-1;do this.findNextPair(a,c,v),g=this.parseFoundFinderPattern(a,u,h),g==null?v=De.getNextSecondBar(a,this.startEnd[0]):x=!1;while(x);let T=this.decodeDataCharacter(a,g,h,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new le;let C;try{C=this.decodeDataCharacter(a,g,h,!1)}catch(D){C=null,this.verbose&&console.log(D)}return new ei(T,C,g,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,c,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x;u>=0?x=u:this.isEmptyPair(c)?x=0:x=c[c.length-1].getFinderPattern().getStartEnd()[1];let v=c.length%2!=0;this.startFromEven&&(v=!v);let T=!1;for(;x<g&&(T=!a.get(x),!!T);)x++;let C=0,D=x;for(let j=x;j<g;j++)if(a.get(j)!=T)h[C]++;else{if(C==3){if(v&&De.reverseCounters(h),De.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=j;return}v&&De.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,T=!T}throw new le}static reverseCounters(a){let c=a.length;for(let u=0;u<c/2;++u){let h=a[u];a[u]=a[c-u-1],a[c-u-1]=h}}parseFoundFinderPattern(a,c,u){let h,g,x;if(u){let C=this.startEnd[0]-1;for(;C>=0&&!a.get(C);)C--;C++,h=this.startEnd[0]-C,g=C,x=this.startEnd[1]}else g=this.startEnd[0],x=a.getNextUnset(this.startEnd[1]+1),h=x-this.startEnd[1];let v=this.getDecodeFinderCounters();k.arraycopy(v,0,v,1,v.length-1),v[0]=h;let T;try{T=this.parseFinderValue(v,De.FINDER_PATTERNS)}catch{return null}return new ha(T,[g,x],g,x,c)}decodeDataCharacter(a,c,u,h){let g=this.getDataCharacterCounters();for(let gn=0;gn<g.length;gn++)g[gn]=0;if(h)De.recordPatternInReverse(a,c.getStartEnd()[0],g);else{De.recordPattern(a,c.getStartEnd()[1],g);for(let gn=0,Tr=g.length-1;gn<Tr;gn++,Tr--){let si=g[gn];g[gn]=g[Tr],g[Tr]=si}}let x=17,v=_t.sum(new Int32Array(g))/x,T=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(v-T)/T>.3)throw new le;let C=this.getOddCounts(),D=this.getEvenCounts(),j=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let gn=0;gn<g.length;gn++){let Tr=1*g[gn]/v,si=Tr+.5;if(si<1){if(Tr<.3)throw new le;si=1}else if(si>8){if(Tr>8.7)throw new le;si=8}let xa=gn/2;(gn&1)==0?(C[xa]=si,j[xa]=Tr-si):(D[xa]=si,K[xa]=Tr-si)}this.adjustOddEvenCounts(x);let ie=4*c.getValue()+(u?0:2)+(h?0:1)-1,ce=0,ue=0;for(let gn=C.length-1;gn>=0;gn--){if(De.isNotA1left(c,u,h)){let Tr=De.WEIGHTS[ie][2*gn];ue+=C[gn]*Tr}ce+=C[gn]}let me=0;for(let gn=D.length-1;gn>=0;gn--)if(De.isNotA1left(c,u,h)){let Tr=De.WEIGHTS[ie][2*gn+1];me+=D[gn]*Tr}let Ee=ue+me;if((ce&1)!=0||ce>13||ce<4)throw new le;let Ve=(13-ce)/2,Ue=De.SYMBOL_WIDEST[Ve],Be=9-Ue,Tt=Xt.getRSSvalue(C,Ue,!0),bt=Xt.getRSSvalue(D,Be,!1),Yr=De.EVEN_TOTAL_SUBSET[Ve],Si=De.GSUM[Ve],ii=Tt*Yr+bt+Si;return new hi(ii,Ee)}static isNotA1left(a,c,u){return!(a.getValue()==0&&c&&u)}adjustOddEvenCounts(a){let c=_t.sum(new Int32Array(this.getOddCounts())),u=_t.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;c>13?g=!0:c<4&&(h=!0);let x=!1,v=!1;u>13?v=!0:u<4&&(x=!0);let T=c+u-a,C=(c&1)==1,D=(u&1)==0;if(T==1)if(C){if(D)throw new le;g=!0}else{if(!D)throw new le;v=!0}else if(T==-1)if(C){if(D)throw new le;h=!0}else{if(!D)throw new le;x=!0}else if(T==0){if(C){if(!D)throw new le;c<u?(h=!0,v=!0):(g=!0,x=!0)}else if(D)throw new le}else throw new le;if(h){if(g)throw new le;De.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&De.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(v)throw new le;De.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&De.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}De.SYMBOL_WIDEST=[7,5,4,3,1],De.EVEN_TOTAL_SUBSET=[4,20,52,104,204],De.GSUM=[0,348,1388,2948,3988],De.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],De.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],De.FINDER_PAT_A=0,De.FINDER_PAT_B=1,De.FINDER_PAT_C=2,De.FINDER_PAT_D=3,De.FINDER_PAT_E=4,De.FINDER_PAT_F=5,De.FINDER_PATTERN_SEQUENCES=[[De.FINDER_PAT_A,De.FINDER_PAT_A],[De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B],[De.FINDER_PAT_A,De.FINDER_PAT_C,De.FINDER_PAT_B,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_C],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F]],De.MAX_PAIRS=11;class as extends hi{constructor(a,c,u){super(a,c),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Nt extends Qn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,c,u){const h=this.decodePair(c,!1,a,u);Nt.addOrTally(this.possibleLeftPairs,h),c.reverse();let g=this.decodePair(c,!0,a,u);Nt.addOrTally(this.possibleRightPairs,g),c.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&Nt.checkChecksum(x,v))return Nt.constructResult(x,v)}throw new le}static addOrTally(a,c){if(c==null)return;let u=!1;for(let h of a)if(h.getValue()===c.getValue()){h.incrementCount(),u=!0;break}u||a.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,c){let u=4537077*a.getValue()+c.getValue(),h=new String(u).toString(),g=new q;for(let C=13-h.length;C>0;C--)g.append("0");g.append(h);let x=0;for(let C=0;C<13;C++){let D=g.charAt(C).charCodeAt(0)-48;x+=(C&1)===0?3*D:D}x=10-x%10,x===10&&(x=0),g.append(x.toString());let v=a.getFinderPattern().getResultPoints(),T=c.getFinderPattern().getResultPoints();return new Ge(g.toString(),null,0,[v[0],v[1],T[0],T[1]],Ce.RSS_14,new Date().getTime())}static checkChecksum(a,c){let u=(a.getChecksumPortion()+16*c.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+c.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(a,c,u,h){try{let g=this.findFinderPattern(a,c),x=this.parseFoundFinderPattern(a,u,c,g),v=h==null?null:h.get(se.NEED_RESULT_POINT_CALLBACK);if(v!=null){let D=(g[0]+g[1])/2;c&&(D=a.getSize()-1-D),v.foundPossibleResultPoint(new qe(D,u))}let T=this.decodeDataCharacter(a,x,!0),C=this.decodeDataCharacter(a,x,!1);return new as(1597*T.getValue()+C.getValue(),T.getChecksumPortion()+4*C.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(a,c,u){let h=this.getDataCharacterCounters();for(let me=0;me<h.length;me++)h[me]=0;if(u)xn.recordPatternInReverse(a,c.getStartEnd()[0],h);else{xn.recordPattern(a,c.getStartEnd()[1]+1,h);for(let me=0,Ee=h.length-1;me<Ee;me++,Ee--){let Ve=h[me];h[me]=h[Ee],h[Ee]=Ve}}let g=u?16:15,x=_t.sum(new Int32Array(h))/g,v=this.getOddCounts(),T=this.getEvenCounts(),C=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let me=0;me<h.length;me++){let Ee=h[me]/x,Ve=Math.floor(Ee+.5);Ve<1?Ve=1:Ve>8&&(Ve=8);let Ue=Math.floor(me/2);(me&1)===0?(v[Ue]=Ve,C[Ue]=Ee-Ve):(T[Ue]=Ve,D[Ue]=Ee-Ve)}this.adjustOddEvenCounts(u,g);let j=0,K=0;for(let me=v.length-1;me>=0;me--)K*=9,K+=v[me],j+=v[me];let ie=0,ce=0;for(let me=T.length-1;me>=0;me--)ie*=9,ie+=T[me],ce+=T[me];let ue=K+3*ie;if(u){if((j&1)!==0||j>12||j<4)throw new le;let me=(12-j)/2,Ee=Nt.OUTSIDE_ODD_WIDEST[me],Ve=9-Ee,Ue=Xt.getRSSvalue(v,Ee,!1),Be=Xt.getRSSvalue(T,Ve,!0),Tt=Nt.OUTSIDE_EVEN_TOTAL_SUBSET[me],bt=Nt.OUTSIDE_GSUM[me];return new hi(Ue*Tt+Be+bt,ue)}else{if((ce&1)!==0||ce>10||ce<4)throw new le;let me=(10-ce)/2,Ee=Nt.INSIDE_ODD_WIDEST[me],Ve=9-Ee,Ue=Xt.getRSSvalue(v,Ee,!0),Be=Xt.getRSSvalue(T,Ve,!1),Tt=Nt.INSIDE_ODD_TOTAL_SUBSET[me],bt=Nt.INSIDE_GSUM[me];return new hi(Be*Tt+Ue+bt,ue)}}findFinderPattern(a,c){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=a.getSize(),g=!1,x=0;for(;x<h&&(g=!a.get(x),c!==g);)x++;let v=0,T=x;for(let C=x;C<h;C++)if(a.get(C)!==g)u[v]++;else{if(v===3){if(Qn.isFinderPattern(u))return[T,C];T+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,g=!g}throw new le}parseFoundFinderPattern(a,c,u,h){let g=a.get(h[0]),x=h[0]-1;for(;x>=0&&g!==a.get(x);)x--;x++;const v=h[0]-x,T=this.getDecodeFinderCounters(),C=new Int32Array(T.length);k.arraycopy(T,0,C,1,T.length-1),C[0]=v;const D=this.parseFinderValue(C,Nt.FINDER_PATTERNS);let j=x,K=h[1];return u&&(j=a.getSize()-1-j,K=a.getSize()-1-K),new ha(D,[x,h[1]],j,K,c)}adjustOddEvenCounts(a,c){let u=_t.sum(new Int32Array(this.getOddCounts())),h=_t.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1,v=!1,T=!1;a?(u>12?x=!0:u<4&&(g=!0),h>12?T=!0:h<4&&(v=!0)):(u>11?x=!0:u<5&&(g=!0),h>10?T=!0:h<4&&(v=!0));let C=u+h-c,D=(u&1)===(a?1:0),j=(h&1)===1;if(C===1)if(D){if(j)throw new le;x=!0}else{if(!j)throw new le;T=!0}else if(C===-1)if(D){if(j)throw new le;g=!0}else{if(!j)throw new le;v=!0}else if(C===0){if(D){if(!j)throw new le;u<h?(g=!0,T=!0):(x=!0,v=!0)}else if(j)throw new le}else throw new le;if(g){if(x)throw new le;Qn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Qn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(T)throw new le;Qn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Qn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Nt.OUTSIDE_GSUM=[0,161,961,2015,2715],Nt.INSIDE_GSUM=[0,336,1036,1516],Nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Nt.INSIDE_ODD_WIDEST=[2,4,6,8],Nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vi extends xn{constructor(a,c){super(),this.readers=[],this.verbose=c===!0;const u=a?a.get(se.POSSIBLE_FORMATS):null,h=a&&a.get(se.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ce.EAN_13)||u.includes(Ce.UPC_A)||u.includes(Ce.EAN_8)||u.includes(Ce.UPC_E))&&this.readers.push(new is(a)),u.includes(Ce.CODE_39)&&this.readers.push(new ln(h)),u.includes(Ce.CODE_128)&&this.readers.push(new Fe),u.includes(Ce.ITF)&&this.readers.push(new Qt),u.includes(Ce.RSS_14)&&this.readers.push(new Nt),u.includes(Ce.RSS_EXPANDED)&&this.readers.push(new De(this.verbose))):(this.readers.push(new is(a)),this.readers.push(new ln),this.readers.push(new is(a)),this.readers.push(new Fe),this.readers.push(new Qt),this.readers.push(new Nt),this.readers.push(new De(this.verbose)))}decodeRow(a,c,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,c,u)}catch{}throw new le}reset(){this.readers.forEach(a=>a.reset())}}class nc extends Oe{constructor(a=500,c){super(new vi(c),a,c)}}class Mt{constructor(a,c,u){this.ecCodewords=a,this.ecBlocks=[c],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Bt{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class St{constructor(a,c,u,h,g,x){this.versionNumber=a,this.symbolSizeRows=c,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=x;let v=0;const T=x.getECCodewords(),C=x.getECBlocks();for(let D of C)v+=D.getCount()*(D.getDataCodewords()+T);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,c){if((a&1)!==0||(c&1)!==0)throw new V;for(let u of St.VERSIONS)if(u.symbolSizeRows===a&&u.symbolSizeColumns===c)return u;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new St(1,10,10,8,8,new Mt(5,new Bt(1,3))),new St(2,12,12,10,10,new Mt(7,new Bt(1,5))),new St(3,14,14,12,12,new Mt(10,new Bt(1,8))),new St(4,16,16,14,14,new Mt(12,new Bt(1,12))),new St(5,18,18,16,16,new Mt(14,new Bt(1,18))),new St(6,20,20,18,18,new Mt(18,new Bt(1,22))),new St(7,22,22,20,20,new Mt(20,new Bt(1,30))),new St(8,24,24,22,22,new Mt(24,new Bt(1,36))),new St(9,26,26,24,24,new Mt(28,new Bt(1,44))),new St(10,32,32,14,14,new Mt(36,new Bt(1,62))),new St(11,36,36,16,16,new Mt(42,new Bt(1,86))),new St(12,40,40,18,18,new Mt(48,new Bt(1,114))),new St(13,44,44,20,20,new Mt(56,new Bt(1,144))),new St(14,48,48,22,22,new Mt(68,new Bt(1,174))),new St(15,52,52,24,24,new Mt(42,new Bt(2,102))),new St(16,64,64,14,14,new Mt(56,new Bt(2,140))),new St(17,72,72,16,16,new Mt(36,new Bt(4,92))),new St(18,80,80,18,18,new Mt(48,new Bt(4,114))),new St(19,88,88,20,20,new Mt(56,new Bt(4,144))),new St(20,96,96,22,22,new Mt(68,new Bt(4,174))),new St(21,104,104,24,24,new Mt(56,new Bt(6,136))),new St(22,120,120,18,18,new Mt(68,new Bt(6,175))),new St(23,132,132,20,20,new Mt(62,new Bt(8,163))),new St(24,144,144,22,22,new Mt(62,new Bt(8,156),new Bt(2,155))),new St(25,8,18,6,16,new Mt(7,new Bt(1,5))),new St(26,8,32,6,14,new Mt(11,new Bt(1,10))),new St(27,12,26,10,24,new Mt(14,new Bt(1,16))),new St(28,12,36,10,16,new Mt(18,new Bt(1,22))),new St(29,16,36,14,16,new Mt(24,new Bt(1,32))),new St(30,16,48,14,22,new Mt(28,new Bt(1,49)))]}}St.VERSIONS=St.buildVersions();class ga{constructor(a){const c=a.getHeight();if(c<8||c>144||(c&1)!==0)throw new V;this.version=ga.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const c=a.getHeight(),u=a.getWidth();return St.getVersionForDimensions(c,u)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let c=0,u=4,h=0;const g=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let v=!1,T=!1,C=!1,D=!1;do if(u===g&&h===0&&!v)a[c++]=this.readCorner1(g,x)&255,u-=2,h+=2,v=!0;else if(u===g-2&&h===0&&(x&3)!==0&&!T)a[c++]=this.readCorner2(g,x)&255,u-=2,h+=2,T=!0;else if(u===g+4&&h===2&&(x&7)===0&&!C)a[c++]=this.readCorner3(g,x)&255,u-=2,h+=2,C=!0;else if(u===g-2&&h===0&&(x&7)===4&&!D)a[c++]=this.readCorner4(g,x)&255,u-=2,h+=2,D=!0;else{do u<g&&h>=0&&!this.readMappingMatrix.get(h,u)&&(a[c++]=this.readUtah(u,h,g,x)&255),u-=2,h+=2;while(u>=0&&h<x);u+=1,h+=3;do u>=0&&h<x&&!this.readMappingMatrix.get(h,u)&&(a[c++]=this.readUtah(u,h,g,x)&255),u+=2,h-=2;while(u<g&&h>=0);u+=3,h+=1}while(u<g||h<x);if(c!==this.version.getTotalCodewords())throw new V;return a}readModule(a,c,u,h){return a<0&&(a+=u,c+=4-(u+4&7)),c<0&&(c+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(c,a),this.mappingBitMatrix.get(c,a)}readUtah(a,c,u,h){let g=0;return this.readModule(a-2,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a-2,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c,u,h)&&(g|=1),g<<=1,this.readModule(a,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a,c,u,h)&&(g|=1),g}readCorner1(a,c){let u=0;return this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,1,a,c)&&(u|=1),u<<=1,this.readModule(a-1,2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(2,c-1,a,c)&&(u|=1),u<<=1,this.readModule(3,c-1,a,c)&&(u|=1),u}readCorner2(a,c){let u=0;return this.readModule(a-3,0,a,c)&&(u|=1),u<<=1,this.readModule(a-2,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(0,c-4,a,c)&&(u|=1),u<<=1,this.readModule(0,c-3,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u}readCorner3(a,c){let u=0;return this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(0,c-3,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-3,a,c)&&(u|=1),u<<=1,this.readModule(1,c-2,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u}readCorner4(a,c){let u=0;return this.readModule(a-3,0,a,c)&&(u|=1),u<<=1,this.readModule(a-2,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(2,c-1,a,c)&&(u|=1),u<<=1,this.readModule(3,c-1,a,c)&&(u|=1),u}extractDataRegion(a){const c=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(a.getHeight()!==c)throw new A("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),x=c/h|0,v=u/g|0,T=x*h,C=v*g,D=new _e(C,T);for(let j=0;j<x;++j){const K=j*h;for(let ie=0;ie<v;++ie){const ce=ie*g;for(let ue=0;ue<h;++ue){const me=j*(h+2)+1+ue,Ee=K+ue;for(let Ve=0;Ve<g;++Ve){const Ue=ie*(g+2)+1+Ve;if(a.get(Ue,me)){const Be=ce+Ve;D.set(Be,Ee)}}}}}return D}}class Fs{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c){const u=c.getECBlocks();let h=0;const g=u.getECBlocks();for(let ue of g)h+=ue.getCount();const x=new Array(h);let v=0;for(let ue of g)for(let me=0;me<ue.getCount();me++){const Ee=ue.getDataCodewords(),Ve=u.getECCodewords()+Ee;x[v++]=new Fs(Ee,new Uint8Array(Ve))}const C=x[0].codewords.length-u.getECCodewords(),D=C-1;let j=0;for(let ue=0;ue<D;ue++)for(let me=0;me<v;me++)x[me].codewords[ue]=a[j++];const K=c.getVersionNumber()===24,ie=K?8:v;for(let ue=0;ue<ie;ue++)x[ue].codewords[C-1]=a[j++];const ce=x[0].codewords.length;for(let ue=C;ue<ce;ue++)for(let me=0;me<v;me++){const Ee=K?(me+8)%v:me,Ve=K&&Ee>7?ue-1:ue;x[Ee].codewords[Ve]=a[j++]}if(j!==a.length)throw new A;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Er{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new A(""+a);let c=0,u=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(u>0){const x=8-u,v=a<x?a:x,T=x-v,C=255>>8-v<<T;c=(g[h]&C)>>T,a-=v,u+=v,u===8&&(u=0,h++)}if(a>0){for(;a>=8;)c=c<<8|g[h]&255,h++,a-=8;if(a>0){const x=8-a,v=255>>x<<x;c=c<<a|(g[h]&v)>>x,u+=a}}return this.bitOffset=u,this.byteOffset=h,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var On;(function(z){z[z.PAD_ENCODE=0]="PAD_ENCODE",z[z.ASCII_ENCODE=1]="ASCII_ENCODE",z[z.C40_ENCODE=2]="C40_ENCODE",z[z.TEXT_ENCODE=3]="TEXT_ENCODE",z[z.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",z[z.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",z[z.BASE256_ENCODE=6]="BASE256_ENCODE"})(On||(On={}));class os{static decode(a){const c=new Er(a),u=new q,h=new q,g=new Array;let x=On.ASCII_ENCODE;do if(x===On.ASCII_ENCODE)x=this.decodeAsciiSegment(c,u,h);else{switch(x){case On.C40_ENCODE:this.decodeC40Segment(c,u);break;case On.TEXT_ENCODE:this.decodeTextSegment(c,u);break;case On.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,u);break;case On.EDIFACT_ENCODE:this.decodeEdifactSegment(c,u);break;case On.BASE256_ENCODE:this.decodeBase256Segment(c,u,g);break;default:throw new V}x=On.ASCII_ENCODE}while(x!==On.PAD_ENCODE&&c.available()>0);return h.length()>0&&u.append(h.toString()),new Ye(a,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(a,c,u){let h=!1;do{let g=a.readBits(8);if(g===0)throw new V;if(g<=128)return h&&(g+=128),c.append(String.fromCharCode(g-1)),On.ASCII_ENCODE;if(g===129)return On.PAD_ENCODE;if(g<=229){const x=g-130;x<10&&c.append("0"),c.append(""+x)}else switch(g){case 230:return On.C40_ENCODE;case 231:return On.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:c.append("[)>05"),u.insert(0,"");break;case 237:c.append("[)>06"),u.insert(0,"");break;case 238:return On.ANSIX12_ENCODE;case 239:return On.TEXT_ENCODE;case 240:return On.EDIFACT_ENCODE;case 241:break;default:if(g!==254||a.available()!==0)throw new V;break}}while(a.available()>0);return On.ASCII_ENCODE}static decodeC40Segment(a,c){let u=!1;const h=[];let g=0;do{if(a.available()===8)return;const x=a.readBits(8);if(x===254)return;this.parseTwoBytes(x,a.readBits(8),h);for(let v=0;v<3;v++){const T=h[v];switch(g){case 0:if(T<3)g=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else throw new V;break;case 1:u?(c.append(String.fromCharCode(T+128)),u=!1):c.append(String.fromCharCode(T)),g=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else switch(T){case 27:c.append("");break;case 30:u=!0;break;default:throw new V}g=0;break;case 3:u?(c.append(String.fromCharCode(T+224)),u=!1):c.append(String.fromCharCode(T+96)),g=0;break;default:throw new V}}}while(a.available()>0)}static decodeTextSegment(a,c){let u=!1,h=[],g=0;do{if(a.available()===8)return;const x=a.readBits(8);if(x===254)return;this.parseTwoBytes(x,a.readBits(8),h);for(let v=0;v<3;v++){const T=h[v];switch(g){case 0:if(T<3)g=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else throw new V;break;case 1:u?(c.append(String.fromCharCode(T+128)),u=!1):c.append(String.fromCharCode(T)),g=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else switch(T){case 27:c.append("");break;case 30:u=!0;break;default:throw new V}g=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C),g=0}else throw new V;break;default:throw new V}}}while(a.available()>0)}static decodeAnsiX12Segment(a,c){const u=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),u);for(let g=0;g<3;g++){const x=u[g];switch(x){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(x<14)c.append(String.fromCharCode(x+44));else if(x<40)c.append(String.fromCharCode(x+51));else throw new V;break}}}while(a.available()>0)}static parseTwoBytes(a,c,u){let h=(a<<8)+c-1,g=Math.floor(h/1600);u[0]=g,h-=g*1600,g=Math.floor(h/40),u[1]=g,u[2]=h-g*40}static decodeEdifactSegment(a,c){do{if(a.available()<=16)return;for(let u=0;u<4;u++){let h=a.readBits(6);if(h===31){const g=8-a.getBitOffset();g!==8&&a.readBits(g);return}(h&32)===0&&(h|=64),c.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,c,u){let h=1+a.getByteOffset();const g=this.unrandomize255State(a.readBits(8),h++);let x;if(g===0?x=a.available()/8|0:g<250?x=g:x=250*(g-249)+this.unrandomize255State(a.readBits(8),h++),x<0)throw new V;const v=new Uint8Array(x);for(let T=0;T<x;T++){if(a.available()<8)throw new V;v[T]=this.unrandomize255State(a.readBits(8),h++)}u.push(v);try{c.append(Q.decode(v,Y.ISO88591))}catch(T){throw new Pt("Platform does not support required encoding: "+T.message)}}static unrandomize255State(a,c){const u=149*c%255+1,h=a-u;return h>=0?h:h+256}}os.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],os.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],os.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],os.TEXT_SHIFT2_SET_CHARS=os.C40_SHIFT2_SET_CHARS,os.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ao{constructor(){this.rsDecoder=new Jn(nt.DATA_MATRIX_FIELD_256)}decode(a){const c=new ga(a),u=c.getVersion(),h=c.readCodewords(),g=Fs.getDataBlocks(h,u);let x=0;for(let C of g)x+=C.getNumDataCodewords();const v=new Uint8Array(x),T=g.length;for(let C=0;C<T;C++){const D=g[C],j=D.getCodewords(),K=D.getNumDataCodewords();this.correctErrors(j,K);for(let ie=0;ie<K;ie++)v[ie*T+C]=j[ie]}return os.decode(v)}correctErrors(a,c){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-c)}catch{throw new N}for(let h=0;h<c;h++)a[h]=u[h]}}class Tn{constructor(a){this.image=a,this.rectangleDetector=new di(this.image)}detect(){const a=this.rectangleDetector.detect();let c=this.detectSolid1(a);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new le;c=this.shiftToModuleCenter(c);const u=c[0],h=c[1],g=c[2],x=c[3];let v=this.transitionsBetween(u,x)+1,T=this.transitionsBetween(g,x)+1;(v&1)===1&&(v+=1),(T&1)===1&&(T+=1),4*v<7*T&&4*T<7*v&&(v=T=Math.max(v,T));let C=Tn.sampleGrid(this.image,u,h,g,x,v,T);return new Ts(C,[u,h,g,x])}static shiftPoint(a,c,u){let h=(c.getX()-a.getX())/(u+1),g=(c.getY()-a.getY())/(u+1);return new qe(a.getX()+h,a.getY()+g)}static moveAway(a,c,u){let h=a.getX(),g=a.getY();return h<c?h-=1:h+=1,g<u?g-=1:g+=1,new qe(h,g)}detectSolid1(a){let c=a[0],u=a[1],h=a[3],g=a[2],x=this.transitionsBetween(c,u),v=this.transitionsBetween(u,h),T=this.transitionsBetween(h,g),C=this.transitionsBetween(g,c),D=x,j=[g,c,u,h];return D>v&&(D=v,j[0]=c,j[1]=u,j[2]=h,j[3]=g),D>T&&(D=T,j[0]=u,j[1]=h,j[2]=g,j[3]=c),D>C&&(j[0]=h,j[1]=g,j[2]=c,j[3]=u),j}detectSolid2(a){let c=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(c,g),v=Tn.shiftPoint(u,h,(x+1)*4),T=Tn.shiftPoint(h,u,(x+1)*4),C=this.transitionsBetween(v,c),D=this.transitionsBetween(T,g);return C<D?(a[0]=c,a[1]=u,a[2]=h,a[3]=g):(a[0]=u,a[1]=h,a[2]=g,a[3]=c),a}correctTopRight(a){let c=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(c,g),v=this.transitionsBetween(u,g),T=Tn.shiftPoint(c,u,(v+1)*4),C=Tn.shiftPoint(h,u,(x+1)*4);x=this.transitionsBetween(T,g),v=this.transitionsBetween(C,g);let D=new qe(g.getX()+(h.getX()-u.getX())/(x+1),g.getY()+(h.getY()-u.getY())/(x+1)),j=new qe(g.getX()+(c.getX()-u.getX())/(v+1),g.getY()+(c.getY()-u.getY())/(v+1));if(!this.isValid(D))return this.isValid(j)?j:null;if(!this.isValid(j))return D;let K=this.transitionsBetween(T,D)+this.transitionsBetween(C,D),ie=this.transitionsBetween(T,j)+this.transitionsBetween(C,j);return K>ie?D:j}shiftToModuleCenter(a){let c=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(c,g)+1,v=this.transitionsBetween(h,g)+1,T=Tn.shiftPoint(c,u,v*4),C=Tn.shiftPoint(h,u,x*4);x=this.transitionsBetween(T,g)+1,v=this.transitionsBetween(C,g)+1,(x&1)===1&&(x+=1),(v&1)===1&&(v+=1);let D=(c.getX()+u.getX()+h.getX()+g.getX())/4,j=(c.getY()+u.getY()+h.getY()+g.getY())/4;c=Tn.moveAway(c,D,j),u=Tn.moveAway(u,D,j),h=Tn.moveAway(h,D,j),g=Tn.moveAway(g,D,j);let K,ie;return T=Tn.shiftPoint(c,u,v*4),T=Tn.shiftPoint(T,g,x*4),K=Tn.shiftPoint(u,c,v*4),K=Tn.shiftPoint(K,h,x*4),C=Tn.shiftPoint(h,g,v*4),C=Tn.shiftPoint(C,u,x*4),ie=Tn.shiftPoint(g,h,v*4),ie=Tn.shiftPoint(ie,c,x*4),[T,K,C,ie]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,c,u,h,g,x,v){return er.getInstance().sampleGrid(a,x,v,.5,.5,x-.5,.5,x-.5,v-.5,.5,v-.5,c.getX(),c.getY(),g.getX(),g.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(a,c){let u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.trunc(c.getX()),x=Math.trunc(c.getY()),v=Math.abs(x-h)>Math.abs(g-u);if(v){let ue=u;u=h,h=ue,ue=g,g=x,x=ue}let T=Math.abs(g-u),C=Math.abs(x-h),D=-T/2,j=h<x?1:-1,K=u<g?1:-1,ie=0,ce=this.image.get(v?h:u,v?u:h);for(let ue=u,me=h;ue!==g;ue+=K){let Ee=this.image.get(v?me:ue,v?ue:me);if(Ee!==ce&&(ie++,ce=Ee),D+=C,D>0){if(me===x)break;me+=j,D-=T}}return ie}}class ti{constructor(){this.decoder=new ao}decode(a,c=null){let u,h;if(c!=null&&c.has(se.PURE_BARCODE)){const C=ti.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(C),h=ti.NO_POINTS}else{const C=new Tn(a.getBlackMatrix()).detect();u=this.decoder.decode(C.getBits()),h=C.getPoints()}const g=u.getRawBytes(),x=new Ge(u.getText(),g,8*g.length,h,Ce.DATA_MATRIX,k.currentTimeMillis()),v=u.getByteSegments();v!=null&&x.putMetadata(He.BYTE_SEGMENTS,v);const T=u.getECLevel();return T!=null&&x.putMetadata(He.ERROR_CORRECTION_LEVEL,T),x}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(c==null||u==null)throw new le;const h=this.moduleSize(c,a);let g=c[1];const x=u[1];let v=c[0];const C=(u[0]-v+1)/h,D=(x-g+1)/h;if(C<=0||D<=0)throw new le;const j=h/2;g+=j,v+=j;const K=new _e(C,D);for(let ie=0;ie<D;ie++){const ce=g+ie*h;for(let ue=0;ue<C;ue++)a.get(v+ue*h,ce)&&K.set(ue,ie)}return K}static moduleSize(a,c){const u=c.getWidth();let h=a[0];const g=a[1];for(;h<u&&c.get(h,g);)h++;if(h===u)throw new le;const x=h-a[0];if(x===0)throw new le;return x}}ti.NO_POINTS=[];class Du extends Oe{constructor(a=500){super(new ti,a)}}var An;(function(z){z[z.L=0]="L",z[z.M=1]="M",z[z.Q=2]="Q",z[z.H=3]="H"})(An||(An={}));class Dt{constructor(a,c,u){this.value=a,this.stringValue=c,this.bits=u,Dt.FOR_BITS.set(u,this),Dt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Dt.L;case"M":return Dt.M;case"Q":return Dt.Q;case"H":return Dt.H;default:throw new _(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Dt))return!1;const c=a;return this.value===c.value}static forBits(a){if(a<0||a>=Dt.FOR_BITS.size)throw new A;return Dt.FOR_BITS.get(a)}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.L=new Dt(An.L,"L",1),Dt.M=new Dt(An.M,"M",0),Dt.Q=new Dt(An.Q,"Q",3),Dt.H=new Dt(An.H,"H",2);class jn{constructor(a){this.errorCorrectionLevel=Dt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,c){return B.bitCount(a^c)}static decodeFormatInformation(a,c){const u=jn.doDecodeFormatInformation(a,c);return u!==null?u:jn.doDecodeFormatInformation(a^jn.FORMAT_INFO_MASK_QR,c^jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,c){let u=Number.MAX_SAFE_INTEGER,h=0;for(const g of jn.FORMAT_INFO_DECODE_LOOKUP){const x=g[0];if(x===a||x===c)return new jn(g[1]);let v=jn.numBitsDiffering(a,x);v<u&&(h=g[1],u=v),a!==c&&(v=jn.numBitsDiffering(c,x),v<u&&(h=g[1],u=v))}return u<=3?new jn(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof jn))return!1;const c=a;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}jn.FORMAT_INFO_MASK_QR=21522,jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ge{constructor(a,...c){this.ecCodewordsPerBlock=a,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const c=this.ecBlocks;for(const u of c)a+=u.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ne{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class je{constructor(a,c,...u){this.versionNumber=a,this.alignmentPatternCenters=c,this.ecBlocks=u;let h=0;const g=u[0].getECCodewordsPerBlock(),x=u[0].getECBlocks();for(const v of x)h+=v.getCount()*(v.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new V;try{return this.getVersionForNumber((a-17)/4)}catch{throw new V}}static getVersionForNumber(a){if(a<1||a>40)throw new A;return je.VERSIONS[a-1]}static decodeVersionInformation(a){let c=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<je.VERSION_DECODE_INFO.length;h++){const g=je.VERSION_DECODE_INFO[h];if(g===a)return je.getVersionForNumber(h+7);const x=jn.numBitsDiffering(a,g);x<c&&(u=h+7,c=x)}return c<=3?je.getVersionForNumber(u):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),c=new _e(a);c.setRegion(0,0,9,9),c.setRegion(a-8,0,8,9),c.setRegion(0,a-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const g=this.alignmentPatternCenters[h]-2;for(let x=0;x<u;x++)h===0&&(x===0||x===u-1)||h===u-1&&x===0||c.setRegion(this.alignmentPatternCenters[x]-2,g,5,5)}return c.setRegion(6,9,1,a-17),c.setRegion(9,6,a-17,1),this.versionNumber>6&&(c.setRegion(a-11,0,3,6),c.setRegion(0,a-11,6,3)),c}toString(){return""+this.versionNumber}}je.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),je.VERSIONS=[new je(1,new Int32Array(0),new ge(7,new ne(1,19)),new ge(10,new ne(1,16)),new ge(13,new ne(1,13)),new ge(17,new ne(1,9))),new je(2,Int32Array.from([6,18]),new ge(10,new ne(1,34)),new ge(16,new ne(1,28)),new ge(22,new ne(1,22)),new ge(28,new ne(1,16))),new je(3,Int32Array.from([6,22]),new ge(15,new ne(1,55)),new ge(26,new ne(1,44)),new ge(18,new ne(2,17)),new ge(22,new ne(2,13))),new je(4,Int32Array.from([6,26]),new ge(20,new ne(1,80)),new ge(18,new ne(2,32)),new ge(26,new ne(2,24)),new ge(16,new ne(4,9))),new je(5,Int32Array.from([6,30]),new ge(26,new ne(1,108)),new ge(24,new ne(2,43)),new ge(18,new ne(2,15),new ne(2,16)),new ge(22,new ne(2,11),new ne(2,12))),new je(6,Int32Array.from([6,34]),new ge(18,new ne(2,68)),new ge(16,new ne(4,27)),new ge(24,new ne(4,19)),new ge(28,new ne(4,15))),new je(7,Int32Array.from([6,22,38]),new ge(20,new ne(2,78)),new ge(18,new ne(4,31)),new ge(18,new ne(2,14),new ne(4,15)),new ge(26,new ne(4,13),new ne(1,14))),new je(8,Int32Array.from([6,24,42]),new ge(24,new ne(2,97)),new ge(22,new ne(2,38),new ne(2,39)),new ge(22,new ne(4,18),new ne(2,19)),new ge(26,new ne(4,14),new ne(2,15))),new je(9,Int32Array.from([6,26,46]),new ge(30,new ne(2,116)),new ge(22,new ne(3,36),new ne(2,37)),new ge(20,new ne(4,16),new ne(4,17)),new ge(24,new ne(4,12),new ne(4,13))),new je(10,Int32Array.from([6,28,50]),new ge(18,new ne(2,68),new ne(2,69)),new ge(26,new ne(4,43),new ne(1,44)),new ge(24,new ne(6,19),new ne(2,20)),new ge(28,new ne(6,15),new ne(2,16))),new je(11,Int32Array.from([6,30,54]),new ge(20,new ne(4,81)),new ge(30,new ne(1,50),new ne(4,51)),new ge(28,new ne(4,22),new ne(4,23)),new ge(24,new ne(3,12),new ne(8,13))),new je(12,Int32Array.from([6,32,58]),new ge(24,new ne(2,92),new ne(2,93)),new ge(22,new ne(6,36),new ne(2,37)),new ge(26,new ne(4,20),new ne(6,21)),new ge(28,new ne(7,14),new ne(4,15))),new je(13,Int32Array.from([6,34,62]),new ge(26,new ne(4,107)),new ge(22,new ne(8,37),new ne(1,38)),new ge(24,new ne(8,20),new ne(4,21)),new ge(22,new ne(12,11),new ne(4,12))),new je(14,Int32Array.from([6,26,46,66]),new ge(30,new ne(3,115),new ne(1,116)),new ge(24,new ne(4,40),new ne(5,41)),new ge(20,new ne(11,16),new ne(5,17)),new ge(24,new ne(11,12),new ne(5,13))),new je(15,Int32Array.from([6,26,48,70]),new ge(22,new ne(5,87),new ne(1,88)),new ge(24,new ne(5,41),new ne(5,42)),new ge(30,new ne(5,24),new ne(7,25)),new ge(24,new ne(11,12),new ne(7,13))),new je(16,Int32Array.from([6,26,50,74]),new ge(24,new ne(5,98),new ne(1,99)),new ge(28,new ne(7,45),new ne(3,46)),new ge(24,new ne(15,19),new ne(2,20)),new ge(30,new ne(3,15),new ne(13,16))),new je(17,Int32Array.from([6,30,54,78]),new ge(28,new ne(1,107),new ne(5,108)),new ge(28,new ne(10,46),new ne(1,47)),new ge(28,new ne(1,22),new ne(15,23)),new ge(28,new ne(2,14),new ne(17,15))),new je(18,Int32Array.from([6,30,56,82]),new ge(30,new ne(5,120),new ne(1,121)),new ge(26,new ne(9,43),new ne(4,44)),new ge(28,new ne(17,22),new ne(1,23)),new ge(28,new ne(2,14),new ne(19,15))),new je(19,Int32Array.from([6,30,58,86]),new ge(28,new ne(3,113),new ne(4,114)),new ge(26,new ne(3,44),new ne(11,45)),new ge(26,new ne(17,21),new ne(4,22)),new ge(26,new ne(9,13),new ne(16,14))),new je(20,Int32Array.from([6,34,62,90]),new ge(28,new ne(3,107),new ne(5,108)),new ge(26,new ne(3,41),new ne(13,42)),new ge(30,new ne(15,24),new ne(5,25)),new ge(28,new ne(15,15),new ne(10,16))),new je(21,Int32Array.from([6,28,50,72,94]),new ge(28,new ne(4,116),new ne(4,117)),new ge(26,new ne(17,42)),new ge(28,new ne(17,22),new ne(6,23)),new ge(30,new ne(19,16),new ne(6,17))),new je(22,Int32Array.from([6,26,50,74,98]),new ge(28,new ne(2,111),new ne(7,112)),new ge(28,new ne(17,46)),new ge(30,new ne(7,24),new ne(16,25)),new ge(24,new ne(34,13))),new je(23,Int32Array.from([6,30,54,78,102]),new ge(30,new ne(4,121),new ne(5,122)),new ge(28,new ne(4,47),new ne(14,48)),new ge(30,new ne(11,24),new ne(14,25)),new ge(30,new ne(16,15),new ne(14,16))),new je(24,Int32Array.from([6,28,54,80,106]),new ge(30,new ne(6,117),new ne(4,118)),new ge(28,new ne(6,45),new ne(14,46)),new ge(30,new ne(11,24),new ne(16,25)),new ge(30,new ne(30,16),new ne(2,17))),new je(25,Int32Array.from([6,32,58,84,110]),new ge(26,new ne(8,106),new ne(4,107)),new ge(28,new ne(8,47),new ne(13,48)),new ge(30,new ne(7,24),new ne(22,25)),new ge(30,new ne(22,15),new ne(13,16))),new je(26,Int32Array.from([6,30,58,86,114]),new ge(28,new ne(10,114),new ne(2,115)),new ge(28,new ne(19,46),new ne(4,47)),new ge(28,new ne(28,22),new ne(6,23)),new ge(30,new ne(33,16),new ne(4,17))),new je(27,Int32Array.from([6,34,62,90,118]),new ge(30,new ne(8,122),new ne(4,123)),new ge(28,new ne(22,45),new ne(3,46)),new ge(30,new ne(8,23),new ne(26,24)),new ge(30,new ne(12,15),new ne(28,16))),new je(28,Int32Array.from([6,26,50,74,98,122]),new ge(30,new ne(3,117),new ne(10,118)),new ge(28,new ne(3,45),new ne(23,46)),new ge(30,new ne(4,24),new ne(31,25)),new ge(30,new ne(11,15),new ne(31,16))),new je(29,Int32Array.from([6,30,54,78,102,126]),new ge(30,new ne(7,116),new ne(7,117)),new ge(28,new ne(21,45),new ne(7,46)),new ge(30,new ne(1,23),new ne(37,24)),new ge(30,new ne(19,15),new ne(26,16))),new je(30,Int32Array.from([6,26,52,78,104,130]),new ge(30,new ne(5,115),new ne(10,116)),new ge(28,new ne(19,47),new ne(10,48)),new ge(30,new ne(15,24),new ne(25,25)),new ge(30,new ne(23,15),new ne(25,16))),new je(31,Int32Array.from([6,30,56,82,108,134]),new ge(30,new ne(13,115),new ne(3,116)),new ge(28,new ne(2,46),new ne(29,47)),new ge(30,new ne(42,24),new ne(1,25)),new ge(30,new ne(23,15),new ne(28,16))),new je(32,Int32Array.from([6,34,60,86,112,138]),new ge(30,new ne(17,115)),new ge(28,new ne(10,46),new ne(23,47)),new ge(30,new ne(10,24),new ne(35,25)),new ge(30,new ne(19,15),new ne(35,16))),new je(33,Int32Array.from([6,30,58,86,114,142]),new ge(30,new ne(17,115),new ne(1,116)),new ge(28,new ne(14,46),new ne(21,47)),new ge(30,new ne(29,24),new ne(19,25)),new ge(30,new ne(11,15),new ne(46,16))),new je(34,Int32Array.from([6,34,62,90,118,146]),new ge(30,new ne(13,115),new ne(6,116)),new ge(28,new ne(14,46),new ne(23,47)),new ge(30,new ne(44,24),new ne(7,25)),new ge(30,new ne(59,16),new ne(1,17))),new je(35,Int32Array.from([6,30,54,78,102,126,150]),new ge(30,new ne(12,121),new ne(7,122)),new ge(28,new ne(12,47),new ne(26,48)),new ge(30,new ne(39,24),new ne(14,25)),new ge(30,new ne(22,15),new ne(41,16))),new je(36,Int32Array.from([6,24,50,76,102,128,154]),new ge(30,new ne(6,121),new ne(14,122)),new ge(28,new ne(6,47),new ne(34,48)),new ge(30,new ne(46,24),new ne(10,25)),new ge(30,new ne(2,15),new ne(64,16))),new je(37,Int32Array.from([6,28,54,80,106,132,158]),new ge(30,new ne(17,122),new ne(4,123)),new ge(28,new ne(29,46),new ne(14,47)),new ge(30,new ne(49,24),new ne(10,25)),new ge(30,new ne(24,15),new ne(46,16))),new je(38,Int32Array.from([6,32,58,84,110,136,162]),new ge(30,new ne(4,122),new ne(18,123)),new ge(28,new ne(13,46),new ne(32,47)),new ge(30,new ne(48,24),new ne(14,25)),new ge(30,new ne(42,15),new ne(32,16))),new je(39,Int32Array.from([6,26,54,82,110,138,166]),new ge(30,new ne(20,117),new ne(4,118)),new ge(28,new ne(40,47),new ne(7,48)),new ge(30,new ne(43,24),new ne(22,25)),new ge(30,new ne(10,15),new ne(67,16))),new je(40,Int32Array.from([6,30,58,86,114,142,170]),new ge(30,new ne(19,118),new ne(6,119)),new ge(28,new ne(18,47),new ne(31,48)),new ge(30,new ne(34,24),new ne(34,25)),new ge(30,new ne(20,15),new ne(61,16)))];var Nn;(function(z){z[z.DATA_MASK_000=0]="DATA_MASK_000",z[z.DATA_MASK_001=1]="DATA_MASK_001",z[z.DATA_MASK_010=2]="DATA_MASK_010",z[z.DATA_MASK_011=3]="DATA_MASK_011",z[z.DATA_MASK_100=4]="DATA_MASK_100",z[z.DATA_MASK_101=5]="DATA_MASK_101",z[z.DATA_MASK_110=6]="DATA_MASK_110",z[z.DATA_MASK_111=7]="DATA_MASK_111"})(Nn||(Nn={}));class kn{constructor(a,c){this.value=a,this.isMasked=c}unmaskBitMatrix(a,c){for(let u=0;u<c;u++)for(let h=0;h<c;h++)this.isMasked(u,h)&&a.flip(h,u)}}kn.values=new Map([[Nn.DATA_MASK_000,new kn(Nn.DATA_MASK_000,(z,a)=>(z+a&1)===0)],[Nn.DATA_MASK_001,new kn(Nn.DATA_MASK_001,(z,a)=>(z&1)===0)],[Nn.DATA_MASK_010,new kn(Nn.DATA_MASK_010,(z,a)=>a%3===0)],[Nn.DATA_MASK_011,new kn(Nn.DATA_MASK_011,(z,a)=>(z+a)%3===0)],[Nn.DATA_MASK_100,new kn(Nn.DATA_MASK_100,(z,a)=>(Math.floor(z/2)+Math.floor(a/3)&1)===0)],[Nn.DATA_MASK_101,new kn(Nn.DATA_MASK_101,(z,a)=>z*a%6===0)],[Nn.DATA_MASK_110,new kn(Nn.DATA_MASK_110,(z,a)=>z*a%6<3)],[Nn.DATA_MASK_111,new kn(Nn.DATA_MASK_111,(z,a)=>(z+a+z*a%3&1)===0)]]);class pa{constructor(a){const c=a.getHeight();if(c<21||(c&3)!==1)throw new V;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let g=0;g<6;g++)a=this.copyBit(g,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let g=5;g>=0;g--)a=this.copyBit(8,g,a);const c=this.bitMatrix.getHeight();let u=0;const h=c-7;for(let g=c-1;g>=h;g--)u=this.copyBit(8,g,u);for(let g=c-8;g<c;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=jn.decodeFormatInformation(a,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),c=Math.floor((a-17)/4);if(c<=6)return je.getVersionForNumber(c);let u=0;const h=a-11;for(let x=5;x>=0;x--)for(let v=a-9;v>=h;v--)u=this.copyBit(v,x,u);let g=je.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;u=0;for(let x=5;x>=0;x--)for(let v=a-9;v>=h;v--)u=this.copyBit(x,v,u);if(g=je.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new V}copyBit(a,c,u){return(this.isMirror?this.bitMatrix.get(c,a):this.bitMatrix.get(a,c))?u<<1|1:u<<1}readCodewords(){const a=this.readFormatInformation(),c=this.readVersion(),u=kn.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const g=c.buildFunctionPattern();let x=!0;const v=new Uint8Array(c.getTotalCodewords());let T=0,C=0,D=0;for(let j=h-1;j>0;j-=2){j===6&&j--;for(let K=0;K<h;K++){const ie=x?h-1-K:K;for(let ce=0;ce<2;ce++)g.get(j-ce,ie)||(D++,C<<=1,this.bitMatrix.get(j-ce,ie)&&(C|=1),D===8&&(v[T++]=C,D=0,C=0))}x=!x}if(T!==c.getTotalCodewords())throw new V;return v}remask(){if(this.parsedFormatInfo===null)return;const a=kn.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let c=0,u=a.getWidth();c<u;c++)for(let h=c+1,g=a.getHeight();h<g;h++)a.get(c,h)!==a.get(h,c)&&(a.flip(h,c),a.flip(c,h))}}class oo{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c,u){if(a.length!==c.getTotalCodewords())throw new A;const h=c.getECBlocksForLevel(u);let g=0;const x=h.getECBlocks();for(const ce of x)g+=ce.getCount();const v=new Array(g);let T=0;for(const ce of x)for(let ue=0;ue<ce.getCount();ue++){const me=ce.getDataCodewords(),Ee=h.getECCodewordsPerBlock()+me;v[T++]=new oo(me,new Uint8Array(Ee))}const C=v[0].codewords.length;let D=v.length-1;for(;D>=0&&v[D].codewords.length!==C;)D--;D++;const j=C-h.getECCodewordsPerBlock();let K=0;for(let ce=0;ce<j;ce++)for(let ue=0;ue<T;ue++)v[ue].codewords[ce]=a[K++];for(let ce=D;ce<T;ce++)v[ce].codewords[j]=a[K++];const ie=v[0].codewords.length;for(let ce=j;ce<ie;ce++)for(let ue=0;ue<T;ue++){const me=ue<D?ce:ce+1;v[ue].codewords[me]=a[K++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Dr;(function(z){z[z.TERMINATOR=0]="TERMINATOR",z[z.NUMERIC=1]="NUMERIC",z[z.ALPHANUMERIC=2]="ALPHANUMERIC",z[z.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",z[z.BYTE=4]="BYTE",z[z.ECI=5]="ECI",z[z.KANJI=6]="KANJI",z[z.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",z[z.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",z[z.HANZI=9]="HANZI"})(Dr||(Dr={}));class rt{constructor(a,c,u,h){this.value=a,this.stringValue=c,this.characterCountBitsForVersions=u,this.bits=h,rt.FOR_BITS.set(h,this),rt.FOR_VALUE.set(a,this)}static forBits(a){const c=rt.FOR_BITS.get(a);if(c===void 0)throw new A;return c}getCharacterCountBits(a){const c=a.getVersionNumber();let u;return c<=9?u=0:c<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof rt))return!1;const c=a;return this.value===c.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(Dr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(Dr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(Dr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(Dr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(Dr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(Dr.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(Dr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(Dr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(Dr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(Dr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Sn{static decode(a,c,u,h){const g=new Er(a);let x=new q;const v=new Array;let T=-1,C=-1;try{let D=null,j=!1,K;do{if(g.available()<4)K=rt.TERMINATOR;else{const ie=g.readBits(4);K=rt.forBits(ie)}switch(K){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:j=!0;break;case rt.STRUCTURED_APPEND:if(g.available()<16)throw new V;T=g.readBits(8),C=g.readBits(8);break;case rt.ECI:const ie=Sn.parseECIValue(g);if(D=O.getCharacterSetECIByValue(ie),D===null)throw new V;break;case rt.HANZI:const ce=g.readBits(4),ue=g.readBits(K.getCharacterCountBits(c));ce===Sn.GB2312_SUBSET&&Sn.decodeHanziSegment(g,x,ue);break;default:const me=g.readBits(K.getCharacterCountBits(c));switch(K){case rt.NUMERIC:Sn.decodeNumericSegment(g,x,me);break;case rt.ALPHANUMERIC:Sn.decodeAlphanumericSegment(g,x,me,j);break;case rt.BYTE:Sn.decodeByteSegment(g,x,me,D,v,h);break;case rt.KANJI:Sn.decodeKanjiSegment(g,x,me);break;default:throw new V}break}}while(K!==rt.TERMINATOR)}catch{throw new V}return new Ye(a,x.toString(),v.length===0?null:v,u===null?null:u.toString(),T,C)}static decodeHanziSegment(a,c,u){if(u*13>a.available())throw new V;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const x=a.readBits(13);let v=x/96<<8&4294967295|x%96;v<959?v+=41377:v+=42657,h[g]=v>>8&255,h[g+1]=v&255,g+=2,u--}try{c.append(Q.decode(h,Y.GB2312))}catch(x){throw new V(x)}}static decodeKanjiSegment(a,c,u){if(u*13>a.available())throw new V;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const x=a.readBits(13);let v=x/192<<8&4294967295|x%192;v<7936?v+=33088:v+=49472,h[g]=v>>8,h[g+1]=v,g+=2,u--}try{c.append(Q.decode(h,Y.SHIFT_JIS))}catch(x){throw new V(x)}}static decodeByteSegment(a,c,u,h,g,x){if(8*u>a.available())throw new V;const v=new Uint8Array(u);for(let C=0;C<u;C++)v[C]=a.readBits(8);let T;h===null?T=Y.guessEncoding(v,x):T=h.getName();try{c.append(Q.decode(v,T))}catch(C){throw new V(C)}g.push(v)}static toAlphaNumericChar(a){if(a>=Sn.ALPHANUMERIC_CHARS.length)throw new V;return Sn.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,c,u,h){const g=c.length();for(;u>1;){if(a.available()<11)throw new V;const x=a.readBits(11);c.append(Sn.toAlphaNumericChar(Math.floor(x/45))),c.append(Sn.toAlphaNumericChar(x%45)),u-=2}if(u===1){if(a.available()<6)throw new V;c.append(Sn.toAlphaNumericChar(a.readBits(6)))}if(h)for(let x=g;x<c.length();x++)c.charAt(x)==="%"&&(x<c.length()-1&&c.charAt(x+1)==="%"?c.deleteCharAt(x+1):c.setCharAt(x,""))}static decodeNumericSegment(a,c,u){for(;u>=3;){if(a.available()<10)throw new V;const h=a.readBits(10);if(h>=1e3)throw new V;c.append(Sn.toAlphaNumericChar(Math.floor(h/100))),c.append(Sn.toAlphaNumericChar(Math.floor(h/10)%10)),c.append(Sn.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(a.available()<7)throw new V;const h=a.readBits(7);if(h>=100)throw new V;c.append(Sn.toAlphaNumericChar(Math.floor(h/10))),c.append(Sn.toAlphaNumericChar(h%10))}else if(u===1){if(a.available()<4)throw new V;const h=a.readBits(4);if(h>=10)throw new V;c.append(Sn.toAlphaNumericChar(h))}}static parseECIValue(a){const c=a.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const u=a.readBits(8);return(c&63)<<8&4294967295|u}if((c&224)===192){const u=a.readBits(16);return(c&31)<<16&4294967295|u}throw new V}}Sn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Sn.GB2312_SUBSET=1;class rc{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const c=a[0];a[0]=a[2],a[2]=c}}class lo{constructor(){this.rsDecoder=new Jn(nt.QR_CODE_FIELD_256)}decodeBooleanArray(a,c){return this.decodeBitMatrix(_e.parseFromBooleanArray(a),c)}decodeBitMatrix(a,c){const u=new pa(a);let h=null;try{return this.decodeBitMatrixParser(u,c)}catch(g){h=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,c);return g.setOther(new rc(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(a,c){const u=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),g=a.readCodewords(),x=oo.getDataBlocks(g,u,h);let v=0;for(const D of x)v+=D.getNumDataCodewords();const T=new Uint8Array(v);let C=0;for(const D of x){const j=D.getCodewords(),K=D.getNumDataCodewords();this.correctErrors(j,K);for(let ie=0;ie<K;ie++)T[C++]=j[ie]}return Sn.decode(T,u,h,c)}correctErrors(a,c){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-c)}catch{throw new N}for(let h=0;h<c;h++)a[h]=u[h]}}class Pi extends qe{constructor(a,c,u){super(a,c),this.estimatedModuleSize=u}aboutEquals(a,c,u){if(Math.abs(c-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,c,u){const h=(this.getX()+c)/2,g=(this.getY()+a)/2,x=(this.estimatedModuleSize+u)/2;return new Pi(h,g,x)}}class Gr{constructor(a,c,u,h,g,x,v){this.image=a,this.startX=c,this.startY=u,this.width=h,this.height=g,this.moduleSize=x,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,c=this.height,u=this.width,h=a+u,g=this.startY+c/2,x=new Int32Array(3),v=this.image;for(let T=0;T<c;T++){const C=g+((T&1)===0?Math.floor((T+1)/2):-Math.floor((T+1)/2));x[0]=0,x[1]=0,x[2]=0;let D=a;for(;D<h&&!v.get(D,C);)D++;let j=0;for(;D<h;){if(v.get(D,C))if(j===1)x[1]++;else if(j===2){if(this.foundPatternCross(x)){const K=this.handlePossibleCenter(x,C,D);if(K!==null)return K}x[0]=x[2],x[1]=1,x[2]=0,j=1}else x[++j]++;else j===1&&j++,x[j]++;D++}if(this.foundPatternCross(x)){const K=this.handlePossibleCenter(x,C,h);if(K!==null)return K}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le}static centerFromEnd(a,c){return c-a[2]-a[1]/2}foundPatternCross(a){const c=this.moduleSize,u=c/2;for(let h=0;h<3;h++)if(Math.abs(c-a[h])>=u)return!1;return!0}crossCheckVertical(a,c,u,h){const g=this.image,x=g.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let T=a;for(;T>=0&&g.get(c,T)&&v[1]<=u;)v[1]++,T--;if(T<0||v[1]>u)return NaN;for(;T>=0&&!g.get(c,T)&&v[0]<=u;)v[0]++,T--;if(v[0]>u)return NaN;for(T=a+1;T<x&&g.get(c,T)&&v[1]<=u;)v[1]++,T++;if(T===x||v[1]>u)return NaN;for(;T<x&&!g.get(c,T)&&v[2]<=u;)v[2]++,T++;if(v[2]>u)return NaN;const C=v[0]+v[1]+v[2];return 5*Math.abs(C-h)>=2*h?NaN:this.foundPatternCross(v)?Gr.centerFromEnd(v,T):NaN}handlePossibleCenter(a,c,u){const h=a[0]+a[1]+a[2],g=Gr.centerFromEnd(a,u),x=this.crossCheckVertical(c,g,2*a[1],h);if(!isNaN(x)){const v=(a[0]+a[1]+a[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(v,x,g))return C.combineEstimate(x,g,v);const T=new Pi(g,x,v);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class Li extends qe{constructor(a,c,u,h){super(a,c),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,c,u){if(Math.abs(c-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,c,u){const h=this.count+1,g=(this.count*this.getX()+c)/h,x=(this.count*this.getY()+a)/h,v=(this.count*this.estimatedModuleSize+u)/h;return new Li(g,x,v,h)}}class Cs{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Hn{constructor(a,c){this.image=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const c=a!=null&&a.get(se.TRY_HARDER)!==void 0,u=a!=null&&a.get(se.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),x=h.getWidth();let v=Math.floor(3*g/(4*Hn.MAX_MODULES));(v<Hn.MIN_SKIP||c)&&(v=Hn.MIN_SKIP);let T=!1;const C=new Int32Array(5);for(let j=v-1;j<g&&!T;j+=v){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let K=0;for(let ie=0;ie<x;ie++)if(h.get(ie,j))(K&1)===1&&K++,C[K]++;else if((K&1)===0)if(K===4)if(Hn.foundPatternCross(C)){if(this.handlePossibleCenter(C,j,ie,u)===!0)if(v=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const ue=this.findRowSkip();ue>C[2]&&(j+=ue-C[2]-v,ie=x-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,K=3;continue}K=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,K=3;else C[++K]++;else C[K]++;Hn.foundPatternCross(C)&&this.handlePossibleCenter(C,j,x,u)===!0&&(v=C[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return qe.orderBestPatterns(D),new Cs(D)}static centerFromEnd(a,c){return c-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let c=0;for(let g=0;g<5;g++){const x=a[g];if(x===0)return!1;c+=x}if(c<7)return!1;const u=c/7,h=u/2;return Math.abs(u-a[0])<h&&Math.abs(u-a[1])<h&&Math.abs(3*u-a[2])<3*h&&Math.abs(u-a[3])<h&&Math.abs(u-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,c,u,h){const g=this.getCrossCheckStateCount();let x=0;const v=this.image;for(;a>=x&&c>=x&&v.get(c-x,a-x);)g[2]++,x++;if(a<x||c<x)return!1;for(;a>=x&&c>=x&&!v.get(c-x,a-x)&&g[1]<=u;)g[1]++,x++;if(a<x||c<x||g[1]>u)return!1;for(;a>=x&&c>=x&&v.get(c-x,a-x)&&g[0]<=u;)g[0]++,x++;if(g[0]>u)return!1;const T=v.getHeight(),C=v.getWidth();for(x=1;a+x<T&&c+x<C&&v.get(c+x,a+x);)g[2]++,x++;if(a+x>=T||c+x>=C)return!1;for(;a+x<T&&c+x<C&&!v.get(c+x,a+x)&&g[3]<u;)g[3]++,x++;if(a+x>=T||c+x>=C||g[3]>=u)return!1;for(;a+x<T&&c+x<C&&v.get(c+x,a+x)&&g[4]<u;)g[4]++,x++;if(g[4]>=u)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-h)<2*h&&Hn.foundPatternCross(g)}crossCheckVertical(a,c,u,h){const g=this.image,x=g.getHeight(),v=this.getCrossCheckStateCount();let T=a;for(;T>=0&&g.get(c,T);)v[2]++,T--;if(T<0)return NaN;for(;T>=0&&!g.get(c,T)&&v[1]<=u;)v[1]++,T--;if(T<0||v[1]>u)return NaN;for(;T>=0&&g.get(c,T)&&v[0]<=u;)v[0]++,T--;if(v[0]>u)return NaN;for(T=a+1;T<x&&g.get(c,T);)v[2]++,T++;if(T===x)return NaN;for(;T<x&&!g.get(c,T)&&v[3]<u;)v[3]++,T++;if(T===x||v[3]>=u)return NaN;for(;T<x&&g.get(c,T)&&v[4]<u;)v[4]++,T++;if(v[4]>=u)return NaN;const C=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(C-h)>=2*h?NaN:Hn.foundPatternCross(v)?Hn.centerFromEnd(v,T):NaN}crossCheckHorizontal(a,c,u,h){const g=this.image,x=g.getWidth(),v=this.getCrossCheckStateCount();let T=a;for(;T>=0&&g.get(T,c);)v[2]++,T--;if(T<0)return NaN;for(;T>=0&&!g.get(T,c)&&v[1]<=u;)v[1]++,T--;if(T<0||v[1]>u)return NaN;for(;T>=0&&g.get(T,c)&&v[0]<=u;)v[0]++,T--;if(v[0]>u)return NaN;for(T=a+1;T<x&&g.get(T,c);)v[2]++,T++;if(T===x)return NaN;for(;T<x&&!g.get(T,c)&&v[3]<u;)v[3]++,T++;if(T===x||v[3]>=u)return NaN;for(;T<x&&g.get(T,c)&&v[4]<u;)v[4]++,T++;if(v[4]>=u)return NaN;const C=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(C-h)>=h?NaN:Hn.foundPatternCross(v)?Hn.centerFromEnd(v,T):NaN}handlePossibleCenter(a,c,u,h){const g=a[0]+a[1]+a[2]+a[3]+a[4];let x=Hn.centerFromEnd(a,u),v=this.crossCheckVertical(c,Math.floor(x),a[2],g);if(!isNaN(v)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(v),a[2],g),!isNaN(x)&&(!h||this.crossCheckDiagonal(Math.floor(v),Math.floor(x),a[2],g)))){const T=g/7;let C=!1;const D=this.possibleCenters;for(let j=0,K=D.length;j<K;j++){const ie=D[j];if(ie.aboutEquals(T,v,x)){D[j]=ie.combineEstimate(v,x,T),C=!0;break}}if(!C){const j=new Li(x,v,T);D.push(j),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(j)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const u of this.possibleCenters)if(u.getCount()>=Hn.CENTER_QUORUM)if(c==null)c=u;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-u.getX())-Math.abs(c.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,c=0;const u=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=Hn.CENTER_QUORUM&&(a++,c+=x.getEstimatedModuleSize());if(a<3)return!1;const h=c/u;let g=0;for(const x of this.possibleCenters)g+=Math.abs(x.getEstimatedModuleSize()-h);return g<=.05*c}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new le;const c=this.possibleCenters;let u;if(a>3){let h=0,g=0;for(const T of this.possibleCenters){const C=T.getEstimatedModuleSize();h+=C,g+=C*C}u=h/a;let x=Math.sqrt(g/a-u*u);c.sort((T,C)=>{const D=Math.abs(C.getEstimatedModuleSize()-u),j=Math.abs(T.getEstimatedModuleSize()-u);return D<j?-1:D>j?1:0});const v=Math.max(.2*u,x);for(let T=0;T<c.length&&c.length>3;T++){const C=c[T];Math.abs(C.getEstimatedModuleSize()-u)>v&&(c.splice(T,1),T--)}}if(c.length>3){let h=0;for(const g of c)h+=g.getEstimatedModuleSize();u=h/c.length,c.sort((g,x)=>{if(x.getCount()===g.getCount()){const v=Math.abs(x.getEstimatedModuleSize()-u),T=Math.abs(g.getEstimatedModuleSize()-u);return v<T?1:v>T?-1:0}else return x.getCount()-g.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}Hn.CENTER_QUORUM=2,Hn.MIN_SKIP=3,Hn.MAX_MODULES=57;class ni{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(se.NEED_RESULT_POINT_CALLBACK);const u=new Hn(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(u)}processFinderPatternInfo(a){const c=a.getTopLeft(),u=a.getTopRight(),h=a.getBottomLeft(),g=this.calculateModuleSize(c,u,h);if(g<1)throw new le("No pattern found in proccess finder.");const x=ni.computeDimension(c,u,h,g),v=je.getProvisionalVersionForDimension(x),T=v.getDimensionForVersion()-7;let C=null;if(v.getAlignmentPatternCenters().length>0){const ie=u.getX()-c.getX()+h.getX(),ce=u.getY()-c.getY()+h.getY(),ue=1-3/T,me=Math.floor(c.getX()+ue*(ie-c.getX())),Ee=Math.floor(c.getY()+ue*(ce-c.getY()));for(let Ve=4;Ve<=16;Ve<<=1)try{C=this.findAlignmentInRegion(g,me,Ee,Ve);break}catch(Ue){if(!(Ue instanceof le))throw Ue}}const D=ni.createTransform(c,u,h,C,x),j=ni.sampleGrid(this.image,D,x);let K;return C===null?K=[h,c,u]:K=[h,c,u,C],new Ts(j,K)}static createTransform(a,c,u,h,g){const x=g-3.5;let v,T,C,D;return h!==null?(v=h.getX(),T=h.getY(),C=x-3,D=C):(v=c.getX()-a.getX()+u.getX(),T=c.getY()-a.getY()+u.getY(),C=x,D=x),Kt.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,C,D,3.5,x,a.getX(),a.getY(),c.getX(),c.getY(),v,T,u.getX(),u.getY())}static sampleGrid(a,c,u){return er.getInstance().sampleGridWithTransform(a,u,u,c)}static computeDimension(a,c,u,h){const g=_t.round(qe.distance(a,c)/h),x=_t.round(qe.distance(a,u)/h);let v=Math.floor((g+x)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new le("Dimensions could be not found.")}return v}calculateModuleSize(a,c,u){return(this.calculateModuleSizeOneWay(a,c)+this.calculateModuleSizeOneWay(a,u))/2}calculateModuleSizeOneWay(a,c){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(c.getX()),Math.floor(c.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,c,u,h){let g=this.sizeOfBlackWhiteBlackRun(a,c,u,h),x=1,v=a-(u-a);v<0?(x=a/(a-v),v=0):v>=this.image.getWidth()&&(x=(this.image.getWidth()-1-a)/(v-a),v=this.image.getWidth()-1);let T=Math.floor(c-(h-c)*x);return x=1,T<0?(x=c/(c-T),T=0):T>=this.image.getHeight()&&(x=(this.image.getHeight()-1-c)/(T-c),T=this.image.getHeight()-1),v=Math.floor(a+(v-a)*x),g+=this.sizeOfBlackWhiteBlackRun(a,c,v,T),g-1}sizeOfBlackWhiteBlackRun(a,c,u,h){const g=Math.abs(h-c)>Math.abs(u-a);if(g){let ie=a;a=c,c=ie,ie=u,u=h,h=ie}const x=Math.abs(u-a),v=Math.abs(h-c);let T=-x/2;const C=a<u?1:-1,D=c<h?1:-1;let j=0;const K=u+C;for(let ie=a,ce=c;ie!==K;ie+=C){const ue=g?ce:ie,me=g?ie:ce;if(j===1===this.image.get(ue,me)){if(j===2)return _t.distance(ie,ce,a,c);j++}if(T+=v,T>0){if(ce===h)break;ce+=D,T-=x}}return j===2?_t.distance(u+C,h,a,c):NaN}findAlignmentInRegion(a,c,u,h){const g=Math.floor(h*a),x=Math.max(0,c-g),v=Math.min(this.image.getWidth()-1,c+g);if(v-x<a*3)throw new le("Alignment top exceeds estimated module size.");const T=Math.max(0,u-g),C=Math.min(this.image.getHeight()-1,u+g);if(C-T<a*3)throw new le("Alignment bottom exceeds estimated module size.");return new Gr(this.image,x,T,v-x,C-T,a,this.resultPointCallback).find()}}class Bi{constructor(){this.decoder=new lo}getDecoder(){return this.decoder}decode(a,c){let u,h;if(c!=null&&c.get(se.PURE_BARCODE)!==void 0){const T=Bi.extractPureBits(a.getBlackMatrix());u=this.decoder.decodeBitMatrix(T,c),h=Bi.NO_POINTS}else{const T=new ni(a.getBlackMatrix()).detect(c);u=this.decoder.decodeBitMatrix(T.getBits(),c),h=T.getPoints()}u.getOther()instanceof rc&&u.getOther().applyMirroredCorrection(h);const g=new Ge(u.getText(),u.getRawBytes(),void 0,h,Ce.QR_CODE,void 0),x=u.getByteSegments();x!==null&&g.putMetadata(He.BYTE_SEGMENTS,x);const v=u.getECLevel();return v!==null&&g.putMetadata(He.ERROR_CORRECTION_LEVEL,v),u.hasStructuredAppend()&&(g.putMetadata(He.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(He.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(c===null||u===null)throw new le;const h=this.moduleSize(c,a);let g=c[1],x=u[1],v=c[0],T=u[0];if(v>=T||g>=x)throw new le;if(x-g!==T-v&&(T=v+(x-g),T>=a.getWidth()))throw new le;const C=Math.round((T-v+1)/h),D=Math.round((x-g+1)/h);if(C<=0||D<=0)throw new le;if(D!==C)throw new le;const j=Math.floor(h/2);g+=j,v+=j;const K=v+Math.floor((C-1)*h)-T;if(K>0){if(K>j)throw new le;v-=K}const ie=g+Math.floor((D-1)*h)-x;if(ie>0){if(ie>j)throw new le;g-=ie}const ce=new _e(C,D);for(let ue=0;ue<D;ue++){const me=g+Math.floor(ue*h);for(let Ee=0;Ee<C;Ee++)a.get(v+Math.floor(Ee*h),me)&&ce.set(Ee,ue)}return ce}static moduleSize(a,c){const u=c.getHeight(),h=c.getWidth();let g=a[0],x=a[1],v=!0,T=0;for(;g<h&&x<u;){if(v!==c.get(g,x)){if(++T===5)break;v=!v}g++,x++}if(g===h||x===u)throw new le;return(g-a[0])/7}}Bi.NO_POINTS=new Array;class st{PDF417Common(){}static getBitCountSum(a){return _t.sum(a)}static toIntArray(a){if(a==null||!a.length)return st.EMPTY_INT_ARRAY;const c=new Int32Array(a.length);let u=0;for(const h of a)c[u++]=h;return c}static getCodeword(a){const c=G.binarySearch(st.SYMBOL_TABLE,a&262143);return c<0?-1:(st.CODEWORD_TABLE[c]-1)%st.NUMBER_OF_CODEWORDS}}st.NUMBER_OF_CODEWORDS=929,st.MAX_CODEWORDS_IN_BARCODE=st.NUMBER_OF_CODEWORDS-1,st.MIN_ROWS_IN_BARCODE=3,st.MAX_ROWS_IN_BARCODE=90,st.MODULES_IN_CODEWORD=17,st.MODULES_IN_STOP_PATTERN=18,st.BARS_IN_MODULE=8,st.EMPTY_INT_ARRAY=new Int32Array([]),st.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),st.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vi{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class ft{static detectMultiple(a,c,u){let h=a.getBlackMatrix(),g=ft.detect(u,h);return g.length||(h=h.clone(),h.rotate180(),g=ft.detect(u,h)),new Vi(h,g)}static detect(a,c){const u=new Array;let h=0,g=0,x=!1;for(;h<c.getHeight();){const v=ft.findVertices(c,h,g);if(v[0]==null&&v[3]==null){if(!x)break;x=!1,g=0;for(const T of u)T[1]!=null&&(h=Math.trunc(Math.max(h,T[1].getY()))),T[3]!=null&&(h=Math.max(h,Math.trunc(T[3].getY())));h+=ft.ROW_STEP;continue}if(x=!0,u.push(v),!a)break;v[2]!=null?(g=Math.trunc(v[2].getX()),h=Math.trunc(v[2].getY())):(g=Math.trunc(v[4].getX()),h=Math.trunc(v[4].getY()))}return u}static findVertices(a,c,u){const h=a.getHeight(),g=a.getWidth(),x=new Array(8);return ft.copyToResult(x,ft.findRowsWithPattern(a,h,g,c,u,ft.START_PATTERN),ft.INDEXES_START_PATTERN),x[4]!=null&&(u=Math.trunc(x[4].getX()),c=Math.trunc(x[4].getY())),ft.copyToResult(x,ft.findRowsWithPattern(a,h,g,c,u,ft.STOP_PATTERN),ft.INDEXES_STOP_PATTERN),x}static copyToResult(a,c,u){for(let h=0;h<u.length;h++)a[u[h]]=c[h]}static findRowsWithPattern(a,c,u,h,g,x){const v=new Array(4);let T=!1;const C=new Int32Array(x.length);for(;h<c;h+=ft.ROW_STEP){let j=ft.findGuardPattern(a,g,h,u,!1,x,C);if(j!=null){for(;h>0;){const K=ft.findGuardPattern(a,g,--h,u,!1,x,C);if(K!=null)j=K;else{h++;break}}v[0]=new qe(j[0],h),v[1]=new qe(j[1],h),T=!0;break}}let D=h+1;if(T){let j=0,K=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;D<c;D++){const ie=ft.findGuardPattern(a,K[0],D,u,!1,x,C);if(ie!=null&&Math.abs(K[0]-ie[0])<ft.MAX_PATTERN_DRIFT&&Math.abs(K[1]-ie[1])<ft.MAX_PATTERN_DRIFT)K=ie,j=0;else{if(j>ft.SKIPPED_ROW_COUNT_MAX)break;j++}}D-=j+1,v[2]=new qe(K[0],D),v[3]=new qe(K[1],D)}return D-h<ft.BARCODE_MIN_HEIGHT&&G.fill(v,null),v}static findGuardPattern(a,c,u,h,g,x,v){G.fillWithin(v,0,v.length,0);let T=c,C=0;for(;a.get(T,u)&&T>0&&C++<ft.MAX_PIXEL_DRIFT;)T--;let D=T,j=0,K=x.length;for(let ie=g;D<h;D++)if(a.get(D,u)!==ie)v[j]++;else{if(j===K-1){if(ft.patternMatchVariance(v,x,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return new Int32Array([T,D]);T+=v[0]+v[1],k.arraycopy(v,2,v,0,j-1),v[j-1]=0,v[j]=0,j--}else j++;v[j]=1,ie=!ie}return j===K-1&&ft.patternMatchVariance(v,x,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE?new Int32Array([T,D-1]):null}static patternMatchVariance(a,c,u){let h=a.length,g=0,x=0;for(let C=0;C<h;C++)g+=a[C],x+=c[C];if(g<x)return 1/0;let v=g/x;u*=v;let T=0;for(let C=0;C<h;C++){let D=a[C],j=c[C]*v,K=D>j?D-j:j-D;if(K>u)return 1/0;T+=K}return T/g}}ft.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ft.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ft.MAX_AVG_VARIANCE=.42,ft.MAX_INDIVIDUAL_VARIANCE=.8,ft.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ft.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ft.MAX_PIXEL_DRIFT=3,ft.MAX_PATTERN_DRIFT=5,ft.SKIPPED_ROW_COUNT_MAX=25,ft.ROW_STEP=5,ft.BARCODE_MIN_HEIGHT=10;class Pn{constructor(a,c){if(c.length===0)throw new A;this.field=a;let u=c.length;if(u>1&&c[0]===0){let h=1;for(;h<u&&c[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),k.arraycopy(c,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let c=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)c=this.field.add(this.field.multiply(a,c),this.coefficients[h]);return c}add(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,u=a.coefficients;if(c.length>u.length){let x=c;c=u,u=x}let h=new Int32Array(u.length),g=u.length-c.length;k.arraycopy(u,0,h,0,g);for(let x=g;x<u.length;x++)h[x]=this.field.add(c[x-g],u[x]);return new Pn(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof Pn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new Pn(this.field,new Int32Array([0]));let c=this.coefficients,u=c.length,h=a.coefficients,g=h.length,x=new Int32Array(u+g-1);for(let v=0;v<u;v++){let T=c[v];for(let C=0;C<g;C++)x[v+C]=this.field.add(x[v+C],this.field.multiply(T,h[C]))}return new Pn(this.field,x)}negative(){let a=this.coefficients.length,c=new Int32Array(a);for(let u=0;u<a;u++)c[u]=this.field.subtract(0,this.coefficients[u]);return new Pn(this.field,c)}multiplyScalar(a){if(a===0)return new Pn(this.field,new Int32Array([0]));if(a===1)return this;let c=this.coefficients.length,u=new Int32Array(c);for(let h=0;h<c;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new Pn(this.field,u)}multiplyByMonomial(a,c){if(a<0)throw new A;if(c===0)return new Pn(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+a);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],c);return new Pn(this.field,h)}toString(){let a=new q;for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);u!==0&&(u<0?(a.append(" - "),u=-u):a.length()>0&&a.append(" + "),(c===0||u!==1)&&a.append(u),c!==0&&(c===1?a.append("x"):(a.append("x^"),a.append(c))))}return a.toString()}}class ls{add(a,c){return(a+c)%this.modulus}subtract(a,c){return(this.modulus+a-c)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new A;return this.logTable[a]}inverse(a){if(a===0)throw new wt;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class cs extends ls{constructor(a,c){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let u=1;for(let h=0;h<a;h++)this.expTable[h]=u,u=u*c%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Pn(this,new Int32Array([0])),this.one=new Pn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new A;if(c===0)return this.zero;let u=new Int32Array(a+1);return u[0]=c,new Pn(this,u)}}cs.PDF417_GF=new cs(st.NUMBER_OF_CODEWORDS,3);class us{constructor(){this.field=cs.PDF417_GF}decode(a,c,u){let h=new Pn(this.field,a),g=new Int32Array(c),x=!1;for(let ce=c;ce>0;ce--){let ue=h.evaluateAt(this.field.exp(ce));g[c-ce]=ue,ue!==0&&(x=!0)}if(!x)return 0;let v=this.field.getOne();if(u!=null)for(const ce of u){let ue=this.field.exp(a.length-1-ce),me=new Pn(this.field,new Int32Array([this.field.subtract(0,ue),1]));v=v.multiply(me)}let T=new Pn(this.field,g),C=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),T,c),D=C[0],j=C[1],K=this.findErrorLocations(D),ie=this.findErrorMagnitudes(j,D,K);for(let ce=0;ce<K.length;ce++){let ue=a.length-1-this.field.log(K[ce]);if(ue<0)throw N.getChecksumInstance();a[ue]=this.field.subtract(a[ue],ie[ce])}return K.length}runEuclideanAlgorithm(a,c,u){if(a.getDegree()<c.getDegree()){let K=a;a=c,c=K}let h=a,g=c,x=this.field.getZero(),v=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let K=h,ie=x;if(h=g,x=v,h.isZero())throw N.getChecksumInstance();g=K;let ce=this.field.getZero(),ue=h.getCoefficient(h.getDegree()),me=this.field.inverse(ue);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let Ee=g.getDegree()-h.getDegree(),Ve=this.field.multiply(g.getCoefficient(g.getDegree()),me);ce=ce.add(this.field.buildMonomial(Ee,Ve)),g=g.subtract(h.multiplyByMonomial(Ee,Ve))}v=ce.multiply(x).subtract(ie).negative()}let T=v.getCoefficient(0);if(T===0)throw N.getChecksumInstance();let C=this.field.inverse(T),D=v.multiply(C),j=g.multiply(C);return[D,j]}findErrorLocations(a){let c=a.getDegree(),u=new Int32Array(c),h=0;for(let g=1;g<this.field.getSize()&&h<c;g++)a.evaluateAt(g)===0&&(u[h]=this.field.inverse(g),h++);if(h!==c)throw N.getChecksumInstance();return u}findErrorMagnitudes(a,c,u){let h=c.getDegree(),g=new Int32Array(h);for(let C=1;C<=h;C++)g[h-C]=this.field.multiply(C,c.getCoefficient(C));let x=new Pn(this.field,g),v=u.length,T=new Int32Array(v);for(let C=0;C<v;C++){let D=this.field.inverse(u[C]),j=this.field.subtract(0,a.evaluateAt(D)),K=this.field.inverse(x.evaluateAt(D));T[C]=this.field.multiply(j,K)}return T}}class Ui{constructor(a,c,u,h,g){a instanceof Ui?this.constructor_2(a):this.constructor_1(a,c,u,h,g)}constructor_1(a,c,u,h,g){const x=c==null||u==null,v=h==null||g==null;if(x&&v)throw new le;x?(c=new qe(0,h.getY()),u=new qe(0,g.getY())):v&&(h=new qe(a.getWidth()-1,c.getY()),g=new qe(a.getWidth()-1,u.getY())),this.image=a,this.topLeft=c,this.bottomLeft=u,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(c.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(c.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,c){return a==null?c:c==null?a:new Ui(a.image,a.topLeft,a.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(a,c,u){let h=this.topLeft,g=this.bottomLeft,x=this.topRight,v=this.bottomRight;if(a>0){let T=u?this.topLeft:this.topRight,C=Math.trunc(T.getY()-a);C<0&&(C=0);let D=new qe(T.getX(),C);u?h=D:x=D}if(c>0){let T=u?this.bottomLeft:this.bottomRight,C=Math.trunc(T.getY()+c);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let D=new qe(T.getX(),C);u?g=D:v=D}return new Ui(this.image,h,g,x,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class fs{constructor(a,c,u,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=c,this.rowCountLowerPart=u,this.rowCount=c+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ri{constructor(){this.buffer=""}static form(a,c){let u=-1;function h(x,v,T,C,D,j){if(x==="%%")return"%";if(c[++u]===void 0)return;x=C?parseInt(C.substr(1)):void 0;let K=D?parseInt(D.substr(1)):void 0,ie;switch(j){case"s":ie=c[u];break;case"c":ie=c[u][0];break;case"f":ie=parseFloat(c[u]).toFixed(x);break;case"p":ie=parseFloat(c[u]).toPrecision(x);break;case"e":ie=parseFloat(c[u]).toExponential(x);break;case"x":ie=parseInt(c[u]).toString(K||16);break;case"d":ie=parseFloat(parseInt(c[u],K||10).toPrecision(x)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(K);let ce=parseInt(T),ue=T&&T[0]+""=="0"?"0":" ";for(;ie.length<ce;)ie=v!==void 0?ie+ue:ue+ie;return ie}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}format(a,...c){this.buffer+=ri.form(a,c)}toString(){return this.buffer}}class Is{constructor(a){this.boundingBox=new Ui(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let c=this.getCodeword(a);if(c!=null)return c;for(let u=1;u<Is.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(a)-u;if(h>=0&&(c=this.codewords[h],c!=null)||(h=this.imageRowToCodewordIndex(a)+u,h<this.codewords.length&&(c=this.codewords[h],c!=null)))return c}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,c){this.codewords[this.imageRowToCodewordIndex(a)]=c}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ri;let c=0;for(const u of this.codewords){if(u==null){a.format("%3d:    |   %n",c++);continue}a.format("%3d: %3d|%3d%n",c++,u.getRowNumber(),u.getValue())}return a.toString()}}Is.MAX_NEARBY_DISTANCE=5;class Gn{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let c=this.values.get(a);c==null&&(c=0),c++,this.values.set(a,c)}getValue(){let a=-1,c=new Array;for(const[u,h]of this.values.entries()){const g={getKey:()=>u,getValue:()=>h};g.getValue()>a?(a=g.getValue(),c=[],c.push(g.getKey())):g.getValue()===a&&c.push(g.getKey())}return st.toIntArray(c)}getConfidence(a){return this.values.get(a)}}class Jt extends Is{constructor(a,c){super(a),this._isLeft=c}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,a);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),T=-1,C=1,D=0;for(let j=x;j<v;j++){if(c[j]==null)continue;let K=c[j],ie=K.getRowNumber()-T;if(ie===0)D++;else if(ie===1)C=Math.max(C,D),D=1,T=K.getRowNumber();else if(ie<0||K.getRowNumber()>=a.getRowCount()||ie>j)c[j]=null;else{let ce;C>2?ce=(C-2)*ie:ce=ie;let ue=ce>=j;for(let me=1;me<=ce&&!ue;me++)ue=c[j-me]!=null;ue?c[j]=null:(T=K.getRowNumber(),D=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let c=new Int32Array(a.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=c.length)continue;c[h]++}return c}adjustIncompleteIndicatorColumnRowNumbers(a){let c=this.getBoundingBox(),u=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=this.getCodewords(),T=-1;for(let C=g;C<x;C++){if(v[C]==null)continue;let D=v[C];D.setRowNumberAsRowIndicatorColumn();let j=D.getRowNumber()-T;j===0||(j===1?T=D.getRowNumber():D.getRowNumber()>=a.getRowCount()?v[C]=null:T=D.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),c=new Gn,u=new Gn,h=new Gn,g=new Gn;for(let v of a){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let T=v.getValue()%30,C=v.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:u.setValue(T*3+1);break;case 1:g.setValue(T/3),h.setValue(T%3);break;case 2:c.setValue(T+1);break}}if(c.getValue().length===0||u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||c.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<st.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>st.MAX_ROWS_IN_BARCODE)return null;let x=new fs(c.getValue()[0],u.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(a,x),x}removeIncorrectCodewords(a,c){for(let u=0;u<a.length;u++){let h=a[u];if(a[u]==null)continue;let g=h.getValue()%30,x=h.getRowNumber();if(x>c.getRowCount()){a[u]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:g*3+1!==c.getRowCountUpperPart()&&(a[u]=null);break;case 1:(Math.trunc(g/3)!==c.getErrorCorrectionLevel()||g%3!==c.getRowCountLowerPart())&&(a[u]=null);break;case 2:g+1!==c.getColumnCount()&&(a[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ds{constructor(a,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=st.MAX_CODEWORDS_IN_BARCODE,c;do c=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let u=this.detectionResultColumns[c].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(c,h,u))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++)if(a[u]!=null&&c[u]!=null&&a[u].getRowNumber()===c[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[u];g!=null&&(g.setRowNumber(a[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let h=c[u].getRowNumber(),g=0;for(let x=this.barcodeColumnCount+1;x>0&&g<this.ADJUST_ROW_NUMBER_SKIP;x--){let v=this.detectionResultColumns[x].getCodewords()[u];v!=null&&(g=ds.adjustRowNumberIfValid(h,g,v),v.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,c=this.detectionResultColumns[0].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let h=c[u].getRowNumber(),g=0;for(let x=1;x<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;x++){let v=this.detectionResultColumns[x].getCodewords()[u];v!=null&&(g=ds.adjustRowNumberIfValid(h,g,v),v.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,c,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(a)?(u.setRowNumber(a),c=0):++c),c}adjustRowNumbers(a,c,u){if(!this.detectionResultColumns[a-1])return;let h=u[c],g=this.detectionResultColumns[a-1].getCodewords(),x=g;this.detectionResultColumns[a+1]!=null&&(x=this.detectionResultColumns[a+1].getCodewords());let v=new Array(14);v[2]=g[c],v[3]=x[c],c>0&&(v[0]=u[c-1],v[4]=g[c-1],v[5]=x[c-1]),c>1&&(v[8]=u[c-2],v[10]=g[c-2],v[11]=x[c-2]),c<u.length-1&&(v[1]=u[c+1],v[6]=g[c+1],v[7]=x[c+1]),c<u.length-2&&(v[9]=u[c+2],v[12]=g[c+2],v[13]=x[c+2]);for(let T of v)if(ds.adjustRowNumber(h,T))return}static adjustRowNumber(a,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===a.getBucket()?(a.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,c){this.detectionResultColumns[a]=c}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new ri;for(let u=0;u<a.getCodewords().length;u++){c.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){c.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[u];if(g==null){c.format("    |   ");continue}c.format(" %3d|%3d",g.getRowNumber(),g.getValue())}c.format("%n")}return c.toString()}}class Fi{constructor(a,c,u,h){this.rowNumber=Fi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(c),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==Fi.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}Fi.BARCODE_ROW_UNKNOWN=-1;class _r{static initialize(){for(let a=0;a<st.SYMBOL_TABLE.length;a++){let c=st.SYMBOL_TABLE[a],u=c&1;for(let h=0;h<st.BARS_IN_MODULE;h++){let g=0;for(;(c&1)===u;)g+=1,c>>=1;u=c&1,_r.RATIOS_TABLE[a]||(_r.RATIOS_TABLE[a]=new Array(st.BARS_IN_MODULE)),_r.RATIOS_TABLE[a][st.BARS_IN_MODULE-h-1]=Math.fround(g/st.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let c=_r.getDecodedCodewordValue(_r.sampleBitCounts(a));return c!==-1?c:_r.getClosestDecodedValue(a)}static sampleBitCounts(a){let c=_t.sum(a),u=new Int32Array(st.BARS_IN_MODULE),h=0,g=0;for(let x=0;x<st.MODULES_IN_CODEWORD;x++){let v=c/(2*st.MODULES_IN_CODEWORD)+x*c/st.MODULES_IN_CODEWORD;g+a[h]<=v&&(g+=a[h],h++),u[h]++}return u}static getDecodedCodewordValue(a){let c=_r.getBitValue(a);return st.getCodeword(c)===-1?-1:c}static getBitValue(a){let c=0;for(let u=0;u<a.length;u++)for(let h=0;h<a[u];h++)c=c<<1|(u%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(a){let c=_t.sum(a),u=new Array(st.BARS_IN_MODULE);if(c>1)for(let x=0;x<u.length;x++)u[x]=Math.fround(a[x]/c);let h=Mr.MAX_VALUE,g=-1;this.bSymbolTableReady||_r.initialize();for(let x=0;x<_r.RATIOS_TABLE.length;x++){let v=0,T=_r.RATIOS_TABLE[x];for(let C=0;C<st.BARS_IN_MODULE;C++){let D=Math.fround(T[C]-u[C]);if(v+=Math.fround(D*D),v>=h)break}v<h&&(h=v,g=st.SYMBOL_TABLE[x])}return g}}_r.bSymbolTableReady=!1,_r.RATIOS_TABLE=new Array(st.SYMBOL_TABLE.length).map(z=>new Array(st.BARS_IN_MODULE));class ma{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class ya{static parseLong(a,c=void 0){return parseInt(a,c)}}class zi extends y{}zi.kind="NullPointerException";class wa{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,c,u){if(a==null)throw new zi;if(c<0||c>a.length||u<0||c+u>a.length||c+u<0)throw new H;if(u===0)return;for(let h=0;h<u;h++)this.write(a[c+h])}flush(){}close(){}}class bi extends y{}class ic extends wa{constructor(a=32){if(super(),this.count=0,a<0)throw new A("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let u=this.buf.length<<1;if(u-a<0&&(u=a),u<0){if(a<0)throw new bi;u=B.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,u)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,c,u){if(c<0||c>a.length||u<0||c+u-a.length>0)throw new H;this.ensureCapacity(this.count+u),k.arraycopy(a,c,this.buf,this.count,u),this.count+=u}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var rn;(function(z){z[z.ALPHA=0]="ALPHA",z[z.LOWER=1]="LOWER",z[z.MIXED=2]="MIXED",z[z.PUNCT=3]="PUNCT",z[z.ALPHA_SHIFT=4]="ALPHA_SHIFT",z[z.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(rn||(rn={}));function zs(){if(typeof window<"u")return window.BigInt||null;if(typeof Sh<"u")return Sh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Rs;function Ei(z){if(typeof Rs>"u"&&(Rs=zs()),Rs===null)throw new Error("BigInt is not supported!");return Rs(z)}function co(){let z=[];z[0]=Ei(1);let a=Ei(900);z[1]=a;for(let c=2;c<16;c++)z[c]=z[c-1]*a;return z}class Te{static decode(a,c){let u=new q(""),h=O.ISO8859_1;u.enableDecoding(h);let g=1,x=a[g++],v=new ma;for(;g<a[0];){switch(x){case Te.TEXT_COMPACTION_MODE_LATCH:g=Te.textCompaction(a,g,u);break;case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:g=Te.byteCompaction(x,a,h,g,u);break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g++]);break;case Te.NUMERIC_COMPACTION_MODE_LATCH:g=Te.numericCompaction(a,g,u);break;case Te.ECI_CHARSET:O.getCharacterSetECIByValue(a[g++]);break;case Te.ECI_GENERAL_PURPOSE:g+=2;break;case Te.ECI_USER_DEFINED:g++;break;case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=Te.decodeMacroBlock(a,g,v);break;case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:throw new V;default:g--,g=Te.textCompaction(a,g,u);break}if(g<a.length)x=a[g++];else throw V.getFormatInstance()}if(u.length()===0)throw V.getFormatInstance();let T=new Ye(null,u.toString(),null,c);return T.setOther(v),T}static decodeMacroBlock(a,c,u){if(c+Te.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw V.getFormatInstance();let h=new Int32Array(Te.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<Te.NUMBER_OF_SEQUENCE_CODEWORDS;v++,c++)h[v]=a[c];u.setSegmentIndex(B.parseInt(Te.decodeBase900toBase10(h,Te.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new q;c=Te.textCompaction(a,c,g),u.setFileId(g.toString());let x=-1;for(a[c]===Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=c+1);c<a[0];)switch(a[c]){case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,a[c]){case Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new q;c=Te.textCompaction(a,c+1,v),u.setFileName(v.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new q;c=Te.textCompaction(a,c+1,T),u.setSender(T.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new q;c=Te.textCompaction(a,c+1,C),u.setAddressee(C.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new q;c=Te.numericCompaction(a,c+1,D),u.setSegmentCount(B.parseInt(D.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let j=new q;c=Te.numericCompaction(a,c+1,j),u.setTimestamp(ya.parseLong(j.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let K=new q;c=Te.numericCompaction(a,c+1,K),u.setChecksum(B.parseInt(K.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ie=new q;c=Te.numericCompaction(a,c+1,ie),u.setFileSize(ya.parseLong(ie.toString()));break;default:throw V.getFormatInstance()}break;case Te.MACRO_PDF417_TERMINATOR:c++,u.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(x!==-1){let v=c-x;u.isLastSegment()&&v--,u.setOptionalData(G.copyOfRange(a,x,x+v))}return c}static textCompaction(a,c,u){let h=new Int32Array((a[0]-c)*2),g=new Int32Array((a[0]-c)*2),x=0,v=!1;for(;c<a[0]&&!v;){let T=a[c++];if(T<Te.TEXT_COMPACTION_MODE_LATCH)h[x]=T/30,h[x+1]=T%30,x+=2;else switch(T){case Te.TEXT_COMPACTION_MODE_LATCH:h[x++]=Te.TEXT_COMPACTION_MODE_LATCH;break;case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:c--,v=!0;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[x]=Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=a[c++],g[x]=T,x++;break}}return Te.decodeTextCompaction(h,g,x,u),c}static decodeTextCompaction(a,c,u,h){let g=rn.ALPHA,x=rn.ALPHA,v=0;for(;v<u;){let T=a[v],C="";switch(g){case rn.ALPHA:if(T<26)C=String.fromCharCode(65+T);else switch(T){case 26:C=" ";break;case Te.LL:g=rn.LOWER;break;case Te.ML:g=rn.MIXED;break;case Te.PS:x=g,g=rn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.LOWER:if(T<26)C=String.fromCharCode(97+T);else switch(T){case 26:C=" ";break;case Te.AS:x=g,g=rn.ALPHA_SHIFT;break;case Te.ML:g=rn.MIXED;break;case Te.PS:x=g,g=rn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.MIXED:if(T<Te.PL)C=Te.MIXED_CHARS[T];else switch(T){case Te.PL:g=rn.PUNCT;break;case 26:C=" ";break;case Te.LL:g=rn.LOWER;break;case Te.AL:g=rn.ALPHA;break;case Te.PS:x=g,g=rn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.PUNCT:if(T<Te.PAL)C=Te.PUNCT_CHARS[T];else switch(T){case Te.PAL:g=rn.ALPHA;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.ALPHA_SHIFT:if(g=x,T<26)C=String.fromCharCode(65+T);else switch(T){case 26:C=" ";break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.PUNCT_SHIFT:if(g=x,T<Te.PAL)C=Te.PUNCT_CHARS[T];else switch(T){case Te.PAL:g=rn.ALPHA;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break}C!==""&&h.append(C),v++}}static byteCompaction(a,c,u,h,g){let x=new ic,v=0,T=0,C=!1;switch(a){case Te.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),j=c[h++];for(;h<c[0]&&!C;)switch(D[v++]=j,T=900*T+j,j=c[h++],j){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:h--,C=!0;break;default:if(v%5===0&&v>0){for(let K=0;K<6;++K)x.write(Number(Ei(T)>>Ei(8*(5-K))));T=0,v=0}break}h===c[0]&&j<Te.TEXT_COMPACTION_MODE_LATCH&&(D[v++]=j);for(let K=0;K<v;K++)x.write(D[K]);break;case Te.BYTE_COMPACTION_MODE_LATCH_6:for(;h<c[0]&&!C;){let K=c[h++];if(K<Te.TEXT_COMPACTION_MODE_LATCH)v++,T=900*T+K;else switch(K){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:h--,C=!0;break}if(v%5===0&&v>0){for(let ie=0;ie<6;++ie)x.write(Number(Ei(T)>>Ei(8*(5-ie))));T=0,v=0}}break}return g.append(Q.decode(x.toByteArray(),u)),h}static numericCompaction(a,c,u){let h=0,g=!1,x=new Int32Array(Te.MAX_NUMERIC_CODEWORDS);for(;c<a[0]&&!g;){let v=a[c++];if(c===a[0]&&(g=!0),v<Te.TEXT_COMPACTION_MODE_LATCH)x[h]=v,h++;else switch(v){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:c--,g=!0;break}(h%Te.MAX_NUMERIC_CODEWORDS===0||v===Te.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(u.append(Te.decodeBase900toBase10(x,h)),h=0)}return c}static decodeBase900toBase10(a,c){let u=Ei(0);for(let g=0;g<c;g++)u+=Te.EXP900[c-g-1]*Ei(a[g]);let h=u.toString();if(h.charAt(0)!=="1")throw new V;return h.substring(1)}}Te.TEXT_COMPACTION_MODE_LATCH=900,Te.BYTE_COMPACTION_MODE_LATCH=901,Te.NUMERIC_COMPACTION_MODE_LATCH=902,Te.BYTE_COMPACTION_MODE_LATCH_6=924,Te.ECI_USER_DEFINED=925,Te.ECI_GENERAL_PURPOSE=926,Te.ECI_CHARSET=927,Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Te.MACRO_PDF417_TERMINATOR=922,Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Te.MAX_NUMERIC_CODEWORDS=15,Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Te.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Te.PL=25,Te.LL=27,Te.AS=27,Te.ML=28,Te.AL=28,Te.PS=29,Te.PAL=29,Te.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Te.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Te.EXP900=zs()?co():[],Te.NUMBER_OF_SEQUENCE_CODEWORDS=2;class vt{constructor(){}static decode(a,c,u,h,g,x,v){let T=new Ui(a,c,u,h,g),C=null,D=null,j;for(let ce=!0;;ce=!1){if(c!=null&&(C=vt.getRowIndicatorColumn(a,T,c,!0,x,v)),h!=null&&(D=vt.getRowIndicatorColumn(a,T,h,!1,x,v)),j=vt.merge(C,D),j==null)throw le.getNotFoundInstance();let ue=j.getBoundingBox();if(ce&&ue!=null&&(ue.getMinY()<T.getMinY()||ue.getMaxY()>T.getMaxY()))T=ue;else break}j.setBoundingBox(T);let K=j.getBarcodeColumnCount()+1;j.setDetectionResultColumn(0,C),j.setDetectionResultColumn(K,D);let ie=C!=null;for(let ce=1;ce<=K;ce++){let ue=ie?ce:K-ce;if(j.getDetectionResultColumn(ue)!==void 0)continue;let me;ue===0||ue===K?me=new Jt(T,ue===0):me=new Is(T),j.setDetectionResultColumn(ue,me);let Ee=-1,Ve=Ee;for(let Ue=T.getMinY();Ue<=T.getMaxY();Ue++){if(Ee=vt.getStartColumn(j,ue,Ue,ie),Ee<0||Ee>T.getMaxX()){if(Ve===-1)continue;Ee=Ve}let Be=vt.detectCodeword(a,T.getMinX(),T.getMaxX(),ie,Ee,Ue,x,v);Be!=null&&(me.setCodeword(Ue,Be),Ve=Ee,x=Math.min(x,Be.getWidth()),v=Math.max(v,Be.getWidth()))}}return vt.createDecoderResult(j)}static merge(a,c){if(a==null&&c==null)return null;let u=vt.getBarcodeMetadata(a,c);if(u==null)return null;let h=Ui.merge(vt.adjustBoundingBox(a),vt.adjustBoundingBox(c));return new ds(u,h)}static adjustBoundingBox(a){if(a==null)return null;let c=a.getRowHeights();if(c==null)return null;let u=vt.getMax(c),h=0;for(let v of c)if(h+=u-v,v>0)break;let g=a.getCodewords();for(let v=0;h>0&&g[v]==null;v++)h--;let x=0;for(let v=c.length-1;v>=0&&(x+=u-c[v],!(c[v]>0));v--);for(let v=g.length-1;x>0&&g[v]==null;v--)x--;return a.getBoundingBox().addMissingRows(h,x,a.isLeft())}static getMax(a){let c=-1;for(let u of a)c=Math.max(c,u);return c}static getBarcodeMetadata(a,c){let u;if(a==null||(u=a.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let h;return c==null||(h=c.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(a,c,u,h,g,x){let v=new Jt(c,h);for(let T=0;T<2;T++){let C=T===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let j=Math.trunc(Math.trunc(u.getY()));j<=c.getMaxY()&&j>=c.getMinY();j+=C){let K=vt.detectCodeword(a,0,a.getWidth(),h,D,j,g,x);K!=null&&(v.setCodeword(j,K),h?D=K.getStartX():D=K.getEndX())}}return v}static adjustCodewordCount(a,c){let u=c[0][1],h=u.getValue(),g=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-vt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(g<1||g>st.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();u.setValue(g)}else h[0]!==g&&u.setValue(g)}static createDecoderResult(a){let c=vt.createBarcodeMatrix(a);vt.adjustCodewordCount(a,c);let u=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),g=[],x=new Array;for(let T=0;T<a.getBarcodeRowCount();T++)for(let C=0;C<a.getBarcodeColumnCount();C++){let D=c[T][C+1].getValue(),j=T*a.getBarcodeColumnCount()+C;D.length===0?u.push(j):D.length===1?h[j]=D[0]:(x.push(j),g.push(D))}let v=new Array(g.length);for(let T=0;T<v.length;T++)v[T]=g[T];return vt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,st.toIntArray(u),st.toIntArray(x),v)}static createDecoderResultFromAmbiguousValues(a,c,u,h,g){let x=new Int32Array(h.length),v=100;for(;v-- >0;){for(let T=0;T<x.length;T++)c[h[T]]=g[T][x[T]];try{return vt.decodeCodewords(c,a,u)}catch(T){if(!(T instanceof N))throw T}if(x.length===0)throw N.getChecksumInstance();for(let T=0;T<x.length;T++)if(x[T]<g[T].length-1){x[T]++;break}else if(x[T]=0,T===x.length-1)throw N.getChecksumInstance()}throw N.getChecksumInstance()}static createBarcodeMatrix(a){let c=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<c.length;h++)for(let g=0;g<c[h].length;g++)c[h][g]=new Gn;let u=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let x=g.getRowNumber();if(x>=0){if(x>=c.length)continue;c[x][u].setValue(g.getValue())}}}u++}return c}static isValidBarcodeColumn(a,c){return c>=0&&c<=a.getBarcodeColumnCount()+1}static getStartColumn(a,c,u,h){let g=h?1:-1,x=null;if(vt.isValidBarcodeColumn(a,c-g)&&(x=a.getDetectionResultColumn(c-g).getCodeword(u)),x!=null)return h?x.getEndX():x.getStartX();if(x=a.getDetectionResultColumn(c).getCodewordNearby(u),x!=null)return h?x.getStartX():x.getEndX();if(vt.isValidBarcodeColumn(a,c-g)&&(x=a.getDetectionResultColumn(c-g).getCodewordNearby(u)),x!=null)return h?x.getEndX():x.getStartX();let v=0;for(;vt.isValidBarcodeColumn(a,c-g);){c-=g;for(let T of a.getDetectionResultColumn(c).getCodewords())if(T!=null)return(h?T.getEndX():T.getStartX())+g*v*(T.getEndX()-T.getStartX());v++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,c,u,h,g,x,v,T){g=vt.adjustCodewordStartColumn(a,c,u,h,g,x);let C=vt.getModuleBitCount(a,c,u,h,g,x);if(C==null)return null;let D,j=_t.sum(C);if(h)D=g+j;else{for(let ce=0;ce<C.length/2;ce++){let ue=C[ce];C[ce]=C[C.length-1-ce],C[C.length-1-ce]=ue}D=g,g=D-j}if(!vt.checkCodewordSkew(j,v,T))return null;let K=_r.getDecodedValue(C),ie=st.getCodeword(K);return ie===-1?null:new Fi(g,D,vt.getCodewordBucketNumber(K),ie)}static getModuleBitCount(a,c,u,h,g,x){let v=g,T=new Int32Array(8),C=0,D=h?1:-1,j=h;for(;(h?v<u:v>=c)&&C<T.length;)a.get(v,x)===j?(T[C]++,v+=D):(C++,j=!j);return C===T.length||v===(h?u:c)&&C===T.length-1?T:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,c,u,h,g,x){let v=g,T=h?-1:1;for(let C=0;C<2;C++){for(;(h?v>=c:v<u)&&h===a.get(v,x);){if(Math.abs(g-v)>vt.CODEWORD_SKEW_SIZE)return g;v+=T}T=-T,h=!h}return v}static checkCodewordSkew(a,c,u){return c-vt.CODEWORD_SKEW_SIZE<=a&&a<=u+vt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,c,u){if(a.length===0)throw V.getFormatInstance();let h=1<<c+1,g=vt.correctErrors(a,u,h);vt.verifyCodewordCount(a,h);let x=Te.decode(a,""+c);return x.setErrorsCorrected(g),x.setErasures(u.length),x}static correctErrors(a,c,u){if(c!=null&&c.length>u/2+vt.MAX_ERRORS||u<0||u>vt.MAX_EC_CODEWORDS)throw N.getChecksumInstance();return vt.errorCorrection.decode(a,u,c)}static verifyCodewordCount(a,c){if(a.length<4)throw V.getFormatInstance();let u=a[0];if(u>a.length)throw V.getFormatInstance();if(u===0)if(c<a.length)a[0]=a.length-c;else throw V.getFormatInstance()}static getBitCountForCodeword(a){let c=new Int32Array(8),u=0,h=c.length-1;for(;!((a&1)!==u&&(u=a&1,h--,h<0));)c[h]++,a>>=1;return c}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return vt.getCodewordBucketNumber(vt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let c=new ri;for(let u=0;u<a.length;u++){c.format("Row %2d: ",u);for(let h=0;h<a[u].length;h++){let g=a[u][h];g.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}c.format("%n")}return c.toString()}}vt.CODEWORD_SKEW_SIZE=2,vt.MAX_ERRORS=3,vt.MAX_EC_CODEWORDS=512,vt.errorCorrection=new us;class ur{decode(a,c=null){let u=ur.decode(a,c,!1);if(u==null||u.length===0||u[0]==null)throw le.getNotFoundInstance();return u[0]}decodeMultiple(a,c=null){try{return ur.decode(a,c,!0)}catch(u){throw u instanceof V||u instanceof N?le.getNotFoundInstance():u}}static decode(a,c,u){const h=new Array,g=ft.detectMultiple(a,c,u);for(const x of g.getPoints()){const v=vt.decode(g.getBits(),x[4],x[5],x[6],x[7],ur.getMinCodewordWidth(x),ur.getMaxCodewordWidth(x)),T=new Ge(v.getText(),v.getRawBytes(),void 0,x,Ce.PDF_417);T.putMetadata(He.ERROR_CORRECTION_LEVEL,v.getECLevel());const C=v.getOther();C!=null&&T.putMetadata(He.PDF417_EXTRA_METADATA,C),h.push(T)}return h.map(x=>x)}static getMaxWidth(a,c){return a==null||c==null?0:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMinWidth(a,c){return a==null||c==null?B.MAX_VALUE:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(ur.getMaxWidth(a[0],a[4]),ur.getMaxWidth(a[6],a[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.max(ur.getMaxWidth(a[1],a[5]),ur.getMaxWidth(a[7],a[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(ur.getMinWidth(a[0],a[4]),ur.getMinWidth(a[6],a[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.min(ur.getMinWidth(a[1],a[5]),ur.getMinWidth(a[7],a[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}reset(){}}class js extends y{}js.kind="ReaderException";class Hs{constructor(a,c){this.verbose=a===!0,c&&this.setHints(c)}decode(a,c){return c&&this.setHints(c),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const c=!r(a)&&a.get(se.TRY_HARDER)===!0,u=r(a)?null:a.get(se.POSSIBLE_FORMATS),h=new Array;if(!r(u)){const g=u.some(x=>x===Ce.UPC_A||x===Ce.UPC_E||x===Ce.EAN_13||x===Ce.EAN_8||x===Ce.CODABAR||x===Ce.CODE_39||x===Ce.CODE_93||x===Ce.CODE_128||x===Ce.ITF||x===Ce.RSS_14||x===Ce.RSS_EXPANDED);g&&!c&&h.push(new vi(a,this.verbose)),u.includes(Ce.QR_CODE)&&h.push(new Bi),u.includes(Ce.DATA_MATRIX)&&h.push(new ti),u.includes(Ce.AZTEC)&&h.push(new to),u.includes(Ce.PDF_417)&&h.push(new ur),g&&c&&h.push(new vi(a,this.verbose))}h.length===0&&(c||h.push(new vi(a,this.verbose)),h.push(new Bi),h.push(new ti),h.push(new to),h.push(new ur),c&&h.push(new vi(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new js("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(a,this.hints)}catch(u){if(u instanceof js)continue}throw new le("No MultiFormat Readers were able to detect the code.")}}class sc extends Oe{constructor(a=null,c=500){const u=new Hs;u.setHints(a),super(u,c)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class ac extends Oe{constructor(a=500){super(new ur,a)}}class ml extends Oe{constructor(a=500){super(new Bi,a)}}var Ns;(function(z){z[z.ERROR_CORRECTION=0]="ERROR_CORRECTION",z[z.CHARACTER_SET=1]="CHARACTER_SET",z[z.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",z[z.MIN_SIZE=3]="MIN_SIZE",z[z.MAX_SIZE=4]="MAX_SIZE",z[z.MARGIN=5]="MARGIN",z[z.PDF417_COMPACT=6]="PDF417_COMPACT",z[z.PDF417_COMPACTION=7]="PDF417_COMPACTION",z[z.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",z[z.AZTEC_LAYERS=9]="AZTEC_LAYERS",z[z.QR_VERSION=10]="QR_VERSION"})(Ns||(Ns={}));var qn=Ns;class Gs{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new et(a,Int32Array.from([1])))}buildGenerator(a){const c=this.cachedGenerators;if(a>=c.length){let u=c[c.length-1];const h=this.field;for(let g=c.length;g<=a;g++){const x=u.multiply(new et(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));c.push(x),u=x}}return c[a]}encode(a,c){if(c===0)throw new A("No error correction bytes");const u=a.length-c;if(u<=0)throw new A("No data bytes provided");const h=this.buildGenerator(c),g=new Int32Array(u);k.arraycopy(a,0,g,0,u);let x=new et(this.field,g);x=x.multiplyByMonomial(c,1);const T=x.divide(h)[1].getCoefficients(),C=c-T.length;for(let D=0;D<C;D++)a[u+D]=0;k.arraycopy(T,0,a,u+C,T.length)}}class Cn{constructor(){}static applyMaskPenaltyRule1(a){return Cn.applyMaskPenaltyRule1Internal(a,!0)+Cn.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let x=0;x<g-1;x++){const v=u[x];for(let T=0;T<h-1;T++){const C=v[T];C===v[T+1]&&C===u[x+1][T]&&C===u[x+1][T+1]&&c++}}return Cn.N2*c}static applyMaskPenaltyRule3(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let x=0;x<g;x++)for(let v=0;v<h;v++){const T=u[x];v+6<h&&T[v]===1&&T[v+1]===0&&T[v+2]===1&&T[v+3]===1&&T[v+4]===1&&T[v+5]===0&&T[v+6]===1&&(Cn.isWhiteHorizontal(T,v-4,v)||Cn.isWhiteHorizontal(T,v+7,v+11))&&c++,x+6<g&&u[x][v]===1&&u[x+1][v]===0&&u[x+2][v]===1&&u[x+3][v]===1&&u[x+4][v]===1&&u[x+5][v]===0&&u[x+6][v]===1&&(Cn.isWhiteVertical(u,v,x-4,x)||Cn.isWhiteVertical(u,v,x+7,x+11))&&c++}return c*Cn.N3}static isWhiteHorizontal(a,c,u){c=Math.max(c,0),u=Math.min(u,a.length);for(let h=c;h<u;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,c,u,h){u=Math.max(u,0),h=Math.min(h,a.length);for(let g=u;g<h;g++)if(a[g][c]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let T=0;T<g;T++){const C=u[T];for(let D=0;D<h;D++)C[D]===1&&c++}const x=a.getHeight()*a.getWidth();return Math.floor(Math.abs(c*2-x)*10/x)*Cn.N4}static getDataMaskBit(a,c,u){let h,g;switch(a){case 0:h=u+c&1;break;case 1:h=u&1;break;case 2:h=c%3;break;case 3:h=(u+c)%3;break;case 4:h=Math.floor(u/2)+Math.floor(c/3)&1;break;case 5:g=u*c,h=(g&1)+g%3;break;case 6:g=u*c,h=(g&1)+g%3&1;break;case 7:g=u*c,h=g%3+(u+c&1)&1;break;default:throw new A("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,c){let u=0;const h=c?a.getHeight():a.getWidth(),g=c?a.getWidth():a.getHeight(),x=a.getArray();for(let v=0;v<h;v++){let T=0,C=-1;for(let D=0;D<g;D++){const j=c?x[v][D]:x[D][v];j===C?T++:(T>=5&&(u+=Cn.N1+(T-5)),T=1,C=j)}T>=5&&(u+=Cn.N1+(T-5))}return u}}Cn.N1=3,Cn.N2=3,Cn.N3=40,Cn.N4=10;class qs{constructor(a,c){this.width=a,this.height=c;const u=new Array(c);for(let h=0;h!==c;h++)u[h]=new Uint8Array(a);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(a,c){return this.bytes[c][a]}getArray(){return this.bytes}setNumber(a,c,u){this.bytes[c][a]=u}setBoolean(a,c,u){this.bytes[c][a]=u?1:0}clear(a){for(const c of this.bytes)G.fill(c,a)}equals(a){if(!(a instanceof qs))return!1;const c=a;if(this.width!==c.width||this.height!==c.height)return!1;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u],x=c.bytes[u];for(let v=0,T=this.width;v<T;++v)if(g[v]!==x[v])return!1}return!0}toString(){const a=new q;for(let c=0,u=this.height;c<u;++c){const h=this.bytes[c];for(let g=0,x=this.width;g<x;++g)switch(h[g]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class qr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new q;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<qr.NUM_MASK_PATTERNS}}qr.NUM_MASK_PATTERNS=8;class sn extends y{}sn.kind="WriterException";class ot{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,c,u,h,g){ot.clearMatrix(g),ot.embedBasicPatterns(u,g),ot.embedTypeInfo(c,h,g),ot.maybeEmbedVersionInfo(u,g),ot.embedDataBits(a,h,g)}static embedBasicPatterns(a,c){ot.embedPositionDetectionPatternsAndSeparators(c),ot.embedDarkDotAtLeftBottomCorner(c),ot.maybeEmbedPositionAdjustmentPatterns(a,c),ot.embedTimingPatterns(c)}static embedTypeInfo(a,c,u){const h=new Z;ot.makeTypeInfoBits(a,c,h);for(let g=0,x=h.getSize();g<x;++g){const v=h.get(h.getSize()-1-g),T=ot.TYPE_INFO_COORDINATES[g],C=T[0],D=T[1];if(u.setBoolean(C,D,v),g<8){const j=u.getWidth()-g-1;u.setBoolean(j,8,v)}else{const K=u.getHeight()-7+(g-8);u.setBoolean(8,K,v)}}}static maybeEmbedVersionInfo(a,c){if(a.getVersionNumber()<7)return;const u=new Z;ot.makeVersionInfoBits(a,u);let h=6*3-1;for(let g=0;g<6;++g)for(let x=0;x<3;++x){const v=u.get(h);h--,c.setBoolean(g,c.getHeight()-11+x,v),c.setBoolean(c.getHeight()-11+x,g,v)}}static embedDataBits(a,c,u){let h=0,g=-1,x=u.getWidth()-1,v=u.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);v>=0&&v<u.getHeight();){for(let T=0;T<2;++T){const C=x-T;if(!ot.isEmpty(u.get(C,v)))continue;let D;h<a.getSize()?(D=a.get(h),++h):D=!1,c!==255&&Cn.getDataMaskBit(c,C,v)&&(D=!D),u.setBoolean(C,v,D)}v+=g}g=-g,v+=g,x-=2}if(h!==a.getSize())throw new sn("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-B.numberOfLeadingZeros(a)}static calculateBCHCode(a,c){if(c===0)throw new A("0 polynomial");const u=ot.findMSBSet(c);for(a<<=u-1;ot.findMSBSet(a)>=u;)a^=c<<ot.findMSBSet(a)-u;return a}static makeTypeInfoBits(a,c,u){if(!qr.isValidMaskPattern(c))throw new sn("Invalid mask pattern");const h=a.getBits()<<3|c;u.appendBits(h,5);const g=ot.calculateBCHCode(h,ot.TYPE_INFO_POLY);u.appendBits(g,10);const x=new Z;if(x.appendBits(ot.TYPE_INFO_MASK_PATTERN,15),u.xor(x),u.getSize()!==15)throw new sn("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(a,c){c.appendBits(a.getVersionNumber(),6);const u=ot.calculateBCHCode(a.getVersionNumber(),ot.VERSION_INFO_POLY);if(c.appendBits(u,12),c.getSize()!==18)throw new sn("should not happen but we got: "+c.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let c=8;c<a.getWidth()-8;++c){const u=(c+1)%2;ot.isEmpty(a.get(c,6))&&a.setNumber(c,6,u),ot.isEmpty(a.get(6,c))&&a.setNumber(6,c,u)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new sn;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,c,u){for(let h=0;h<8;++h){if(!ot.isEmpty(u.get(a+h,c)))throw new sn;u.setNumber(a+h,c,0)}}static embedVerticalSeparationPattern(a,c,u){for(let h=0;h<7;++h){if(!ot.isEmpty(u.get(a,c+h)))throw new sn;u.setNumber(a,c+h,0)}}static embedPositionAdjustmentPattern(a,c,u){for(let h=0;h<5;++h){const g=ot.POSITION_ADJUSTMENT_PATTERN[h];for(let x=0;x<5;++x)u.setNumber(a+x,c+h,g[x])}}static embedPositionDetectionPattern(a,c,u){for(let h=0;h<7;++h){const g=ot.POSITION_DETECTION_PATTERN[h];for(let x=0;x<7;++x)u.setNumber(a+x,c+h,g[x])}}static embedPositionDetectionPatternsAndSeparators(a){const c=ot.POSITION_DETECTION_PATTERN[0].length;ot.embedPositionDetectionPattern(0,0,a),ot.embedPositionDetectionPattern(a.getWidth()-c,0,a),ot.embedPositionDetectionPattern(0,a.getWidth()-c,a);const u=8;ot.embedHorizontalSeparationPattern(0,u-1,a),ot.embedHorizontalSeparationPattern(a.getWidth()-u,u-1,a),ot.embedHorizontalSeparationPattern(0,a.getWidth()-u,a);const h=7;ot.embedVerticalSeparationPattern(h,0,a),ot.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),ot.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,c){if(a.getVersionNumber()<2)return;const u=a.getVersionNumber()-1,h=ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,x=h.length;g!==x;g++){const v=h[g];if(v>=0)for(let T=0;T!==x;T++){const C=h[T];C>=0&&ot.isEmpty(c.get(C,v))&&ot.embedPositionAdjustmentPattern(C-2,v-2,c)}}}}ot.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ot.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ot.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ot.VERSION_INFO_POLY=7973,ot.TYPE_INFO_POLY=1335,ot.TYPE_INFO_MASK_PATTERN=21522;class oc{constructor(a,c){this.dataBytes=a,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class fn{constructor(){}static calculateMaskPenalty(a){return Cn.applyMaskPenaltyRule1(a)+Cn.applyMaskPenaltyRule2(a)+Cn.applyMaskPenaltyRule3(a)+Cn.applyMaskPenaltyRule4(a)}static encode(a,c,u=null){let h=fn.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(qn.CHARACTER_SET)!==void 0;g&&(h=u.get(qn.CHARACTER_SET).toString());const x=this.chooseMode(a,h),v=new Z;if(x===rt.BYTE&&(g||fn.DEFAULT_BYTE_MODE_ENCODING!==h)){const Ue=O.getCharacterSetECIByName(h);Ue!==void 0&&this.appendECI(Ue,v)}this.appendModeInfo(x,v);const T=new Z;this.appendBytes(a,x,T,h);let C;if(u!==null&&u.get(qn.QR_VERSION)!==void 0){const Ue=Number.parseInt(u.get(qn.QR_VERSION).toString(),10);C=je.getVersionForNumber(Ue);const Be=this.calculateBitsNeeded(x,v,T,C);if(!this.willFit(Be,C,c))throw new sn("Data too big for requested version")}else C=this.recommendVersion(c,x,v,T);const D=new Z;D.appendBitArray(v);const j=x===rt.BYTE?T.getSizeInBytes():a.length;this.appendLengthInfo(j,C,x,D),D.appendBitArray(T);const K=C.getECBlocksForLevel(c),ie=C.getTotalCodewords()-K.getTotalECCodewords();this.terminateBits(ie,D);const ce=this.interleaveWithECBytes(D,C.getTotalCodewords(),ie,K.getNumBlocks()),ue=new qr;ue.setECLevel(c),ue.setMode(x),ue.setVersion(C);const me=C.getDimensionForVersion(),Ee=new qs(me,me),Ve=this.chooseMaskPattern(ce,c,C,Ee);return ue.setMaskPattern(Ve),ot.buildMatrix(ce,c,C,Ve,Ee),ue.setMatrix(Ee),ue}static recommendVersion(a,c,u,h){const g=this.calculateBitsNeeded(c,u,h,je.getVersionForNumber(1)),x=this.chooseVersion(g,a),v=this.calculateBitsNeeded(c,u,h,x);return this.chooseVersion(v,a)}static calculateBitsNeeded(a,c,u,h){return c.getSize()+a.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(a){return a<fn.ALPHANUMERIC_TABLE.length?fn.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,c=null){if(O.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(a))return rt.KANJI;let u=!1,h=!1;for(let g=0,x=a.length;g<x;++g){const v=a.charAt(g);if(fn.isDigit(v))u=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)h=!0;else return rt.BYTE}return h?rt.ALPHANUMERIC:u?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(a){let c;try{c=Q.encode(a,O.SJIS)}catch{return!1}const u=c.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const g=c[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(a,c,u,h){let g=Number.MAX_SAFE_INTEGER,x=-1;for(let v=0;v<qr.NUM_MASK_PATTERNS;v++){ot.buildMatrix(a,c,u,v,h);let T=this.calculateMaskPenalty(h);T<g&&(g=T,x=v)}return x}static chooseVersion(a,c){for(let u=1;u<=40;u++){const h=je.getVersionForNumber(u);if(fn.willFit(a,h,c))return h}throw new sn("Data too big")}static willFit(a,c,u){const h=c.getTotalCodewords(),x=c.getECBlocksForLevel(u).getTotalECCodewords(),v=h-x,T=(a+7)/8;return v>=T}static terminateBits(a,c){const u=a*8;if(c.getSize()>u)throw new sn("data bits cannot fit in the QR Code"+c.getSize()+" > "+u);for(let x=0;x<4&&c.getSize()<u;++x)c.appendBit(!1);const h=c.getSize()&7;if(h>0)for(let x=h;x<8;x++)c.appendBit(!1);const g=a-c.getSizeInBytes();for(let x=0;x<g;++x)c.appendBits((x&1)===0?236:17,8);if(c.getSize()!==u)throw new sn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,c,u,h,g,x){if(h>=u)throw new sn("Block ID too large");const v=a%u,T=u-v,C=Math.floor(a/u),D=C+1,j=Math.floor(c/u),K=j+1,ie=C-j,ce=D-K;if(ie!==ce)throw new sn("EC bytes mismatch");if(u!==T+v)throw new sn("RS blocks mismatch");if(a!==(j+ie)*T+(K+ce)*v)throw new sn("Total bytes mismatch");h<T?(g[0]=j,x[0]=ie):(g[0]=K,x[0]=ce)}static interleaveWithECBytes(a,c,u,h){if(a.getSizeInBytes()!==u)throw new sn("Number of bits and data bytes does not match");let g=0,x=0,v=0;const T=new Array;for(let D=0;D<h;++D){const j=new Int32Array(1),K=new Int32Array(1);fn.getNumDataBytesAndNumECBytesForBlockID(c,u,h,D,j,K);const ie=j[0],ce=new Uint8Array(ie);a.toBytes(8*g,ce,0,ie);const ue=fn.generateECBytes(ce,K[0]);T.push(new oc(ce,ue)),x=Math.max(x,ie),v=Math.max(v,ue.length),g+=j[0]}if(u!==g)throw new sn("Data bytes does not match offset");const C=new Z;for(let D=0;D<x;++D)for(const j of T){const K=j.getDataBytes();D<K.length&&C.appendBits(K[D],8)}for(let D=0;D<v;++D)for(const j of T){const K=j.getErrorCorrectionBytes();D<K.length&&C.appendBits(K[D],8)}if(c!==C.getSizeInBytes())throw new sn("Interleaving error: "+c+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(a,c){const u=a.length,h=new Int32Array(u+c);for(let x=0;x<u;x++)h[x]=a[x]&255;new Gs(nt.QR_CODE_FIELD_256).encode(h,c);const g=new Uint8Array(c);for(let x=0;x<c;x++)g[x]=h[u+x];return g}static appendModeInfo(a,c){c.appendBits(a.getBits(),4)}static appendLengthInfo(a,c,u,h){const g=u.getCharacterCountBits(c);if(a>=1<<g)throw new sn(a+" is bigger than "+((1<<g)-1));h.appendBits(a,g)}static appendBytes(a,c,u,h){switch(c){case rt.NUMERIC:fn.appendNumericBytes(a,u);break;case rt.ALPHANUMERIC:fn.appendAlphanumericBytes(a,u);break;case rt.BYTE:fn.append8BitBytes(a,u,h);break;case rt.KANJI:fn.appendKanjiBytes(a,u);break;default:throw new sn("Invalid mode: "+c)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const c=fn.getDigit(a);return c>=0&&c<=9}static appendNumericBytes(a,c){const u=a.length;let h=0;for(;h<u;){const g=fn.getDigit(a.charAt(h));if(h+2<u){const x=fn.getDigit(a.charAt(h+1)),v=fn.getDigit(a.charAt(h+2));c.appendBits(g*100+x*10+v,10),h+=3}else if(h+1<u){const x=fn.getDigit(a.charAt(h+1));c.appendBits(g*10+x,7),h+=2}else c.appendBits(g,4),h++}}static appendAlphanumericBytes(a,c){const u=a.length;let h=0;for(;h<u;){const g=fn.getAlphanumericCode(a.charCodeAt(h));if(g===-1)throw new sn;if(h+1<u){const x=fn.getAlphanumericCode(a.charCodeAt(h+1));if(x===-1)throw new sn;c.appendBits(g*45+x,11),h+=2}else c.appendBits(g,6),h++}}static append8BitBytes(a,c,u){let h;try{h=Q.encode(a,u)}catch(g){throw new sn(g)}for(let g=0,x=h.length;g!==x;g++){const v=h[g];c.appendBits(v,8)}}static appendKanjiBytes(a,c){let u;try{u=Q.encode(a,O.SJIS)}catch(g){throw new sn(g)}const h=u.length;for(let g=0;g<h;g+=2){const x=u[g]&255,v=u[g+1]&255,T=x<<8&4294967295|v;let C=-1;if(T>=33088&&T<=40956?C=T-33088:T>=57408&&T<=60351&&(C=T-49472),C===-1)throw new sn("Invalid byte sequence");const D=(C>>8)*192+(C&255);c.appendBits(D,13)}}static appendECI(a,c){c.appendBits(rt.ECI.getBits(),4),c.appendBits(a.getValue(),8)}}fn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),fn.DEFAULT_BYTE_MODE_ENCODING=O.UTF8.getName();class _i{write(a,c,u,h=null){if(a.length===0)throw new A("Found empty contents");if(c<0||u<0)throw new A("Requested dimensions are too small: "+c+"x"+u);let g=Dt.L,x=_i.QUIET_ZONE_SIZE;h!==null&&(h.get(qn.ERROR_CORRECTION)!==void 0&&(g=Dt.fromString(h.get(qn.ERROR_CORRECTION).toString())),h.get(qn.MARGIN)!==void 0&&(x=Number.parseInt(h.get(qn.MARGIN).toString(),10)));const v=fn.encode(a,g,h);return this.renderResult(v,c,u,x)}writeToDom(a,c,u,h,g=null){typeof a=="string"&&(a=document.querySelector(a));const x=this.write(c,u,h,g);a&&a.appendChild(x)}renderResult(a,c,u,h){const g=a.getMatrix();if(g===null)throw new Pt;const x=g.getWidth(),v=g.getHeight(),T=x+h*2,C=v+h*2,D=Math.max(c,T),j=Math.max(u,C),K=Math.min(Math.floor(D/T),Math.floor(j/C)),ie=Math.floor((D-x*K)/2),ce=Math.floor((j-v*K)/2),ue=this.createSVGElement(D,j);for(let me=0,Ee=ce;me<v;me++,Ee+=K)for(let Ve=0,Ue=ie;Ve<x;Ve++,Ue+=K)if(g.get(Ve,me)===1){const Be=this.createSvgRectElement(Ue,Ee,K,K);ue.appendChild(Be)}return ue}createSVGElement(a,c){const u=document.createElementNS(_i.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u}createSvgRectElement(a,c,u,h){const g=document.createElementNS(_i.SVG_NS,"rect");return g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",c.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}_i.QUIET_ZONE_SIZE=4,_i.SVG_NS="http://www.w3.org/2000/svg";class nr{encode(a,c,u,h,g){if(a.length===0)throw new A("Found empty contents");if(c!==Ce.QR_CODE)throw new A("Can only encode QR_CODE, but got "+c);if(u<0||h<0)throw new A(`Requested dimensions are too small: ${u}x${h}`);let x=Dt.L,v=nr.QUIET_ZONE_SIZE;g!==null&&(g.get(qn.ERROR_CORRECTION)!==void 0&&(x=Dt.fromString(g.get(qn.ERROR_CORRECTION).toString())),g.get(qn.MARGIN)!==void 0&&(v=Number.parseInt(g.get(qn.MARGIN).toString(),10)));const T=fn.encode(a,x,g);return nr.renderResult(T,u,h,v)}static renderResult(a,c,u,h){const g=a.getMatrix();if(g===null)throw new Pt;const x=g.getWidth(),v=g.getHeight(),T=x+h*2,C=v+h*2,D=Math.max(c,T),j=Math.max(u,C),K=Math.min(Math.floor(D/T),Math.floor(j/C)),ie=Math.floor((D-x*K)/2),ce=Math.floor((j-v*K)/2),ue=new _e(D,j);for(let me=0,Ee=ce;me<v;me++,Ee+=K)for(let Ve=0,Ue=ie;Ve<x;Ve++,Ue+=K)g.get(Ve,me)===1&&ue.setRegion(Ue,Ee,K,K);return ue}}nr.QUIET_ZONE_SIZE=4;class lc{encode(a,c,u,h,g){let x;switch(c){case Ce.QR_CODE:x=new nr;break;default:throw new A("No encoder available for format "+c)}return x.encode(a,c,u,h,g)}}class pi extends ve{constructor(a,c,u,h,g,x,v,T){if(super(x,v),this.yuvData=a,this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=g,h+x>c||g+v>u)throw new A("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(x,v)}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,h,c,0,u),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.yuvData;const u=a*c,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return k.arraycopy(this.yuvData,g,h,0,u),h;for(let x=0;x<c;x++){const v=x*a;k.arraycopy(this.yuvData,g,h,v,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,c,u,h){return new pi(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+c,u,h,!1)}renderThumbnail(){const a=this.getWidth()/pi.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/pi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*c),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let x=0;x<c;x++){const v=x*a;for(let T=0;T<a;T++){const C=h[g+T*pi.THUMBNAIL_SCALE_FACTOR]&255;u[v+T]=4278190080|C*65793}g+=this.dataWidth*pi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/pi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,c){const u=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<c;h++,g+=this.dataWidth){const x=g+a/2;for(let v=g,T=g+a-1;v<x;v++,T--){const C=u[v];u[v]=u[T],u[T]=C}}}invert(){return new Re(this)}}pi.THUMBNAIL_SCALE_FACTOR=2;class Ti extends ve{constructor(a,c,u,h,g,x,v){if(super(c,u),this.dataWidth=h,this.dataHeight=g,this.left=x,this.top=v,a.BYTES_PER_ELEMENT===4){const T=c*u,C=new Uint8ClampedArray(T);for(let D=0;D<T;D++){const j=a[D],K=j>>16&255,ie=j>>7&510,ce=j&255;C[D]=(K+ie+ce)/4&255}this.luminances=C}else this.luminances=a;if(h===void 0&&(this.dataWidth=c),g===void 0&&(this.dataHeight=u),x===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+u>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,h,c,0,u),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.luminances;const u=a*c,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return k.arraycopy(this.luminances,g,h,0,u),h;for(let x=0;x<c;x++){const v=x*a;k.arraycopy(this.luminances,g,h,v,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,c,u,h){return new Ti(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+a,this.top+c)}invert(){return new Re(this)}}class b extends O{static forName(a){return this.getCharacterSetECIByName(a)}}class R{}R.ISO_8859_1=O.ISO8859_1;class L{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class ee{static singletonList(a){return[a]}static min(a,c){return a.sort(c)[0]}}class pe{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Se extends pe{constructor(a,c,u){super(a),this.value=c,this.bitCount=u}appendTo(a,c){a.appendBits(this.value,this.bitCount)}add(a,c){return new Se(this,a,c)}addBinaryShift(a,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Se(this,a,c)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+B.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class ze extends Se{constructor(a,c,u){super(a,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=u}appendTo(a,c){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):u===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(c[this.binaryShiftStart+u],8)}addBinaryShift(a,c){return new ze(this,a,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function zt(z,a,c){return new ze(z,a,c)}function Ln(z,a,c){return new Se(z,a,c)}const jt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],In=0,Yn=1,rr=2,yr=3,fr=4,yl=new Se(null,0,0),uo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ad(z){for(let a of z)G.fill(a,-1);return z[In][fr]=0,z[Yn][fr]=0,z[Yn][In]=28,z[yr][fr]=0,z[rr][fr]=0,z[rr][In]=15,z}const Ou=Ad(G.createInt32Array(6,6));class Ai{constructor(a,c,u,h){this.token=a,this.mode=c,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,c){let u=this.bitCount,h=this.token;if(a!==this.mode){let x=uo[this.mode][a];h=Ln(h,x&65535,x>>16),u+=x>>16}let g=a===rr?4:5;return h=Ln(h,c,g),new Ai(h,a,0,u+g)}shiftAndAppend(a,c){let u=this.token,h=this.mode===rr?4:5;return u=Ln(u,Ou[this.mode][a],h),u=Ln(u,c,5),new Ai(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let c=this.token,u=this.mode,h=this.bitCount;if(this.mode===fr||this.mode===rr){let v=uo[u][In];c=Ln(c,v&65535,v>>16),h+=v>>16,u=In}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new Ai(c,u,this.binaryShiftByteCount+1,h+g);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(a+1)),x}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=zt(c,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ai(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let c=this.bitCount+(uo[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?c+=Ai.calculateBinaryShiftCost(a)-Ai.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(c+=10),c<=a.bitCount}toBitArray(a){let c=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())c.unshift(h);let u=new Z;for(const h of c)h.appendTo(u,a);return u}toString(){return Y.format("%s bits=%d bytes=%d",jt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Ai.INITIAL_STATE=new Ai(yl,In,0,0);function ku(z){const a=Y.getCharCode(" "),c=Y.getCharCode("."),u=Y.getCharCode(",");z[In][a]=1;const h=Y.getCharCode("Z"),g=Y.getCharCode("A");for(let K=g;K<=h;K++)z[In][K]=K-g+2;z[Yn][a]=1;const x=Y.getCharCode("z"),v=Y.getCharCode("a");for(let K=v;K<=x;K++)z[Yn][K]=K-v+2;z[rr][a]=1;const T=Y.getCharCode("9"),C=Y.getCharCode("0");for(let K=C;K<=T;K++)z[rr][K]=K-C+2;z[rr][u]=12,z[rr][c]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let K=0;K<D.length;K++)z[yr][Y.getCharCode(D[K])]=K;const j=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let K=0;K<j.length;K++)Y.getCharCode(j[K])>0&&(z[fr][Y.getCharCode(j[K])]=K);return z}const cc=ku(G.createInt32Array(5,256));class fo{constructor(a){this.text=a}encode(){const a=Y.getCharCode(" "),c=Y.getCharCode(`
`);let u=ee.singletonList(Ai.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let x,v=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case Y.getCharCode("\r"):x=v===c?2:0;break;case Y.getCharCode("."):x=v===a?3:0;break;case Y.getCharCode(","):x=v===a?4:0;break;case Y.getCharCode(":"):x=v===a?5:0;break;default:x=0}x>0?(u=fo.updateStateListForPair(u,g,x),g++):u=this.updateStateListForChar(u,g)}return ee.min(u,(g,x)=>g.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,c){const u=[];for(let h of a)this.updateStateForChar(h,c,u);return fo.simplifyStates(u)}updateStateForChar(a,c,u){let h=this.text[c]&255,g=cc[a.getMode()][h]>0,x=null;for(let v=0;v<=fr;v++){let T=cc[v][h];if(T>0){if(x==null&&(x=a.endBinaryShift(c)),!g||v===a.getMode()||v===rr){const C=x.latchAndAppend(v,T);u.push(C)}if(!g&&Ou[a.getMode()][v]>=0){const C=x.shiftAndAppend(v,T);u.push(C)}}}if(a.getBinaryShiftByteCount()>0||cc[a.getMode()][h]===0){let v=a.addBinaryShiftChar(c);u.push(v)}}static updateStateListForPair(a,c,u){const h=[];for(let g of a)this.updateStateForPair(g,c,u,h);return this.simplifyStates(h)}static updateStateForPair(a,c,u,h){let g=a.endBinaryShift(c);if(h.push(g.latchAndAppend(fr,u)),a.getMode()!==fr&&h.push(g.shiftAndAppend(fr,u)),u===3||u===4){let x=g.latchAndAppend(rr,16-u).latchAndAppend(rr,1);h.push(x)}if(a.getBinaryShiftByteCount()>0){let x=a.addBinaryShiftChar(c).addBinaryShiftChar(c+1);h.push(x)}}static simplifyStates(a){let c=[];for(const u of a){let h=!0;for(const g of c){if(g.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(g)&&(c=c.filter(x=>x!==g))}h&&c.push(u)}return c}}class Ht{constructor(){}static encodeBytes(a){return Ht.encode(a,Ht.DEFAULT_EC_PERCENT,Ht.DEFAULT_AZTEC_LAYERS)}static encode(a,c,u){let h=new fo(a).encode(),g=B.truncDivision(h.getSize()*c,100)+11,x=h.getSize()+g,v,T,C,D,j;if(u!==Ht.DEFAULT_AZTEC_LAYERS){if(v=u<0,T=Math.abs(u),T>(v?Ht.MAX_NB_BITS_COMPACT:Ht.MAX_NB_BITS))throw new A(Y.format("Illegal value %s for layers",u));C=Ht.totalBitsInLayer(T,v),D=Ht.WORD_SIZE[T];let Be=C-C%D;if(j=Ht.stuffBits(h,D),j.getSize()+g>Be)throw new A("Data to large for user specified layer");if(v&&j.getSize()>D*64)throw new A("Data to large for user specified layer")}else{D=0,j=null;for(let Be=0;;Be++){if(Be>Ht.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(v=Be<=3,T=v?Be+1:Be,C=Ht.totalBitsInLayer(T,v),x>C)continue;(j==null||D!==Ht.WORD_SIZE[T])&&(D=Ht.WORD_SIZE[T],j=Ht.stuffBits(h,D));let Tt=C-C%D;if(!(v&&j.getSize()>D*64)&&j.getSize()+g<=Tt)break}}let K=Ht.generateCheckWords(j,C,D),ie=j.getSize()/D,ce=Ht.generateModeMessage(v,T,ie),ue=(v?11:14)+T*4,me=new Int32Array(ue),Ee;if(v){Ee=ue;for(let Be=0;Be<me.length;Be++)me[Be]=Be}else{Ee=ue+1+2*B.truncDivision(B.truncDivision(ue,2)-1,15);let Be=B.truncDivision(ue,2),Tt=B.truncDivision(Ee,2);for(let bt=0;bt<Be;bt++){let Yr=bt+B.truncDivision(bt,15);me[Be-bt-1]=Tt-Yr-1,me[Be+bt]=Tt+Yr+1}}let Ve=new _e(Ee);for(let Be=0,Tt=0;Be<T;Be++){let bt=(T-Be)*4+(v?9:12);for(let Yr=0;Yr<bt;Yr++){let Si=Yr*2;for(let ii=0;ii<2;ii++)K.get(Tt+Si+ii)&&Ve.set(me[Be*2+ii],me[Be*2+Yr]),K.get(Tt+bt*2+Si+ii)&&Ve.set(me[Be*2+Yr],me[ue-1-Be*2-ii]),K.get(Tt+bt*4+Si+ii)&&Ve.set(me[ue-1-Be*2-ii],me[ue-1-Be*2-Yr]),K.get(Tt+bt*6+Si+ii)&&Ve.set(me[ue-1-Be*2-Yr],me[Be*2+ii])}Tt+=bt*8}if(Ht.drawModeMessage(Ve,v,Ee,ce),v)Ht.drawBullsEye(Ve,B.truncDivision(Ee,2),5);else{Ht.drawBullsEye(Ve,B.truncDivision(Ee,2),7);for(let Be=0,Tt=0;Be<B.truncDivision(ue,2)-1;Be+=15,Tt+=16)for(let bt=B.truncDivision(Ee,2)&1;bt<Ee;bt+=2)Ve.set(B.truncDivision(Ee,2)-Tt,bt),Ve.set(B.truncDivision(Ee,2)+Tt,bt),Ve.set(bt,B.truncDivision(Ee,2)-Tt),Ve.set(bt,B.truncDivision(Ee,2)+Tt)}let Ue=new L;return Ue.setCompact(v),Ue.setSize(Ee),Ue.setLayers(T),Ue.setCodeWords(ie),Ue.setMatrix(Ve),Ue}static drawBullsEye(a,c,u){for(let h=0;h<u;h+=2)for(let g=c-h;g<=c+h;g++)a.set(g,c-h),a.set(g,c+h),a.set(c-h,g),a.set(c+h,g);a.set(c-u,c-u),a.set(c-u+1,c-u),a.set(c-u,c-u+1),a.set(c+u,c-u),a.set(c+u,c-u+1),a.set(c+u,c+u-1)}static generateModeMessage(a,c,u){let h=new Z;return a?(h.appendBits(c-1,2),h.appendBits(u-1,6),h=Ht.generateCheckWords(h,28,4)):(h.appendBits(c-1,5),h.appendBits(u-1,11),h=Ht.generateCheckWords(h,40,4)),h}static drawModeMessage(a,c,u,h){let g=B.truncDivision(u,2);if(c)for(let x=0;x<7;x++){let v=g-3+x;h.get(x)&&a.set(v,g-5),h.get(x+7)&&a.set(g+5,v),h.get(20-x)&&a.set(v,g+5),h.get(27-x)&&a.set(g-5,v)}else for(let x=0;x<10;x++){let v=g-5+x+B.truncDivision(x,5);h.get(x)&&a.set(v,g-7),h.get(x+10)&&a.set(g+7,v),h.get(29-x)&&a.set(v,g+7),h.get(39-x)&&a.set(g-7,v)}}static generateCheckWords(a,c,u){let h=a.getSize()/u,g=new Gs(Ht.getGF(u)),x=B.truncDivision(c,u),v=Ht.bitsToWords(a,u,x);g.encode(v,x-h);let T=c%u,C=new Z;C.appendBits(0,T);for(const D of Array.from(v))C.appendBits(D,u);return C}static bitsToWords(a,c,u){let h=new Int32Array(u),g,x;for(g=0,x=a.getSize()/c;g<x;g++){let v=0;for(let T=0;T<c;T++)v|=a.get(g*c+T)?1<<c-T-1:0;h[g]=v}return h}static getGF(a){switch(a){case 4:return nt.AZTEC_PARAM;case 6:return nt.AZTEC_DATA_6;case 8:return nt.AZTEC_DATA_8;case 10:return nt.AZTEC_DATA_10;case 12:return nt.AZTEC_DATA_12;default:throw new A("Unsupported word size "+a)}}static stuffBits(a,c){let u=new Z,h=a.getSize(),g=(1<<c)-2;for(let x=0;x<h;x+=c){let v=0;for(let T=0;T<c;T++)(x+T>=h||a.get(x+T))&&(v|=1<<c-1-T);(v&g)===g?(u.appendBits(v&g,c),x--):(v&g)===0?(u.appendBits(v|1,c),x--):u.appendBits(v,c)}return u}static totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}Ht.DEFAULT_EC_PERCENT=33,Ht.DEFAULT_AZTEC_LAYERS=0,Ht.MAX_NB_BITS=32,Ht.MAX_NB_BITS_COMPACT=4,Ht.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class uc{encode(a,c,u,h){return this.encodeWithHints(a,c,u,h,null)}encodeWithHints(a,c,u,h,g){let x=R.ISO_8859_1,v=Ht.DEFAULT_EC_PERCENT,T=Ht.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(qn.CHARACTER_SET)&&(x=b.forName(g.get(qn.CHARACTER_SET).toString())),g.has(qn.ERROR_CORRECTION)&&(v=B.parseInt(g.get(qn.ERROR_CORRECTION).toString())),g.has(qn.AZTEC_LAYERS)&&(T=B.parseInt(g.get(qn.AZTEC_LAYERS).toString()))),uc.encodeLayers(a,c,u,h,x,v,T)}static encodeLayers(a,c,u,h,g,x,v){if(c!==Ce.AZTEC)throw new A("Can only encode AZTEC, but got "+c);let T=Ht.encode(Y.getBytes(a,g),x,v);return uc.renderResult(T,u,h)}static renderResult(a,c,u){let h=a.getMatrix();if(h==null)throw new Pt;let g=h.getWidth(),x=h.getHeight(),v=Math.max(c,g),T=Math.max(u,x),C=Math.min(v/g,T/x),D=(v-g*C)/2,j=(T-x*C)/2,K=new _e(v,T);for(let ie=0,ce=j;ie<x;ie++,ce+=C)for(let ue=0,me=D;ue<g;ue++,me+=C)h.get(ue,ie)&&K.setRegion(me,ce,C,C);return K}}t.AbstractExpandedDecoder=ss,t.ArgumentException=_,t.ArithmeticException=wt,t.AztecCode=L,t.AztecCodeReader=to,t.AztecCodeWriter=uc,t.AztecDecoder=Lt,t.AztecDetector=hl,t.AztecDetectorResult=ua,t.AztecEncoder=Ht,t.AztecHighLevelEncoder=fo,t.AztecPoint=tn,t.BarcodeFormat=Ce,t.Binarizer=M,t.BinaryBitmap=I,t.BitArray=Z,t.BitMatrix=_e,t.BitSource=Er,t.BrowserAztecCodeReader=fa,t.BrowserBarcodeReader=nc,t.BrowserCodeReader=Oe,t.BrowserDatamatrixCodeReader=Du,t.BrowserMultiFormatReader=sc,t.BrowserPDF417Reader=ac,t.BrowserQRCodeReader=ml,t.BrowserQRCodeSvgWriter=_i,t.CharacterSetECI=O,t.ChecksumException=N,t.Code128Reader=Fe,t.Code39Reader=ln,t.DataMatrixDecodedBitStreamParser=os,t.DataMatrixReader=ti,t.DecodeHintType=se,t.DecoderResult=Ye,t.DefaultGridSampler=en,t.DetectorResult=Ts,t.EAN13Reader=zr,t.EncodeHintType=qn,t.Exception=y,t.FormatException=V,t.GenericGF=nt,t.GenericGFPoly=et,t.GlobalHistogramBinarizer=ae,t.GridSampler=eo,t.GridSamplerInstance=er,t.HTMLCanvasElementLuminanceSource=te,t.HybridBinarizer=de,t.ITFReader=Qt,t.IllegalArgumentException=A,t.IllegalStateException=Pt,t.InvertedLuminanceSource=Re,t.LuminanceSource=ve,t.MathUtils=_t,t.MultiFormatOneDReader=vi,t.MultiFormatReader=Hs,t.MultiFormatWriter=lc,t.NotFoundException=le,t.OneDReader=xn,t.PDF417DecodedBitStreamParser=Te,t.PDF417DecoderErrorCorrection=us,t.PDF417Reader=ur,t.PDF417ResultMetadata=ma,t.PerspectiveTransform=Kt,t.PlanarYUVLuminanceSource=pi,t.QRCodeByteMatrix=qs,t.QRCodeDataMask=kn,t.QRCodeDecodedBitStreamParser=Sn,t.QRCodeDecoderErrorCorrectionLevel=Dt,t.QRCodeDecoderFormatInformation=jn,t.QRCodeEncoder=fn,t.QRCodeEncoderQRCode=qr,t.QRCodeMaskUtil=Cn,t.QRCodeMatrixUtil=ot,t.QRCodeMode=rt,t.QRCodeReader=Bi,t.QRCodeVersion=je,t.QRCodeWriter=nr,t.RGBLuminanceSource=Ti,t.RSS14Reader=Nt,t.RSSExpandedReader=De,t.ReaderException=js,t.ReedSolomonDecoder=Jn,t.ReedSolomonEncoder=Gs,t.ReedSolomonException=on,t.Result=Ge,t.ResultMetadataType=He,t.ResultPoint=qe,t.StringUtils=Y,t.UnsupportedOperationException=W,t.VideoInputDevice=ye,t.WhiteRectangleDetector=di,t.WriterException=sn,t.ZXingArrays=G,t.ZXingCharset=b,t.ZXingInteger=B,t.ZXingStandardCharsets=R,t.ZXingStringBuilder=q,t.ZXingStringEncoding=Q,t.ZXingSystem=k,t.createAbstractExpandedDecoder=pl,Object.defineProperty(t,"__esModule",{value:!0})})}(kf,kf.exports)),kf.exports}var Vn=dB();const hB=j0(Vn),gB=yT({__proto__:null,default:hB},[Vn]);var __=function(){function n(e,t,r){if(this.formatMap=new Map([[$e.QR_CODE,Vn.BarcodeFormat.QR_CODE],[$e.AZTEC,Vn.BarcodeFormat.AZTEC],[$e.CODABAR,Vn.BarcodeFormat.CODABAR],[$e.CODE_39,Vn.BarcodeFormat.CODE_39],[$e.CODE_93,Vn.BarcodeFormat.CODE_93],[$e.CODE_128,Vn.BarcodeFormat.CODE_128],[$e.DATA_MATRIX,Vn.BarcodeFormat.DATA_MATRIX],[$e.MAXICODE,Vn.BarcodeFormat.MAXICODE],[$e.ITF,Vn.BarcodeFormat.ITF],[$e.EAN_13,Vn.BarcodeFormat.EAN_13],[$e.EAN_8,Vn.BarcodeFormat.EAN_8],[$e.PDF_417,Vn.BarcodeFormat.PDF_417],[$e.RSS_14,Vn.BarcodeFormat.RSS_14],[$e.RSS_EXPANDED,Vn.BarcodeFormat.RSS_EXPANDED],[$e.UPC_A,Vn.BarcodeFormat.UPC_A],[$e.UPC_E,Vn.BarcodeFormat.UPC_E],[$e.UPC_EAN_EXTENSION,Vn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!gB)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var s=this.createZXingFormats(e),o=new Map;o.set(Vn.DecodeHintType.POSSIBLE_FORMATS,s),o.set(Vn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,s){try{r(t.decode(e))}catch(o){s(o)}})},n.prototype.decode=function(e){var t=new Vn.MultiFormatReader(this.verbose,this.hints),r=new Vn.HTMLCanvasElementLuminanceSource(e),s=new Vn.BinaryBitmap(new Vn.HybridBinarizer(r)),o=t.decode(s);return{text:o.text,format:UI.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,s){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?t.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),pB=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(_){try{y(r.next(_))}catch(A){d(A)}}function w(_){try{y(r.throw(_))}catch(A){d(A)}}function y(_){_.done?o(_.value):s(_.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},mB=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(_){return w([y,_])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},T_=function(){function n(e,t,r){if(this.formatMap=new Map([[$e.QR_CODE,"qr_code"],[$e.AZTEC,"aztec"],[$e.CODABAR,"codabar"],[$e.CODE_39,"code_39"],[$e.CODE_93,"code_93"],[$e.CODE_128,"code_128"],[$e.DATA_MATRIX,"data_matrix"],[$e.ITF,"itf"],[$e.EAN_13,"ean_13"],[$e.EAN_8,"ean_8"],[$e.PDF_417,"pdf417"],[$e.UPC_A,"upc_a"],[$e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var s=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return pB(this,void 0,void 0,function(){var t,r;return mB(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=s.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:UI.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,s=0,o=e;s<o.length;s++){var d=o[s],p=d.boundingBox.width*d.boundingBox.height;p>r&&(r=p,t=d)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?t.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,s){e.set(t,r)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),A_=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(_){try{y(r.next(_))}catch(A){d(A)}}function w(_){try{y(r.throw(_))}catch(A){d(A)}}function y(_){_.done?o(_.value):s(_.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},S_=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(_){return w([y,_])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},yB=function(){function n(e,t,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&T_.isSupported()?(this.primaryDecoder=new T_(e,r,s),this.secondaryDecoder=new __(e,r,s)):this.primaryDecoder=new __(e,r,s)}return n.prototype.decodeAsync=function(e){return A_(this,void 0,void 0,function(){var t;return S_(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return A_(this,void 0,void 0,function(){var t,r;return S_(this,function(s){switch(s.label){case 0:t=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){var s=r[t];e+=s}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),Uw=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k0=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(_){try{y(r.next(_))}catch(A){d(A)}}function w(_){try{y(r.throw(_))}catch(A){d(A)}}function y(_){_.done?o(_.value):s(_.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},P0=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(_){return w([y,_])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},HI=function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n}(),wB=function(n){Uw(e,n);function e(t,r){return n.call(this,t,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(HI),xB=function(n){Uw(e,n);function e(t){return n.call(this,"zoom",t)||this}return e}(wB),vB=function(n){Uw(e,n);function e(t){return n.call(this,"torch",t)||this}return e}(HI),bB=function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new xB(this.track)},n.prototype.torchFeature=function(){return new vB(this.track)},n}(),EB=function(){function n(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,s=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,s),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,r,s){return k0(this,void 0,void 0,function(){var o,d;return P0(this,function(p){switch(p.label){case 0:return o=new n(e,t,s),r.aspectRatio?(d={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:p.sent(),p.label=2;case 2:return o.setupSurface(),[2,o]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return k0(this,void 0,void 0,function(){return P0(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var s=e.mediaStream.getVideoTracks(),o=s.length,d=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++d,d>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new bB(this.getFirstTrackOrFail())},n}(),_B=function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,r){return k0(this,void 0,void 0,function(){return P0(this,function(s){return[2,EB.create(e,this.mediaStream,t,r)]})})},n.create=function(e){return k0(this,void 0,void 0,function(){var t,r;return P0(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=s.sent(),[2,new n(r)]}})})},n}(),C_=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(_){try{y(r.next(_))}catch(A){d(A)}}function w(_){try{y(r.throw(_))}catch(A){d(A)}}function y(_){_.done?o(_.value):s(_.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},I_=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(_){return w([y,_])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},TB=function(){function n(){}return n.failIfNotSupported=function(){return C_(this,void 0,void 0,function(){return I_(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return C_(this,void 0,void 0,function(){return I_(this,function(t){return[2,_B.create(e)]})})},n}(),AB=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(_){try{y(r.next(_))}catch(A){d(A)}}function w(_){try{y(r.throw(_))}catch(A){d(A)}}function y(_){_.done?o(_.value):s(_.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},SB=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(_){return w([y,_])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},CB=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=Qc.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=Qc.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return AB(this,void 0,void 0,function(){var e,t,r,s,o,d,p;return SB(this,function(w){switch(w.label){case 0:return e=function(y){for(var _=y.getVideoTracks(),A=0,I=_;A<I.length;A++){var N=I[A];N.enabled=!1,N.stop(),y.removeTrack(N)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=w.sent(),s=[],o=0,d=r;o<d.length;o++)p=d[o],p.kind==="videoinput"&&s.push({id:p.deviceId,label:p.label});return e(t),[2,s]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var r=function(o){for(var d=[],p=0,w=o;p<w.length;p++){var y=w[p];y.kind==="video"&&d.push({id:y.id,label:y.label})}e(d)},s=MediaStreamTrack;s.getSources(r)})},n}(),ar;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(ar||(ar={}));var IB=function(){function n(){this.state=ar.NOT_STARTED,this.onGoingTransactionNewState=ar.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===ar.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ar.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===ar.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ar.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ar.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case ar.UNKNOWN:throw"Transition from unknown is not allowed";case ar.NOT_STARTED:this.failIfNewStateIs(e,[ar.PAUSED]);break;case ar.SCANNING:break;case ar.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,s=t;r<s.length;r++){var o=s[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n}(),RB=function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===ar.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==ar.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ar.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===ar.PAUSED},n}(),NB=function(){function n(){}return n.create=function(){return new RB(new IB)},n}(),MB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ki=function(n){MB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(ks),DB=function(){function n(e,t){this.logger=t,this.fps=Ki.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ki.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?jI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Js(this.qrbox)},n.create=function(e,t){return new n(e,t)},n}(),R_=function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new zI(this.verbose),this.qrcode=new yB(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=NB.create()}return n.prototype.start=function(e,t,r,s){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;s?d=s:d=this.verbose?this.logger.log:function(){};var p=DB.create(t,this.logger);this.clearElement();var w=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var y=w,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:Ki.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var A=this,I=this.stateManagerProxy.startTransition(ar.SCANNING);return new Promise(function(N,M){var k=y?p.videoConstraints:A.createVideoConstraints(e);if(!k){I.cancel(),M("videoConstraints should be defined");return}var H={};(!y||p.aspectRatio)&&(H.aspectRatio=p.aspectRatio);var F={onRenderSurfaceReady:function(G,B){A.setupUi(G,B,p),A.isScanning=!0,A.foreverScan(p,r,d)}};TB.failIfNotSupported().then(function(G){G.create(k).then(function(B){return B.render(o.element,H,F).then(function(Z){A.renderedCamera=Z,I.execute(),N(null)}).catch(function(Z){I.cancel(),M(Z)})}).catch(function(B){I.cancel(),M(Qc.errorGettingUserMedia(B))})}).catch(function(G){I.cancel(),M(Qc.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ar.PAUSED),this.showPausedState(),(Js(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(ar.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(ar.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(Ki.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),t.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Js(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var d=new Image;d.onload=function(){var p=d.width,w=d.height,y=document.getElementById(r.elementId),_=y.clientWidth?y.clientWidth:Ki.DEFAULT_WIDTH,A=Math.max(y.clientHeight?y.clientHeight:w,Ki.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(p,w,_,A);if(t){var N=r.createCanvasElement(_,A,"qr-canvas-visible");N.style.display="inline-block",y.appendChild(N);var M=N.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=_,M.canvas.height=A,M.drawImage(d,0,0,p,w,I.x,I.y,I.width,I.height)}var k=Ki.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(d.width,I.width),F=Math.max(d.height,I.height),G=H+2*k,B=F+2*k,Z=r.createCanvasElement(G,B);y.appendChild(Z);var re=Z.getContext("2d");if(!re)throw"Unable to get 2d context from canvas";re.canvas.width=G,re.canvas.height=B,re.drawImage(d,0,0,p,w,k,k,H,F);try{r.qrcode.decodeRobustlyAsync(Z).then(function(se){s(v_.createFromQrcodeResult(se))}).catch(o)}catch(se){o("QR code parse error, error = ".concat(se))}},d.onerror=o,d.onabort=o,d.onstalled=o,d.onsuspend=o,d.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return CB.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!jI.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[$e.QR_CODE,$e.AZTEC,$e.CODABAR,$e.CODE_39,$e.CODE_93,$e.CODE_128,$e.DATA_MATRIX,$e.MAXICODE,$e.ITF,$e.EAN_13,$e.EAN_8,$e.PDF_417,$e.RSS_14,$e.RSS_EXPANDED,$e.UPC_A,$e.UPC_E,$e.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=e.formatsToSupport;s<o.length;s++){var d=o[s];cB(d)?r.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Js(e))return!0;if(!Js(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Js(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Js(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var d=this.toQrdimensions(e,t,o),p=function(y){if(y<Ki.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ki.MIN_QR_BOX_SIZE,"px.")},w=function(y){return y>e&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),y=e),y};p(d.width),p(d.height),d.width=w(d.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,t)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},n.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var s=Js(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,t,s);o.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=r.isShadedBoxEnabled()&&o.height<=t,p={x:0,y:0,width:e,height:t},w=d?this.getShadedRegionBounds(e,t,o):p,y=this.createCanvasElement(w.width,w.height),_={willReadFrequently:!0},A=y.getContext("2d",_);A.canvas.width=w.width,A.canvas.height=w.height,this.element.append(y),d&&this.possiblyInsertShadingElement(this.element,e,t,o),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=A,this.canvasElement=y},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Qc.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return e(s.text,v_.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=Qc.codeParseError(s);return t(o,FI.createFrom(o)),!1})},n.prototype.foreverScan=function(e,t,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),d=o.videoWidth/o.clientWidth,p=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*d,y=this.qrRegion.height*p,_=this.qrRegion.x*d,A=this.qrRegion.y*p;this.context.drawImage(o,_,A,w,y,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(e,t,r)},s.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(N){!N&&e.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(t,r).finally(function(){I()})):I()}).catch(function(N){s.logger.logError("Error happend while scanning context",N),I()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",r="deviceId",s={user:!0,environment:!0},o="exact",d=function(M){if(M in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var w=Object.keys(e)[0];if(w!==t&&w!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(w===t){var y=e.facingMode;if(typeof y=="string"){if(d(y))return{facingMode:y}}else if(typeof y=="object")if(o in y){if(d(y["".concat(o)]))return{facingMode:{exact:y["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var _=typeof y;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(o in A)return{deviceId:{exact:A["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var I=typeof A;throw"Invalid type of 'deviceId' = ".concat(I)}}}var N=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(N)},n.prototype.computeCanvasDrawConfig=function(e,t,r,s){if(e<=r&&t<=s){var o=(r-e)/2,d=(s-t)/2;return{x:o,y:d,width:e,height:t}}else{var p=e,w=t;return e>r&&(t=r/e*t,e=r),t>s&&(e=s/t*e,t=s),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(w)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,s)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?Ki.BORDER_SHADER_MATCH_COLOR:Ki.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var s=e,o=t,d=document.createElement("canvas");return d.style.width="".concat(s,"px"),d.style.height="".concat(o,"px"),d.style.display="none",d.id=Js(r)?"qr-canvas":r,d},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,s){if(!(t-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var d=(t-s.width)/2,p=(r-s.height)/2;if(o.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Ki.SHADED_REGION_ELEMENT_ID),t-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var w=5,y=40;this.insertShaderBorders(o,y,w,-w,null,0,!0),this.insertShaderBorders(o,y,w,-w,null,0,!1),this.insertShaderBorders(o,y,w,null,-w,0,!0),this.insertShaderBorders(o,y,w,null,-w,0,!1),this.insertShaderBorders(o,w,y+w,-w,null,-w,!0),this.insertShaderBorders(o,w,y+w,null,-w,-w,!0),this.insertShaderBorders(o,w,y+w,-w,null,-w,!1),this.insertShaderBorders(o,w,y+w,null,-w,-w,!1),this.hasBorderShaders=!0}e.append(o)}},n.prototype.insertShaderBorders=function(e,t,r,s,o,d,p){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Ki.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(t,"px"),w.style.height="".concat(r,"px"),s!==null&&(w.style.top="".concat(s,"px")),o!==null&&(w.style.bottom="".concat(o,"px")),p?w.style.left="".concat(d,"px"):w.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),e.appendChild(w)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n}(),Fw="data:image/svg+xml;base64,",OB=Fw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",kB=Fw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",N_=Fw+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",PB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",M_=function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n}(),LB=function(){function n(){this.data=M_.createDefault();var e=localStorage.getItem(n.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},n.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=M_.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n}(),BB=function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=b_.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=b_.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n}(),VB=function(){function n(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=N_,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return t.onHoverIn()},this.infoIcon.onmouseout=function(r){return t.onHoverOut()},this.infoIcon.onclick=function(r){return t.onClick()},e.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=PB,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=N_,this.infoIcon.style.opacity="0.6")},n}(),UB=function(){function n(){var e=this;this.infoDiv=new BB,this.infoIcon=new VB(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return n.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},n}(),FB=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(_){try{y(r.next(_))}catch(A){d(A)}}function w(_){try{y(r.throw(_))}catch(A){d(A)}}function y(_){_.done?o(_.value):s(_.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},zB=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(_){return w([y,_])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},D_=function(){function n(){}return n.hasPermissions=function(){return FB(this,void 0,void 0,function(){var e,t,r,s;return zB(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=o.sent(),t=0,r=e;t<r.length;t++)if(s=r[t],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},n}(),Vo=function(){function n(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return n.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},n.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},n.prototype.isCameraScanRequired=function(){for(var e=0,t=this.supportedScanTypes;e<t.length;e++){var r=t[e];if(n.isCameraScanType(r))return!0}return!1},n.isCameraScanType=function(e){return e===il.SCAN_TYPE_CAMERA},n.isFileScanType=function(e){return e===il.SCAN_TYPE_FILE},n.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return ks.DEFAULT_SUPPORTED_SCAN_TYPE;var t=ks.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,s=e;r<s.length;r++){var o=s[r];if(!ks.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return e},n}(),Ji=function(){function n(){}return n.ALL_ELEMENT_CLASS="html5-qrcode-element",n.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",n.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",n.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",n.TORCH_BUTTON_ID="html5-qrcode-button-torch",n.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",n.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",n.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",n.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",n.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",n.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",n}(),Ua=function(){function n(){}return n.createElement=function(e,t){var r=document.createElement(e);return r.id=t,r.classList.add(Ji.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},n}(),GI=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(d){d(o)})}return new(t||(t=Promise))(function(o,d){function p(_){try{y(r.next(_))}catch(A){d(A)}}function w(_){try{y(r.throw(_))}catch(A){d(A)}}function y(_){_.done?o(_.value):s(_.value).then(p,w)}y((r=r.apply(n,e||[])).next())})},qI=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,d;return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(y){return function(_){return w([y,_])}}function w(y){if(r)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(t=0)),t;)try{if(r=1,s&&(o=y[0]&2?s.return:y[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,y[1])).done)return o;switch(s=0,o&&(y=[y[0]&2,o.value]),y[0]){case 0:case 1:o=y;break;case 4:return t.label++,{value:y[1],done:!1};case 5:t.label++,s=y[1],y=[0];continue;case 7:y=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(y[0]===6||y[0]===2)){t=0;continue}if(y[0]===3&&(!o||y[1]>o[0]&&y[1]<o[3])){t.label=y[1];break}if(y[0]===6&&t.label<o[1]){t.label=o[1],o=y;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(y);break}o[2]&&t.ops.pop(),t.trys.pop();continue}y=e.call(n,t)}catch(_){y=[6,_],s=0}finally{r=o=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},O_=function(){function n(e,t,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=r}return n.prototype.isTorchEnabled=function(){return this.isTorchOn},n.prototype.flipState=function(){return GI(this,void 0,void 0,function(){var e,t;return qI(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=r.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},n.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?yn.torchOffButton():yn.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},n.prototype.propagateFailure=function(e,t){var r=e?yn.torchOnFailedMessage():yn.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},n.prototype.reset=function(){this.isTorchOn=!1},n}(),jB=function(){function n(e,t){this.onTorchActionFailureCallback=t,this.torchButton=Ua.createElement("button",Ji.TORCH_BUTTON_ID),this.torchController=new O_(e,this,t)}return n.prototype.render=function(e,t){var r=this;this.torchButton.innerText=yn.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return GI(r,void 0,void 0,function(){return qI(this,function(d){switch(d.label){case 0:return[4,s.torchController.flipState()];case 1:return d.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Ji.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Ji.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Ji.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Ji.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},n.prototype.updateTorchCapability=function(e){this.torchController=new O_(e,this,this.onTorchActionFailureCallback)},n.prototype.getTorchButton=function(){return this.torchButton},n.prototype.hide=function(){this.torchButton.style.display="none"},n.prototype.show=function(){this.torchButton.style.display="inline-block"},n.prototype.disable=function(){this.torchButton.disabled=!0},n.prototype.enable=function(){this.torchButton.disabled=!1},n.prototype.setText=function(e){this.torchButton.innerText=e},n.prototype.reset=function(){this.torchButton.innerText=yn.torchOnButton(),this.torchController.reset()},n.create=function(e,t,r,s){var o=new n(t,s);return o.render(e,r),o},n}(),HB=function(){function n(e,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Ua.createElement("button",Ji.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Ua.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var w=p.target;if(!(w.files&&w.files.length===0)){var y=w.files,_=y[0],A=_.name;o.setImageNameToButton(A),r(_)}}});var d=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(d),this.fileBasedScanRegion.addEventListener("dragenter",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var w=p.dataTransfer;if(w){var y=w.files;if(!y||y.length===0)return;for(var _=!1,A=0;A<y.length;++A){var I=y.item(A);if(I){var N=/image.*/;if(I.type.match(N)){_=!0;var M=I.name;o.setImageNameToButton(M),r(I),d.innerText=yn.dragAndDropMessage();break}}}_||(d.innerText=yn.dragAndDropMessageOnlyImages())}})}return n.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},n.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},n.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},n.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},n.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},n.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},n.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},n.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=yn.dragAndDropMessage(),e.style.fontWeight="400",e},n.prototype.setImageNameToButton=function(e){var t=20;if(e.length>t){var r=e.substring(0,8),s=e.length,o=e.substring(s-8,s);e="".concat(r,"....").concat(o)}var d=yn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=d},n.prototype.setInitialValueToButton=function(){var e=yn.fileSelectionChooseImage()+" - "+yn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},n.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},n.create=function(e,t,r){var s=new n(e,t,r);return s},n}(),GB=function(){function n(e){this.selectElement=Ua.createElement("select",Ji.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return n.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)t.style.display="none";else{var s=yn.selectCamera();t.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,d=0,p=this.cameras;d<p.length;d++){var w=p[d],y=w.id,_=w.label==null?y:w.label;(!_||_==="")&&(_=[yn.anonymousCameraPrefix(),o++].join(" "));var A=document.createElement("option");A.value=y,A.innerText=_,this.options.push(A),this.selectElement.appendChild(A)}t.appendChild(this.selectElement),e.appendChild(t)},n.prototype.disable=function(){this.selectElement.disabled=!0},n.prototype.isDisabled=function(){return this.selectElement.disabled===!0},n.prototype.enable=function(){this.selectElement.disabled=!1},n.prototype.getValue=function(){return this.selectElement.value},n.prototype.hasValue=function(e){for(var t=0,r=this.options;t<r.length;t++){var s=r[t];if(s.value===e)return!0}return!1},n.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},n.prototype.hasSingleItem=function(){return this.cameras.length===1},n.prototype.numCameras=function(){return this.cameras.length},n.create=function(e,t){var r=new n(t);return r.render(e),r},n}(),qB=function(){function n(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ua.createElement("input",Ji.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return n.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=yn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},n.prototype.onValueChange=function(){var e=yn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},n.prototype.setValues=function(e,t,r,s){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},n.prototype.show=function(){this.zoomElementContainer.style.display="block"},n.prototype.hide=function(){this.zoomElementContainer.style.display="none"},n.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},n.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},n.create=function(e,t){var r=new n;return r.render(e,t),r},n}(),Qi;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Qi||(Qi={}));function YB(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}function WB(n,e){return{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:e}}var YI=function(){function n(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Vo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new zI(this.verbose),this.persistedDataManager=new LB,t.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return n.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,d){if(e)e(o,d);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(yn.lastMatch(o),Qi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,d){t&&t(o,d)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new R_(this.getScanRegionId(),WB(this.config,this.verbose))},n.prototype.pause=function(e){(Js(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},n.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},n.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},n.prototype.clear=function(){var e=this,t=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(o){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),t(),r()}).catch(function(o){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(e.html5Qrcode.clear(),t(),r())}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},n.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},n.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},n.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ks.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ks.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ks.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ks.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ks.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ks.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ks.DEFAULT_SUPPORTED_SCAN_TYPE}},n.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),Vo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",e.appendChild(s),this.setupInitialDashboard(s)},n.prototype.resetBasicLayout=function(e){e.style.border="none"},n.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},n.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t);var r=new UB;r.renderInto(t);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",t.appendChild(s)},n.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},n.prototype.createCameraListUi=function(e,t,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(yn.cameraPermissionRequesting());var o=function(){r||s.createPermissionButton(e,t)};R_.getCameras().then(function(d){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),d&&d.length>0?(e.removeChild(t),s.renderCameraSelection(d)):(s.setHeaderMessage(yn.noCameraFound(),Qi.STATUS_WARNING),o())}).catch(function(d){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),s.setHeaderMessage(d,Qi.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},n.prototype.createPermissionButton=function(e,t){var r=this,s=Ua.createElement("button",this.getCameraPermissionButtonId());s.innerText=yn.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(e,t,s)}),t.appendChild(s)},n.prototype.createPermissionsUi=function(e,t){var r=this;if(Vo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){D_.hasPermissions().then(function(s){s?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},n.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Vo.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(t)},n.prototype.renderFileScanUi=function(e){var t=Vo.isFileScanType(this.currentScanType),r=this,s=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";Vo.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(yn.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(d){r.resetHeaderMessage(),r.qrCodeSuccessCallback(d.decodedText,d)}).catch(function(d){r.setHeaderMessage(d,Qi.STATUS_WARNING),r.qrCodeErrorCallback(d,FI.createFrom(d))}))};this.fileSelectionUi=HB.create(e,t,s)},n.prototype.renderCameraSelection=function(e){var t=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=qB.create(s,!1),d=function(k){var H=k.zoomFeature();if(H.isSupported()){o.setOnCameraZoomValueChangeCallback(function(G){H.apply(G)});var F=1;t.config.defaultZoomValueIfSupported&&(F=t.config.defaultZoomValueIfSupported),F=uB(F,H.min(),H.max()),o.setValues(H.min(),H.max(),F,H.step()),o.show()}},p=GB.create(s,e),w=document.createElement("span"),y=Ua.createElement("button",Ji.CAMERA_START_BUTTON_ID);y.innerText=yn.scanButtonStartScanningText(),w.appendChild(y);var _=Ua.createElement("button",Ji.CAMERA_STOP_BUTTON_ID);_.innerText=yn.scanButtonStopScanningText(),_.style.display="none",_.disabled=!0,w.appendChild(_);var A,I=function(k){if(!k.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(k.torchFeature()):A=jB.create(w,k.torchFeature(),{display:"none",marginLeft:"5px"},function(H){r.setHeaderMessage(H,Qi.STATUS_WARNING)}),A.show()};s.appendChild(w);var N=function(k){k||(y.style.display="none"),y.innerText=yn.scanButtonStartScanningText(),y.style.opacity="1",y.disabled=!1,k&&(y.style.display="inline-block")};if(y.addEventListener("click",function(k){y.innerText=yn.scanButtonScanningStarting(),p.disable(),y.disabled=!0,y.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var H=p.getValue();r.persistedDataManager.setLastUsedCameraId(H),r.html5Qrcode.start(H,YB(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(F){_.disabled=!1,_.style.display="inline-block",N(!1);var G=r.html5Qrcode.getRunningTrackCameraCapabilities();t.config.showTorchButtonIfSupported===!0&&I(G),t.config.showZoomSliderIfSupported===!0&&d(G)}).catch(function(F){r.showHideScanTypeSwapLink(!0),p.enable(),N(!0),r.setHeaderMessage(F,Qi.STATUS_WARNING)})}),p.hasSingleItem()&&y.click(),_.addEventListener("click",function(k){if(!r.html5Qrcode)throw"html5Qrcode not defined";_.disabled=!0,r.html5Qrcode.stop().then(function(H){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),p.enable(),y.disabled=!1,_.style.display="none",y.style.display="inline-block",A&&(A.reset(),A.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(H){_.disabled=!1,r.setHeaderMessage(H,Qi.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var M=r.persistedDataManager.getLastUsedCameraId();p.hasValue(M)?(p.setValue(M),y.click()):r.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var e=this,t=yn.textIfCameraScanSelected(),r=yn.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var d=Ua.createElement("span",this.getDashboardSectionSwapLinkId());d.style.textDecoration="underline",d.style.cursor="pointer",d.innerText=Vo.isCameraScanType(this.currentScanType)?t:r,d.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Vo.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),d.innerText=r,e.currentScanType=il.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),d.innerText=t,e.currentScanType=il.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(d),s.appendChild(o)},n.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){D_.hasPermissions().then(function(r){if(r){var s=document.getElementById(t.getCameraPermissionButtonId());if(!s)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(r){t.persistedDataManager.setHasPermission(!1)});return}},n.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},n.prototype.setHeaderMessage=function(e,t){t||(t=Qi.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case Qi.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Qi.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Qi.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},n.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},n.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML="<br>",t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=OB,this.cameraScanImage.alt=yn.cameraScanAltText()},n.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML="<br>",t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=kB,this.fileScanImage.alt=yn.fileScanAltText()},n.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},n.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},n.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},n.prototype.getDashboardSectionSwapLinkId=function(){return Ji.SCAN_TYPE_CHANGE_ANCHOR_ID},n.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},n.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},n.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},n.prototype.getCameraPermissionButtonId=function(){return Ji.CAMERA_PERMISSION_BUTTON_ID},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},n}();console.log(YI);function XB({onScanSuccess:n,onScanError:e}){const[t,r]=$.useState(!1),[s,o]=$.useState(null),[d,p]=$.useState(null),w=$.useRef(null),y="qr-reader-container",_=$.useCallback(M=>{M&&(o(M),n==null||n(M),w.current&&(w.current.clear().catch(k=>{console.warn("Failed to stop QR scanner: ",k)}),w.current=null))},[n]),A=$.useCallback(M=>{M.includes("NotFoundException")||M.includes("IndexSizeError")||(p(M),e&&e(M))},[e]);return $.useEffect(()=>{if(!t){w.current&&(w.current.clear().catch(k=>{console.warn("Failed to clear QR scanner:",k)}),w.current=null);return}const M=setTimeout(()=>{if(!document.getElementById(y)){p("QR container not found");return}if(!w.current){const H={fps:10,qrbox:{width:250,height:250}},F=!1,G=new YI(y,H,F);G.render(_,A),w.current=G}},300);return()=>{M&&clearTimeout(M),w.current&&(w.current.clear().catch(k=>{console.warn("Cleanup: Failed to clear QR scanner:",k)}),w.current=null)}},[t,_,A]),{showScanner:t,openScanner:()=>{p(null),o(""),r(!0)},closeScanner:()=>{r(!1),p(null),o("")},scanResult:s,scanError:d,qrContainerId:y}}function KB({freezerData:n,onDeleteFreezer:e,onEditFreezer:t,onAddShelf:r,onUpdateShelf:s,onRemoveShelf:o,onAddProduct:d,onUpdateProduct:p,onRemoveProduct:w}){const{config:y,open:_,close:A}=Pg();return X.jsxs("div",{className:"container mx-auto p-4",children:[X.jsxs("div",{className:"flex justify-center items-center mb-4",children:[X.jsx("h1",{className:"text-2xl font-bold text-center",children:n.name}),X.jsx(rs,{onClick:()=>_({mode:"edit",title:"Freezer",onSubmit:I=>{t(I.name)},fields:[{key:"name",label:"Freezer Name",type:"text",placeholder:"Enter freezer name",required:!0}],initialData:{name:n.name}}),action:"edit"}),X.jsx(rs,{onClick:()=>_({mode:"delete",title:"Freezer",onSubmit:I=>{e(I)}}),action:"delete"})]}),X.jsx(iu,{className:"max-w-xl mx-auto dark:bg-blue-900",children:X.jsxs("div",{className:"flex flex-col gap-4 pb-4 max-h-[500px] overflow-y-auto scrollbar-thin scrollbar-track-blue-100 scrollbar-thumb-blue-300 dark:scrollbar-track-blue-900 dark:scrollbar-thumb-blue-700",children:[n.shelves&&n.shelves.map(I=>X.jsx(mT,{shelf:I,freezerId:n.id,freezerData:n,onRemoveShelf:o,onUpdateShelf:s,onAddProduct:d,onUpdateProduct:p,onRemoveProduct:w,className:"bg-white dark:bg-blue-800 rounded-lg p-4 shadow-lg transition-all hover:shadow-xl"},I.id)),X.jsx(mT,{shelf:{id:"",name:"No shelf products"},freezerId:n.id,freezerData:n,onRemoveShelf:o,onUpdateShelf:s,onAddProduct:d,onUpdateProduct:p,onRemoveProduct:w,className:"bg-white dark:bg-blue-800 rounded-lg p-4 shadow-lg transition-all hover:shadow-xl"},"unassigned"),X.jsx(rs,{onClick:()=>_({mode:"add",title:"Shelf",onSubmit:({name:I})=>{r(I)},fields:[{key:"name",label:"Shelf Name",type:"text",placeholder:"Enter shelf name",required:!0}]}),label:"Add Shelf",action:"submit"})]})}),X.jsx(Og,{show:y.mode!==null,mode:y.mode,title:y.title,fields:y.fields,initialData:y.initialData,onSubmit:y.onSubmit,onClose:A})]})}function k_(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function zw(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:k_(e[r])&&k_(n[r])&&Object.keys(e[r]).length>0&&zw(n[r],e[r])})}const WI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jl(){const n=typeof document<"u"?document:{};return zw(n,WI),n}const QB={document:WI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function wi(){const n=typeof window<"u"?window:{};return zw(n,QB),n}function ZB(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function $B(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Ey(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function L0(){return Date.now()}function JB(n){const e=wi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function eV(n,e){e===void 0&&(e="x");const t=wi();let r,s,o;const d=JB(n);return t.WebKitCSSMatrix?(s=d.transform||d.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(p=>p.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=d.MozTransform||d.OTransform||d.MsTransform||d.msTransform||d.transform||d.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Hh(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function tV(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function $i(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!tV(r)){const s=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,d=s.length;o<d;o+=1){const p=s[o],w=Object.getOwnPropertyDescriptor(r,p);w!==void 0&&w.enumerable&&(Hh(n[p])&&Hh(r[p])?r[p].__swiper__?n[p]=r[p]:$i(n[p],r[p]):!Hh(n[p])&&Hh(r[p])?(n[p]={},r[p].__swiper__?n[p]=r[p]:$i(n[p],r[p])):n[p]=r[p])}}}return n}function Gh(n,e,t){n.style.setProperty(e,t)}function XI(n){let{swiper:e,targetPosition:t,side:r}=n;const s=wi(),o=-e.translate;let d=null,p;const w=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const y=t>o?"next":"prev",_=(I,N)=>y==="next"&&I>=N||y==="prev"&&I<=N,A=()=>{p=new Date().getTime(),d===null&&(d=p);const I=Math.max(Math.min((p-d)/w,1),0),N=.5-Math.cos(I*Math.PI)/2;let M=o+N*(t-o);if(_(M,t)&&(M=t),e.wrapperEl.scrollTo({[r]:M}),_(M,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:M})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(A)};A()}function ta(n,e){e===void 0&&(e="");const t=wi(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function nV(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function rV(n,e){const t=wi();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=nV(n,e))),r}function B0(n){try{console.warn(n);return}catch{}}function V0(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:ZB(e)),t}function iV(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function sV(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function qo(n,e){return wi().getComputedStyle(n,null).getPropertyValue(e)}function P_(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function aV(n,e){const t=[];let r=n.parentElement;for(;r;)t.push(r),r=r.parentElement;return t}function L_(n,e,t){const r=wi();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ka(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Jp;function oV(){const n=wi(),e=Jl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function KI(){return Jp||(Jp=oV()),Jp}let em;function lV(n){let{userAgent:e}=n===void 0?{}:n;const t=KI(),r=wi(),s=r.navigator.platform,o=e||r.navigator.userAgent,d={ios:!1,android:!1},p=r.screen.width,w=r.screen.height,y=o.match(/(Android);?[\s\/]+([\d.]+)?/);let _=o.match(/(iPad).*OS\s([\d_]+)/);const A=o.match(/(iPod)(.*OS\s([\d_]+))?/),I=!_&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),N=s==="Win32";let M=s==="MacIntel";const k=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!_&&M&&t.touch&&k.indexOf(`${p}x${w}`)>=0&&(_=o.match(/(Version)\/([\d.]+)/),_||(_=[0,1,"13_0_0"]),M=!1),y&&!N&&(d.os="android",d.android=!0),(_||I||A)&&(d.os="ios",d.ios=!0),d}function QI(n){return n===void 0&&(n={}),em||(em=lV(n)),em}let tm;function cV(){const n=wi(),e=QI();let t=!1;function r(){const p=n.navigator.userAgent.toLowerCase();return p.indexOf("safari")>=0&&p.indexOf("chrome")<0&&p.indexOf("android")<0}if(r()){const p=String(n.navigator.userAgent);if(p.includes("Version/")){const[w,y]=p.split("Version/")[1].split(" ")[0].split(".").map(_=>Number(_));t=w<16||w===16&&y<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),d=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:d,isWebView:s}}function ZI(){return tm||(tm=cV()),tm}function uV(n){let{swiper:e,on:t,emit:r}=n;const s=wi();let o=null,d=null;const p=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},w=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(A=>{d=s.requestAnimationFrame(()=>{const{width:I,height:N}=e;let M=I,k=N;A.forEach(H=>{let{contentBoxSize:F,contentRect:G,target:B}=H;B&&B!==e.el||(M=G?G.width:(F[0]||F).inlineSize,k=G?G.height:(F[0]||F).blockSize)}),(M!==I||k!==N)&&p()})}),o.observe(e.el))},y=()=>{d&&s.cancelAnimationFrame(d),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},_=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){w();return}s.addEventListener("resize",p),s.addEventListener("orientationchange",_)}),t("destroy",()=>{y(),s.removeEventListener("resize",p),s.removeEventListener("orientationchange",_)})}function fV(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o=[],d=wi(),p=function(_,A){A===void 0&&(A={});const I=d.MutationObserver||d.WebkitMutationObserver,N=new I(M=>{if(e.__preventObserver__)return;if(M.length===1){s("observerUpdate",M[0]);return}const k=function(){s("observerUpdate",M[0])};d.requestAnimationFrame?d.requestAnimationFrame(k):d.setTimeout(k,0)});N.observe(_,{attributes:typeof A.attributes>"u"?!0:A.attributes,childList:e.isElement||(typeof A.childList>"u"?!0:A).childList,characterData:typeof A.characterData>"u"?!0:A.characterData}),o.push(N)},w=()=>{if(e.params.observer){if(e.params.observeParents){const _=aV(e.hostEl);for(let A=0;A<_.length;A+=1)p(_[A])}p(e.hostEl,{childList:e.params.observeSlideChildren}),p(e.wrapperEl,{attributes:!1})}},y=()=>{o.forEach(_=>{_.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",w),r("destroy",y)}var dV={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,d=new Array(o),p=0;p<o;p++)d[p]=arguments[p];e.apply(r,d)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,o=new Array(s),d=0;d<s;d++)o[d]=arguments[d];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(w=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(y=>{y.apply(r,[w,...t])}),n.eventsListeners&&n.eventsListeners[w]&&n.eventsListeners[w].forEach(y=>{y.apply(r,t)})}),n}};function hV(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(qo(r,"padding-left")||0,10)-parseInt(qo(r,"padding-right")||0,10),t=t-parseInt(qo(r,"padding-top")||0,10)-parseInt(qo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function gV(){const n=this;function e(W,Q){return parseFloat(W.getPropertyValue(n.getDirectionLabel(Q))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:d,wrongRTL:p}=n,w=n.virtual&&t.virtual.enabled,y=w?n.virtual.slides.length:n.slides.length,_=ta(s,`.${n.params.slideClass}, swiper-slide`),A=w?n.virtual.slides.length:_.length;let I=[];const N=[],M=[];let k=t.slidesOffsetBefore;typeof k=="function"&&(k=t.slidesOffsetBefore.call(n));let H=t.slidesOffsetAfter;typeof H=="function"&&(H=t.slidesOffsetAfter.call(n));const F=n.snapGrid.length,G=n.slidesGrid.length;let B=t.spaceBetween,Z=-k,re=0,se=0;if(typeof o>"u")return;typeof B=="string"&&B.indexOf("%")>=0?B=parseFloat(B.replace("%",""))/100*o:typeof B=="string"&&(B=parseFloat(B)),n.virtualSize=-B,_.forEach(W=>{d?W.style.marginLeft="":W.style.marginRight="",W.style.marginBottom="",W.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Gh(r,"--swiper-centered-offset-before",""),Gh(r,"--swiper-centered-offset-after",""));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(_):n.grid&&n.grid.unsetSlides();let P;const O=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(W=>typeof t.breakpoints[W].slidesPerView<"u").length>0;for(let W=0;W<A;W+=1){P=0;let Q;if(_[W]&&(Q=_[W]),V&&n.grid.updateSlide(W,Q,_),!(_[W]&&qo(Q,"display")==="none")){if(t.slidesPerView==="auto"){O&&(_[W].style[n.getDirectionLabel("width")]="");const Y=getComputedStyle(Q),q=Q.style.transform,_e=Q.style.webkitTransform;if(q&&(Q.style.transform="none"),_e&&(Q.style.webkitTransform="none"),t.roundLengths)P=n.isHorizontal()?L_(Q,"width"):L_(Q,"height");else{const le=e(Y,"width"),ae=e(Y,"padding-left"),de=e(Y,"padding-right"),ve=e(Y,"margin-left"),Re=e(Y,"margin-right"),te=Y.getPropertyValue("box-sizing");if(te&&te==="border-box")P=le+ve+Re;else{const{clientWidth:ye,offsetWidth:Ne}=Q;P=le+ae+de+ve+Re+(Ne-ye)}}q&&(Q.style.transform=q),_e&&(Q.style.webkitTransform=_e),t.roundLengths&&(P=Math.floor(P))}else P=(o-(t.slidesPerView-1)*B)/t.slidesPerView,t.roundLengths&&(P=Math.floor(P)),_[W]&&(_[W].style[n.getDirectionLabel("width")]=`${P}px`);_[W]&&(_[W].swiperSlideSize=P),M.push(P),t.centeredSlides?(Z=Z+P/2+re/2+B,re===0&&W!==0&&(Z=Z-o/2-B),W===0&&(Z=Z-o/2-B),Math.abs(Z)<1/1e3&&(Z=0),t.roundLengths&&(Z=Math.floor(Z)),se%t.slidesPerGroup===0&&I.push(Z),N.push(Z)):(t.roundLengths&&(Z=Math.floor(Z)),(se-Math.min(n.params.slidesPerGroupSkip,se))%n.params.slidesPerGroup===0&&I.push(Z),N.push(Z),Z=Z+P+B),n.virtualSize+=P+B,re=P,se+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+H,d&&p&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+B}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+B}px`),V&&n.grid.updateWrapperSize(P,I),!t.centeredSlides){const W=[];for(let Q=0;Q<I.length;Q+=1){let Y=I[Q];t.roundLengths&&(Y=Math.floor(Y)),I[Q]<=n.virtualSize-o&&W.push(Y)}I=W,Math.floor(n.virtualSize-o)-Math.floor(I[I.length-1])>1&&I.push(n.virtualSize-o)}if(w&&t.loop){const W=M[0]+B;if(t.slidesPerGroup>1){const Q=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),Y=W*t.slidesPerGroup;for(let q=0;q<Q;q+=1)I.push(I[I.length-1]+Y)}for(let Q=0;Q<n.virtual.slidesBefore+n.virtual.slidesAfter;Q+=1)t.slidesPerGroup===1&&I.push(I[I.length-1]+W),N.push(N[N.length-1]+W),n.virtualSize+=W}if(I.length===0&&(I=[0]),B!==0){const W=n.isHorizontal()&&d?"marginLeft":n.getDirectionLabel("marginRight");_.filter((Q,Y)=>!t.cssMode||t.loop?!0:Y!==_.length-1).forEach(Q=>{Q.style[W]=`${B}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let W=0;M.forEach(Y=>{W+=Y+(B||0)}),W-=B;const Q=W>o?W-o:0;I=I.map(Y=>Y<=0?-k:Y>Q?Q+H:Y)}if(t.centerInsufficientSlides){let W=0;M.forEach(Y=>{W+=Y+(B||0)}),W-=B;const Q=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(W+Q<o){const Y=(o-W-Q)/2;I.forEach((q,_e)=>{I[_e]=q-Y}),N.forEach((q,_e)=>{N[_e]=q+Y})}}if(Object.assign(n,{slides:_,snapGrid:I,slidesGrid:N,slidesSizesGrid:M}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Gh(r,"--swiper-centered-offset-before",`${-I[0]}px`),Gh(r,"--swiper-centered-offset-after",`${n.size/2-M[M.length-1]/2}px`);const W=-n.snapGrid[0],Q=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(Y=>Y+W),n.slidesGrid=n.slidesGrid.map(Y=>Y+Q)}if(A!==y&&n.emit("slidesLengthChange"),I.length!==F&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),N.length!==G&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!w&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const W=`${t.containerModifierClass}backface-hidden`,Q=n.el.classList.contains(W);A<=t.maxBackfaceHiddenSlides?Q||n.el.classList.add(W):Q&&n.el.classList.remove(W)}}function pV(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const d=p=>r?e.slides[e.getSlideIndexByData(p)]:e.slides[p];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(p=>{t.push(p)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const p=e.activeIndex+o;if(p>e.slides.length&&!r)break;t.push(d(p))}else t.push(d(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const p=t[o].offsetHeight;s=p>s?p:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function mV(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const B_=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function yV(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let d=-n;s&&(d=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let p=t.spaceBetween;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*e.size:typeof p=="string"&&(p=parseFloat(p));for(let w=0;w<r.length;w+=1){const y=r[w];let _=y.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(_-=r[0].swiperSlideOffset);const A=(d+(t.centeredSlides?e.minTranslate():0)-_)/(y.swiperSlideSize+p),I=(d-o[0]+(t.centeredSlides?e.minTranslate():0)-_)/(y.swiperSlideSize+p),N=-(d-_),M=N+e.slidesSizesGrid[w],k=N>=0&&N<=e.size-e.slidesSizesGrid[w],H=N>=0&&N<e.size-1||M>1&&M<=e.size||N<=0&&M>=e.size;H&&(e.visibleSlides.push(y),e.visibleSlidesIndexes.push(w)),B_(y,H,t.slideVisibleClass),B_(y,k,t.slideFullyVisibleClass),y.progress=s?-A:A,y.originalProgress=s?-I:I}}function wV(n){const e=this;if(typeof n>"u"){const _=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*_||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:d,progressLoop:p}=e;const w=o,y=d;if(r===0)s=0,o=!0,d=!0;else{s=(n-e.minTranslate())/r;const _=Math.abs(n-e.minTranslate())<1,A=Math.abs(n-e.maxTranslate())<1;o=_||s<=0,d=A||s>=1,_&&(s=0),A&&(s=1)}if(t.loop){const _=e.getSlideIndexByData(0),A=e.getSlideIndexByData(e.slides.length-1),I=e.slidesGrid[_],N=e.slidesGrid[A],M=e.slidesGrid[e.slidesGrid.length-1],k=Math.abs(n);k>=I?p=(k-I)/M:p=(k+M-N)/M,p>1&&(p-=1)}Object.assign(e,{progress:s,progressLoop:p,isBeginning:o,isEnd:d}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!w&&e.emit("reachBeginning toEdge"),d&&!y&&e.emit("reachEnd toEdge"),(w&&!o||y&&!d)&&e.emit("fromEdge"),e.emit("progress",s)}const nm=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function xV(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,d=n.grid&&t.grid&&t.grid.rows>1,p=A=>ta(r,`.${t.slideClass}${A}, swiper-slide${A}`)[0];let w,y,_;if(o)if(t.loop){let A=s-n.virtual.slidesBefore;A<0&&(A=n.virtual.slides.length+A),A>=n.virtual.slides.length&&(A-=n.virtual.slides.length),w=p(`[data-swiper-slide-index="${A}"]`)}else w=p(`[data-swiper-slide-index="${s}"]`);else d?(w=e.find(A=>A.column===s),_=e.find(A=>A.column===s+1),y=e.find(A=>A.column===s-1)):w=e[s];w&&(d||(_=sV(w,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!_&&(_=e[0]),y=iV(w,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y===0&&(y=e[e.length-1]))),e.forEach(A=>{nm(A,A===w,t.slideActiveClass),nm(A,A===_,t.slideNextClass),nm(A,A===y,t.slidePrevClass)}),n.emitSlidesClasses()}const a0=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},rm=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},_y=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const d=s,p=[d-e];p.push(...Array.from({length:e}).map((w,y)=>d+r+y)),n.slides.forEach((w,y)=>{p.includes(w.column)&&rm(n,y)});return}const o=s+r-1;if(n.params.rewind||n.params.loop)for(let d=s-e;d<=o+e;d+=1){const p=(d%t+t)%t;(p<s||p>o)&&rm(n,p)}else for(let d=Math.max(s-e,0);d<=Math.min(o+e,t-1);d+=1)d!==s&&(d>o||d<s)&&rm(n,d)};function vV(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?s=o:r>=e[o]&&r<e[o+1]&&(s=o+1):r>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function bV(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:o,realIndex:d,snapIndex:p}=e;let w=n,y;const _=N=>{let M=N-e.virtual.slidesBefore;return M<0&&(M=e.virtual.slides.length+M),M>=e.virtual.slides.length&&(M-=e.virtual.slides.length),M};if(typeof w>"u"&&(w=vV(e)),r.indexOf(t)>=0)y=r.indexOf(t);else{const N=Math.min(s.slidesPerGroupSkip,w);y=N+Math.floor((w-N)/s.slidesPerGroup)}if(y>=r.length&&(y=r.length-1),w===o&&!e.params.loop){y!==p&&(e.snapIndex=y,e.emit("snapIndexChange"));return}if(w===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=_(w);return}const A=e.grid&&s.grid&&s.grid.rows>1;let I;if(e.virtual&&s.virtual.enabled&&s.loop)I=_(w);else if(A){const N=e.slides.find(k=>k.column===w);let M=parseInt(N.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(e.slides.indexOf(N),0)),I=Math.floor(M/s.grid.rows)}else if(e.slides[w]){const N=e.slides[w].getAttribute("data-swiper-slide-index");N?I=parseInt(N,10):I=w}else I=w;Object.assign(e,{previousSnapIndex:p,snapIndex:y,previousRealIndex:d,realIndex:I,previousIndex:o,activeIndex:w}),e.initialized&&_y(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(d!==I&&e.emit("realIndexChange"),e.emit("slideChange"))}function EV(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(p=>{!s&&p.matches&&p.matches(`.${r.slideClass}, swiper-slide`)&&(s=p)});let o=!1,d;if(s){for(let p=0;p<t.slides.length;p+=1)if(t.slides[p]===s){o=!0,d=p;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=d;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var _V={updateSize:hV,updateSlides:gV,updateAutoHeight:pV,updateSlidesOffset:mV,updateSlidesProgress:yV,updateProgress:wV,updateSlidesClasses:xV,updateActiveIndex:bV,updateClickedSlide:EV};function TV(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let d=eV(o,n);return d+=e.cssOverflowAdjustment(),r&&(d=-d),d||0}function AV(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:o,progress:d}=t;let p=0,w=0;const y=0;t.isHorizontal()?p=r?-n:n:w=n,s.roundLengths&&(p=Math.floor(p),w=Math.floor(w)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?p:w,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-p:-w:s.virtualTranslate||(t.isHorizontal()?p-=t.cssOverflowAdjustment():w-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${p}px, ${w}px, ${y}px)`);let _;const A=t.maxTranslate()-t.minTranslate();A===0?_=0:_=(n-t.minTranslate())/A,_!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function SV(){return-this.snapGrid[0]}function CV(){return-this.snapGrid[this.snapGrid.length-1]}function IV(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:d,wrapperEl:p}=o;if(o.animating&&d.preventInteractionOnTransition)return!1;const w=o.minTranslate(),y=o.maxTranslate();let _;if(r&&n>w?_=w:r&&n<y?_=y:_=n,o.updateProgress(_),d.cssMode){const A=o.isHorizontal();if(e===0)p[A?"scrollLeft":"scrollTop"]=-_;else{if(!o.support.smoothScroll)return XI({swiper:o,targetPosition:-_,side:A?"left":"top"}),!0;p.scrollTo({[A?"left":"top"]:-_,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(_),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(_),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(I){!o||o.destroyed||I.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var RV={getTranslate:TV,setTranslate:AV,minTranslate:SV,maxTranslate:CV,translateTo:IV};function NV(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function $I(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:o,previousIndex:d}=e;let p=r;if(p||(o>d?p="next":o<d?p="prev":p="reset"),e.emit(`transition${s}`),t&&o!==d){if(p==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),p==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function MV(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),$I({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function DV(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),$I({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var OV={setTransition:NV,transitionStart:MV,transitionEnd:DV};function kV(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let d=n;d<0&&(d=0);const{params:p,snapGrid:w,slidesGrid:y,previousIndex:_,activeIndex:A,rtlTranslate:I,wrapperEl:N,enabled:M}=o;if(!M&&!r&&!s||o.destroyed||o.animating&&p.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const k=Math.min(o.params.slidesPerGroupSkip,d);let H=k+Math.floor((d-k)/o.params.slidesPerGroup);H>=w.length&&(H=w.length-1);const F=-w[H];if(p.normalizeSlideIndex)for(let V=0;V<y.length;V+=1){const P=-Math.floor(F*100),O=Math.floor(y[V]*100),W=Math.floor(y[V+1]*100);typeof y[V+1]<"u"?P>=O&&P<W-(W-O)/2?d=V:P>=O&&P<W&&(d=V+1):P>=O&&(d=V)}if(o.initialized&&d!==A&&(!o.allowSlideNext&&(I?F>o.translate&&F>o.minTranslate():F<o.translate&&F<o.minTranslate())||!o.allowSlidePrev&&F>o.translate&&F>o.maxTranslate()&&(A||0)!==d))return!1;d!==(_||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(F);let G;d>A?G="next":d<A?G="prev":G="reset";const B=o.virtual&&o.params.virtual.enabled;if(!(B&&s)&&(I&&-F===o.translate||!I&&F===o.translate))return o.updateActiveIndex(d),p.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),p.effect!=="slide"&&o.setTranslate(F),G!=="reset"&&(o.transitionStart(t,G),o.transitionEnd(t,G)),!1;if(p.cssMode){const V=o.isHorizontal(),P=I?F:-F;if(e===0)B&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),B&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{N[V?"scrollLeft":"scrollTop"]=P})):N[V?"scrollLeft":"scrollTop"]=P,B&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return XI({swiper:o,targetPosition:P,side:V?"left":"top"}),!0;N.scrollTo({[V?"left":"top"]:P,behavior:"smooth"})}return!0}const se=ZI().isSafari;return B&&!s&&se&&o.isElement&&o.virtual.update(!1,!1,d),o.setTransition(e),o.setTranslate(F),o.updateActiveIndex(d),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,G),e===0?o.transitionEnd(t,G):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(P){!o||o.destroyed||P.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,G))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function PV(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let d=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)d=d+s.virtual.slidesBefore;else{let p;if(o){const I=d*s.params.grid.rows;p=s.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===I).column}else p=s.getSlideIndexByData(d);const w=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:y}=s.params;let _=s.params.slidesPerView;_==="auto"?_=s.slidesPerViewDynamic():(_=Math.ceil(parseFloat(s.params.slidesPerView,10)),y&&_%2===0&&(_=_+1));let A=w-p<_;if(y&&(A=A||p<Math.ceil(_/2)),r&&y&&s.params.slidesPerView!=="auto"&&!o&&(A=!1),A){const I=y?p<s.activeIndex?"prev":"next":p-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:I,slideTo:!0,activeSlideIndex:I==="next"?p+1:p-w+1,slideRealIndex:I==="next"?s.realIndex:void 0})}if(o){const I=d*s.params.grid.rows;d=s.slides.find(N=>N.getAttribute("data-swiper-slide-index")*1===I).column}else d=s.getSlideIndexByData(d)}return requestAnimationFrame(()=>{s.slideTo(d,e,t,r)}),s}function LV(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:o,animating:d}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let p=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(p=Math.max(r.slidesPerViewDynamic("current",!0),1));const w=r.activeIndex<o.slidesPerGroupSkip?1:p,y=r.virtual&&o.virtual.enabled;if(o.loop){if(d&&!y&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+w,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+w,n,e,t)}function BV(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:o,slidesGrid:d,rtlTranslate:p,enabled:w,animating:y}=r;if(!w||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const _=r.virtual&&s.virtual.enabled;if(s.loop){if(y&&!_&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const A=p?r.translate:-r.translate;function I(G){return G<0?-Math.floor(Math.abs(G)):Math.floor(G)}const N=I(A),M=o.map(G=>I(G)),k=s.freeMode&&s.freeMode.enabled;let H=o[M.indexOf(N)-1];if(typeof H>"u"&&(s.cssMode||k)){let G;o.forEach((B,Z)=>{N>=B&&(G=Z)}),typeof G<"u"&&(H=k?o[G]:o[G>0?G-1:G])}let F=0;if(typeof H<"u"&&(F=d.indexOf(H),F<0&&(F=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(F=F-r.slidesPerViewDynamic("previous",!0)+1,F=Math.max(F,0))),s.rewind&&r.isBeginning){const G=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(G,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(F,n,e,t)}),!0;return r.slideTo(F,n,e,t)}function VV(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function UV(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const d=Math.min(s.params.slidesPerGroupSkip,o),p=d+Math.floor((o-d)/s.params.slidesPerGroup),w=s.rtlTranslate?s.translate:-s.translate;if(w>=s.snapGrid[p]){const y=s.snapGrid[p],_=s.snapGrid[p+1];w-y>(_-y)*r&&(o+=s.params.slidesPerGroup)}else{const y=s.snapGrid[p-1],_=s.snapGrid[p];w-y<=(_-y)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function FV(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const d=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(ta(t,`${d}[data-swiper-slide-index="${o}"]`)[0]),Ey(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(ta(t,`${d}[data-swiper-slide-index="${o}"]`)[0]),Ey(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var zV={slideTo:kV,slideToLoop:PV,slideNext:LV,slidePrev:BV,slideReset:VV,slideToClosest:UV,slideToClickedSlide:FV};function jV(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{ta(s,`.${r.slideClass}, swiper-slide`).forEach((I,N)=>{I.setAttribute("data-swiper-slide-index",N)})},d=t.grid&&r.grid&&r.grid.rows>1,p=r.slidesPerGroup*(d?r.grid.rows:1),w=t.slides.length%p!==0,y=d&&t.slides.length%r.grid.rows!==0,_=A=>{for(let I=0;I<A;I+=1){const N=t.isElement?V0("swiper-slide",[r.slideBlankClass]):V0("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(N)}};if(w){if(r.loopAddBlankSlides){const A=p-t.slides.length%p;_(A),t.recalcSlides(),t.updateSlides()}else B0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(y){if(r.loopAddBlankSlides){const A=r.grid.rows-t.slides.length%r.grid.rows;_(A),t.recalcSlides(),t.updateSlides()}else B0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function HV(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:o,initial:d,byController:p,byMousewheel:w}=n===void 0?{}:n;const y=this;if(!y.params.loop)return;y.emit("beforeLoopFix");const{slides:_,allowSlidePrev:A,allowSlideNext:I,slidesEl:N,params:M}=y,{centeredSlides:k,initialSlide:H}=M;if(y.allowSlidePrev=!0,y.allowSlideNext=!0,y.virtual&&M.virtual.enabled){t&&(!M.centeredSlides&&y.snapIndex===0?y.slideTo(y.virtual.slides.length,0,!1,!0):M.centeredSlides&&y.snapIndex<M.slidesPerView?y.slideTo(y.virtual.slides.length+y.snapIndex,0,!1,!0):y.snapIndex===y.snapGrid.length-1&&y.slideTo(y.virtual.slidesBefore,0,!1,!0)),y.allowSlidePrev=A,y.allowSlideNext=I,y.emit("loopFix");return}let F=M.slidesPerView;F==="auto"?F=y.slidesPerViewDynamic():(F=Math.ceil(parseFloat(M.slidesPerView,10)),k&&F%2===0&&(F=F+1));const G=M.slidesPerGroupAuto?F:M.slidesPerGroup;let B=G;B%G!==0&&(B+=G-B%G),B+=M.loopAdditionalSlides,y.loopedSlides=B;const Z=y.grid&&M.grid&&M.grid.rows>1;_.length<F+B||y.params.effect==="cards"&&_.length<F+B*2?B0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):Z&&M.grid.fill==="row"&&B0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const re=[],se=[],V=Z?Math.ceil(_.length/M.grid.rows):_.length,P=d&&V-H<F&&!k;let O=P?H:y.activeIndex;typeof o>"u"?o=y.getSlideIndex(_.find(ae=>ae.classList.contains(M.slideActiveClass))):O=o;const W=r==="next"||!r,Q=r==="prev"||!r;let Y=0,q=0;const le=(Z?_[o].column:o)+(k&&typeof s>"u"?-F/2+.5:0);if(le<B){Y=Math.max(B-le,G);for(let ae=0;ae<B-le;ae+=1){const de=ae-Math.floor(ae/V)*V;if(Z){const ve=V-de-1;for(let Re=_.length-1;Re>=0;Re-=1)_[Re].column===ve&&re.push(Re)}else re.push(V-de-1)}}else if(le+F>V-B){q=Math.max(le-(V-B*2),G),P&&(q=Math.max(q,F-V+H+1));for(let ae=0;ae<q;ae+=1){const de=ae-Math.floor(ae/V)*V;Z?_.forEach((ve,Re)=>{ve.column===de&&se.push(Re)}):se.push(de)}}if(y.__preventObserver__=!0,requestAnimationFrame(()=>{y.__preventObserver__=!1}),y.params.effect==="cards"&&_.length<F+B*2&&(se.includes(o)&&se.splice(se.indexOf(o),1),re.includes(o)&&re.splice(re.indexOf(o),1)),Q&&re.forEach(ae=>{_[ae].swiperLoopMoveDOM=!0,N.prepend(_[ae]),_[ae].swiperLoopMoveDOM=!1}),W&&se.forEach(ae=>{_[ae].swiperLoopMoveDOM=!0,N.append(_[ae]),_[ae].swiperLoopMoveDOM=!1}),y.recalcSlides(),M.slidesPerView==="auto"?y.updateSlides():Z&&(re.length>0&&Q||se.length>0&&W)&&y.slides.forEach((ae,de)=>{y.grid.updateSlide(de,ae,y.slides)}),M.watchSlidesProgress&&y.updateSlidesOffset(),t){if(re.length>0&&Q){if(typeof e>"u"){const ae=y.slidesGrid[O],ve=y.slidesGrid[O+Y]-ae;w?y.setTranslate(y.translate-ve):(y.slideTo(O+Math.ceil(Y),0,!1,!0),s&&(y.touchEventsData.startTranslate=y.touchEventsData.startTranslate-ve,y.touchEventsData.currentTranslate=y.touchEventsData.currentTranslate-ve))}else if(s){const ae=Z?re.length/M.grid.rows:re.length;y.slideTo(y.activeIndex+ae,0,!1,!0),y.touchEventsData.currentTranslate=y.translate}}else if(se.length>0&&W)if(typeof e>"u"){const ae=y.slidesGrid[O],ve=y.slidesGrid[O-q]-ae;w?y.setTranslate(y.translate-ve):(y.slideTo(O-q,0,!1,!0),s&&(y.touchEventsData.startTranslate=y.touchEventsData.startTranslate-ve,y.touchEventsData.currentTranslate=y.touchEventsData.currentTranslate-ve))}else{const ae=Z?se.length/M.grid.rows:se.length;y.slideTo(y.activeIndex-ae,0,!1,!0)}}if(y.allowSlidePrev=A,y.allowSlideNext=I,y.controller&&y.controller.control&&!p){const ae={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(y.controller.control)?y.controller.control.forEach(de=>{!de.destroyed&&de.params.loop&&de.loopFix({...ae,slideTo:de.params.slidesPerView===M.slidesPerView?t:!1})}):y.controller.control instanceof y.constructor&&y.controller.control.params.loop&&y.controller.control.loopFix({...ae,slideTo:y.controller.control.params.slidesPerView===M.slidesPerView?t:!1})}y.emit("loopFix")}function GV(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var qV={loopCreate:jV,loopFix:HV,loopDestroy:GV};function YV(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function WV(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var XV={setGrabCursor:YV,unsetGrabCursor:WV};function KV(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Jl()||r===wi())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function V_(n,e,t){const r=wi(),{params:s}=n,o=s.edgeSwipeDetection,d=s.edgeSwipeThreshold;return o&&(t<=d||t>=r.innerWidth-d)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function QV(n){const e=this,t=Jl();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){V_(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:d,enabled:p}=e;if(!p||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let w=r.target;if(o.touchEventsTarget==="wrapper"&&!rV(w,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const y=!!o.noSwipingClass&&o.noSwipingClass!=="",_=r.composedPath?r.composedPath():r.path;y&&r.target&&r.target.shadowRoot&&_&&(w=_[0]);const A=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,I=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(I?KV(A,w):w.closest(A))){e.allowClick=!0;return}if(o.swipeHandler&&!w.closest(o.swipeHandler))return;d.currentX=r.pageX,d.currentY=r.pageY;const N=d.currentX,M=d.currentY;if(!V_(e,r,N))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),d.startX=N,d.startY=M,s.touchStartTime=L0(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let k=!0;w.matches(s.focusableElements)&&(k=!1,w.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==w&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!w.matches(s.focusableElements))&&t.activeElement.blur();const H=k&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||H)&&!w.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function ZV(n){const e=Jl(),t=this,r=t.touchEventsData,{params:s,touches:o,rtlTranslate:d,enabled:p}=t;if(!p||!s.simulateTouch&&n.pointerType==="mouse")return;let w=n;if(w.originalEvent&&(w=w.originalEvent),w.type==="pointermove"&&(r.touchId!==null||w.pointerId!==r.pointerId))return;let y;if(w.type==="touchmove"){if(y=[...w.changedTouches].find(re=>re.identifier===r.touchId),!y||y.identifier!==r.touchId)return}else y=w;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",w);return}const _=y.pageX,A=y.pageY;if(w.preventedByNestedSwiper){o.startX=_,o.startY=A;return}if(!t.allowTouchMove){w.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:_,startY:A,currentX:_,currentY:A}),r.touchStartTime=L0());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(A<o.startY&&t.translate<=t.maxTranslate()||A>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(d&&(_>o.startX&&-t.translate<=t.maxTranslate()||_<o.startX&&-t.translate>=t.minTranslate()))return;if(!d&&(_<o.startX&&t.translate<=t.maxTranslate()||_>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==w.target&&w.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&w.target===e.activeElement&&w.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",w),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=_,o.currentY=A;const I=o.currentX-o.startX,N=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(I**2+N**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let re;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:I*I+N*N>=25&&(re=Math.atan2(Math.abs(N),Math.abs(I))*180/Math.PI,r.isScrolling=t.isHorizontal()?re>s.touchAngle:90-re>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",w),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||w.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&w.cancelable&&w.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&w.stopPropagation();let M=t.isHorizontal()?I:N,k=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(M=Math.abs(M)*(d?1:-1),k=Math.abs(k)*(d?1:-1)),o.diff=M,M*=s.touchRatio,d&&(M=-M,k=-k);const H=t.touchesDirection;t.swipeDirection=M>0?"prev":"next",t.touchesDirection=k>0?"prev":"next";const F=t.params.loop&&!s.cssMode,G=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(F&&G&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const re=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(re)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",w)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&H!==t.touchesDirection&&F&&G&&Math.abs(M)>=1){Object.assign(o,{startX:_,startY:A,currentX:_,currentY:A,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",w),r.isMoved=!0,r.currentTranslate=M+r.startTranslate;let B=!0,Z=s.resistanceRatio;if(s.touchReleaseOnEdges&&(Z=0),M>0?(F&&G&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(B=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+M)**Z))):M<0&&(F&&G&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(B=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-M)**Z))),B&&(w.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(M)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function $V(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(re=>re.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:d,touches:p,rtlTranslate:w,slidesGrid:y,enabled:_}=e;if(!_||!d.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&d.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}d.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const A=L0(),I=A-t.touchStartTime;if(e.allowClick){const re=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(re&&re[0]||r.target,re),e.emit("tap click",r),I<300&&A-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=L0(),Ey(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||p.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let N;if(d.followFinger?N=w?e.translate:-e.translate:N=-t.currentTranslate,d.cssMode)return;if(d.freeMode&&d.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:N});return}const M=N>=-e.maxTranslate()&&!e.params.loop;let k=0,H=e.slidesSizesGrid[0];for(let re=0;re<y.length;re+=re<d.slidesPerGroupSkip?1:d.slidesPerGroup){const se=re<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;typeof y[re+se]<"u"?(M||N>=y[re]&&N<y[re+se])&&(k=re,H=y[re+se]-y[re]):(M||N>=y[re])&&(k=re,H=y[y.length-1]-y[y.length-2])}let F=null,G=null;d.rewind&&(e.isBeginning?G=d.virtual&&d.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(F=0));const B=(N-y[k])/H,Z=k<d.slidesPerGroupSkip-1?1:d.slidesPerGroup;if(I>d.longSwipesMs){if(!d.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(B>=d.longSwipesRatio?e.slideTo(d.rewind&&e.isEnd?F:k+Z):e.slideTo(k)),e.swipeDirection==="prev"&&(B>1-d.longSwipesRatio?e.slideTo(k+Z):G!==null&&B<0&&Math.abs(B)>d.longSwipesRatio?e.slideTo(G):e.slideTo(k))}else{if(!d.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(k+Z):e.slideTo(k):(e.swipeDirection==="next"&&e.slideTo(F!==null?F:k+Z),e.swipeDirection==="prev"&&e.slideTo(G!==null?G:k))}}function U_(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=n,d=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const p=d&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!p?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!d?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function JV(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function eU(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function tU(n){const e=this;a0(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function nU(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const JI=(n,e)=>{const t=Jl(),{params:r,el:s,wrapperEl:o,device:d}=n,p=!!r.nested,w=e==="on"?"addEventListener":"removeEventListener",y=e;!s||typeof s=="string"||(t[w]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:p}),s[w]("touchstart",n.onTouchStart,{passive:!1}),s[w]("pointerdown",n.onTouchStart,{passive:!1}),t[w]("touchmove",n.onTouchMove,{passive:!1,capture:p}),t[w]("pointermove",n.onTouchMove,{passive:!1,capture:p}),t[w]("touchend",n.onTouchEnd,{passive:!0}),t[w]("pointerup",n.onTouchEnd,{passive:!0}),t[w]("pointercancel",n.onTouchEnd,{passive:!0}),t[w]("touchcancel",n.onTouchEnd,{passive:!0}),t[w]("pointerout",n.onTouchEnd,{passive:!0}),t[w]("pointerleave",n.onTouchEnd,{passive:!0}),t[w]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[w]("click",n.onClick,!0),r.cssMode&&o[w]("scroll",n.onScroll),r.updateOnWindowResize?n[y](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",U_,!0):n[y]("observerUpdate",U_,!0),s[w]("load",n.onLoad,{capture:!0}))};function rU(){const n=this,{params:e}=n;n.onTouchStart=QV.bind(n),n.onTouchMove=ZV.bind(n),n.onTouchEnd=$V.bind(n),n.onDocumentTouchStart=nU.bind(n),e.cssMode&&(n.onScroll=eU.bind(n)),n.onClick=JV.bind(n),n.onLoad=tU.bind(n),JI(n,"on")}function iU(){JI(this,"off")}var sU={attachEvents:rU,detachEvents:iU};const F_=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function aU(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const d=Jl(),p=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",w=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:d.querySelector(r.breakpointsBase),y=n.getBreakpoint(o,p,w);if(!y||n.currentBreakpoint===y)return;const A=(y in o?o[y]:void 0)||n.originalParams,I=F_(n,r),N=F_(n,A),M=n.params.grabCursor,k=A.grabCursor,H=r.enabled;I&&!N?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!I&&N&&(s.classList.add(`${r.containerModifierClass}grid`),(A.grid.fill&&A.grid.fill==="column"||!A.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),M&&!k?n.unsetGrabCursor():!M&&k&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(se=>{if(typeof A[se]>"u")return;const V=r[se]&&r[se].enabled,P=A[se]&&A[se].enabled;V&&!P&&n[se].disable(),!V&&P&&n[se].enable()});const F=A.direction&&A.direction!==r.direction,G=r.loop&&(A.slidesPerView!==r.slidesPerView||F),B=r.loop;F&&t&&n.changeDirection(),$i(n.params,A);const Z=n.params.enabled,re=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),H&&!Z?n.disable():!H&&Z&&n.enable(),n.currentBreakpoint=y,n.emit("_beforeBreakpoint",A),t&&(G?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!B&&re?(n.loopCreate(e),n.updateSlides()):B&&!re&&n.loopDestroy()),n.emit("breakpoint",A)}function oU(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=wi(),o=e==="window"?s.innerHeight:t.clientHeight,d=Object.keys(n).map(p=>{if(typeof p=="string"&&p.indexOf("@")===0){const w=parseFloat(p.substr(1));return{value:o*w,point:p}}return{value:p,point:p}});d.sort((p,w)=>parseInt(p.value,10)-parseInt(w.value,10));for(let p=0;p<d.length;p+=1){const{point:w,value:y}=d[p];e==="window"?s.matchMedia(`(min-width: ${y}px)`).matches&&(r=w):y<=t.clientWidth&&(r=w)}return r||"max"}var lU={setBreakpoint:aU,getBreakpoint:oU};function cU(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function uU(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:o}=n,d=cU(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),s.classList.add(...e),n.emitContainerClasses()}function fU(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var dU={addClasses:uU,removeClasses:fU};function hU(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var gU={checkOverflow:hU},Ty={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function pU(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){$i(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){$i(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),$i(e,r)}}const im={eventsEmitter:dV,update:_V,translate:RV,transition:OV,slide:zV,loop:qV,grabCursor:XV,events:sU,breakpoints:lU,checkOverflow:gU,classes:dU},sm={};let jw=class Pa{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=$i({},t),e&&!t.el&&(t.el=e);const d=Jl();if(t.el&&typeof t.el=="string"&&d.querySelectorAll(t.el).length>1){const _=[];return d.querySelectorAll(t.el).forEach(A=>{const I=$i({},t,{el:A});_.push(new Pa(I))}),_}const p=this;p.__swiper__=!0,p.support=KI(),p.device=QI({userAgent:t.userAgent}),p.browser=ZI(),p.eventsListeners={},p.eventsAnyListeners=[],p.modules=[...p.__modules__],t.modules&&Array.isArray(t.modules)&&p.modules.push(...t.modules);const w={};p.modules.forEach(_=>{_({params:t,swiper:p,extendParams:pU(t,w),on:p.on.bind(p),once:p.once.bind(p),off:p.off.bind(p),emit:p.emit.bind(p)})});const y=$i({},Ty,w);return p.params=$i({},y,sm,t),p.originalParams=$i({},p.params),p.passedParams=$i({},t),p.params&&p.params.on&&Object.keys(p.params.on).forEach(_=>{p.on(_,p.params.on[_])}),p.params&&p.params.onAny&&p.onAny(p.params.onAny),Object.assign(p,{enabled:p.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return p.params.direction==="horizontal"},isVertical(){return p.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:p.params.allowSlideNext,allowSlidePrev:p.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:p.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:p.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),p.emit("_swiper"),p.params.init&&p.init(),p}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=ta(t,`.${r.slideClass}, swiper-slide`),o=P_(s[0]);return P_(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ta(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),d=(r.maxTranslate()-s)*e+s;r.translateTo(d,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:o,slidesGrid:d,slidesSizesGrid:p,size:w,activeIndex:y}=r;let _=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let A=o[y]?Math.ceil(o[y].swiperSlideSize):0,I;for(let N=y+1;N<o.length;N+=1)o[N]&&!I&&(A+=Math.ceil(o[N].swiperSlideSize),_+=1,A>w&&(I=!0));for(let N=y-1;N>=0;N-=1)o[N]&&!I&&(A+=o[N].swiperSlideSize,_+=1,A>w&&(I=!0))}else if(e==="current")for(let A=y+1;A<o.length;A+=1)(t?d[A]+p[A]-d[y]<w:d[A]-d[y]<w)&&(_+=1);else for(let A=y-1;A>=0;A-=1)d[y]-d[A]<w&&(_+=1);return _}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(d=>{d.complete&&a0(e,d)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const d=e.rtlTranslate?e.translate*-1:e.translate,p=Math.min(Math.max(d,e.maxTranslate()),e.minTranslate());e.setTranslate(p),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const d=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(d.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let d=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):ta(r,s())[0];return!d&&t.params.createElements&&(d=V0("div",t.params.wrapperClass),r.append(d),ta(r,`.${t.params.slideClass}`).forEach(p=>{d.append(p)})),Object.assign(t,{el:r,wrapperEl:d,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:d,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||qo(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||qo(r,"direction")==="rtl"),wrongRTL:qo(d,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?a0(t,o):o.addEventListener("load",d=>{a0(t,d.target)})}),_y(t),t.initialized=!0,_y(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:o,wrapperEl:d,slides:p}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),d&&d.removeAttribute("style"),p&&p.length&&p.forEach(w=>{w.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),w.removeAttribute("style"),w.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(w=>{r.off(w)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),$B(r)),r.destroyed=!0),null}static extendDefaults(e){$i(sm,e)}static get extendedDefaults(){return sm}static get defaults(){return Ty}static installModule(e){Pa.prototype.__modules__||(Pa.prototype.__modules__=[]);const t=Pa.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Pa.installModule(t)),Pa):(Pa.installModule(e),Pa)}};Object.keys(im).forEach(n=>{Object.keys(im[n]).forEach(e=>{jw.prototype[e]=im[n][e]})});jw.use([uV,fV]);const e3=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Wl(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function ou(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Wl(e[r])&&Wl(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:ou(n[r],e[r]):n[r]=e[r]})}function t3(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function n3(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function r3(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function i3(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function mU(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function yU(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:o,prevEl:d,scrollbarEl:p,paginationEl:w}=n;const y=s.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:_,pagination:A,navigation:I,scrollbar:N,virtual:M,thumbs:k}=e;let H,F,G,B,Z,re,se,V;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&_.thumbs&&(!_.thumbs.swiper||_.thumbs.swiper.destroyed)&&(H=!0),s.includes("controller")&&r.controller&&r.controller.control&&_.controller&&!_.controller.control&&(F=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||w)&&(_.pagination||_.pagination===!1)&&A&&!A.el&&(G=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||p)&&(_.scrollbar||_.scrollbar===!1)&&N&&!N.el&&(B=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||d)&&(r.navigation.nextEl||o)&&(_.navigation||_.navigation===!1)&&I&&!I.prevEl&&!I.nextEl&&(Z=!0);const P=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),_[O].prevEl=void 0,_[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),_[O].el=void 0,e[O].el=void 0))};s.includes("loop")&&e.isElement&&(_.loop&&!r.loop?re=!0:!_.loop&&r.loop?se=!0:V=!0),y.forEach(O=>{if(Wl(_[O])&&Wl(r[O]))Object.assign(_[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&P(O);else{const W=r[O];(W===!0||W===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?W===!1&&P(O):_[O]=r[O]}}),y.includes("controller")&&!F&&e.controller&&e.controller.control&&_.controller&&_.controller.control&&(e.controller.control=_.controller.control),s.includes("children")&&t&&M&&_.virtual.enabled?(M.slides=t,M.update(!0)):s.includes("virtual")&&M&&_.virtual.enabled&&(t&&(M.slides=t),M.update(!0)),s.includes("children")&&t&&_.loop&&(V=!0),H&&k.init()&&k.update(!0),F&&(e.controller.control=_.controller.control),G&&(e.isElement&&(!w||typeof w=="string")&&(w=document.createElement("div"),w.classList.add("swiper-pagination"),w.part.add("pagination"),e.el.appendChild(w)),w&&(_.pagination.el=w),A.init(),A.render(),A.update()),B&&(e.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-scrollbar"),p.part.add("scrollbar"),e.el.appendChild(p)),p&&(_.scrollbar.el=p),N.init(),N.updateSize(),N.setTranslate()),Z&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-button-prev"),d.innerHTML=e.hostEl.constructor.prevButtonSvg,d.part.add("button-prev"),e.el.appendChild(d))),o&&(_.navigation.nextEl=o),d&&(_.navigation.prevEl=d),I.init(),I.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(re||V)&&e.loopDestroy(),(se||V)&&e.loopCreate(),e.update()}function wU(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};ou(t,Ty),t._emitClasses=!0,t.init=!1;const o={},d=e3.map(w=>w.replace(/_/,"")),p=Object.assign({},n);return Object.keys(p).forEach(w=>{typeof n[w]>"u"||(d.indexOf(w)>=0?Wl(n[w])?(t[w]={},s[w]={},ou(t[w],n[w]),ou(s[w],n[w])):(t[w]=n[w],s[w]=n[w]):w.search(/on[A-Z]/)===0&&typeof n[w]=="function"?e?r[`${w[2].toLowerCase()}${w.substr(3)}`]=n[w]:t.on[`${w[2].toLowerCase()}${w.substr(3)}`]=n[w]:o[w]=n[w])}),["navigation","pagination","scrollbar"].forEach(w=>{t[w]===!0&&(t[w]={}),t[w]===!1&&delete t[w]}),{params:t,passedParams:s,rest:o,events:r}}function xU(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:o,scrollbarEl:d,swiper:p}=n;t3(e)&&r&&s&&(p.params.navigation.nextEl=r,p.originalParams.navigation.nextEl=r,p.params.navigation.prevEl=s,p.originalParams.navigation.prevEl=s),n3(e)&&o&&(p.params.pagination.el=o,p.originalParams.pagination.el=o),r3(e)&&d&&(p.params.scrollbar.el=d,p.originalParams.scrollbar.el=d),p.init(t)}function vU(n,e,t,r,s){const o=[];if(!e)return o;const d=w=>{o.indexOf(w)<0&&o.push(w)};if(t&&r){const w=r.map(s),y=t.map(s);w.join("")!==y.join("")&&d("children"),r.length!==t.length&&d("children")}return e3.filter(w=>w[0]==="_").map(w=>w.replace(/_/,"")).forEach(w=>{if(w in n&&w in e)if(Wl(n[w])&&Wl(e[w])){const y=Object.keys(n[w]),_=Object.keys(e[w]);y.length!==_.length?d(w):(y.forEach(A=>{n[w][A]!==e[w][A]&&d(w)}),_.forEach(A=>{n[w][A]!==e[w][A]&&d(w)}))}else n[w]!==e[w]&&d(w)}),o}const bU=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function U0(){return U0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},U0.apply(this,arguments)}function s3(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function a3(n){const e=[];return ct.Children.toArray(n).forEach(t=>{s3(t)?e.push(t):t.props&&t.props.children&&a3(t.props.children).forEach(r=>e.push(r))}),e}function EU(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ct.Children.toArray(n).forEach(r=>{if(s3(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=a3(r.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function _U(n,e,t){if(!t)return null;const r=_=>{let A=_;return _<0?A=e.length+_:A>=e.length&&(A=A-e.length),A},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:d}=t,p=n.params.loop?-e.length:0,w=n.params.loop?e.length*2:e.length,y=[];for(let _=p;_<w;_+=1)_>=o&&_<=d&&y.push(e[r(_)]);return y.map((_,A)=>ct.cloneElement(_,{swiper:n,style:s,key:_.props.virtualIndex||_.key||`slide-${A}`}))}function Gf(n,e){return typeof window>"u"?$.useEffect(n,e):$.useLayoutEffect(n,e)}const z_=$.createContext(null),TU=$.createContext(null),o3=$.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:o,onSwiper:d,...p}=n===void 0?{}:n,w=!1;const[y,_]=$.useState("swiper"),[A,I]=$.useState(null),[N,M]=$.useState(!1),k=$.useRef(!1),H=$.useRef(null),F=$.useRef(null),G=$.useRef(null),B=$.useRef(null),Z=$.useRef(null),re=$.useRef(null),se=$.useRef(null),V=$.useRef(null),{params:P,passedParams:O,rest:W,events:Q}=wU(p),{slides:Y,slots:q}=EU(o),_e=()=>{M(!N)};Object.assign(P.on,{_containerClasses(Re,te){_(te)}});const le=()=>{Object.assign(P.on,Q),w=!0;const Re={...P};if(delete Re.wrapperClass,F.current=new jw(Re),F.current.virtual&&F.current.params.virtual.enabled){F.current.virtual.slides=Y;const te={cache:!1,slides:Y,renderExternal:I,renderExternalUpdate:!1};ou(F.current.params.virtual,te),ou(F.current.originalParams.virtual,te)}};H.current||le(),F.current&&F.current.on("_beforeBreakpoint",_e);const ae=()=>{w||!Q||!F.current||Object.keys(Q).forEach(Re=>{F.current.on(Re,Q[Re])})},de=()=>{!Q||!F.current||Object.keys(Q).forEach(Re=>{F.current.off(Re,Q[Re])})};$.useEffect(()=>()=>{F.current&&F.current.off("_beforeBreakpoint",_e)}),$.useEffect(()=>{!k.current&&F.current&&(F.current.emitSlidesClasses(),k.current=!0)}),Gf(()=>{if(e&&(e.current=H.current),!!H.current)return F.current.destroyed&&le(),xU({el:H.current,nextEl:Z.current,prevEl:re.current,paginationEl:se.current,scrollbarEl:V.current,swiper:F.current},P),d&&!F.current.destroyed&&d(F.current),()=>{F.current&&!F.current.destroyed&&F.current.destroy(!0,!1)}},[]),Gf(()=>{ae();const Re=vU(O,G.current,Y,B.current,te=>te.key);return G.current=O,B.current=Y,Re.length&&F.current&&!F.current.destroyed&&yU({swiper:F.current,slides:Y,passedParams:O,changedParams:Re,nextEl:Z.current,prevEl:re.current,scrollbarEl:V.current,paginationEl:se.current}),()=>{de()}}),Gf(()=>{bU(F.current)},[A]);function ve(){return P.virtual?_U(F.current,Y,A):Y.map((Re,te)=>ct.cloneElement(Re,{swiper:F.current,swiperSlideIndex:te}))}return ct.createElement(r,U0({ref:H,className:i3(`${y}${t?` ${t}`:""}`)},W),ct.createElement(TU.Provider,{value:F.current},q["container-start"],ct.createElement(s,{className:mU(P.wrapperClass)},q["wrapper-start"],ve(),q["wrapper-end"]),t3(P)&&ct.createElement(ct.Fragment,null,ct.createElement("div",{ref:re,className:"swiper-button-prev"}),ct.createElement("div",{ref:Z,className:"swiper-button-next"})),r3(P)&&ct.createElement("div",{ref:V,className:"swiper-scrollbar"}),n3(P)&&ct.createElement("div",{ref:se,className:"swiper-pagination"}),q["container-end"]))});o3.displayName="Swiper";const Ay=$.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:o,zoom:d,lazy:p,virtualIndex:w,swiperSlideIndex:y,..._}=n===void 0?{}:n;const A=$.useRef(null),[I,N]=$.useState("swiper-slide"),[M,k]=$.useState(!1);function H(Z,re,se){re===A.current&&N(se)}Gf(()=>{if(typeof y<"u"&&(A.current.swiperSlideIndex=y),e&&(e.current=A.current),!(!A.current||!o)){if(o.destroyed){I!=="swiper-slide"&&N("swiper-slide");return}return o.on("_slideClass",H),()=>{o&&o.off("_slideClass",H)}}}),Gf(()=>{o&&A.current&&!o.destroyed&&N(o.getSlideClasses(A.current))},[o]);const F={isActive:I.indexOf("swiper-slide-active")>=0,isVisible:I.indexOf("swiper-slide-visible")>=0,isPrev:I.indexOf("swiper-slide-prev")>=0,isNext:I.indexOf("swiper-slide-next")>=0},G=()=>typeof r=="function"?r(F):r,B=()=>{k(!0)};return ct.createElement(t,U0({ref:A,className:i3(`${I}${s?` ${s}`:""}`),"data-swiper-slide-index":w,onLoad:B},_),d&&ct.createElement(z_.Provider,{value:F},ct.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof d=="number"?d:void 0},G(),p&&!M&&ct.createElement("div",{className:"swiper-lazy-preloader"}))),!d&&ct.createElement(z_.Provider,{value:F},G(),p&&!M&&ct.createElement("div",{className:"swiper-lazy-preloader"})))});Ay.displayName="SwiperSlide";function AU(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let o=ta(n.el,`.${r[s]}`)[0];o||(o=V0("div",r[s]),o.className=r[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function SU(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(M){let k;return M&&typeof M=="string"&&e.isElement&&(k=e.el.querySelector(M)||e.hostEl.querySelector(M),k)?k:(M&&(typeof M=="string"&&(k=[...document.querySelectorAll(M)]),e.params.uniqueNavElements&&typeof M=="string"&&k&&k.length>1&&e.el.querySelectorAll(M).length===1?k=e.el.querySelector(M):k&&k.length===1&&(k=k[0])),M&&!k?M:k)}function d(M,k){const H=e.params.navigation;M=ka(M),M.forEach(F=>{F&&(F.classList[k?"add":"remove"](...H.disabledClass.split(" ")),F.tagName==="BUTTON"&&(F.disabled=k),e.params.watchOverflow&&e.enabled&&F.classList[e.isLocked?"add":"remove"](H.lockClass))})}function p(){const{nextEl:M,prevEl:k}=e.navigation;if(e.params.loop){d(k,!1),d(M,!1);return}d(k,e.isBeginning&&!e.params.rewind),d(M,e.isEnd&&!e.params.rewind)}function w(M){M.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function y(M){M.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function _(){const M=e.params.navigation;if(e.params.navigation=AU(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(M.nextEl||M.prevEl))return;let k=o(M.nextEl),H=o(M.prevEl);Object.assign(e.navigation,{nextEl:k,prevEl:H}),k=ka(k),H=ka(H);const F=(G,B)=>{G&&G.addEventListener("click",B==="next"?y:w),!e.enabled&&G&&G.classList.add(...M.lockClass.split(" "))};k.forEach(G=>F(G,"next")),H.forEach(G=>F(G,"prev"))}function A(){let{nextEl:M,prevEl:k}=e.navigation;M=ka(M),k=ka(k);const H=(F,G)=>{F.removeEventListener("click",G==="next"?y:w),F.classList.remove(...e.params.navigation.disabledClass.split(" "))};M.forEach(F=>H(F,"next")),k.forEach(F=>H(F,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?N():(_(),p())}),r("toEdge fromEdge lock unlock",()=>{p()}),r("destroy",()=>{A()}),r("enable disable",()=>{let{nextEl:M,prevEl:k}=e.navigation;if(M=ka(M),k=ka(k),e.enabled){p();return}[...M,...k].filter(H=>!!H).forEach(H=>H.classList.add(e.params.navigation.lockClass))}),r("click",(M,k)=>{let{nextEl:H,prevEl:F}=e.navigation;H=ka(H),F=ka(F);const G=k.target;let B=F.includes(G)||H.includes(G);if(e.isElement&&!B){const Z=k.path||k.composedPath&&k.composedPath();Z&&(B=Z.find(re=>H.includes(re)||F.includes(re)))}if(e.params.navigation.hideOnClick&&!B){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===G||e.pagination.el.contains(G)))return;let Z;H.length?Z=H[0].classList.contains(e.params.navigation.hiddenClass):F.length&&(Z=F[0].classList.contains(e.params.navigation.hiddenClass)),s(Z===!0?"navigationShow":"navigationHide"),[...H,...F].filter(re=>!!re).forEach(re=>re.classList.toggle(e.params.navigation.hiddenClass))}});const I=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),_(),p()},N=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),A()};Object.assign(e.navigation,{enable:I,disable:N,update:p,init:_,destroy:A})}function F0(n){if(n==null||n==="")return"";const e=n instanceof Fn?n.toDate():n instanceof Date?n:new Date(n);if(isNaN(e.getTime()))return"";const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return`${t}/${r}/${s}`}async function z0(n){var s;const e=new FormData;e.append("file",n),e.append("upload_preset","free_preset");const t=await fetch("https://api.cloudinary.com/v1_1/dmzp8kowf/upload",{method:"POST",body:e}),r=await t.json();if(!t.ok)throw new Error(((s=r.error)==null?void 0:s.message)||"Upload failed");return r.secure_url}var Fc={},am,j_;function CU(){return j_||(j_=1,am=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),am}var om={},Uo={},H_;function ec(){if(H_)return Uo;H_=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Uo.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Uo.getSymbolTotalCodewords=function(r){return e[r]},Uo.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},Uo.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Uo.isKanjiModeEnabled=function(){return typeof n<"u"},Uo.toSJIS=function(r){return n(r)},Uo}var lm={},G_;function Hw(){return G_||(G_=1,function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,s){if(n.isValid(r))return r;try{return e(r)}catch{return s}}}(lm)),lm}var cm,q_;function IU(){if(q_)return cm;q_=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},cm=n,cm}var um,Y_;function RU(){if(Y_)return um;Y_=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,s){const o=e*this.size+t;this.data[o]=r,s&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},um=n,um}var fm={},W_;function NU(){return W_||(W_=1,function(n){const e=ec().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,o=e(r),d=o===145?26:Math.ceil((o-13)/(2*s-2))*2,p=[o-7];for(let w=1;w<s-1;w++)p[w]=p[w-1]-d;return p.push(6),p.reverse()},n.getPositions=function(r){const s=[],o=n.getRowColCoords(r),d=o.length;for(let p=0;p<d;p++)for(let w=0;w<d;w++)p===0&&w===0||p===0&&w===d-1||p===d-1&&w===0||s.push([o[p],o[w]]);return s}}(fm)),fm}var dm={},X_;function MU(){if(X_)return dm;X_=1;const n=ec().getSymbolSize,e=7;return dm.getPositions=function(r){const s=n(r);return[[0,0],[s-e,0],[0,s-e]]},dm}var hm={},K_;function DU(){return K_||(K_=1,function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},n.from=function(s){return n.isValid(s)?parseInt(s,10):void 0},n.getPenaltyN1=function(s){const o=s.size;let d=0,p=0,w=0,y=null,_=null;for(let A=0;A<o;A++){p=w=0,y=_=null;for(let I=0;I<o;I++){let N=s.get(A,I);N===y?p++:(p>=5&&(d+=e.N1+(p-5)),y=N,p=1),N=s.get(I,A),N===_?w++:(w>=5&&(d+=e.N1+(w-5)),_=N,w=1)}p>=5&&(d+=e.N1+(p-5)),w>=5&&(d+=e.N1+(w-5))}return d},n.getPenaltyN2=function(s){const o=s.size;let d=0;for(let p=0;p<o-1;p++)for(let w=0;w<o-1;w++){const y=s.get(p,w)+s.get(p,w+1)+s.get(p+1,w)+s.get(p+1,w+1);(y===4||y===0)&&d++}return d*e.N2},n.getPenaltyN3=function(s){const o=s.size;let d=0,p=0,w=0;for(let y=0;y<o;y++){p=w=0;for(let _=0;_<o;_++)p=p<<1&2047|s.get(y,_),_>=10&&(p===1488||p===93)&&d++,w=w<<1&2047|s.get(_,y),_>=10&&(w===1488||w===93)&&d++}return d*e.N3},n.getPenaltyN4=function(s){let o=0;const d=s.data.length;for(let w=0;w<d;w++)o+=s.data[w];return Math.abs(Math.ceil(o*100/d/5)-10)*e.N4};function t(r,s,o){switch(r){case n.Patterns.PATTERN000:return(s+o)%2===0;case n.Patterns.PATTERN001:return s%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(s+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return s*o%2+s*o%3===0;case n.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case n.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(s,o){const d=o.size;for(let p=0;p<d;p++)for(let w=0;w<d;w++)o.isReserved(w,p)||o.xor(w,p,t(s,w,p))},n.getBestMask=function(s,o){const d=Object.keys(n.Patterns).length;let p=0,w=1/0;for(let y=0;y<d;y++){o(y),n.applyMask(y,s);const _=n.getPenaltyN1(s)+n.getPenaltyN2(s)+n.getPenaltyN3(s)+n.getPenaltyN4(s);n.applyMask(y,s),_<w&&(w=_,p=y)}return p}}(hm)),hm}var qh={},Q_;function l3(){if(Q_)return qh;Q_=1;const n=Hw(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return qh.getBlocksCount=function(s,o){switch(o){case n.L:return e[(s-1)*4+0];case n.M:return e[(s-1)*4+1];case n.Q:return e[(s-1)*4+2];case n.H:return e[(s-1)*4+3];default:return}},qh.getTotalCodewordsCount=function(s,o){switch(o){case n.L:return t[(s-1)*4+0];case n.M:return t[(s-1)*4+1];case n.Q:return t[(s-1)*4+2];case n.H:return t[(s-1)*4+3];default:return}},qh}var gm={},Af={},Z_;function OU(){if(Z_)return Af;Z_=1;const n=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let s=0;s<255;s++)n[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)n[s]=n[s-255]}(),Af.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Af.exp=function(r){return n[r]},Af.mul=function(r,s){return r===0||s===0?0:n[e[r]+e[s]]},Af}var $_;function kU(){return $_||($_=1,function(n){const e=OU();n.mul=function(r,s){const o=new Uint8Array(r.length+s.length-1);for(let d=0;d<r.length;d++)for(let p=0;p<s.length;p++)o[d+p]^=e.mul(r[d],s[p]);return o},n.mod=function(r,s){let o=new Uint8Array(r);for(;o.length-s.length>=0;){const d=o[0];for(let w=0;w<s.length;w++)o[w]^=e.mul(s[w],d);let p=0;for(;p<o.length&&o[p]===0;)p++;o=o.slice(p)}return o},n.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let o=0;o<r;o++)s=n.mul(s,new Uint8Array([1,e.exp(o)]));return s}}(gm)),gm}var pm,J_;function PU(){if(J_)return pm;J_=1;const n=kU();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const o=n.mod(s,this.genPoly),d=this.degree-o.length;if(d>0){const p=new Uint8Array(this.degree);return p.set(o,d),p}return o},pm=e,pm}var mm={},ym={},wm={},eT;function c3(){return eT||(eT=1,wm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),wm}var $s={},tT;function u3(){if(tT)return $s;tT=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;$s.KANJI=new RegExp(t,"g"),$s.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),$s.BYTE=new RegExp(r,"g"),$s.NUMERIC=new RegExp(n,"g"),$s.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+t+"$"),o=new RegExp("^"+n+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return $s.testKanji=function(w){return s.test(w)},$s.testNumeric=function(w){return o.test(w)},$s.testAlphanumeric=function(w){return d.test(w)},$s}var nT;function tc(){return nT||(nT=1,function(n){const e=c3(),t=u3();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,d){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?o.ccBits[0]:d<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+s)}}n.from=function(o,d){if(n.isValid(o))return o;try{return r(o)}catch{return d}}}(ym)),ym}var rT;function LU(){return rT||(rT=1,function(n){const e=ec(),t=l3(),r=Hw(),s=tc(),o=c3(),d=7973,p=e.getBCHDigit(d);function w(I,N,M){for(let k=1;k<=40;k++)if(N<=n.getCapacity(k,M,I))return k}function y(I,N){return s.getCharCountIndicator(I,N)+4}function _(I,N){let M=0;return I.forEach(function(k){const H=y(k.mode,N);M+=H+k.getBitsLength()}),M}function A(I,N){for(let M=1;M<=40;M++)if(_(I,M)<=n.getCapacity(M,N,s.MIXED))return M}n.from=function(N,M){return o.isValid(N)?parseInt(N,10):M},n.getCapacity=function(N,M,k){if(!o.isValid(N))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=s.BYTE);const H=e.getSymbolTotalCodewords(N),F=t.getTotalCodewordsCount(N,M),G=(H-F)*8;if(k===s.MIXED)return G;const B=G-y(k,N);switch(k){case s.NUMERIC:return Math.floor(B/10*3);case s.ALPHANUMERIC:return Math.floor(B/11*2);case s.KANJI:return Math.floor(B/13);case s.BYTE:default:return Math.floor(B/8)}},n.getBestVersionForData=function(N,M){let k;const H=r.from(M,r.M);if(Array.isArray(N)){if(N.length>1)return A(N,H);if(N.length===0)return 1;k=N[0]}else k=N;return w(k.mode,k.getLength(),H)},n.getEncodedBits=function(N){if(!o.isValid(N)||N<7)throw new Error("Invalid QR Code version");let M=N<<12;for(;e.getBCHDigit(M)-p>=0;)M^=d<<e.getBCHDigit(M)-p;return N<<12|M}}(mm)),mm}var xm={},iT;function BU(){if(iT)return xm;iT=1;const n=ec(),e=1335,t=21522,r=n.getBCHDigit(e);return xm.getEncodedBits=function(o,d){const p=o.bit<<3|d;let w=p<<10;for(;n.getBCHDigit(w)-r>=0;)w^=e<<n.getBCHDigit(w)-r;return(p<<10|w)^t},xm}var vm={},bm,sT;function VU(){if(sT)return bm;sT=1;const n=tc();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,o,d;for(s=0;s+3<=this.data.length;s+=3)o=this.data.substr(s,3),d=parseInt(o,10),r.put(d,10);const p=this.data.length-s;p>0&&(o=this.data.substr(s),d=parseInt(o,10),r.put(d,p*3+1))},bm=e,bm}var Em,aT;function UU(){if(aT)return Em;aT=1;const n=tc(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let o;for(o=0;o+2<=this.data.length;o+=2){let d=e.indexOf(this.data[o])*45;d+=e.indexOf(this.data[o+1]),s.put(d,11)}this.data.length%2&&s.put(e.indexOf(this.data[o]),6)},Em=t,Em}var _m,oT;function FU(){if(oT)return _m;oT=1;const n=tc();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,s=this.data.length;r<s;r++)t.put(this.data[r],8)},_m=e,_m}var Tm,lT;function zU(){if(lT)return Tm;lT=1;const n=tc(),e=ec();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(s){return s*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let o=e.toSJIS(this.data[s]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},Tm=t,Tm}var Am={exports:{}},cT;function jU(){return cT||(cT=1,function(n){var e={single_source_shortest_paths:function(t,r,s){var o={},d={};d[r]=0;var p=e.PriorityQueue.make();p.push(r,0);for(var w,y,_,A,I,N,M,k,H;!p.empty();){w=p.pop(),y=w.value,A=w.cost,I=t[y]||{};for(_ in I)I.hasOwnProperty(_)&&(N=I[_],M=A+N,k=d[_],H=typeof d[_]>"u",(H||k>M)&&(d[_]=M,p.push(_,M),o[_]=y))}if(typeof s<"u"&&typeof d[s]>"u"){var F=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(F)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var s=[],o=r;o;)s.push(o),t[o],o=t[o];return s.reverse(),s},find_path:function(t,r,s){var o=e.single_source_shortest_paths(t,r,s);return e.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,s={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);return s.queue=[],s.sorter=t.sorter||r.default_sorter,s},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var s={value:t,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e}(Am)),Am.exports}var uT;function HU(){return uT||(uT=1,function(n){const e=tc(),t=VU(),r=UU(),s=FU(),o=zU(),d=u3(),p=ec(),w=jU();function y(F){return unescape(encodeURIComponent(F)).length}function _(F,G,B){const Z=[];let re;for(;(re=F.exec(B))!==null;)Z.push({data:re[0],index:re.index,mode:G,length:re[0].length});return Z}function A(F){const G=_(d.NUMERIC,e.NUMERIC,F),B=_(d.ALPHANUMERIC,e.ALPHANUMERIC,F);let Z,re;return p.isKanjiModeEnabled()?(Z=_(d.BYTE,e.BYTE,F),re=_(d.KANJI,e.KANJI,F)):(Z=_(d.BYTE_KANJI,e.BYTE,F),re=[]),G.concat(B,Z,re).sort(function(V,P){return V.index-P.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function I(F,G){switch(G){case e.NUMERIC:return t.getBitsLength(F);case e.ALPHANUMERIC:return r.getBitsLength(F);case e.KANJI:return o.getBitsLength(F);case e.BYTE:return s.getBitsLength(F)}}function N(F){return F.reduce(function(G,B){const Z=G.length-1>=0?G[G.length-1]:null;return Z&&Z.mode===B.mode?(G[G.length-1].data+=B.data,G):(G.push(B),G)},[])}function M(F){const G=[];for(let B=0;B<F.length;B++){const Z=F[B];switch(Z.mode){case e.NUMERIC:G.push([Z,{data:Z.data,mode:e.ALPHANUMERIC,length:Z.length},{data:Z.data,mode:e.BYTE,length:Z.length}]);break;case e.ALPHANUMERIC:G.push([Z,{data:Z.data,mode:e.BYTE,length:Z.length}]);break;case e.KANJI:G.push([Z,{data:Z.data,mode:e.BYTE,length:y(Z.data)}]);break;case e.BYTE:G.push([{data:Z.data,mode:e.BYTE,length:y(Z.data)}])}}return G}function k(F,G){const B={},Z={start:{}};let re=["start"];for(let se=0;se<F.length;se++){const V=F[se],P=[];for(let O=0;O<V.length;O++){const W=V[O],Q=""+se+O;P.push(Q),B[Q]={node:W,lastCount:0},Z[Q]={};for(let Y=0;Y<re.length;Y++){const q=re[Y];B[q]&&B[q].node.mode===W.mode?(Z[q][Q]=I(B[q].lastCount+W.length,W.mode)-I(B[q].lastCount,W.mode),B[q].lastCount+=W.length):(B[q]&&(B[q].lastCount=W.length),Z[q][Q]=I(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,G))}}re=P}for(let se=0;se<re.length;se++)Z[re[se]].end=0;return{map:Z,table:B}}function H(F,G){let B;const Z=e.getBestModeForData(F);if(B=e.from(G,Z),B!==e.BYTE&&B.bit<Z.bit)throw new Error('"'+F+'" cannot be encoded with mode '+e.toString(B)+`.
 Suggested mode is: `+e.toString(Z));switch(B===e.KANJI&&!p.isKanjiModeEnabled()&&(B=e.BYTE),B){case e.NUMERIC:return new t(F);case e.ALPHANUMERIC:return new r(F);case e.KANJI:return new o(F);case e.BYTE:return new s(F)}}n.fromArray=function(G){return G.reduce(function(B,Z){return typeof Z=="string"?B.push(H(Z,null)):Z.data&&B.push(H(Z.data,Z.mode)),B},[])},n.fromString=function(G,B){const Z=A(G,p.isKanjiModeEnabled()),re=M(Z),se=k(re,B),V=w.find_path(se.map,"start","end"),P=[];for(let O=1;O<V.length-1;O++)P.push(se.table[V[O]].node);return n.fromArray(N(P))},n.rawSplit=function(G){return n.fromArray(A(G,p.isKanjiModeEnabled()))}}(vm)),vm}var fT;function GU(){if(fT)return om;fT=1;const n=ec(),e=Hw(),t=IU(),r=RU(),s=NU(),o=MU(),d=DU(),p=l3(),w=PU(),y=LU(),_=BU(),A=tc(),I=HU();function N(se,V){const P=se.size,O=o.getPositions(V);for(let W=0;W<O.length;W++){const Q=O[W][0],Y=O[W][1];for(let q=-1;q<=7;q++)if(!(Q+q<=-1||P<=Q+q))for(let _e=-1;_e<=7;_e++)Y+_e<=-1||P<=Y+_e||(q>=0&&q<=6&&(_e===0||_e===6)||_e>=0&&_e<=6&&(q===0||q===6)||q>=2&&q<=4&&_e>=2&&_e<=4?se.set(Q+q,Y+_e,!0,!0):se.set(Q+q,Y+_e,!1,!0))}}function M(se){const V=se.size;for(let P=8;P<V-8;P++){const O=P%2===0;se.set(P,6,O,!0),se.set(6,P,O,!0)}}function k(se,V){const P=s.getPositions(V);for(let O=0;O<P.length;O++){const W=P[O][0],Q=P[O][1];for(let Y=-2;Y<=2;Y++)for(let q=-2;q<=2;q++)Y===-2||Y===2||q===-2||q===2||Y===0&&q===0?se.set(W+Y,Q+q,!0,!0):se.set(W+Y,Q+q,!1,!0)}}function H(se,V){const P=se.size,O=y.getEncodedBits(V);let W,Q,Y;for(let q=0;q<18;q++)W=Math.floor(q/3),Q=q%3+P-8-3,Y=(O>>q&1)===1,se.set(W,Q,Y,!0),se.set(Q,W,Y,!0)}function F(se,V,P){const O=se.size,W=_.getEncodedBits(V,P);let Q,Y;for(Q=0;Q<15;Q++)Y=(W>>Q&1)===1,Q<6?se.set(Q,8,Y,!0):Q<8?se.set(Q+1,8,Y,!0):se.set(O-15+Q,8,Y,!0),Q<8?se.set(8,O-Q-1,Y,!0):Q<9?se.set(8,15-Q-1+1,Y,!0):se.set(8,15-Q-1,Y,!0);se.set(O-8,8,1,!0)}function G(se,V){const P=se.size;let O=-1,W=P-1,Q=7,Y=0;for(let q=P-1;q>0;q-=2)for(q===6&&q--;;){for(let _e=0;_e<2;_e++)if(!se.isReserved(W,q-_e)){let le=!1;Y<V.length&&(le=(V[Y]>>>Q&1)===1),se.set(W,q-_e,le),Q--,Q===-1&&(Y++,Q=7)}if(W+=O,W<0||P<=W){W-=O,O=-O;break}}}function B(se,V,P){const O=new t;P.forEach(function(_e){O.put(_e.mode.bit,4),O.put(_e.getLength(),A.getCharCountIndicator(_e.mode,se)),_e.write(O)});const W=n.getSymbolTotalCodewords(se),Q=p.getTotalCodewordsCount(se,V),Y=(W-Q)*8;for(O.getLengthInBits()+4<=Y&&O.put(0,4);O.getLengthInBits()%8!==0;)O.putBit(0);const q=(Y-O.getLengthInBits())/8;for(let _e=0;_e<q;_e++)O.put(_e%2?17:236,8);return Z(O,se,V)}function Z(se,V,P){const O=n.getSymbolTotalCodewords(V),W=p.getTotalCodewordsCount(V,P),Q=O-W,Y=p.getBlocksCount(V,P),q=O%Y,_e=Y-q,le=Math.floor(O/Y),ae=Math.floor(Q/Y),de=ae+1,ve=le-ae,Re=new w(ve);let te=0;const ye=new Array(Y),Ne=new Array(Y);let Oe=0;const Ge=new Uint8Array(se.buffer);for(let Ye=0;Ye<Y;Ye++){const lt=Ye<_e?ae:de;ye[Ye]=Ge.slice(te,te+lt),Ne[Ye]=Re.encode(ye[Ye]),te+=lt,Oe=Math.max(Oe,lt)}const it=new Uint8Array(O);let Ce=0,We,He;for(We=0;We<Oe;We++)for(He=0;He<Y;He++)We<ye[He].length&&(it[Ce++]=ye[He][We]);for(We=0;We<ve;We++)for(He=0;He<Y;He++)it[Ce++]=Ne[He][We];return it}function re(se,V,P,O){let W;if(Array.isArray(se))W=I.fromArray(se);else if(typeof se=="string"){let le=V;if(!le){const ae=I.rawSplit(se);le=y.getBestVersionForData(ae,P)}W=I.fromString(se,le||40)}else throw new Error("Invalid data");const Q=y.getBestVersionForData(W,P);if(!Q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!V)V=Q;else if(V<Q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Q+`.
`);const Y=B(V,P,W),q=n.getSymbolSize(V),_e=new r(q);return N(_e,V),M(_e),k(_e,V),F(_e,P,0),V>=7&&H(_e,V),G(_e,Y),isNaN(O)&&(O=d.getBestMask(_e,F.bind(null,_e,P))),d.applyMask(O,_e),F(_e,P,O),{modules:_e,version:V,errorCorrectionLevel:P,maskPattern:O,segments:W}}return om.create=function(V,P){if(typeof V>"u"||V==="")throw new Error("No input text");let O=e.M,W,Q;return typeof P<"u"&&(O=e.from(P.errorCorrectionLevel,e.M),W=y.from(P.version),Q=d.from(P.maskPattern),P.toSJISFunc&&n.setToSJISFunction(P.toSJISFunc)),re(V,W,O,Q)},om}var Sm={},Cm={},dT;function f3(){return dT||(dT=1,function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,d=r.scale||4;return{width:o,scale:o?4:d,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},n.getImageWidth=function(r,s){const o=n.getScale(r,s);return Math.floor((r+s.margin*2)*o)},n.qrToImageData=function(r,s,o){const d=s.modules.size,p=s.modules.data,w=n.getScale(d,o),y=Math.floor((d+o.margin*2)*w),_=o.margin*w,A=[o.color.light,o.color.dark];for(let I=0;I<y;I++)for(let N=0;N<y;N++){let M=(I*y+N)*4,k=o.color.light;if(I>=_&&N>=_&&I<y-_&&N<y-_){const H=Math.floor((I-_)/w),F=Math.floor((N-_)/w);k=A[p[H*d+F]?1:0]}r[M++]=k.r,r[M++]=k.g,r[M++]=k.b,r[M]=k.a}}}(Cm)),Cm}var hT;function qU(){return hT||(hT=1,function(n){const e=f3();function t(s,o,d){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=d,o.width=d,o.style.height=d+"px",o.style.width=d+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,d,p){let w=p,y=d;typeof w>"u"&&(!d||!d.getContext)&&(w=d,d=void 0),d||(y=r()),w=e.getOptions(w);const _=e.getImageWidth(o.modules.size,w),A=y.getContext("2d"),I=A.createImageData(_,_);return e.qrToImageData(I.data,o,w),t(A,y,_),A.putImageData(I,0,0),y},n.renderToDataURL=function(o,d,p){let w=p;typeof w>"u"&&(!d||!d.getContext)&&(w=d,d=void 0),w||(w={});const y=n.render(o,d,w),_=w.type||"image/png",A=w.rendererOpts||{};return y.toDataURL(_,A.quality)}}(Sm)),Sm}var Im={},gT;function YU(){if(gT)return Im;gT=1;const n=f3();function e(s,o){const d=s.a/255,p=o+'="'+s.hex+'"';return d<1?p+" "+o+'-opacity="'+d.toFixed(2).slice(1)+'"':p}function t(s,o,d){let p=s+o;return typeof d<"u"&&(p+=" "+d),p}function r(s,o,d){let p="",w=0,y=!1,_=0;for(let A=0;A<s.length;A++){const I=Math.floor(A%o),N=Math.floor(A/o);!I&&!y&&(y=!0),s[A]?(_++,A>0&&I>0&&s[A-1]||(p+=y?t("M",I+d,.5+N+d):t("m",w,0),w=0,y=!1),I+1<o&&s[A+1]||(p+=t("h",_),_=0)):w++}return p}return Im.render=function(o,d,p){const w=n.getOptions(d),y=o.modules.size,_=o.modules.data,A=y+w.margin*2,I=w.color.light.a?"<path "+e(w.color.light,"fill")+' d="M0 0h'+A+"v"+A+'H0z"/>':"",N="<path "+e(w.color.dark,"stroke")+' d="'+r(_,y,w.margin)+'"/>',M='viewBox="0 0 '+A+" "+A+'"',H='<svg xmlns="http://www.w3.org/2000/svg" '+(w.width?'width="'+w.width+'" height="'+w.width+'" ':"")+M+' shape-rendering="crispEdges">'+I+N+`</svg>
`;return typeof p=="function"&&p(null,H),H},Im}var pT;function WU(){if(pT)return Fc;pT=1;const n=CU(),e=GU(),t=qU(),r=YU();function s(o,d,p,w,y){const _=[].slice.call(arguments,1),A=_.length,I=typeof _[A-1]=="function";if(!I&&!n())throw new Error("Callback required as last argument");if(I){if(A<2)throw new Error("Too few arguments provided");A===2?(y=p,p=d,d=w=void 0):A===3&&(d.getContext&&typeof y>"u"?(y=w,w=void 0):(y=w,w=p,p=d,d=void 0))}else{if(A<1)throw new Error("Too few arguments provided");return A===1?(p=d,d=w=void 0):A===2&&!d.getContext&&(w=p,p=d,d=void 0),new Promise(function(N,M){try{const k=e.create(p,w);N(o(k,d,w))}catch(k){M(k)}})}try{const N=e.create(p,w);y(null,o(N,d,w))}catch(N){y(N)}}return Fc.create=e.create,Fc.toCanvas=s.bind(null,t.render),Fc.toDataURL=s.bind(null,t.renderToDataURL),Fc.toString=s.bind(null,function(o,d,p){return r.render(o,p)}),Fc}var XU=WU();const KU=j0(XU);async function d3(n){const e=await KU.toDataURL(n,{type:"image/png"});return await(await fetch(e)).blob()}const QU=async(n,e)=>(await Sw(Ls(Ur,"users",n,"freezers"),{name:e,createdAt:new Date})).id,ZU=async(n,e,t="")=>{if(!e)throw new Error("Freezer ID is required");return(await Sw(Ls(Ur,"users",n,"freezers",e,"shelves"),{name:t,createdAt:Cw()})).id},$U=async(n,e,t,r,s=0,o="",d="",p=null,w=null,y=null)=>{if(!r)throw new Error("Product name is required");if(!e)throw new Error("Freezer ID is required");let _="";y&&(_=await z0(y));const A={name:r,quantity:s,unit:o,category:d,shelfId:t,createdAt:Cw(),freezingDate:p instanceof Date?Fn.fromDate(p):null,expirationDate:w instanceof Date?Fn.fromDate(w):null,photoUrl:_,qrCodeUrl:""},I=Ls(Ur,"users",n,"freezers",e,"products"),N=await Sw(I,A),M=await d3(N.id),k=await z0(M);return await yg(N,{qrCodeUrl:k}),{id:N.id,photoUrl:_,qrCodeUrl:k}},JU=async n=>{const e=tu(Ls(Ur,"users",n,"freezers"),Ff("createdAt","asc")),t=await ja(e),r=[];for(const s of t.docs){const o={id:s.id,...s.data(),shelves:[],products:[]},d=tu(Ls(Ur,"users",n,"freezers",s.id,"shelves"),Ff("createdAt","asc")),p=await ja(d);o.shelves=p.docs.map(_=>({id:_.id,..._.data()}));const w=tu(Ls(Ur,"users",n,"freezers",s.id,"products"),Ff("createdAt","asc")),y=await ja(w);o.products=y.docs.map(_=>{var I,N;const A=_.data();return{id:_.id,...A,freezingDate:((I=A.freezingDate)==null?void 0:I.toDate())||null,expirationDate:((N=A.expirationDate)==null?void 0:N.toDate())||null}}),r.push(o)}return r},eF=async n=>{if(!n)throw new Error("User ID is required");const e=Ls(Ur,"categories"),t=tu(e,ly("createdBy","==",""),Ff("createdAt","asc")),r=tu(e,ly("createdBy","==",n),Ff("createdAt","asc")),[s,o]=await Promise.all([ja(t),ja(r)]),d=s.docs.map(w=>({id:w.id,...w.data()})),p=o.docs.map(w=>({id:w.id,...w.data()}));return[...d,...p]},tF=async()=>{try{return(await ja(Ls(Ur,"units"))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){return console.error("Error fetching units:",n),[]}},nF=async(n,e,t)=>{if(!t)throw new Error("New name is required");const r=ul(Ur,"users",n,"freezers",e);await yg(r,{name:t,updatedAt:new Date})},rF=async(n,e,t,r)=>{const s=ul(Ur,"users",n,"freezers",e,"shelves",t);await yg(s,{name:r,updatedAt:new Date})},iF=async(n,e,t,r={})=>{if(!n||!e||!t)throw new Error("Missing identifiers");const{photoFile:s,regenerateQr:o,freezingDate:d,expirationDate:p,shelfId:w,...y}=r,A={...Object.entries(y).reduce((M,[k,H])=>(!(H instanceof File)&&!(H instanceof Blob)&&(M[k]=H),M),{}),updatedAt:Cw()};r.hasOwnProperty("shelfId")&&(A.shelfId=w===""?null:w);const I=M=>M?M instanceof Date?Fn.fromDate(M):M instanceof Fn?M:typeof M=="string"?Fn.fromDate(new Date(M)):null:null;if(d&&(A.freezingDate=I(d)),p&&(A.expirationDate=I(p)),s){const M=await z0(s);A.photoUrl=M}if(o){const M=await d3(`${t}|${Date.now()}`),k=await z0(M);A.qrCodeUrl=k}const N=ul(Ur,"users",n,"freezers",e,"products",t);await yg(N,A)},sF=async(n,e)=>{const t=Ls(Ur,"users",n,"freezers",e,"products"),r=await ja(t);await Promise.all(r.docs.map(p=>nu(p.ref)));const s=Ls(Ur,"users",n,"freezers",e,"shelves"),o=await ja(s);await Promise.all(o.docs.map(p=>nu(p.ref)));const d=ul(Ur,"users",n,"freezers",e);await nu(d)},aF=async(n,e,t)=>{const r=tu(Ls(Ur,"users",n,"freezers",e,"products"),ly("shelfId","==",t)),s=await ja(r);await Promise.all(s.docs.map(d=>nu(d.ref)));const o=ul(Ur,"users",n,"freezers",e,"shelves",t);await nu(o)},oF=async(n,e,t)=>{const r=ul(Ur,"users",n,"freezers",e,"products",t);await nu(r)};function lF(){const n=Ed(),[e,t]=$.useState([]),[r,s]=$.useState(!1),[o,d]=$.useState(null);$.useEffect(()=>{if(!n)return;s(!0),(async()=>{try{const B=await JU(n.uid);t(Array.isArray(B)?B:[B])}catch(B){console.error("Error fetching freezer data:",B),d(B)}finally{s(!1)}})()},[n]);const p=$.useCallback(async G=>{if(G){s(!0);try{const B=await QU(n.uid,G);t(Z=>[...Z,{id:B,name:G.trim(),shelves:[]}])}catch(B){console.error(B),d(B)}finally{s(!1)}}},[n]),w=$.useCallback(async(G,B)=>{s(!0);try{await nF(n.uid,G,B),t(Z=>Z.map(re=>re.id===G?{...re,name:B}:re))}catch(Z){console.error(Z),d(Z)}finally{s(!1)}},[n]),y=$.useCallback(async G=>{s(!0);try{await sF(n.uid,G),t(B=>B.filter(Z=>Z.id!==G))}catch(B){console.error(B),d(B)}finally{s(!1)}},[n]),_=$.useCallback(async(G,B)=>{if(!(!B||!G)){s(!0);try{const Z=await ZU(n.uid,G,B.trim());t(re=>re.map(se=>se.id===G?{...se,shelves:[...se.shelves,{id:Z,name:B.trim()}]}:se))}catch(Z){console.error(Z),d(Z)}finally{s(!1)}}},[n]),A=$.useCallback(async(G,B,Z)=>{if(!(!Z||!G)){s(!0);try{await rF(n.uid,G,B,Z),t(re=>re.map(se=>se.id===G?{...se,shelves:se.shelves.map(V=>V.id===B?{...V,name:Z.trim()}:V)}:se))}catch(re){console.error(re),d(re)}finally{s(!1)}}},[n]),I=$.useCallback(async(G,B)=>{try{await aF(n.uid,G,B),t(Z=>Z.map(re=>re.id===G?{...re,shelves:re.shelves.filter(se=>se.id!==B)}:re))}catch(Z){console.error(Z),d(Z)}finally{s(!1)}},[n]),N=G=>{if(!G)return;const B=G.includes(".")?G.split("."):G.split("/");if(B.length!==3)return;const[Z,re,se]=B.map(Number);return new Date(se,re-1,Z)},M=$.useCallback(async(G,B,Z)=>{if(!(!Z||!G))try{const re=Z.freezingDate instanceof Date?Z.freezingDate:N(Z.freezingDate),se=Z.expirationDate instanceof Date?Z.expirationDate:N(Z.expirationDate),V=Z.picture||null,{id:P,photoUrl:O,qrCodeUrl:W}=await $U(n.uid,G,B,Z.name,Z.quantity,Z.unit,Z.category,re,se,V);t(Q=>Q.map(Y=>Y.id===G?{...Y,products:[...Y.products||[],{id:P,shelfId:B,name:Z.name,quantity:Z.quantity,unit:Z.unit,category:Z.category,freezingDate:re,expirationDate:se,photoUrl:O,qrCodeUrl:W}]}:Y))}catch(re){console.error(re),d(re)}},[n]),k=$.useCallback(async(G,B,Z,re)=>{if(!(!re||!G))try{await iF(n.uid,G,Z,re),t(se=>se.map(V=>V.id===G?{...V,products:V.products.map(P=>P.id===Z?{...P,...re,freezingDate:typeof re.freezingDate=="string"?new Date(re.freezingDate):re.freezingDate,expirationDate:typeof re.expirationDate=="string"?new Date(re.expirationDate):re.expirationDate}:P)}:V))}catch(se){console.error("Error updating product:",se),d(se)}},[n]),H=$.useCallback(async(G,B,Z)=>{if(!(!Z||!G))try{await oF(n.uid,G,Z),t(re=>re.map(se=>se.id===G?{...se,products:se.products.filter(V=>V.id!==Z)}:se))}catch(re){console.error("Error deleting product:",re),d(re)}},[n]),F=$.useCallback(()=>e.flatMap(G=>(G.products||[]).filter(B=>B.shelfId==="").map(B=>({...B,freezerId:G.id}))),[e]);return{freezers:e,loading:r,error:o,addFreezer:p,updateFreezer:w,deleteFreezer:y,addShelf:_,updateShelf:A,removeShelf:I,addProduct:M,updateProduct:k,removeProduct:H,getUnassignedProducts:F}}function Gw(){const n=Ed(),[e,t]=$.useState([]),[r,s]=$.useState([]),[o,d]=$.useState(null);$.useEffect(()=>{if(!n)return;(async()=>{try{const y=await eF(n.uid),_=await tF();t(Array.isArray(y)?y:[y]),s(Array.isArray(_)?_:[_])}catch(y){console.error("Error fetching freezer data:",y),d(y)}})()},[n]);const p=$.useCallback(w=>e.find(y=>y.id===w)||null,[e]);return $.useCallback(),{categories:e,units:r,error:o,getCategory:p}}function cF(){const{config:n,open:e,close:t}=Pg(),{freezers:r,loading:s,error:o,addFreezer:d,updateFreezer:p,deleteFreezer:w,addShelf:y,updateShelf:_,removeShelf:A,addProduct:I,updateProduct:N,removeProduct:M}=lF(),{categories:k,units:H}=Gw();function F(P,O){for(const W of P){const Q=W.products.find(Y=>Y.id===O);if(Q)return{freezerId:W.id,product:Q}}return null}const{showScanner:G,openScanner:B,closeScanner:Z,scanResult:re,scanError:se,qrContainerId:V}=XB({onScanSuccess:P=>{console.log("scanned:",P);const O=F(r,P);if(!O)return alert("Product not found.");const{freezerId:W,product:Q}=O,Y=r.find(_e=>_e.id===W),q=Y?Y.shelves:[];e({mode:"edit",title:"Product",onSubmit:_e=>{console.log("submitted"),N(W,Q.shelfId,Q.id,_e)},fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter freezer name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:q,required:!1},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:H,required:!0},{key:"photoUrl",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:k,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}],initialData:{id:Q.id,name:Q.name,shelfId:Q.shelfId,quantity:Q.quantity,unit:Q.unit,category:Q.category||"",freezingDate:F0(Q.freezingDate),expirationDate:F0(Q.expirationDate),photoUrl:Q.photoUrl||""}})},onScanError:P=>{console.error("Scanner error",P)}});return s?X.jsx("div",{children:"Loading…"}):o?X.jsxs("div",{children:["Error: ",o.message]}):X.jsxs(X.Fragment,{children:[X.jsxs(o3,{modules:[SU],spaceBetween:10,slidesPerView:1,loop:!1,navigation:!0,style:{width:"100%",height:"100%"},observer:!0,observeParents:!0,observeSlideChildren:!0,className:"w-full h-full flex justify-center items-center",children:[r.map(P=>X.jsx(Ay,{children:X.jsx(KB,{freezerData:P,onDeleteFreezer:()=>w(P.id),onEditFreezer:O=>p(P.id,O),onAddShelf:O=>y(P.id,O),onUpdateShelf:(O,W)=>_(P.id,O,W),onRemoveShelf:O=>A(P.id,O),onAddProduct:(O,W)=>I(P.id,O,W),onUpdateProduct:(O,W,Q)=>N(P.id,O,W,Q),onRemoveProduct:(O,W)=>M(P.id,O,W)})},P.id)),X.jsxs(Ay,{className:"flex-col gap-2",children:[X.jsx(rs,{label:"Freezer",onClick:()=>e({mode:"add",title:"Freezer",onSubmit:({name:P})=>{d(P)},fields:[{key:"name",label:"Frezer Name",type:"text",placeholder:"Enter freezer name",required:!0}]}),action:"add",className:"w-1/5"}),X.jsx(rs,{label:"Scan Freezer",onClick:B,action:"scan",className:"w-1/5 mt-2"})]})]}),X.jsx(Og,{show:n.mode!==null,mode:n.mode,title:n.title,fields:n.fields,initialData:n.initialData,onSubmit:n.onSubmit,onClose:t}),X.jsx(rB,{show:G,onClose:Z,scanError:se,scanResult:re,qrContainerId:V})]})}function mT({shelf:n,freezerData:e,onRemoveShelf:t,onUpdateShelf:r,onAddProduct:s,onUpdateProduct:o,onRemoveProduct:d}){Ed();const{config:p,open:w,close:y}=Pg(),{categories:_,units:A}=Gw(),I=n.name==="No shelf products"?{id:n.id,name:"-- No Shelf --"}:{id:n.id,name:n.name};return X.jsxs(X.Fragment,{children:[X.jsx(DC,{collapseAll:!0,children:X.jsxs(LC,{children:[X.jsx(BC,{className:"cursor-pointer flex flex-row justify-between items-center w-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg p-5",children:X.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[n.name,n.id&&X.jsxs(X.Fragment,{children:[X.jsx(rs,{onClick:()=>w({mode:"edit",title:"Shelf",onSubmit:({name:N})=>r(n.id,N),fields:[{key:"name",label:"Shelf Name",type:"text",placeholder:"Enter shelf name",required:!0}],initialData:{name:n.name}}),action:"edit"}),X.jsx(rs,{onClick:()=>w({mode:"delete",title:"Shelf",onSubmit:()=>t(n.id)}),action:"delete"})]})]})}),X.jsxs(PC,{className:"flex flex-col gap-2 cursor-pointer",children:[e.products&&e.products.filter(N=>n.id?N.shelfId===n.id:!N.shelfId).map(N=>X.jsx(uF,{shelves:e.shelves,product:N,shelfId:n.id,onUpdateProduct:o,onRemoveProduct:d,freezerId:e.id,className:"flex flex-row justify-between items-center w-full",categories:_,units:A},N.id)),X.jsx(rs,{label:"Product",onClick:()=>w({mode:"add",title:"Product",onSubmit:N=>s(n.id,N),fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter product name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:e.shelves,required:!1,value:I},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:A,required:!0},{key:"picture",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:_,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}]}),action:"add"})]})]})}),X.jsx(Og,{show:p.mode!==null,mode:p.mode,title:p.title,fields:p.fields,initialData:p.initialData,onSubmit:p.onSubmit,onClose:y})]})}function uF({product:n,shelfId:e,onRemoveProduct:t,onUpdateProduct:r,categories:s,units:o,shelves:d}){const[p,w]=$.useState(!1),{config:y,open:_,close:A}=Pg(),I=s.find(M=>M.id===n.category),N=o.find(M=>M.id===n.unit);return console.log(n),X.jsxs(X.Fragment,{children:[X.jsx(iu,{className:"w-full text-left",onClick:()=>w(!0),children:X.jsxs("div",{className:"flex justify-between items-center w-full",children:[X.jsxs("div",{className:"flex gap-0 items-center",children:[(I==null?void 0:I.imageUrl)&&X.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-10 h-10 object-cover rounded mr-2"}),X.jsx("span",{className:"ml.3-2",children:n.name}),X.jsx(rs,{onClick:()=>{var M,k;return console.log("Edit product: ",n)||_({mode:"edit",title:"Product",onSubmit:H=>{console.log("submitted"),r(e,n.id,H)},fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter freezer name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:d,required:!1},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:o,required:!0},{key:"photoUrl",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:s,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}],initialData:{id:n.id,name:n.name,shelfId:e,quantity:n.quantity,unit:n.unit,category:n.category||"",freezingDate:(M=n.freezingDate)!=null&&M.toDate?n.freezingDate.toDate():n.freezingDate,expirationDate:(k=n.expirationDate)!=null&&k.toDate?n.expirationDate.toDate():n.expirationDate,photoUrl:n.photoUrl||""}})},action:"edit"}),X.jsx(rs,{onClick:()=>_({mode:"delete",title:"Product",onSubmit:()=>{t(e,n.id),console.log(n.id)}}),action:"delete"})]}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx("span",{children:n.quantity}),(N==null?void 0:N.name)&&X.jsx("span",{children:N.name})]})]})}),X.jsx(fF,{show:p,onClose:()=>w(!1),product:n,unit:N,category:I}),X.jsx(Og,{show:y.mode!==null,mode:y.mode,title:y.title,fields:y.fields,initialData:y.initialData,onSubmit:y.onSubmit,onClose:A})]})}function fF({show:n,onClose:e,product:t,unit:r,category:s}){if(!t)return null;Gw();function o(p){return p?typeof p=="string"?p:p instanceof File?URL.createObjectURL(p):null:null}const d=async p=>{p.preventDefault(),p.stopPropagation();try{const y=await(await fetch(t.qrCodeUrl)).blob(),_=window.URL.createObjectURL(y),A=document.createElement("a");A.href=_,A.download="qrcode.png",document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(_)}catch(w){console.error("Download failed:",w)}};return X.jsxs(Ng,{show:n,onClose:e,children:[X.jsx(Dg,{children:t.name}),X.jsx(Mg,{children:X.jsxs("ul",{children:[X.jsxs("li",{children:["Quantity: ",t.quantity," ",r?r.name:null]}),s?X.jsxs("li",{children:["Category: ",s.name]}):null,t.freezingDate&&X.jsxs("li",{children:["Freezing Date: ",t.freezingDate?F0(t.freezingDate):""]}),t.expirationDate&&X.jsxs("li",{children:["Expiration Date: ",t.expirationDate?F0(t.expirationDate):""]}),t.photoUrl&&X.jsxs("li",{children:["Picture: ",X.jsx("img",{src:o(t.photoUrl),alt:"QR Code",className:"w-30 h-30"})]}),X.jsxs("li",{children:["QR Code:",X.jsxs("div",{className:"flex flex-col gap-2",children:[X.jsx("img",{src:t.qrCodeUrl,alt:"Product",className:"w-30 h-30"}),X.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 max-w-max",children:"Download QR Code"})]})]})]})})]})}function dF(){return X.jsxs(X.Fragment,{children:[X.jsx(kg,{}),X.jsx("div",{className:"h-screen flex items-center justify-center flex-col text-center max-w-screen",children:X.jsx(cF,{})})]})}function hF(){return X.jsxs($R,{children:["  ",X.jsxs(IR,{children:[X.jsx(Sf,{path:"/",element:X.jsx(aB,{})}),X.jsx(Sf,{path:"/signup",element:X.jsx(lB,{})}),X.jsx(Sf,{path:"/login",element:X.jsx(oB,{})}),X.jsx(Sf,{path:"/dashboard",element:X.jsx(s9,{children:X.jsx(dF,{})})})]}),X.jsx(jN,{position:"top-right",autoClose:3e3})]})}B4.createRoot(document.getElementById("root")).render(X.jsx($.StrictMode,{children:X.jsx(i9,{children:X.jsx(hF,{})})}));
