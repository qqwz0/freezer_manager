function wT(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wp={exports:{}},yd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function R4(){if(Ub)return yd;Ub=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var f=null;if(o!==void 0&&(f=""+o),s.key!==void 0&&(f=""+s.key),"key"in s){o={};for(var p in s)p!=="key"&&(o[p]=s[p])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:f,ref:s!==void 0?s:null,props:o}}return yd.Fragment=e,yd.jsx=t,yd.jsxs=t,yd}var Fb;function N4(){return Fb||(Fb=1,wp.exports=R4()),wp.exports}var B=N4(),vp={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function M4(){if(zb)return It;zb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function I(ne){return ne===null||typeof ne!="object"?null:(ne=A&&ne[A]||ne["@@iterator"],typeof ne=="function"?ne:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function G(ne,ye,Ne){this.props=ne,this.context=ye,this.refs=k,this.updater=Ne||R}G.prototype.isReactComponent={},G.prototype.setState=function(ne,ye){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,ye,"setState")},G.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function F(){}F.prototype=G.prototype;function K(ne,ye,Ne){this.props=ne,this.context=ye,this.refs=k,this.updater=Ne||R}var L=K.prototype=new F;L.constructor=K,M(L,G.prototype),L.isPureReactComponent=!0;var $=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function V(ne,ye,Ne,Oe,Ge,it){return Ne=it.ref,{$$typeof:n,type:ne,key:ye,ref:Ne!==void 0?Ne:null,props:it}}function P(ne,ye){return V(ne.type,ye,void 0,void 0,void 0,ne.props)}function O(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===n}function W(ne){var ye={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(Ne){return ye[Ne]})}var X=/\/+/g;function Y(ne,ye){return typeof ne=="object"&&ne!==null&&ne.key!=null?W(""+ne.key):ye.toString(36)}function q(){}function be(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(q,q):(ne.status="pending",ne.then(function(ye){ne.status==="pending"&&(ne.status="fulfilled",ne.value=ye)},function(ye){ne.status==="pending"&&(ne.status="rejected",ne.reason=ye)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function le(ne,ye,Ne,Oe,Ge){var it=typeof ne;(it==="undefined"||it==="boolean")&&(ne=null);var Ce=!1;if(ne===null)Ce=!0;else switch(it){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(ne.$$typeof){case n:case e:Ce=!0;break;case E:return Ce=ne._init,le(Ce(ne._payload),ye,Ne,Oe,Ge)}}if(Ce)return Ge=Ge(ne),Ce=Oe===""?"."+Y(ne,0):Oe,$(Ge)?(Ne="",Ce!=null&&(Ne=Ce.replace(X,"$&/")+"/"),le(Ge,ye,Ne,"",function(Ye){return Ye})):Ge!=null&&(O(Ge)&&(Ge=P(Ge,Ne+(Ge.key==null||ne&&ne.key===Ge.key?"":(""+Ge.key).replace(X,"$&/")+"/")+Ce)),ye.push(Ge)),1;Ce=0;var We=Oe===""?".":Oe+":";if($(ne))for(var He=0;He<ne.length;He++)Oe=ne[He],it=We+Y(Oe,He),Ce+=le(Oe,ye,Ne,it,Ge);else if(He=I(ne),typeof He=="function")for(ne=He.call(ne),He=0;!(Oe=ne.next()).done;)Oe=Oe.value,it=We+Y(Oe,He++),Ce+=le(Oe,ye,Ne,it,Ge);else if(it==="object"){if(typeof ne.then=="function")return le(be(ne),ye,Ne,Oe,Ge);throw ye=String(ne),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(ne,ye,Ne){if(ne==null)return ne;var Oe=[],Ge=0;return le(ne,Oe,"","",function(it){return ye.call(Ne,it,Ge++)}),Oe}function fe(ne){if(ne._status===-1){var ye=ne._result;ye=ye(),ye.then(function(Ne){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=Ne)},function(Ne){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=Ne)}),ne._status===-1&&(ne._status=0,ne._result=ye)}if(ne._status===1)return ne._result.default;throw ne._result}var we=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)};function Re(){}return It.Children={map:ae,forEach:function(ne,ye,Ne){ae(ne,function(){ye.apply(this,arguments)},Ne)},count:function(ne){var ye=0;return ae(ne,function(){ye++}),ye},toArray:function(ne){return ae(ne,function(ye){return ye})||[]},only:function(ne){if(!O(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},It.Component=G,It.Fragment=t,It.Profiler=s,It.PureComponent=K,It.StrictMode=r,It.Suspense=y,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,It.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return te.H.useMemoCache(ne)}},It.cache=function(ne){return function(){return ne.apply(null,arguments)}},It.cloneElement=function(ne,ye,Ne){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var Oe=M({},ne.props),Ge=ne.key,it=void 0;if(ye!=null)for(Ce in ye.ref!==void 0&&(it=void 0),ye.key!==void 0&&(Ge=""+ye.key),ye)!ie.call(ye,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ye.ref===void 0||(Oe[Ce]=ye[Ce]);var Ce=arguments.length-2;if(Ce===1)Oe.children=Ne;else if(1<Ce){for(var We=Array(Ce),He=0;He<Ce;He++)We[He]=arguments[He+2];Oe.children=We}return V(ne.type,Ge,void 0,void 0,it,Oe)},It.createContext=function(ne){return ne={$$typeof:f,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:o,_context:ne},ne},It.createElement=function(ne,ye,Ne){var Oe,Ge={},it=null;if(ye!=null)for(Oe in ye.key!==void 0&&(it=""+ye.key),ye)ie.call(ye,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(Ge[Oe]=ye[Oe]);var Ce=arguments.length-2;if(Ce===1)Ge.children=Ne;else if(1<Ce){for(var We=Array(Ce),He=0;He<Ce;He++)We[He]=arguments[He+2];Ge.children=We}if(ne&&ne.defaultProps)for(Oe in Ce=ne.defaultProps,Ce)Ge[Oe]===void 0&&(Ge[Oe]=Ce[Oe]);return V(ne,it,void 0,void 0,null,Ge)},It.createRef=function(){return{current:null}},It.forwardRef=function(ne){return{$$typeof:p,render:ne}},It.isValidElement=O,It.lazy=function(ne){return{$$typeof:E,_payload:{_status:-1,_result:ne},_init:fe}},It.memo=function(ne,ye){return{$$typeof:x,type:ne,compare:ye===void 0?null:ye}},It.startTransition=function(ne){var ye=te.T,Ne={};te.T=Ne;try{var Oe=ne(),Ge=te.S;Ge!==null&&Ge(Ne,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(Re,we)}catch(it){we(it)}finally{te.T=ye}},It.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},It.use=function(ne){return te.H.use(ne)},It.useActionState=function(ne,ye,Ne){return te.H.useActionState(ne,ye,Ne)},It.useCallback=function(ne,ye){return te.H.useCallback(ne,ye)},It.useContext=function(ne){return te.H.useContext(ne)},It.useDebugValue=function(){},It.useDeferredValue=function(ne,ye){return te.H.useDeferredValue(ne,ye)},It.useEffect=function(ne,ye,Ne){var Oe=te.H;if(typeof Ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Oe.useEffect(ne,ye)},It.useId=function(){return te.H.useId()},It.useImperativeHandle=function(ne,ye,Ne){return te.H.useImperativeHandle(ne,ye,Ne)},It.useInsertionEffect=function(ne,ye){return te.H.useInsertionEffect(ne,ye)},It.useLayoutEffect=function(ne,ye){return te.H.useLayoutEffect(ne,ye)},It.useMemo=function(ne,ye){return te.H.useMemo(ne,ye)},It.useOptimistic=function(ne,ye){return te.H.useOptimistic(ne,ye)},It.useReducer=function(ne,ye,Ne){return te.H.useReducer(ne,ye,Ne)},It.useRef=function(ne){return te.H.useRef(ne)},It.useState=function(ne){return te.H.useState(ne)},It.useSyncExternalStore=function(ne,ye,Ne){return te.H.useSyncExternalStore(ne,ye,Ne)},It.useTransition=function(){return te.H.useTransition()},It.version="19.1.0",It}var jb;function Sy(){return jb||(jb=1,vp.exports=M4()),vp.exports}var Z=Sy();const dt=j0(Z),D4=wT({__proto__:null,default:dt},[Z]);var bp={exports:{}},xd={},Ep={exports:{}},_p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function O4(){return Hb||(Hb=1,function(n){function e(ae,fe){var we=ae.length;ae.push(fe);e:for(;0<we;){var Re=we-1>>>1,ne=ae[Re];if(0<s(ne,fe))ae[Re]=fe,ae[we]=ne,we=Re;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var fe=ae[0],we=ae.pop();if(we!==fe){ae[0]=we;e:for(var Re=0,ne=ae.length,ye=ne>>>1;Re<ye;){var Ne=2*(Re+1)-1,Oe=ae[Ne],Ge=Ne+1,it=ae[Ge];if(0>s(Oe,we))Ge<ne&&0>s(it,Oe)?(ae[Re]=it,ae[Ge]=we,Re=Ge):(ae[Re]=Oe,ae[Ne]=we,Re=Ne);else if(Ge<ne&&0>s(it,we))ae[Re]=it,ae[Ge]=we,Re=Ge;else break e}}return fe}function s(ae,fe){var we=ae.sortIndex-fe.sortIndex;return we!==0?we:ae.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var y=[],x=[],E=1,A=null,I=3,R=!1,M=!1,k=!1,G=!1,F=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function $(ae){for(var fe=t(x);fe!==null;){if(fe.callback===null)r(x);else if(fe.startTime<=ae)r(x),fe.sortIndex=fe.expirationTime,e(y,fe);else break;fe=t(x)}}function te(ae){if(k=!1,$(ae),!M)if(t(y)!==null)M=!0,ie||(ie=!0,Y());else{var fe=t(x);fe!==null&&le(te,fe.startTime-ae)}}var ie=!1,V=-1,P=5,O=-1;function W(){return G?!0:!(n.unstable_now()-O<P)}function X(){if(G=!1,ie){var ae=n.unstable_now();O=ae;var fe=!0;try{e:{M=!1,k&&(k=!1,K(V),V=-1),R=!0;var we=I;try{t:{for($(ae),A=t(y);A!==null&&!(A.expirationTime>ae&&W());){var Re=A.callback;if(typeof Re=="function"){A.callback=null,I=A.priorityLevel;var ne=Re(A.expirationTime<=ae);if(ae=n.unstable_now(),typeof ne=="function"){A.callback=ne,$(ae),fe=!0;break t}A===t(y)&&r(y),$(ae)}else r(y);A=t(y)}if(A!==null)fe=!0;else{var ye=t(x);ye!==null&&le(te,ye.startTime-ae),fe=!1}}break e}finally{A=null,I=we,R=!1}fe=void 0}}finally{fe?Y():ie=!1}}}var Y;if(typeof L=="function")Y=function(){L(X)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,be=q.port2;q.port1.onmessage=X,Y=function(){be.postMessage(null)}}else Y=function(){F(X,0)};function le(ae,fe){V=F(function(){ae(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_next=function(ae){switch(I){case 1:case 2:case 3:var fe=3;break;default:fe=I}var we=I;I=fe;try{return ae()}finally{I=we}},n.unstable_requestPaint=function(){G=!0},n.unstable_runWithPriority=function(ae,fe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var we=I;I=ae;try{return fe()}finally{I=we}},n.unstable_scheduleCallback=function(ae,fe,we){var Re=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Re+we:Re):we=Re,ae){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=we+ne,ae={id:E++,callback:fe,priorityLevel:ae,startTime:we,expirationTime:ne,sortIndex:-1},we>Re?(ae.sortIndex=we,e(x,ae),t(y)===null&&ae===t(x)&&(k?(K(V),V=-1):k=!0,le(te,we-Re))):(ae.sortIndex=ne,e(y,ae),M||R||(M=!0,ie||(ie=!0,Y()))),ae},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(ae){var fe=I;return function(){var we=I;I=fe;try{return ae.apply(this,arguments)}finally{I=we}}}}(_p)),_p}var Gb;function k4(){return Gb||(Gb=1,Ep.exports=O4()),Ep.exports}var Tp={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function L4(){if(qb)return oi;qb=1;var n=Sy();function e(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)x+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(y,x,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:A==null?null:""+A,children:y,containerInfo:x,implementation:E}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,oi.createPortal=function(y,x){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return o(y,x,null,E)},oi.flushSync=function(y){var x=f.T,E=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=x,r.p=E,r.d.f()}},oi.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,r.d.C(y,x))},oi.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},oi.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var E=x.as,A=p(E,x.crossOrigin),I=typeof x.integrity=="string"?x.integrity:void 0,R=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;E==="style"?r.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:R}):E==="script"&&r.d.X(y,{crossOrigin:A,integrity:I,fetchPriority:R,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},oi.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var E=p(x.as,x.crossOrigin);r.d.M(y,{crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&r.d.M(y)},oi.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var E=x.as,A=p(E,x.crossOrigin);r.d.L(y,E,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},oi.preloadModule=function(y,x){if(typeof y=="string")if(x){var E=p(x.as,x.crossOrigin);r.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:E,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else r.d.m(y)},oi.requestFormReset=function(y){r.d.r(y)},oi.unstable_batchedUpdates=function(y,x){return y(x)},oi.useFormState=function(y,x,E){return f.H.useFormState(y,x,E)},oi.useFormStatus=function(){return f.H.useHostTransitionStatus()},oi.version="19.1.0",oi}var Yb;function vT(){if(Yb)return Tp.exports;Yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tp.exports=L4(),Tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function P4(){if(Wb)return xd;Wb=1;var n=k4(),e=Sy(),t=vT();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function f(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function p(i){if(o(i)!==i)throw Error(r(188))}function y(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,m=l;;){var _=d.return;if(_===null)break;var S=_.alternate;if(S===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===d)return p(_),i;if(S===m)return p(_),l;S=S.sibling}throw Error(r(188))}if(d.return!==m.return)d=_,m=S;else{for(var z=!1,J=_.child;J;){if(J===d){z=!0,d=_,m=S;break}if(J===m){z=!0,m=_,d=S;break}J=J.sibling}if(!z){for(J=S.child;J;){if(J===d){z=!0,d=S,m=_;break}if(J===m){z=!0,m=S,d=_;break}J=J.sibling}if(!z)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function x(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=x(i),l!==null)return l;i=i.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case G:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case ie:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case L:return(i.displayName||"Context")+".Provider";case K:return(i._context.displayName||"Context")+".Consumer";case $:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return l=i.displayName||null,l!==null?l:be(i.type)||"Memo";case P:l=i._payload,i=i._init;try{return be(i(l))}catch{}}return null}var le=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Re=[],ne=-1;function ye(i){return{current:i}}function Ne(i){0>ne||(i.current=Re[ne],Re[ne]=null,ne--)}function Oe(i,l){ne++,Re[ne]=i.current,i.current=l}var Ge=ye(null),it=ye(null),Ce=ye(null),We=ye(null);function He(i,l){switch(Oe(Ce,l),Oe(it,i),Oe(Ge,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?hb(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=hb(l),i=gb(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ne(Ge),Oe(Ge,i)}function Ye(){Ne(Ge),Ne(it),Ne(Ce)}function lt(i){i.memoizedState!==null&&Oe(We,i);var l=Ge.current,d=gb(l,i.type);l!==d&&(Oe(it,i),Oe(Ge,d))}function et(i){it.current===i&&(Ne(Ge),Ne(it)),We.current===i&&(Ne(We),fd._currentValue=we)}var xt=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,on=n.unstable_cancelCallback,Lt=n.unstable_shouldYield,Jn=n.unstable_requestPaint,wt=n.unstable_now,Pt=n.unstable_getCurrentPriorityLevel,_t=n.unstable_ImmediatePriority,Mr=n.unstable_UserBlockingPriority,qe=n.unstable_NormalPriority,Ts=n.unstable_LowPriority,ua=n.unstable_IdlePriority,fi=n.log,eo=n.unstable_setDisableYieldValue,Kt=null,en=null;function er(i){if(typeof fi=="function"&&eo(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Kt,i)}catch{}}var tn=Math.clz32?Math.clz32:da,hl=Math.log,to=Math.LN2;function da(i){return i>>>=0,i===0?32:31-(hl(i)/to|0)|0}var wn=256,Fe=4194304;function ln(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qt(i,l,d){var m=i.pendingLanes;if(m===0)return 0;var _=0,S=i.suspendedLanes,z=i.pingedLanes;i=i.warmLanes;var J=m&134217727;return J!==0?(m=J&~S,m!==0?_=ln(m):(z&=J,z!==0?_=ln(z):d||(d=J&~i,d!==0&&(_=ln(d))))):(J=m&~S,J!==0?_=ln(J):z!==0?_=ln(z):d||(d=m&~i,d!==0&&(_=ln(d)))),_===0?0:l!==0&&l!==_&&(l&S)===0&&(S=_&-_,d=l&-l,S>=d||S===32&&(d&4194048)!==0)?l:_}function un(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function As(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(){var i=wn;return wn<<=1,(wn&4194048)===0&&(wn=256),i}function no(){var i=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),i}function Ct(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function zr(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ro(i,l,d,m,_,S){var z=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var J=i.entanglements,oe=i.expirationTimes,ve=i.hiddenUpdates;for(d=z&~d;0<d;){var Ie=31-tn(d),ke=1<<Ie;J[Ie]=0,oe[Ie]=-1;var Ee=ve[Ie];if(Ee!==null)for(ve[Ie]=null,Ie=0;Ie<Ee.length;Ie++){var Ae=Ee[Ie];Ae!==null&&(Ae.lane&=-536870913)}d&=~ke}m!==0&&Li(i,m,0),S!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=S&~(z&~l))}function Li(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-tn(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|d&4194090}function jr(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var m=31-tn(d),_=1<<m;_&l|i[m]&l&&(i[m]|=l),d&=~_}}function is(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Qn(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hi(){var i=fe.p;return i!==0?i:(i=window.event,i===void 0?32:Ob(i.type))}function ha(i,l){var d=fe.p;try{return fe.p=i,l()}finally{fe.p=d}}var Xt=Math.random().toString(36).slice(2),lr="__reactFiber$"+Xt,vn="__reactProps$"+Xt,Jr="__reactContainer$"+Xt,pr="__reactEvents$"+Xt,Ss="__reactListeners$"+Xt,cr="__reactHandles$"+Xt,Xe="__reactResources$"+Xt,vi="__reactMarker$"+Xt;function ss(i){delete i[lr],delete i[vn],delete i[pr],delete i[Ss],delete i[cr]}function zn(i){var l=i[lr];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Jr]||d[lr]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=xb(i);i!==null;){if(d=i[lr])return d;i=xb(i)}return l}i=d,d=i.parentNode}return null}function Hr(i){if(i=i[lr]||i[Jr]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function gi(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function mr(i){var l=i[Xe];return l||(l=i[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nn(i){i[vi]=!0}var gl=new Set,io={};function tr(i,l){Dn(i,l),Dn(i+"Capture",l)}function Dn(i,l){for(io[i]=l,i=0;i<l.length;i++)gl.add(l[i])}var gn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},ei={};function so(i){return xt.call(ei,i)?!0:xt.call(pl,i)?!1:gn.test(i)?ei[i]=!0:(pl[i]=!0,!1)}function De(i,l,d){if(so(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function as(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function Nt(i,l,d,m){if(m===null)i.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+m)}}var bi,nc;function Mt(i){if(bi===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);bi=l&&l[1]||"",nc=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bi+i+nc}var Bt=!1;function St(i,l){if(!i||Bt)return"";Bt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(Ae){var Ee=Ae}Reflect.construct(i,[],ke)}else{try{ke.call()}catch(Ae){Ee=Ae}i.call(ke.prototype)}}else{try{throw Error()}catch(Ae){Ee=Ae}(ke=i())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(Ae){if(Ae&&Ee&&typeof Ae.stack=="string")return[Ae.stack,Ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),z=S[0],J=S[1];if(z&&J){var oe=z.split(`
`),ve=J.split(`
`);for(_=m=0;m<oe.length&&!oe[m].includes("DetermineComponentFrameRoot");)m++;for(;_<ve.length&&!ve[_].includes("DetermineComponentFrameRoot");)_++;if(m===oe.length||_===ve.length)for(m=oe.length-1,_=ve.length-1;1<=m&&0<=_&&oe[m]!==ve[_];)_--;for(;1<=m&&0<=_;m--,_--)if(oe[m]!==ve[_]){if(m!==1||_!==1)do if(m--,_--,0>_||oe[m]!==ve[_]){var Ie=`
`+oe[m].replace(" at new "," at ");return i.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",i.displayName)),Ie}while(1<=m&&0<=_);break}}}finally{Bt=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Mt(d):""}function ga(i){switch(i.tag){case 26:case 27:case 5:return Mt(i.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return St(i.type,!1);case 11:return St(i.type.render,!1);case 1:return St(i.type,!0);case 31:return Mt("Activity");default:return""}}function Fs(i){try{var l="";do l+=ga(i),i=i.return;while(i);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function On(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function os(i){var l=On(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,S=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return _.call(this)},set:function(z){m=""+z,S.call(this,z)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(z){m=""+z},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function ao(i){i._valueTracker||(i._valueTracker=os(i))}function Tn(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return i&&(m=On(i)?i.checked?"true":"false":i.value),i=m,i!==d?(l.setValue(i),!0):!1}function ti(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Mu=/[\n"\\]/g;function An(i){return i.replace(Mu,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Dt(i,l,d,m,_,S,z,J){i.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.type=z:i.removeAttribute("type"),l!=null?z==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+Er(l)):i.value!==""+Er(l)&&(i.value=""+Er(l)):z!=="submit"&&z!=="reset"||i.removeAttribute("value"),l!=null?ge(i,z,Er(l)):d!=null?ge(i,z,Er(d)):m!=null&&i.removeAttribute("value"),_==null&&S!=null&&(i.defaultChecked=!!S),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?i.name=""+Er(J):i.removeAttribute("name")}function jn(i,l,d,m,_,S,z,J){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),l!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;d=d!=null?""+Er(d):"",l=l!=null?""+Er(l):d,J||l===i.value||(i.value=l),i.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=J?i.checked:!!m,i.defaultChecked=!!m,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(i.name=z)}function ge(i,l,d){l==="number"&&ti(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function re(i,l,d,m){if(i=i.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<i.length;d++)_=l.hasOwnProperty("$"+i[d].value),i[d].selected!==_&&(i[d].selected=_),_&&m&&(i[d].defaultSelected=!0)}else{for(d=""+Er(d),l=null,_=0;_<i.length;_++){if(i[_].value===d){i[_].selected=!0,m&&(i[_].defaultSelected=!0);return}l!==null||i[_].disabled||(l=i[_])}l!==null&&(l.selected=!0)}}function je(i,l,d){if(l!=null&&(l=""+Er(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+Er(d):""}function Nn(i,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(le(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Er(l),i.defaultValue=d,m=i.textContent,m===d&&m!==""&&m!==null&&(i.value=m)}function kn(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(i,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":m?i.setProperty(l,d):typeof d!="number"||d===0||pa.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function Dr(i,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&d[_]!==m&&oo(i,_,m)}else for(var S in l)l.hasOwnProperty(S)&&oo(i,S,l[S])}function rt(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(i){return rc.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Pi=null;function Gr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bi=null,Cs=null;function Hn(i){var l=Hr(i);if(l&&(i=l.stateNode)){var d=i[vn]||null;e:switch(i=l.stateNode,l.type){case"input":if(Dt(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+An(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==i&&m.form===i.form){var _=m[vn]||null;if(!_)throw Error(r(90));Dt(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===i.form&&Tn(m)}break e;case"textarea":je(i,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&re(i,!!d.multiple,l,!1)}}}var ni=!1;function Vi(i,l,d){if(ni)return i(l,d);ni=!0;try{var m=i(l);return m}finally{if(ni=!1,(Bi!==null||Cs!==null)&&(ah(),Bi&&(l=Bi,i=Cs,Cs=Bi=null,Hn(l),i)))for(l=0;l<i.length;l++)Hn(i[l])}}function st(i,l){var d=i.stateNode;if(d===null)return null;var m=d[vn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ut=!1;if(Ui)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){ut=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{ut=!1}var ls=null,cs=null,us=null;function Fi(){if(us)return us;var i,l=cs,d=l.length,m,_="value"in ls?ls.value:ls.textContent,S=_.length;for(i=0;i<d&&l[i]===_[i];i++);var z=d-i;for(m=1;m<=z&&l[d-m]===_[S-m];m++);return us=_.slice(i,1<m?1-m:void 0)}function ds(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ri(){return!0}function Is(){return!1}function Gn(i){function l(d,m,_,S,z){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=S,this.target=z,this.currentTarget=null;for(var J in i)i.hasOwnProperty(J)&&(d=i[J],this[J]=d?d(S):S[J]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ri:Is,this.isPropagationStopped=Is,this}return E(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),l}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Gn(Jt),zi=E({},Jt,{view:0,detail:0}),_r=Gn(zi),ma,ya,ji,xa=E({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ji&&(ji&&i.type==="mousemove"?(ma=i.screenX-ji.screenX,ya=i.screenY-ji.screenY):ya=ma=0,ji=i),ma)},movementY:function(i){return"movementY"in i?i.movementY:ya}}),Ei=Gn(xa),ic=E({},xa,{dataTransfer:0}),rn=Gn(ic),zs=E({},zi,{relatedTarget:0}),Rs=Gn(zs),_i=E({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),co=Gn(_i),Te=E({},Jt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vt=Gn(Te),ur=E({},Jt,{data:0}),js=Gn(ur),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ac[i])?!!l[i]:!1}function Ns(){return ml}var qn=E({},zi,{key:function(i){if(i.key){var l=Hs[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ds(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(i){return i.type==="keypress"?ds(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ds(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Gs=Gn(qn),Cn=E({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=Gn(Cn),qr=E({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),sn=Gn(qr),ot=E({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Gn(ot),dn=E({},xa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ti=Gn(dn),nr=E({},Jt,{newState:0,oldState:0}),lc=Gn(nr),pi=[9,13,27,32],Ai=Ui&&"CompositionEvent"in window,b=null;Ui&&"documentMode"in document&&(b=document.documentMode);var N=Ui&&"TextEvent"in window&&!b,U=Ui&&(!Ai||b&&8<b&&11>=b),ee=" ",pe=!1;function Se(i,l){switch(i){case"keyup":return pi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ze(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zt=!1;function Pn(i,l){switch(i){case"compositionend":return ze(l);case"keypress":return l.which!==32?null:(pe=!0,ee);case"textInput":return i=l.data,i===ee&&pe?null:i;default:return null}}function jt(i,l){if(zt)return i==="compositionend"||!Ai&&Se(i,l)?(i=Fi(),us=cs=ls=null,zt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return U&&l.locale!=="ko"?null:l.data;default:return null}}var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!In[i.type]:l==="textarea"}function rr(i,l,d,m){Bi?Cs?Cs.push(m):Cs=[m]:Bi=m,l=fh(l,"onChange"),0<l.length&&(d=new fs("onChange","change",null,d,m),i.push({event:d,listeners:l}))}var yr=null,dr=null;function yl(i){lb(i,0)}function uo(i){var l=gi(i);if(Tn(l))return i}function Sf(i,l){if(i==="change")return l}var Du=!1;if(Ui){var Si;if(Ui){var Ou="oninput"in document;if(!Ou){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),Ou=typeof cc.oninput=="function"}Si=Ou}else Si=!1;Du=Si&&(!document.documentMode||9<document.documentMode)}function fo(){yr&&(yr.detachEvent("onpropertychange",Ht),dr=yr=null)}function Ht(i){if(i.propertyName==="value"&&uo(dr)){var l=[];rr(l,dr,i,Gr(i)),Vi(yl,l)}}function uc(i,l,d){i==="focusin"?(fo(),yr=l,dr=d,yr.attachEvent("onpropertychange",Ht)):i==="focusout"&&fo()}function j(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uo(dr)}function a(i,l){if(i==="click")return uo(l)}function c(i,l){if(i==="input"||i==="change")return uo(l)}function u(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var h=typeof Object.is=="function"?Object.is:u;function g(i,l){if(h(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!xt.call(l,_)||!h(i[_],l[_]))return!1}return!0}function w(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function v(i,l){var d=w(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=l&&m>=l)return{node:d,offset:l-i};i=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=w(d)}}function T(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?T(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function C(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=ti(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=ti(i.document)}return l}function D(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var H=Ui&&"documentMode"in document&&11>=document.documentMode,Q=null,se=null,ce=null,ue=!1;function me(i,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ue||Q==null||Q!==ti(m)||(m=Q,"selectionStart"in m&&D(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ce&&g(ce,m)||(ce=m,m=fh(se,"onSelect"),0<m.length&&(l=new fs("onSelect","select",null,l,d),i.push({event:l,listeners:m}),l.target=Q)))}function _e(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Ve={animationend:_e("Animation","AnimationEnd"),animationiteration:_e("Animation","AnimationIteration"),animationstart:_e("Animation","AnimationStart"),transitionrun:_e("Transition","TransitionRun"),transitionstart:_e("Transition","TransitionStart"),transitioncancel:_e("Transition","TransitionCancel"),transitionend:_e("Transition","TransitionEnd")},Ue={},Be={};Ui&&(Be=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function Tt(i){if(Ue[i])return Ue[i];if(!Ve[i])return i;var l=Ve[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in Be)return Ue[i]=l[d];return i}var bt=Tt("animationend"),Yr=Tt("animationiteration"),Ci=Tt("animationstart"),ii=Tt("transitionrun"),pn=Tt("transitionstart"),Tr=Tt("transitioncancel"),si=Tt("transitionend"),wa=new Map,Ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ys.push("scrollEnd");function Hi(i,l){wa.set(i,l),tr(l,[i])}var Cf=new WeakMap;function hs(i,l){if(typeof i=="object"&&i!==null){var d=Cf.get(i);return d!==void 0?d:(l={value:i,source:l,stack:Fs(l)},Cf.set(i,l),l)}return{value:i,source:l,stack:Fs(l)}}var gs=[],dc=0,Pg=0;function If(){for(var i=dc,l=Pg=dc=0;l<i;){var d=gs[l];gs[l++]=null;var m=gs[l];gs[l++]=null;var _=gs[l];gs[l++]=null;var S=gs[l];if(gs[l++]=null,m!==null&&_!==null){var z=m.pending;z===null?_.next=_:(_.next=z.next,z.next=_),m.pending=_}S!==0&&Yx(d,_,S)}}function Rf(i,l,d,m){gs[dc++]=i,gs[dc++]=l,gs[dc++]=d,gs[dc++]=m,Pg|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function Bg(i,l,d,m){return Rf(i,l,d,m),Nf(i)}function fc(i,l){return Rf(i,null,null,l),Nf(i)}function Yx(i,l,d){i.lanes|=d;var m=i.alternate;m!==null&&(m.lanes|=d);for(var _=!1,S=i.return;S!==null;)S.childLanes|=d,m=S.alternate,m!==null&&(m.childLanes|=d),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(_=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,_&&l!==null&&(_=31-tn(d),i=S.hiddenUpdates,m=i[_],m===null?i[_]=[l]:m.push(l),l.lane=d|536870912),S):null}function Nf(i){if(50<id)throw id=0,H1=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var hc={};function g3(i,l,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(i,l,d,m){return new g3(i,l,d,m)}function Vg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function va(i,l){var d=i.alternate;return d===null?(d=Gi(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function Wx(i,l){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Mf(i,l,d,m,_,S){var z=0;if(m=i,typeof i=="function")Vg(i)&&(z=1);else if(typeof i=="string")z=m4(i,d,Ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=Gi(31,d,l,_),i.elementType=O,i.lanes=S,i;case M:return xl(d.children,_,S,l);case k:z=8,_|=24;break;case G:return i=Gi(12,d,l,_|2),i.elementType=G,i.lanes=S,i;case te:return i=Gi(13,d,l,_),i.elementType=te,i.lanes=S,i;case ie:return i=Gi(19,d,l,_),i.elementType=ie,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:case L:z=10;break e;case K:z=9;break e;case $:z=11;break e;case V:z=14;break e;case P:z=16,m=null;break e}z=29,d=Error(r(130,i===null?"null":typeof i,"")),m=null}return l=Gi(z,d,l,_),l.elementType=i,l.type=m,l.lanes=S,l}function xl(i,l,d,m){return i=Gi(7,i,m,l),i.lanes=d,i}function Ug(i,l,d){return i=Gi(6,i,null,l),i.lanes=d,i}function Fg(i,l,d){return l=Gi(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var gc=[],pc=0,Df=null,Of=0,ps=[],ms=0,wl=null,ba=1,Ea="";function vl(i,l){gc[pc++]=Of,gc[pc++]=Df,Df=i,Of=l}function Xx(i,l,d){ps[ms++]=ba,ps[ms++]=Ea,ps[ms++]=wl,wl=i;var m=ba;i=Ea;var _=32-tn(m)-1;m&=~(1<<_),d+=1;var S=32-tn(l)+_;if(30<S){var z=_-_%5;S=(m&(1<<z)-1).toString(32),m>>=z,_-=z,ba=1<<32-tn(l)+_|d<<_|m,Ea=S+i}else ba=1<<S|d<<_|m,Ea=i}function zg(i){i.return!==null&&(vl(i,1),Xx(i,1,0))}function jg(i){for(;i===Df;)Df=gc[--pc],gc[pc]=null,Of=gc[--pc],gc[pc]=null;for(;i===wl;)wl=ps[--ms],ps[ms]=null,Ea=ps[--ms],ps[ms]=null,ba=ps[--ms],ps[ms]=null}var mi=null,ir=null,cn=!1,bl=null,Ws=!1,Hg=Error(r(519));function El(i){var l=Error(r(418,""));throw Pu(hs(l,i)),Hg}function Kx(i){var l=i.stateNode,d=i.type,m=i.memoizedProps;switch(l[lr]=i,l[vn]=m,d){case"dialog":Ft("cancel",l),Ft("close",l);break;case"iframe":case"object":case"embed":Ft("load",l);break;case"video":case"audio":for(d=0;d<ad.length;d++)Ft(ad[d],l);break;case"source":Ft("error",l);break;case"img":case"image":case"link":Ft("error",l),Ft("load",l);break;case"details":Ft("toggle",l);break;case"input":Ft("invalid",l),jn(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),ao(l);break;case"select":Ft("invalid",l);break;case"textarea":Ft("invalid",l),Nn(l,m.value,m.defaultValue,m.children),ao(l)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||fb(l.textContent,d)?(m.popover!=null&&(Ft("beforetoggle",l),Ft("toggle",l)),m.onScroll!=null&&Ft("scroll",l),m.onScrollEnd!=null&&Ft("scrollend",l),m.onClick!=null&&(l.onclick=hh),l=!0):l=!1,l||El(i)}function Qx(i){for(mi=i.return;mi;)switch(mi.tag){case 5:case 13:Ws=!1;return;case 27:case 3:Ws=!0;return;default:mi=mi.return}}function ku(i){if(i!==mi)return!1;if(!cn)return Qx(i),cn=!0,!1;var l=i.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||sp(i.type,i.memoizedProps)),d=!d),d&&ir&&El(i),Qx(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(l===0){ir=Ds(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;i=i.nextSibling}ir=null}}else l===27?(l=ir,Io(i.type)?(i=cp,cp=null,ir=i):ir=l):ir=mi?Ds(i.stateNode.nextSibling):null;return!0}function Lu(){ir=mi=null,cn=!1}function $x(){var i=bl;return i!==null&&(Ni===null?Ni=i:Ni.push.apply(Ni,i),bl=null),i}function Pu(i){bl===null?bl=[i]:bl.push(i)}var Gg=ye(null),_l=null,_a=null;function ho(i,l,d){Oe(Gg,l._currentValue),l._currentValue=d}function Ta(i){i._currentValue=Gg.current,Ne(Gg)}function qg(i,l,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===d)break;i=i.return}}function Yg(i,l,d,m){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var S=_.dependencies;if(S!==null){var z=_.child;S=S.firstContext;e:for(;S!==null;){var J=S;S=_;for(var oe=0;oe<l.length;oe++)if(J.context===l[oe]){S.lanes|=d,J=S.alternate,J!==null&&(J.lanes|=d),qg(S.return,d,i),m||(z=null);break e}S=J.next}}else if(_.tag===18){if(z=_.return,z===null)throw Error(r(341));z.lanes|=d,S=z.alternate,S!==null&&(S.lanes|=d),qg(z,d,i),z=null}else z=_.child;if(z!==null)z.return=_;else for(z=_;z!==null;){if(z===i){z=null;break}if(_=z.sibling,_!==null){_.return=z.return,z=_;break}z=z.return}_=z}}function Bu(i,l,d,m){i=null;for(var _=l,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var z=_.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var J=_.type;h(_.pendingProps.value,z.value)||(i!==null?i.push(J):i=[J])}}else if(_===We.current){if(z=_.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(fd):i=[fd])}_=_.return}i!==null&&Yg(l,i,d,m),l.flags|=262144}function kf(i){for(i=i.firstContext;i!==null;){if(!h(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Tl(i){_l=i,_a=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ai(i){return Zx(_l,i)}function Lf(i,l){return _l===null&&Tl(i),Zx(i,l)}function Zx(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},_a===null){if(i===null)throw Error(r(308));_a=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else _a=_a.next=l;return d}var p3=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},m3=n.unstable_scheduleCallback,y3=n.unstable_NormalPriority,Ar={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wg(){return{controller:new p3,data:new Map,refCount:0}}function Vu(i){i.refCount--,i.refCount===0&&m3(y3,function(){i.controller.abort()})}var Uu=null,Xg=0,mc=0,yc=null;function x3(i,l){if(Uu===null){var d=Uu=[];Xg=0,mc=Q1(),yc={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Xg++,l.then(Jx,Jx),l}function Jx(){if(--Xg===0&&Uu!==null){yc!==null&&(yc.status="fulfilled");var i=Uu;Uu=null,mc=0,yc=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function w3(i,l){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var ew=ae.S;ae.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&x3(i,l),ew!==null&&ew(i,l)};var Al=ye(null);function Kg(){var i=Al.current;return i!==null?i:Mn.pooledCache}function Pf(i,l){l===null?Oe(Al,Al.current):Oe(Al,l.pool)}function tw(){var i=Kg();return i===null?null:{parent:Ar._currentValue,pool:i}}var Fu=Error(r(460)),nw=Error(r(474)),Bf=Error(r(542)),Qg={then:function(){}};function rw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Vf(){}function iw(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then(Vf,Vf),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,aw(i),i;default:if(typeof l.status=="string")l.then(Vf,Vf);else{if(i=Mn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,aw(i),i}throw zu=l,Fu}}var zu=null;function sw(){if(zu===null)throw Error(r(459));var i=zu;return zu=null,i}function aw(i){if(i===Fu||i===Bf)throw Error(r(483))}var go=!1;function $g(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zg(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function po(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function mo(i,l,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(mn&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=Nf(i),Yx(i,null,d),l}return Rf(i,m,l,d),Nf(i)}function ju(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,jr(i,d)}}function Jg(i,l){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var z={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?_=S=z:S=S.next=z,d=d.next}while(d!==null);S===null?_=S=l:S=S.next=l}else _=S=l;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var e1=!1;function Hu(){if(e1){var i=yc;if(i!==null)throw i}}function Gu(i,l,d,m){e1=!1;var _=i.updateQueue;go=!1;var S=_.firstBaseUpdate,z=_.lastBaseUpdate,J=_.shared.pending;if(J!==null){_.shared.pending=null;var oe=J,ve=oe.next;oe.next=null,z===null?S=ve:z.next=ve,z=oe;var Ie=i.alternate;Ie!==null&&(Ie=Ie.updateQueue,J=Ie.lastBaseUpdate,J!==z&&(J===null?Ie.firstBaseUpdate=ve:J.next=ve,Ie.lastBaseUpdate=oe))}if(S!==null){var ke=_.baseState;z=0,Ie=ve=oe=null,J=S;do{var Ee=J.lane&-536870913,Ae=Ee!==J.lane;if(Ae?($t&Ee)===Ee:(m&Ee)===Ee){Ee!==0&&Ee===mc&&(e1=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var mt=i,ht=J;Ee=l;var _n=d;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){ke=mt.call(_n,ke,Ee);break e}ke=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,Ee=typeof mt=="function"?mt.call(_n,ke,Ee):mt,Ee==null)break e;ke=E({},ke,Ee);break e;case 2:go=!0}}Ee=J.callback,Ee!==null&&(i.flags|=64,Ae&&(i.flags|=8192),Ae=_.callbacks,Ae===null?_.callbacks=[Ee]:Ae.push(Ee))}else Ae={lane:Ee,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ie===null?(ve=Ie=Ae,oe=ke):Ie=Ie.next=Ae,z|=Ee;if(J=J.next,J===null){if(J=_.shared.pending,J===null)break;Ae=J,J=Ae.next,Ae.next=null,_.lastBaseUpdate=Ae,_.shared.pending=null}}while(!0);Ie===null&&(oe=ke),_.baseState=oe,_.firstBaseUpdate=ve,_.lastBaseUpdate=Ie,S===null&&(_.shared.lanes=0),To|=z,i.lanes=z,i.memoizedState=ke}}function ow(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function lw(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)ow(d[i],l)}var xc=ye(null),Uf=ye(0);function cw(i,l){i=Ma,Oe(Uf,i),Oe(xc,l),Ma=i|l.baseLanes}function t1(){Oe(Uf,Ma),Oe(xc,xc.current)}function n1(){Ma=Uf.current,Ne(xc),Ne(Uf)}var yo=0,Ot=null,bn=null,xr=null,Ff=!1,wc=!1,Sl=!1,zf=0,qu=0,vc=null,v3=0;function fr(){throw Error(r(321))}function r1(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!h(i[d],l[d]))return!1;return!0}function i1(i,l,d,m,_,S){return yo=S,Ot=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=i===null||i.memoizedState===null?Yw:Ww,Sl=!1,S=d(m,_),Sl=!1,wc&&(S=dw(l,d,m,_)),uw(i),S}function uw(i){ae.H=Wf;var l=bn!==null&&bn.next!==null;if(yo=0,xr=bn=Ot=null,Ff=!1,qu=0,vc=null,l)throw Error(r(300));i===null||Or||(i=i.dependencies,i!==null&&kf(i)&&(Or=!0))}function dw(i,l,d,m){Ot=i;var _=0;do{if(wc&&(vc=null),qu=0,wc=!1,25<=_)throw Error(r(301));if(_+=1,xr=bn=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}ae.H=C3,S=l(d,m)}while(wc);return S}function b3(){var i=ae.H,l=i.useState()[0];return l=typeof l.then=="function"?Yu(l):l,i=i.useState()[0],(bn!==null?bn.memoizedState:null)!==i&&(Ot.flags|=1024),l}function s1(){var i=zf!==0;return zf=0,i}function a1(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function o1(i){if(Ff){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ff=!1}yo=0,xr=bn=Ot=null,wc=!1,qu=zf=0,vc=null}function Ii(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?Ot.memoizedState=xr=i:xr=xr.next=i,xr}function wr(){if(bn===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=bn.next;var l=xr===null?Ot.memoizedState:xr.next;if(l!==null)xr=l,bn=i;else{if(i===null)throw Ot.alternate===null?Error(r(467)):Error(r(310));bn=i,i={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},xr===null?Ot.memoizedState=xr=i:xr=xr.next=i}return xr}function l1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yu(i){var l=qu;return qu+=1,vc===null&&(vc=[]),i=iw(vc,i,l),l=Ot,(xr===null?l.memoizedState:xr.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?Yw:Ww),i}function jf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Yu(i);if(i.$$typeof===L)return ai(i)}throw Error(r(438,String(i)))}function c1(i){var l=null,d=Ot.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Ot.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=l1(),Ot.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),m=0;m<i;m++)d[m]=W;return l.index++,d}function Aa(i,l){return typeof l=="function"?l(i):l}function Hf(i){var l=wr();return u1(l,bn,i)}function u1(i,l,d){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var _=i.baseQueue,S=m.pending;if(S!==null){if(_!==null){var z=_.next;_.next=S.next,S.next=z}l.baseQueue=_=S,m.pending=null}if(S=i.baseState,_===null)i.memoizedState=S;else{l=_.next;var J=z=null,oe=null,ve=l,Ie=!1;do{var ke=ve.lane&-536870913;if(ke!==ve.lane?($t&ke)===ke:(yo&ke)===ke){var Ee=ve.revertLane;if(Ee===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),ke===mc&&(Ie=!0);else if((yo&Ee)===Ee){ve=ve.next,Ee===mc&&(Ie=!0);continue}else ke={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(J=oe=ke,z=S):oe=oe.next=ke,Ot.lanes|=Ee,To|=Ee;ke=ve.action,Sl&&d(S,ke),S=ve.hasEagerState?ve.eagerState:d(S,ke)}else Ee={lane:ke,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(J=oe=Ee,z=S):oe=oe.next=Ee,Ot.lanes|=ke,To|=ke;ve=ve.next}while(ve!==null&&ve!==l);if(oe===null?z=S:oe.next=J,!h(S,i.memoizedState)&&(Or=!0,Ie&&(d=yc,d!==null)))throw d;i.memoizedState=S,i.baseState=z,i.baseQueue=oe,m.lastRenderedState=S}return _===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function d1(i){var l=wr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var m=d.dispatch,_=d.pending,S=l.memoizedState;if(_!==null){d.pending=null;var z=_=_.next;do S=i(S,z.action),z=z.next;while(z!==_);h(S,l.memoizedState)||(Or=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),d.lastRenderedState=S}return[S,m]}function fw(i,l,d){var m=Ot,_=wr(),S=cn;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=l();var z=!h((bn||_).memoizedState,d);z&&(_.memoizedState=d,Or=!0),_=_.queue;var J=pw.bind(null,m,_,i);if(Wu(2048,8,J,[i]),_.getSnapshot!==l||z||xr!==null&&xr.memoizedState.tag&1){if(m.flags|=2048,bc(9,Gf(),gw.bind(null,m,_,d,l),null),Mn===null)throw Error(r(349));S||(yo&124)!==0||hw(m,l,d)}return d}function hw(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=Ot.updateQueue,l===null?(l=l1(),Ot.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function gw(i,l,d,m){l.value=d,l.getSnapshot=m,mw(l)&&yw(i)}function pw(i,l,d){return d(function(){mw(l)&&yw(i)})}function mw(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!h(i,d)}catch{return!0}}function yw(i){var l=fc(i,2);l!==null&&Ki(l,i,2)}function f1(i){var l=Ii();if(typeof i=="function"){var d=i;if(i=d(),Sl){er(!0);try{d()}finally{er(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:i},l}function xw(i,l,d,m){return i.baseState=d,u1(i,bn,typeof m=="function"?m:Aa)}function E3(i,l,d,m,_){if(Yf(i))throw Error(r(485));if(i=l.action,i!==null){var S={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){S.listeners.push(z)}};ae.T!==null?d(!0):S.isTransition=!1,m(S),d=l.pending,d===null?(S.next=l.pending=S,ww(l,S)):(S.next=d.next,l.pending=d.next=S)}}function ww(i,l){var d=l.action,m=l.payload,_=i.state;if(l.isTransition){var S=ae.T,z={};ae.T=z;try{var J=d(_,m),oe=ae.S;oe!==null&&oe(z,J),vw(i,l,J)}catch(ve){h1(i,l,ve)}finally{ae.T=S}}else try{S=d(_,m),vw(i,l,S)}catch(ve){h1(i,l,ve)}}function vw(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){bw(i,l,m)},function(m){return h1(i,l,m)}):bw(i,l,d)}function bw(i,l,d){l.status="fulfilled",l.value=d,Ew(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,ww(i,d)))}function h1(i,l,d){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,Ew(l),l=l.next;while(l!==m)}i.action=null}function Ew(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function _w(i,l){return l}function Tw(i,l){if(cn){var d=Mn.formState;if(d!==null){e:{var m=Ot;if(cn){if(ir){t:{for(var _=ir,S=Ws;_.nodeType!==8;){if(!S){_=null;break t}if(_=Ds(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){ir=Ds(_.nextSibling),m=_.data==="F!";break e}}El(m)}m=!1}m&&(l=d[0])}}return d=Ii(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_w,lastRenderedState:l},d.queue=m,d=Hw.bind(null,Ot,m),m.dispatch=d,m=f1(!1),S=x1.bind(null,Ot,!1,m.queue),m=Ii(),_={state:l,dispatch:null,action:i,pending:null},m.queue=_,d=E3.bind(null,Ot,_,S,d),_.dispatch=d,m.memoizedState=i,[l,d,!1]}function Aw(i){var l=wr();return Sw(l,bn,i)}function Sw(i,l,d){if(l=u1(i,l,_w)[0],i=Hf(Aa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Yu(l)}catch(z){throw z===Fu?Bf:z}else m=l;l=wr();var _=l.queue,S=_.dispatch;return d!==l.memoizedState&&(Ot.flags|=2048,bc(9,Gf(),_3.bind(null,_,d),null)),[m,S,i]}function _3(i,l){i.action=l}function Cw(i){var l=wr(),d=bn;if(d!==null)return Sw(l,d,i);wr(),l=l.memoizedState,d=wr();var m=d.queue.dispatch;return d.memoizedState=i,[l,m,!1]}function bc(i,l,d,m){return i={tag:i,create:d,deps:m,inst:l,next:null},l=Ot.updateQueue,l===null&&(l=l1(),Ot.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,l.lastEffect=i),i}function Gf(){return{destroy:void 0,resource:void 0}}function Iw(){return wr().memoizedState}function qf(i,l,d,m){var _=Ii();m=m===void 0?null:m,Ot.flags|=i,_.memoizedState=bc(1|l,Gf(),d,m)}function Wu(i,l,d,m){var _=wr();m=m===void 0?null:m;var S=_.memoizedState.inst;bn!==null&&m!==null&&r1(m,bn.memoizedState.deps)?_.memoizedState=bc(l,S,d,m):(Ot.flags|=i,_.memoizedState=bc(1|l,S,d,m))}function Rw(i,l){qf(8390656,8,i,l)}function Nw(i,l){Wu(2048,8,i,l)}function Mw(i,l){return Wu(4,2,i,l)}function Dw(i,l){return Wu(4,4,i,l)}function Ow(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function kw(i,l,d){d=d!=null?d.concat([i]):null,Wu(4,4,Ow.bind(null,l,i),d)}function g1(){}function Lw(i,l){var d=wr();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&r1(l,m[1])?m[0]:(d.memoizedState=[i,l],i)}function Pw(i,l){var d=wr();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&r1(l,m[1]))return m[0];if(m=i(),Sl){er(!0);try{i()}finally{er(!1)}}return d.memoizedState=[m,l],m}function p1(i,l,d){return d===void 0||(yo&1073741824)!==0?i.memoizedState=l:(i.memoizedState=d,i=Uv(),Ot.lanes|=i,To|=i,d)}function Bw(i,l,d,m){return h(d,l)?d:xc.current!==null?(i=p1(i,d,m),h(i,l)||(Or=!0),i):(yo&42)===0?(Or=!0,i.memoizedState=d):(i=Uv(),Ot.lanes|=i,To|=i,l)}function Vw(i,l,d,m,_){var S=fe.p;fe.p=S!==0&&8>S?S:8;var z=ae.T,J={};ae.T=J,x1(i,!1,l,d);try{var oe=_(),ve=ae.S;if(ve!==null&&ve(J,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Ie=w3(oe,m);Xu(i,l,Ie,Xi(i))}else Xu(i,l,m,Xi(i))}catch(ke){Xu(i,l,{then:function(){},status:"rejected",reason:ke},Xi())}finally{fe.p=S,ae.T=z}}function T3(){}function m1(i,l,d,m){if(i.tag!==5)throw Error(r(476));var _=Uw(i).queue;Vw(i,_,l,we,d===null?T3:function(){return Fw(i),d(m)})}function Uw(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:we},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Fw(i){var l=Uw(i).next.queue;Xu(i,l,{},Xi())}function y1(){return ai(fd)}function zw(){return wr().memoizedState}function jw(){return wr().memoizedState}function A3(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=Xi();i=po(d);var m=mo(l,i,d);m!==null&&(Ki(m,l,d),ju(m,l,d)),l={cache:Wg()},i.payload=l;return}l=l.return}}function S3(i,l,d){var m=Xi();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Yf(i)?Gw(l,d):(d=Bg(i,l,d,m),d!==null&&(Ki(d,i,m),qw(d,l,m)))}function Hw(i,l,d){var m=Xi();Xu(i,l,d,m)}function Xu(i,l,d,m){var _={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Yf(i))Gw(l,_);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var z=l.lastRenderedState,J=S(z,d);if(_.hasEagerState=!0,_.eagerState=J,h(J,z))return Rf(i,l,_,0),Mn===null&&If(),!1}catch{}finally{}if(d=Bg(i,l,_,m),d!==null)return Ki(d,i,m),qw(d,l,m),!0}return!1}function x1(i,l,d,m){if(m={lane:2,revertLane:Q1(),action:m,hasEagerState:!1,eagerState:null,next:null},Yf(i)){if(l)throw Error(r(479))}else l=Bg(i,d,m,2),l!==null&&Ki(l,i,2)}function Yf(i){var l=i.alternate;return i===Ot||l!==null&&l===Ot}function Gw(i,l){wc=Ff=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function qw(i,l,d){if((d&4194048)!==0){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,jr(i,d)}}var Wf={readContext:ai,use:jf,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr},Yw={readContext:ai,use:jf,useCallback:function(i,l){return Ii().memoizedState=[i,l===void 0?null:l],i},useContext:ai,useEffect:Rw,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,qf(4194308,4,Ow.bind(null,l,i),d)},useLayoutEffect:function(i,l){return qf(4194308,4,i,l)},useInsertionEffect:function(i,l){qf(4,2,i,l)},useMemo:function(i,l){var d=Ii();l=l===void 0?null:l;var m=i();if(Sl){er(!0);try{i()}finally{er(!1)}}return d.memoizedState=[m,l],m},useReducer:function(i,l,d){var m=Ii();if(d!==void 0){var _=d(l);if(Sl){er(!0);try{d(l)}finally{er(!1)}}}else _=l;return m.memoizedState=m.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},m.queue=i,i=i.dispatch=S3.bind(null,Ot,i),[m.memoizedState,i]},useRef:function(i){var l=Ii();return i={current:i},l.memoizedState=i},useState:function(i){i=f1(i);var l=i.queue,d=Hw.bind(null,Ot,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:g1,useDeferredValue:function(i,l){var d=Ii();return p1(d,i,l)},useTransition:function(){var i=f1(!1);return i=Vw.bind(null,Ot,i.queue,!0,!1),Ii().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var m=Ot,_=Ii();if(cn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Mn===null)throw Error(r(349));($t&124)!==0||hw(m,l,d)}_.memoizedState=d;var S={value:d,getSnapshot:l};return _.queue=S,Rw(pw.bind(null,m,S,i),[i]),m.flags|=2048,bc(9,Gf(),gw.bind(null,m,S,d,l),null),d},useId:function(){var i=Ii(),l=Mn.identifierPrefix;if(cn){var d=Ea,m=ba;d=(m&~(1<<32-tn(m)-1)).toString(32)+d,l=""+l+"R"+d,d=zf++,0<d&&(l+="H"+d.toString(32)),l+=""}else d=v3++,l=""+l+"r"+d.toString(32)+"";return i.memoizedState=l},useHostTransitionStatus:y1,useFormState:Tw,useActionState:Tw,useOptimistic:function(i){var l=Ii();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=x1.bind(null,Ot,!0,d),d.dispatch=l,[i,l]},useMemoCache:c1,useCacheRefresh:function(){return Ii().memoizedState=A3.bind(null,Ot)}},Ww={readContext:ai,use:jf,useCallback:Lw,useContext:ai,useEffect:Nw,useImperativeHandle:kw,useInsertionEffect:Mw,useLayoutEffect:Dw,useMemo:Pw,useReducer:Hf,useRef:Iw,useState:function(){return Hf(Aa)},useDebugValue:g1,useDeferredValue:function(i,l){var d=wr();return Bw(d,bn.memoizedState,i,l)},useTransition:function(){var i=Hf(Aa)[0],l=wr().memoizedState;return[typeof i=="boolean"?i:Yu(i),l]},useSyncExternalStore:fw,useId:zw,useHostTransitionStatus:y1,useFormState:Aw,useActionState:Aw,useOptimistic:function(i,l){var d=wr();return xw(d,bn,i,l)},useMemoCache:c1,useCacheRefresh:jw},C3={readContext:ai,use:jf,useCallback:Lw,useContext:ai,useEffect:Nw,useImperativeHandle:kw,useInsertionEffect:Mw,useLayoutEffect:Dw,useMemo:Pw,useReducer:d1,useRef:Iw,useState:function(){return d1(Aa)},useDebugValue:g1,useDeferredValue:function(i,l){var d=wr();return bn===null?p1(d,i,l):Bw(d,bn.memoizedState,i,l)},useTransition:function(){var i=d1(Aa)[0],l=wr().memoizedState;return[typeof i=="boolean"?i:Yu(i),l]},useSyncExternalStore:fw,useId:zw,useHostTransitionStatus:y1,useFormState:Cw,useActionState:Cw,useOptimistic:function(i,l){var d=wr();return bn!==null?xw(d,bn,i,l):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:c1,useCacheRefresh:jw},Ec=null,Ku=0;function Xf(i){var l=Ku;return Ku+=1,Ec===null&&(Ec=[]),iw(Ec,i,l)}function Qu(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Kf(i,l){throw l.$$typeof===A?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Xw(i){var l=i._init;return l(i._payload)}function Kw(i){function l(he,de){if(i){var xe=he.deletions;xe===null?(he.deletions=[de],he.flags|=16):xe.push(de)}}function d(he,de){if(!i)return null;for(;de!==null;)l(he,de),de=de.sibling;return null}function m(he){for(var de=new Map;he!==null;)he.key!==null?de.set(he.key,he):de.set(he.index,he),he=he.sibling;return de}function _(he,de){return he=va(he,de),he.index=0,he.sibling=null,he}function S(he,de,xe){return he.index=xe,i?(xe=he.alternate,xe!==null?(xe=xe.index,xe<de?(he.flags|=67108866,de):xe):(he.flags|=67108866,de)):(he.flags|=1048576,de)}function z(he){return i&&he.alternate===null&&(he.flags|=67108866),he}function J(he,de,xe,Me){return de===null||de.tag!==6?(de=Ug(xe,he.mode,Me),de.return=he,de):(de=_(de,xe),de.return=he,de)}function oe(he,de,xe,Me){var tt=xe.type;return tt===M?Ie(he,de,xe.props.children,Me,xe.key):de!==null&&(de.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===P&&Xw(tt)===de.type)?(de=_(de,xe.props),Qu(de,xe),de.return=he,de):(de=Mf(xe.type,xe.key,xe.props,null,he.mode,Me),Qu(de,xe),de.return=he,de)}function ve(he,de,xe,Me){return de===null||de.tag!==4||de.stateNode.containerInfo!==xe.containerInfo||de.stateNode.implementation!==xe.implementation?(de=Fg(xe,he.mode,Me),de.return=he,de):(de=_(de,xe.children||[]),de.return=he,de)}function Ie(he,de,xe,Me,tt){return de===null||de.tag!==7?(de=xl(xe,he.mode,Me,tt),de.return=he,de):(de=_(de,xe),de.return=he,de)}function ke(he,de,xe){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=Ug(""+de,he.mode,xe),de.return=he,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case I:return xe=Mf(de.type,de.key,de.props,null,he.mode,xe),Qu(xe,de),xe.return=he,xe;case R:return de=Fg(de,he.mode,xe),de.return=he,de;case P:var Me=de._init;return de=Me(de._payload),ke(he,de,xe)}if(le(de)||Y(de))return de=xl(de,he.mode,xe,null),de.return=he,de;if(typeof de.then=="function")return ke(he,Xf(de),xe);if(de.$$typeof===L)return ke(he,Lf(he,de),xe);Kf(he,de)}return null}function Ee(he,de,xe,Me){var tt=de!==null?de.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return tt!==null?null:J(he,de,""+xe,Me);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case I:return xe.key===tt?oe(he,de,xe,Me):null;case R:return xe.key===tt?ve(he,de,xe,Me):null;case P:return tt=xe._init,xe=tt(xe._payload),Ee(he,de,xe,Me)}if(le(xe)||Y(xe))return tt!==null?null:Ie(he,de,xe,Me,null);if(typeof xe.then=="function")return Ee(he,de,Xf(xe),Me);if(xe.$$typeof===L)return Ee(he,de,Lf(he,xe),Me);Kf(he,xe)}return null}function Ae(he,de,xe,Me,tt){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return he=he.get(xe)||null,J(de,he,""+Me,tt);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case I:return he=he.get(Me.key===null?xe:Me.key)||null,oe(de,he,Me,tt);case R:return he=he.get(Me.key===null?xe:Me.key)||null,ve(de,he,Me,tt);case P:var Vt=Me._init;return Me=Vt(Me._payload),Ae(he,de,xe,Me,tt)}if(le(Me)||Y(Me))return he=he.get(xe)||null,Ie(de,he,Me,tt,null);if(typeof Me.then=="function")return Ae(he,de,xe,Xf(Me),tt);if(Me.$$typeof===L)return Ae(he,de,xe,Lf(de,Me),tt);Kf(de,Me)}return null}function mt(he,de,xe,Me){for(var tt=null,Vt=null,at=de,gt=de=0,Lr=null;at!==null&&gt<xe.length;gt++){at.index>gt?(Lr=at,at=null):Lr=at.sibling;var an=Ee(he,at,xe[gt],Me);if(an===null){at===null&&(at=Lr);break}i&&at&&an.alternate===null&&l(he,at),de=S(an,de,gt),Vt===null?tt=an:Vt.sibling=an,Vt=an,at=Lr}if(gt===xe.length)return d(he,at),cn&&vl(he,gt),tt;if(at===null){for(;gt<xe.length;gt++)at=ke(he,xe[gt],Me),at!==null&&(de=S(at,de,gt),Vt===null?tt=at:Vt.sibling=at,Vt=at);return cn&&vl(he,gt),tt}for(at=m(at);gt<xe.length;gt++)Lr=Ae(at,he,gt,xe[gt],Me),Lr!==null&&(i&&Lr.alternate!==null&&at.delete(Lr.key===null?gt:Lr.key),de=S(Lr,de,gt),Vt===null?tt=Lr:Vt.sibling=Lr,Vt=Lr);return i&&at.forEach(function(Oo){return l(he,Oo)}),cn&&vl(he,gt),tt}function ht(he,de,xe,Me){if(xe==null)throw Error(r(151));for(var tt=null,Vt=null,at=de,gt=de=0,Lr=null,an=xe.next();at!==null&&!an.done;gt++,an=xe.next()){at.index>gt?(Lr=at,at=null):Lr=at.sibling;var Oo=Ee(he,at,an.value,Me);if(Oo===null){at===null&&(at=Lr);break}i&&at&&Oo.alternate===null&&l(he,at),de=S(Oo,de,gt),Vt===null?tt=Oo:Vt.sibling=Oo,Vt=Oo,at=Lr}if(an.done)return d(he,at),cn&&vl(he,gt),tt;if(at===null){for(;!an.done;gt++,an=xe.next())an=ke(he,an.value,Me),an!==null&&(de=S(an,de,gt),Vt===null?tt=an:Vt.sibling=an,Vt=an);return cn&&vl(he,gt),tt}for(at=m(at);!an.done;gt++,an=xe.next())an=Ae(at,he,gt,an.value,Me),an!==null&&(i&&an.alternate!==null&&at.delete(an.key===null?gt:an.key),de=S(an,de,gt),Vt===null?tt=an:Vt.sibling=an,Vt=an);return i&&at.forEach(function(I4){return l(he,I4)}),cn&&vl(he,gt),tt}function _n(he,de,xe,Me){if(typeof xe=="object"&&xe!==null&&xe.type===M&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case I:e:{for(var tt=xe.key;de!==null;){if(de.key===tt){if(tt=xe.type,tt===M){if(de.tag===7){d(he,de.sibling),Me=_(de,xe.props.children),Me.return=he,he=Me;break e}}else if(de.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===P&&Xw(tt)===de.type){d(he,de.sibling),Me=_(de,xe.props),Qu(Me,xe),Me.return=he,he=Me;break e}d(he,de);break}else l(he,de);de=de.sibling}xe.type===M?(Me=xl(xe.props.children,he.mode,Me,xe.key),Me.return=he,he=Me):(Me=Mf(xe.type,xe.key,xe.props,null,he.mode,Me),Qu(Me,xe),Me.return=he,he=Me)}return z(he);case R:e:{for(tt=xe.key;de!==null;){if(de.key===tt)if(de.tag===4&&de.stateNode.containerInfo===xe.containerInfo&&de.stateNode.implementation===xe.implementation){d(he,de.sibling),Me=_(de,xe.children||[]),Me.return=he,he=Me;break e}else{d(he,de);break}else l(he,de);de=de.sibling}Me=Fg(xe,he.mode,Me),Me.return=he,he=Me}return z(he);case P:return tt=xe._init,xe=tt(xe._payload),_n(he,de,xe,Me)}if(le(xe))return mt(he,de,xe,Me);if(Y(xe)){if(tt=Y(xe),typeof tt!="function")throw Error(r(150));return xe=tt.call(xe),ht(he,de,xe,Me)}if(typeof xe.then=="function")return _n(he,de,Xf(xe),Me);if(xe.$$typeof===L)return _n(he,de,Lf(he,xe),Me);Kf(he,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,de!==null&&de.tag===6?(d(he,de.sibling),Me=_(de,xe),Me.return=he,he=Me):(d(he,de),Me=Ug(xe,he.mode,Me),Me.return=he,he=Me),z(he)):d(he,de)}return function(he,de,xe,Me){try{Ku=0;var tt=_n(he,de,xe,Me);return Ec=null,tt}catch(at){if(at===Fu||at===Bf)throw at;var Vt=Gi(29,at,null,he.mode);return Vt.lanes=Me,Vt.return=he,Vt}finally{}}}var _c=Kw(!0),Qw=Kw(!1),ys=ye(null),Xs=null;function xo(i){var l=i.alternate;Oe(Sr,Sr.current&1),Oe(ys,i),Xs===null&&(l===null||xc.current!==null||l.memoizedState!==null)&&(Xs=i)}function $w(i){if(i.tag===22){if(Oe(Sr,Sr.current),Oe(ys,i),Xs===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Xs=i)}}else wo()}function wo(){Oe(Sr,Sr.current),Oe(ys,ys.current)}function Sa(i){Ne(ys),Xs===i&&(Xs=null),Ne(Sr)}var Sr=ye(0);function Qf(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||lp(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function w1(i,l,d,m){l=i.memoizedState,d=d(m,l),d=d==null?l:E({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var v1={enqueueSetState:function(i,l,d){i=i._reactInternals;var m=Xi(),_=po(m);_.payload=l,d!=null&&(_.callback=d),l=mo(i,_,m),l!==null&&(Ki(l,i,m),ju(l,i,m))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var m=Xi(),_=po(m);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=mo(i,_,m),l!==null&&(Ki(l,i,m),ju(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Xi(),m=po(d);m.tag=2,l!=null&&(m.callback=l),l=mo(i,m,d),l!==null&&(Ki(l,i,d),ju(l,i,d))}};function Zw(i,l,d,m,_,S,z){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,S,z):l.prototype&&l.prototype.isPureReactComponent?!g(d,m)||!g(_,S):!0}function Jw(i,l,d,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==i&&v1.enqueueReplaceState(l,l.state,null)}function Cl(i,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(i=i.defaultProps){d===l&&(d=E({},d));for(var _ in i)d[_]===void 0&&(d[_]=i[_])}return d}var $f=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ev(i){$f(i)}function tv(i){console.error(i)}function nv(i){$f(i)}function Zf(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function rv(i,l,d){try{var m=i.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function b1(i,l,d){return d=po(d),d.tag=3,d.payload={element:null},d.callback=function(){Zf(i,l)},d}function iv(i){return i=po(i),i.tag=3,i}function sv(i,l,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var S=m.value;i.payload=function(){return _(S)},i.callback=function(){rv(l,d,m)}}var z=d.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(i.callback=function(){rv(l,d,m),typeof _!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var J=m.stack;this.componentDidCatch(m.value,{componentStack:J!==null?J:""})})}function I3(i,l,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Bu(l,d,_,!0),d=ys.current,d!==null){switch(d.tag){case 13:return Xs===null?q1():d.alternate===null&&sr===0&&(sr=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===Qg?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),W1(i,m,_)),!1;case 22:return d.flags|=65536,m===Qg?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),W1(i,m,_)),!1}throw Error(r(435,d.tag))}return W1(i,m,_),q1(),!1}if(cn)return l=ys.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==Hg&&(i=Error(r(422),{cause:m}),Pu(hs(i,d)))):(m!==Hg&&(l=Error(r(423),{cause:m}),Pu(hs(l,d))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,m=hs(m,d),_=b1(i.stateNode,m,_),Jg(i,_),sr!==4&&(sr=2)),!1;var S=Error(r(520),{cause:m});if(S=hs(S,d),rd===null?rd=[S]:rd.push(S),sr!==4&&(sr=2),l===null)return!0;m=hs(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=_&-_,d.lanes|=i,i=b1(d.stateNode,m,i),Jg(d,i),!1;case 1:if(l=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ao===null||!Ao.has(S))))return d.flags|=65536,_&=-_,d.lanes|=_,_=iv(_),sv(_,i,d,m),Jg(d,_),!1}d=d.return}while(d!==null);return!1}var av=Error(r(461)),Or=!1;function Wr(i,l,d,m){l.child=i===null?Qw(l,null,d,m):_c(l,i.child,d,m)}function ov(i,l,d,m,_){d=d.render;var S=l.ref;if("ref"in m){var z={};for(var J in m)J!=="ref"&&(z[J]=m[J])}else z=m;return Tl(l),m=i1(i,l,d,z,S,_),J=s1(),i!==null&&!Or?(a1(i,l,_),Ca(i,l,_)):(cn&&J&&zg(l),l.flags|=1,Wr(i,l,m,_),l.child)}function lv(i,l,d,m,_){if(i===null){var S=d.type;return typeof S=="function"&&!Vg(S)&&S.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=S,cv(i,l,S,m,_)):(i=Mf(d.type,null,m,l,l.mode,_),i.ref=l.ref,i.return=l,l.child=i)}if(S=i.child,!R1(i,_)){var z=S.memoizedProps;if(d=d.compare,d=d!==null?d:g,d(z,m)&&i.ref===l.ref)return Ca(i,l,_)}return l.flags|=1,i=va(S,m),i.ref=l.ref,i.return=l,l.child=i}function cv(i,l,d,m,_){if(i!==null){var S=i.memoizedProps;if(g(S,m)&&i.ref===l.ref)if(Or=!1,l.pendingProps=m=S,R1(i,_))(i.flags&131072)!==0&&(Or=!0);else return l.lanes=i.lanes,Ca(i,l,_)}return E1(i,l,d,m,_)}function uv(i,l,d){var m=l.pendingProps,_=m.children,S=i!==null?i.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=S!==null?S.baseLanes|d:d,i!==null){for(_=l.child=i.child,S=0;_!==null;)S=S|_.lanes|_.childLanes,_=_.sibling;l.childLanes=S&~m}else l.childLanes=0,l.child=null;return dv(i,l,m,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Pf(l,S!==null?S.cachePool:null),S!==null?cw(l,S):t1(),$w(l);else return l.lanes=l.childLanes=536870912,dv(i,l,S!==null?S.baseLanes|d:d,d)}else S!==null?(Pf(l,S.cachePool),cw(l,S),wo(),l.memoizedState=null):(i!==null&&Pf(l,null),t1(),wo());return Wr(i,l,_,d),l.child}function dv(i,l,d,m){var _=Kg();return _=_===null?null:{parent:Ar._currentValue,pool:_},l.memoizedState={baseLanes:d,cachePool:_},i!==null&&Pf(l,null),t1(),$w(l),i!==null&&Bu(i,l,m,!0),null}function Jf(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(l.flags|=4194816)}}function E1(i,l,d,m,_){return Tl(l),d=i1(i,l,d,m,void 0,_),m=s1(),i!==null&&!Or?(a1(i,l,_),Ca(i,l,_)):(cn&&m&&zg(l),l.flags|=1,Wr(i,l,d,_),l.child)}function fv(i,l,d,m,_,S){return Tl(l),l.updateQueue=null,d=dw(l,m,d,_),uw(i),m=s1(),i!==null&&!Or?(a1(i,l,S),Ca(i,l,S)):(cn&&m&&zg(l),l.flags|=1,Wr(i,l,d,S),l.child)}function hv(i,l,d,m,_){if(Tl(l),l.stateNode===null){var S=hc,z=d.contextType;typeof z=="object"&&z!==null&&(S=ai(z)),S=new d(m,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=v1,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=m,S.state=l.memoizedState,S.refs={},$g(l),z=d.contextType,S.context=typeof z=="object"&&z!==null?ai(z):hc,S.state=l.memoizedState,z=d.getDerivedStateFromProps,typeof z=="function"&&(w1(l,d,z,m),S.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(z=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),z!==S.state&&v1.enqueueReplaceState(S,S.state,null),Gu(l,m,S,_),Hu(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){S=l.stateNode;var J=l.memoizedProps,oe=Cl(d,J);S.props=oe;var ve=S.context,Ie=d.contextType;z=hc,typeof Ie=="object"&&Ie!==null&&(z=ai(Ie));var ke=d.getDerivedStateFromProps;Ie=typeof ke=="function"||typeof S.getSnapshotBeforeUpdate=="function",J=l.pendingProps!==J,Ie||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(J||ve!==z)&&Jw(l,S,m,z),go=!1;var Ee=l.memoizedState;S.state=Ee,Gu(l,m,S,_),Hu(),ve=l.memoizedState,J||Ee!==ve||go?(typeof ke=="function"&&(w1(l,d,ke,m),ve=l.memoizedState),(oe=go||Zw(l,d,oe,m,Ee,ve,z))?(Ie||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ve),S.props=m,S.state=ve,S.context=z,m=oe):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{S=l.stateNode,Zg(i,l),z=l.memoizedProps,Ie=Cl(d,z),S.props=Ie,ke=l.pendingProps,Ee=S.context,ve=d.contextType,oe=hc,typeof ve=="object"&&ve!==null&&(oe=ai(ve)),J=d.getDerivedStateFromProps,(ve=typeof J=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(z!==ke||Ee!==oe)&&Jw(l,S,m,oe),go=!1,Ee=l.memoizedState,S.state=Ee,Gu(l,m,S,_),Hu();var Ae=l.memoizedState;z!==ke||Ee!==Ae||go||i!==null&&i.dependencies!==null&&kf(i.dependencies)?(typeof J=="function"&&(w1(l,d,J,m),Ae=l.memoizedState),(Ie=go||Zw(l,d,Ie,m,Ee,Ae,oe)||i!==null&&i.dependencies!==null&&kf(i.dependencies))?(ve||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ae,oe),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ae,oe)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||z===i.memoizedProps&&Ee===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&Ee===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ae),S.props=m,S.state=Ae,S.context=oe,m=Ie):(typeof S.componentDidUpdate!="function"||z===i.memoizedProps&&Ee===i.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&Ee===i.memoizedState||(l.flags|=1024),m=!1)}return S=m,Jf(i,l),m=(l.flags&128)!==0,S||m?(S=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,i!==null&&m?(l.child=_c(l,i.child,null,_),l.child=_c(l,null,d,_)):Wr(i,l,d,_),l.memoizedState=S.state,i=l.child):i=Ca(i,l,_),i}function gv(i,l,d,m){return Lu(),l.flags|=256,Wr(i,l,d,m),l.child}var _1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T1(i){return{baseLanes:i,cachePool:tw()}}function A1(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=xs),i}function pv(i,l,d){var m=l.pendingProps,_=!1,S=(l.flags&128)!==0,z;if((z=S)||(z=i!==null&&i.memoizedState===null?!1:(Sr.current&2)!==0),z&&(_=!0,l.flags&=-129),z=(l.flags&32)!==0,l.flags&=-33,i===null){if(cn){if(_?xo(l):wo(),cn){var J=ir,oe;if(oe=J){e:{for(oe=J,J=Ws;oe.nodeType!==8;){if(!J){J=null;break e}if(oe=Ds(oe.nextSibling),oe===null){J=null;break e}}J=oe}J!==null?(l.memoizedState={dehydrated:J,treeContext:wl!==null?{id:ba,overflow:Ea}:null,retryLane:536870912,hydrationErrors:null},oe=Gi(18,null,null,0),oe.stateNode=J,oe.return=l,l.child=oe,mi=l,ir=null,oe=!0):oe=!1}oe||El(l)}if(J=l.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return lp(J)?l.lanes=32:l.lanes=536870912,null;Sa(l)}return J=m.children,m=m.fallback,_?(wo(),_=l.mode,J=eh({mode:"hidden",children:J},_),m=xl(m,_,d,null),J.return=l,m.return=l,J.sibling=m,l.child=J,_=l.child,_.memoizedState=T1(d),_.childLanes=A1(i,z,d),l.memoizedState=_1,m):(xo(l),S1(l,J))}if(oe=i.memoizedState,oe!==null&&(J=oe.dehydrated,J!==null)){if(S)l.flags&256?(xo(l),l.flags&=-257,l=C1(i,l,d)):l.memoizedState!==null?(wo(),l.child=i.child,l.flags|=128,l=null):(wo(),_=m.fallback,J=l.mode,m=eh({mode:"visible",children:m.children},J),_=xl(_,J,d,null),_.flags|=2,m.return=l,_.return=l,m.sibling=_,l.child=m,_c(l,i.child,null,d),m=l.child,m.memoizedState=T1(d),m.childLanes=A1(i,z,d),l.memoizedState=_1,l=_);else if(xo(l),lp(J)){if(z=J.nextSibling&&J.nextSibling.dataset,z)var ve=z.dgst;z=ve,m=Error(r(419)),m.stack="",m.digest=z,Pu({value:m,source:null,stack:null}),l=C1(i,l,d)}else if(Or||Bu(i,l,d,!1),z=(d&i.childLanes)!==0,Or||z){if(z=Mn,z!==null&&(m=d&-d,m=(m&42)!==0?1:is(m),m=(m&(z.suspendedLanes|d))!==0?0:m,m!==0&&m!==oe.retryLane))throw oe.retryLane=m,fc(i,m),Ki(z,i,m),av;J.data==="$?"||q1(),l=C1(i,l,d)}else J.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=oe.treeContext,ir=Ds(J.nextSibling),mi=l,cn=!0,bl=null,Ws=!1,i!==null&&(ps[ms++]=ba,ps[ms++]=Ea,ps[ms++]=wl,ba=i.id,Ea=i.overflow,wl=l),l=S1(l,m.children),l.flags|=4096);return l}return _?(wo(),_=m.fallback,J=l.mode,oe=i.child,ve=oe.sibling,m=va(oe,{mode:"hidden",children:m.children}),m.subtreeFlags=oe.subtreeFlags&65011712,ve!==null?_=va(ve,_):(_=xl(_,J,d,null),_.flags|=2),_.return=l,m.return=l,m.sibling=_,l.child=m,m=_,_=l.child,J=i.child.memoizedState,J===null?J=T1(d):(oe=J.cachePool,oe!==null?(ve=Ar._currentValue,oe=oe.parent!==ve?{parent:ve,pool:ve}:oe):oe=tw(),J={baseLanes:J.baseLanes|d,cachePool:oe}),_.memoizedState=J,_.childLanes=A1(i,z,d),l.memoizedState=_1,m):(xo(l),d=i.child,i=d.sibling,d=va(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,i!==null&&(z=l.deletions,z===null?(l.deletions=[i],l.flags|=16):z.push(i)),l.child=d,l.memoizedState=null,d)}function S1(i,l){return l=eh({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function eh(i,l){return i=Gi(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function C1(i,l,d){return _c(l,i.child,null,d),i=S1(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function mv(i,l,d){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),qg(i.return,l,d)}function I1(i,l,d,m,_){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=d,S.tailMode=_)}function yv(i,l,d){var m=l.pendingProps,_=m.revealOrder,S=m.tail;if(Wr(i,l,m.children,d),m=Sr.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mv(i,d,l);else if(i.tag===19)mv(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(Oe(Sr,m),_){case"forwards":for(d=l.child,_=null;d!==null;)i=d.alternate,i!==null&&Qf(i)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),I1(l,!1,_,d,S);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(i=_.alternate,i!==null&&Qf(i)===null){l.child=_;break}i=_.sibling,_.sibling=d,d=_,_=i}I1(l,!0,d,null,S);break;case"together":I1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ca(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),To|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(Bu(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=va(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=va(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function R1(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&kf(i)))}function R3(i,l,d){switch(l.tag){case 3:He(l,l.stateNode.containerInfo),ho(l,Ar,i.memoizedState.cache),Lu();break;case 27:case 5:lt(l);break;case 4:He(l,l.stateNode.containerInfo);break;case 10:ho(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(xo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?pv(i,l,d):(xo(l),i=Ca(i,l,d),i!==null?i.sibling:null);xo(l);break;case 19:var _=(i.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Bu(i,l,d,!1),m=(d&l.childLanes)!==0),_){if(m)return yv(i,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Oe(Sr,Sr.current),m)break;return null;case 22:case 23:return l.lanes=0,uv(i,l,d);case 24:ho(l,Ar,i.memoizedState.cache)}return Ca(i,l,d)}function xv(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)Or=!0;else{if(!R1(i,d)&&(l.flags&128)===0)return Or=!1,R3(i,l,d);Or=(i.flags&131072)!==0}else Or=!1,cn&&(l.flags&1048576)!==0&&Xx(l,Of,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var m=l.elementType,_=m._init;if(m=_(m._payload),l.type=m,typeof m=="function")Vg(m)?(i=Cl(m,i),l.tag=1,l=hv(null,l,m,i,d)):(l.tag=0,l=E1(null,l,m,i,d));else{if(m!=null){if(_=m.$$typeof,_===$){l.tag=11,l=ov(null,l,m,i,d);break e}else if(_===V){l.tag=14,l=lv(null,l,m,i,d);break e}}throw l=be(m)||m,Error(r(306,l,""))}}return l;case 0:return E1(i,l,l.type,l.pendingProps,d);case 1:return m=l.type,_=Cl(m,l.pendingProps),hv(i,l,m,_,d);case 3:e:{if(He(l,l.stateNode.containerInfo),i===null)throw Error(r(387));m=l.pendingProps;var S=l.memoizedState;_=S.element,Zg(i,l),Gu(l,m,null,d);var z=l.memoizedState;if(m=z.cache,ho(l,Ar,m),m!==S.cache&&Yg(l,[Ar],d,!0),Hu(),m=z.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:z.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=gv(i,l,m,d);break e}else if(m!==_){_=hs(Error(r(424)),l),Pu(_),l=gv(i,l,m,d);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ir=Ds(i.firstChild),mi=l,cn=!0,bl=null,Ws=!0,d=Qw(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Lu(),m===_){l=Ca(i,l,d);break e}Wr(i,l,m,d)}l=l.child}return l;case 26:return Jf(i,l),i===null?(d=Eb(l.type,null,l.pendingProps,null))?l.memoizedState=d:cn||(d=l.type,i=l.pendingProps,m=gh(Ce.current).createElement(d),m[lr]=l,m[vn]=i,Kr(m,d,i),nn(m),l.stateNode=m):l.memoizedState=Eb(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return lt(l),i===null&&cn&&(m=l.stateNode=wb(l.type,l.pendingProps,Ce.current),mi=l,Ws=!0,_=ir,Io(l.type)?(cp=_,ir=Ds(m.firstChild)):ir=_),Wr(i,l,l.pendingProps.children,d),Jf(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&cn&&((_=m=ir)&&(m=r4(m,l.type,l.pendingProps,Ws),m!==null?(l.stateNode=m,mi=l,ir=Ds(m.firstChild),Ws=!1,_=!0):_=!1),_||El(l)),lt(l),_=l.type,S=l.pendingProps,z=i!==null?i.memoizedProps:null,m=S.children,sp(_,S)?m=null:z!==null&&sp(_,z)&&(l.flags|=32),l.memoizedState!==null&&(_=i1(i,l,b3,null,null,d),fd._currentValue=_),Jf(i,l),Wr(i,l,m,d),l.child;case 6:return i===null&&cn&&((i=d=ir)&&(d=i4(d,l.pendingProps,Ws),d!==null?(l.stateNode=d,mi=l,ir=null,i=!0):i=!1),i||El(l)),null;case 13:return pv(i,l,d);case 4:return He(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=_c(l,null,m,d):Wr(i,l,m,d),l.child;case 11:return ov(i,l,l.type,l.pendingProps,d);case 7:return Wr(i,l,l.pendingProps,d),l.child;case 8:return Wr(i,l,l.pendingProps.children,d),l.child;case 12:return Wr(i,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,ho(l,l.type,m.value),Wr(i,l,m.children,d),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,Tl(l),_=ai(_),m=m(_),l.flags|=1,Wr(i,l,m,d),l.child;case 14:return lv(i,l,l.type,l.pendingProps,d);case 15:return cv(i,l,l.type,l.pendingProps,d);case 19:return yv(i,l,d);case 31:return m=l.pendingProps,d=l.mode,m={mode:m.mode,children:m.children},i===null?(d=eh(m,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=va(i.child,m),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return uv(i,l,d);case 24:return Tl(l),m=ai(Ar),i===null?(_=Kg(),_===null&&(_=Mn,S=Wg(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=d),_=S),l.memoizedState={parent:m,cache:_},$g(l),ho(l,Ar,_)):((i.lanes&d)!==0&&(Zg(i,l),Gu(l,null,null,d),Hu()),_=i.memoizedState,S=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),ho(l,Ar,m)):(m=S.cache,ho(l,Ar,m),m!==_.cache&&Yg(l,[Ar],d,!0))),Wr(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ia(i){i.flags|=4}function wv(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Cb(l)){if(l=ys.current,l!==null&&(($t&4194048)===$t?Xs!==null:($t&62914560)!==$t&&($t&536870912)===0||l!==Xs))throw zu=Qg,nw;i.flags|=8192}}function th(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?no():536870912,i.lanes|=l,Cc|=l)}function $u(i,l){if(!cn)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function $n(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(l)for(var _=i.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=m,i.childLanes=d,l}function N3(i,l,d){var m=l.pendingProps;switch(jg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(l),null;case 1:return $n(l),null;case 3:return d=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ta(Ar),Ye(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(ku(l)?Ia(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,$x())),$n(l),null;case 26:return d=l.memoizedState,i===null?(Ia(l),d!==null?($n(l),wv(l,d)):($n(l),l.flags&=-16777217)):d?d!==i.memoizedState?(Ia(l),$n(l),wv(l,d)):($n(l),l.flags&=-16777217):(i.memoizedProps!==m&&Ia(l),$n(l),l.flags&=-16777217),null;case 27:et(l),d=Ce.current;var _=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ia(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return $n(l),null}i=Ge.current,ku(l)?Kx(l):(i=wb(_,m,d),l.stateNode=i,Ia(l))}return $n(l),null;case 5:if(et(l),d=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==m&&Ia(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return $n(l),null}if(i=Ge.current,ku(l))Kx(l);else{switch(_=gh(Ce.current),i){case 1:i=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=_.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof m.is=="string"?_.createElement("select",{is:m.is}):_.createElement("select"),m.multiple?i.multiple=!0:m.size&&(i.size=m.size);break;default:i=typeof m.is=="string"?_.createElement(d,{is:m.is}):_.createElement(d)}}i[lr]=l,i[vn]=m;e:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)i.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break e;for(;_.sibling===null;){if(_.return===null||_.return===l)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=i;e:switch(Kr(i,d,m),d){case"button":case"input":case"select":case"textarea":i=!!m.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ia(l)}}return $n(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==m&&Ia(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(i=Ce.current,ku(l)){if(i=l.stateNode,d=l.memoizedProps,m=null,_=mi,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}i[lr]=l,i=!!(i.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||fb(i.nodeValue,d)),i||El(l)}else i=gh(i).createTextNode(m),i[lr]=l,l.stateNode=i}return $n(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=ku(l),m!==null&&m.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[lr]=l}else Lu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;$n(l),_=!1}else _=$x(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(Sa(l),l):(Sa(l),null)}if(Sa(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=m!==null,i=i!==null&&i.memoizedState!==null,d){m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==_&&(m.flags|=2048)}return d!==i&&d&&(l.child.flags|=8192),th(l,l.updateQueue),$n(l),null;case 4:return Ye(),i===null&&ep(l.stateNode.containerInfo),$n(l),null;case 10:return Ta(l.type),$n(l),null;case 19:if(Ne(Sr),_=l.memoizedState,_===null)return $n(l),null;if(m=(l.flags&128)!==0,S=_.rendering,S===null)if(m)$u(_,!1);else{if(sr!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(S=Qf(i),S!==null){for(l.flags|=128,$u(_,!1),i=S.updateQueue,l.updateQueue=i,th(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)Wx(d,i),d=d.sibling;return Oe(Sr,Sr.current&1|2),l.child}i=i.sibling}_.tail!==null&&wt()>ih&&(l.flags|=128,m=!0,$u(_,!1),l.lanes=4194304)}else{if(!m)if(i=Qf(S),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,th(l,i),$u(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!cn)return $n(l),null}else 2*wt()-_.renderingStartTime>ih&&d!==536870912&&(l.flags|=128,m=!0,$u(_,!1),l.lanes=4194304);_.isBackwards?(S.sibling=l.child,l.child=S):(i=_.last,i!==null?i.sibling=S:l.child=S,_.last=S)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=wt(),l.sibling=null,i=Sr.current,Oe(Sr,m?i&1|2:i&1),l):($n(l),null);case 22:case 23:return Sa(l),n1(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&($n(l),l.subtreeFlags&6&&(l.flags|=8192)):$n(l),d=l.updateQueue,d!==null&&th(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),i!==null&&Ne(Al),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ta(Ar),$n(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function M3(i,l){switch(jg(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ta(Ar),Ye(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return et(l),null;case 13:if(Sa(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Lu()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Ne(Sr),null;case 4:return Ye(),null;case 10:return Ta(l.type),null;case 22:case 23:return Sa(l),n1(),i!==null&&Ne(Al),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Ta(Ar),null;case 25:return null;default:return null}}function vv(i,l){switch(jg(l),l.tag){case 3:Ta(Ar),Ye();break;case 26:case 27:case 5:et(l);break;case 4:Ye();break;case 13:Sa(l);break;case 19:Ne(Sr);break;case 10:Ta(l.type);break;case 22:case 23:Sa(l),n1(),i!==null&&Ne(Al);break;case 24:Ta(Ar)}}function Zu(i,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&i)===i){m=void 0;var S=d.create,z=d.inst;m=S(),z.destroy=m}d=d.next}while(d!==_)}}catch(J){Rn(l,l.return,J)}}function vo(i,l,d){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var S=_.next;m=S;do{if((m.tag&i)===i){var z=m.inst,J=z.destroy;if(J!==void 0){z.destroy=void 0,_=l;var oe=d,ve=J;try{ve()}catch(Ie){Rn(_,oe,Ie)}}}m=m.next}while(m!==S)}}catch(Ie){Rn(l,l.return,Ie)}}function bv(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{lw(l,d)}catch(m){Rn(i,i.return,m)}}}function Ev(i,l,d){d.props=Cl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(m){Rn(i,l,m)}}function Ju(i,l){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof d=="function"?i.refCleanup=d(m):d.current=m}}catch(_){Rn(i,l,_)}}function Ks(i,l){var d=i.ref,m=i.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){Rn(i,l,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){Rn(i,l,_)}else d.current=null}function _v(i){var l=i.type,d=i.memoizedProps,m=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){Rn(i,i.return,_)}}function N1(i,l,d){try{var m=i.stateNode;Z3(m,i.type,d,l),m[vn]=l}catch(_){Rn(i,i.return,_)}}function Tv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Io(i.type)||i.tag===4}function M1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Tv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Io(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function D1(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(i),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=hh));else if(m!==4&&(m===27&&Io(i.type)&&(d=i.stateNode,l=null),i=i.child,i!==null))for(D1(i,l,d),i=i.sibling;i!==null;)D1(i,l,d),i=i.sibling}function nh(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(m!==4&&(m===27&&Io(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(nh(i,l,d),i=i.sibling;i!==null;)nh(i,l,d),i=i.sibling}function Av(i){var l=i.stateNode,d=i.memoizedProps;try{for(var m=i.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);Kr(l,m,d),l[lr]=i,l[vn]=d}catch(S){Rn(i,i.return,S)}}var Ra=!1,hr=!1,O1=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,kr=null;function D3(i,l){if(i=i.containerInfo,rp=vh,i=C(i),D(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var z=0,J=-1,oe=-1,ve=0,Ie=0,ke=i,Ee=null;t:for(;;){for(var Ae;ke!==d||_!==0&&ke.nodeType!==3||(J=z+_),ke!==S||m!==0&&ke.nodeType!==3||(oe=z+m),ke.nodeType===3&&(z+=ke.nodeValue.length),(Ae=ke.firstChild)!==null;)Ee=ke,ke=Ae;for(;;){if(ke===i)break t;if(Ee===d&&++ve===_&&(J=z),Ee===S&&++Ie===m&&(oe=z),(Ae=ke.nextSibling)!==null)break;ke=Ee,Ee=ke.parentNode}ke=Ae}d=J===-1||oe===-1?null:{start:J,end:oe}}else d=null}d=d||{start:0,end:0}}else d=null;for(ip={focusedElem:i,selectionRange:d},vh=!1,kr=l;kr!==null;)if(l=kr,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,kr=i;else for(;kr!==null;){switch(l=kr,S=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,d=l,_=S.memoizedProps,S=S.memoizedState,m=d.stateNode;try{var mt=Cl(d.type,_,d.elementType===d.type);i=m.getSnapshotBeforeUpdate(mt,S),m.__reactInternalSnapshotBeforeUpdate=i}catch(ht){Rn(d,d.return,ht)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)op(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,kr=i;break}kr=l.return}}function Cv(i,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:bo(i,d),m&4&&Zu(5,d);break;case 1:if(bo(i,d),m&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(z){Rn(d,d.return,z)}else{var _=Cl(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(_,l,i.__reactInternalSnapshotBeforeUpdate)}catch(z){Rn(d,d.return,z)}}m&64&&bv(d),m&512&&Ju(d,d.return);break;case 3:if(bo(i,d),m&64&&(i=d.updateQueue,i!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{lw(i,l)}catch(z){Rn(d,d.return,z)}}break;case 27:l===null&&m&4&&Av(d);case 26:case 5:bo(i,d),l===null&&m&4&&_v(d),m&512&&Ju(d,d.return);break;case 12:bo(i,d);break;case 13:bo(i,d),m&4&&Nv(i,d),m&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=z3.bind(null,d),s4(i,d))));break;case 22:if(m=d.memoizedState!==null||Ra,!m){l=l!==null&&l.memoizedState!==null||hr,_=Ra;var S=hr;Ra=m,(hr=l)&&!S?Eo(i,d,(d.subtreeFlags&8772)!==0):bo(i,d),Ra=_,hr=S}break;case 30:break;default:bo(i,d)}}function Iv(i){var l=i.alternate;l!==null&&(i.alternate=null,Iv(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&ss(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Wn=null,Ri=!1;function Na(i,l,d){for(d=d.child;d!==null;)Rv(i,l,d),d=d.sibling}function Rv(i,l,d){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Kt,d)}catch{}switch(d.tag){case 26:hr||Ks(d,l),Na(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:hr||Ks(d,l);var m=Wn,_=Ri;Io(d.type)&&(Wn=d.stateNode,Ri=!1),Na(i,l,d),ld(d.stateNode),Wn=m,Ri=_;break;case 5:hr||Ks(d,l);case 6:if(m=Wn,_=Ri,Wn=null,Na(i,l,d),Wn=m,Ri=_,Wn!==null)if(Ri)try{(Wn.nodeType===9?Wn.body:Wn.nodeName==="HTML"?Wn.ownerDocument.body:Wn).removeChild(d.stateNode)}catch(S){Rn(d,l,S)}else try{Wn.removeChild(d.stateNode)}catch(S){Rn(d,l,S)}break;case 18:Wn!==null&&(Ri?(i=Wn,yb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),md(i)):yb(Wn,d.stateNode));break;case 4:m=Wn,_=Ri,Wn=d.stateNode.containerInfo,Ri=!0,Na(i,l,d),Wn=m,Ri=_;break;case 0:case 11:case 14:case 15:hr||vo(2,d,l),hr||vo(4,d,l),Na(i,l,d);break;case 1:hr||(Ks(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Ev(d,l,m)),Na(i,l,d);break;case 21:Na(i,l,d);break;case 22:hr=(m=hr)||d.memoizedState!==null,Na(i,l,d),hr=m;break;default:Na(i,l,d)}}function Nv(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{md(i)}catch(d){Rn(l,l.return,d)}}function O3(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new Sv),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new Sv),l;default:throw Error(r(435,i.tag))}}function k1(i,l){var d=O3(i);l.forEach(function(m){var _=j3.bind(null,i,m);d.has(m)||(d.add(m),m.then(_,_))})}function qi(i,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],S=i,z=l,J=z;e:for(;J!==null;){switch(J.tag){case 27:if(Io(J.type)){Wn=J.stateNode,Ri=!1;break e}break;case 5:Wn=J.stateNode,Ri=!1;break e;case 3:case 4:Wn=J.stateNode.containerInfo,Ri=!0;break e}J=J.return}if(Wn===null)throw Error(r(160));Rv(S,z,_),Wn=null,Ri=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Mv(l,i),l=l.sibling}var Ms=null;function Mv(i,l){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:qi(l,i),Yi(i),m&4&&(vo(3,i,i.return),Zu(3,i),vo(5,i,i.return));break;case 1:qi(l,i),Yi(i),m&512&&(hr||d===null||Ks(d,d.return)),m&64&&Ra&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=Ms;if(qi(l,i),Yi(i),m&512&&(hr||d===null||Ks(d,d.return)),m&4){var S=d!==null?d.memoizedState:null;if(m=i.memoizedState,d===null)if(m===null)if(i.stateNode===null){e:{m=i.type,d=i.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":S=_.getElementsByTagName("title")[0],(!S||S[vi]||S[lr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(m),_.head.insertBefore(S,_.querySelector("head > title"))),Kr(S,m,d),S[lr]=i,nn(S),m=S;break e;case"link":var z=Ab("link","href",_).get(m+(d.href||""));if(z){for(var J=0;J<z.length;J++)if(S=z[J],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){z.splice(J,1);break t}}S=_.createElement(m),Kr(S,m,d),_.head.appendChild(S);break;case"meta":if(z=Ab("meta","content",_).get(m+(d.content||""))){for(J=0;J<z.length;J++)if(S=z[J],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){z.splice(J,1);break t}}S=_.createElement(m),Kr(S,m,d),_.head.appendChild(S);break;default:throw Error(r(468,m))}S[lr]=i,nn(S),m=S}i.stateNode=m}else Sb(_,i.type,i.stateNode);else i.stateNode=Tb(_,m,i.memoizedProps);else S!==m?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,m===null?Sb(_,i.type,i.stateNode):Tb(_,m,i.memoizedProps)):m===null&&i.stateNode!==null&&N1(i,i.memoizedProps,d.memoizedProps)}break;case 27:qi(l,i),Yi(i),m&512&&(hr||d===null||Ks(d,d.return)),d!==null&&m&4&&N1(i,i.memoizedProps,d.memoizedProps);break;case 5:if(qi(l,i),Yi(i),m&512&&(hr||d===null||Ks(d,d.return)),i.flags&32){_=i.stateNode;try{kn(_,"")}catch(Ae){Rn(i,i.return,Ae)}}m&4&&i.stateNode!=null&&(_=i.memoizedProps,N1(i,_,d!==null?d.memoizedProps:_)),m&1024&&(O1=!0);break;case 6:if(qi(l,i),Yi(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,d=i.stateNode;try{d.nodeValue=m}catch(Ae){Rn(i,i.return,Ae)}}break;case 3:if(yh=null,_=Ms,Ms=ph(l.containerInfo),qi(l,i),Ms=_,Yi(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{md(l.containerInfo)}catch(Ae){Rn(i,i.return,Ae)}O1&&(O1=!1,Dv(i));break;case 4:m=Ms,Ms=ph(i.stateNode.containerInfo),qi(l,i),Yi(i),Ms=m;break;case 12:qi(l,i),Yi(i);break;case 13:qi(l,i),Yi(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(F1=wt()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,k1(i,m)));break;case 22:_=i.memoizedState!==null;var oe=d!==null&&d.memoizedState!==null,ve=Ra,Ie=hr;if(Ra=ve||_,hr=Ie||oe,qi(l,i),hr=Ie,Ra=ve,Yi(i),m&8192)e:for(l=i.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||oe||Ra||hr||Il(i)),d=null,l=i;;){if(l.tag===5||l.tag===26){if(d===null){oe=d=l;try{if(S=oe.stateNode,_)z=S.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{J=oe.stateNode;var ke=oe.memoizedProps.style,Ee=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;J.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(Ae){Rn(oe,oe.return,Ae)}}}else if(l.tag===6){if(d===null){oe=l;try{oe.stateNode.nodeValue=_?"":oe.memoizedProps}catch(Ae){Rn(oe,oe.return,Ae)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=i.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,k1(i,d))));break;case 19:qi(l,i),Yi(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,k1(i,m)));break;case 30:break;case 21:break;default:qi(l,i),Yi(i)}}function Yi(i){var l=i.flags;if(l&2){try{for(var d,m=i.return;m!==null;){if(Tv(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,S=M1(i);nh(i,S,_);break;case 5:var z=d.stateNode;d.flags&32&&(kn(z,""),d.flags&=-33);var J=M1(i);nh(i,J,z);break;case 3:case 4:var oe=d.stateNode.containerInfo,ve=M1(i);D1(i,ve,oe);break;default:throw Error(r(161))}}catch(Ie){Rn(i,i.return,Ie)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Dv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Dv(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function bo(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Cv(i,l.alternate,l),l=l.sibling}function Il(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:vo(4,l,l.return),Il(l);break;case 1:Ks(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Ev(l,l.return,d),Il(l);break;case 27:ld(l.stateNode);case 26:case 5:Ks(l,l.return),Il(l);break;case 22:l.memoizedState===null&&Il(l);break;case 30:Il(l);break;default:Il(l)}i=i.sibling}}function Eo(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=i,S=l,z=S.flags;switch(S.tag){case 0:case 11:case 15:Eo(_,S,d),Zu(4,S);break;case 1:if(Eo(_,S,d),m=S,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ve){Rn(m,m.return,ve)}if(m=S,_=m.updateQueue,_!==null){var J=m.stateNode;try{var oe=_.shared.hiddenCallbacks;if(oe!==null)for(_.shared.hiddenCallbacks=null,_=0;_<oe.length;_++)ow(oe[_],J)}catch(ve){Rn(m,m.return,ve)}}d&&z&64&&bv(S),Ju(S,S.return);break;case 27:Av(S);case 26:case 5:Eo(_,S,d),d&&m===null&&z&4&&_v(S),Ju(S,S.return);break;case 12:Eo(_,S,d);break;case 13:Eo(_,S,d),d&&z&4&&Nv(_,S);break;case 22:S.memoizedState===null&&Eo(_,S,d),Ju(S,S.return);break;case 30:break;default:Eo(_,S,d)}l=l.sibling}}function L1(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Vu(d))}function P1(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Vu(i))}function Qs(i,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ov(i,l,d,m),l=l.sibling}function Ov(i,l,d,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Qs(i,l,d,m),_&2048&&Zu(9,l);break;case 1:Qs(i,l,d,m);break;case 3:Qs(i,l,d,m),_&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Vu(i)));break;case 12:if(_&2048){Qs(i,l,d,m),i=l.stateNode;try{var S=l.memoizedProps,z=S.id,J=S.onPostCommit;typeof J=="function"&&J(z,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(oe){Rn(l,l.return,oe)}}else Qs(i,l,d,m);break;case 13:Qs(i,l,d,m);break;case 23:break;case 22:S=l.stateNode,z=l.alternate,l.memoizedState!==null?S._visibility&2?Qs(i,l,d,m):ed(i,l):S._visibility&2?Qs(i,l,d,m):(S._visibility|=2,Tc(i,l,d,m,(l.subtreeFlags&10256)!==0)),_&2048&&L1(z,l);break;case 24:Qs(i,l,d,m),_&2048&&P1(l.alternate,l);break;default:Qs(i,l,d,m)}}function Tc(i,l,d,m,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=i,z=l,J=d,oe=m,ve=z.flags;switch(z.tag){case 0:case 11:case 15:Tc(S,z,J,oe,_),Zu(8,z);break;case 23:break;case 22:var Ie=z.stateNode;z.memoizedState!==null?Ie._visibility&2?Tc(S,z,J,oe,_):ed(S,z):(Ie._visibility|=2,Tc(S,z,J,oe,_)),_&&ve&2048&&L1(z.alternate,z);break;case 24:Tc(S,z,J,oe,_),_&&ve&2048&&P1(z.alternate,z);break;default:Tc(S,z,J,oe,_)}l=l.sibling}}function ed(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,m=l,_=m.flags;switch(m.tag){case 22:ed(d,m),_&2048&&L1(m.alternate,m);break;case 24:ed(d,m),_&2048&&P1(m.alternate,m);break;default:ed(d,m)}l=l.sibling}}var td=8192;function Ac(i){if(i.subtreeFlags&td)for(i=i.child;i!==null;)kv(i),i=i.sibling}function kv(i){switch(i.tag){case 26:Ac(i),i.flags&td&&i.memoizedState!==null&&x4(Ms,i.memoizedState,i.memoizedProps);break;case 5:Ac(i);break;case 3:case 4:var l=Ms;Ms=ph(i.stateNode.containerInfo),Ac(i),Ms=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=td,td=16777216,Ac(i),td=l):Ac(i));break;default:Ac(i)}}function Lv(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function nd(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];kr=m,Bv(m,i)}Lv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pv(i),i=i.sibling}function Pv(i){switch(i.tag){case 0:case 11:case 15:nd(i),i.flags&2048&&vo(9,i,i.return);break;case 3:nd(i);break;case 12:nd(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,rh(i)):nd(i);break;default:nd(i)}}function rh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];kr=m,Bv(m,i)}Lv(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:vo(8,l,l.return),rh(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,rh(l));break;default:rh(l)}i=i.sibling}}function Bv(i,l){for(;kr!==null;){var d=kr;switch(d.tag){case 0:case 11:case 15:vo(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Vu(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,kr=m;else e:for(d=i;kr!==null;){m=kr;var _=m.sibling,S=m.return;if(Iv(m),m===d){kr=null;break e}if(_!==null){_.return=S,kr=_;break e}kr=S}}}var k3={getCacheForType:function(i){var l=ai(Ar),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d}},L3=typeof WeakMap=="function"?WeakMap:Map,mn=0,Mn=null,Ut=null,$t=0,yn=0,Wi=null,_o=!1,Sc=!1,B1=!1,Ma=0,sr=0,To=0,Rl=0,V1=0,xs=0,Cc=0,rd=null,Ni=null,U1=!1,F1=0,ih=1/0,sh=null,Ao=null,Xr=0,So=null,Ic=null,Rc=0,z1=0,j1=null,Vv=null,id=0,H1=null;function Xi(){if((mn&2)!==0&&$t!==0)return $t&-$t;if(ae.T!==null){var i=mc;return i!==0?i:Q1()}return hi()}function Uv(){xs===0&&(xs=($t&536870912)===0||cn?fa():536870912);var i=ys.current;return i!==null&&(i.flags|=32),xs}function Ki(i,l,d){(i===Mn&&(yn===2||yn===9)||i.cancelPendingCommit!==null)&&(Nc(i,0),Co(i,$t,xs,!1)),zr(i,d),((mn&2)===0||i!==Mn)&&(i===Mn&&((mn&2)===0&&(Rl|=d),sr===4&&Co(i,$t,xs,!1)),$s(i))}function Fv(i,l,d){if((mn&6)!==0)throw Error(r(327));var m=!d&&(l&124)===0&&(l&i.expiredLanes)===0||un(i,l),_=m?V3(i,l):Y1(i,l,!0),S=m;do{if(_===0){Sc&&!m&&Co(i,l,0,!1);break}else{if(d=i.current.alternate,S&&!P3(d)){_=Y1(i,l,!1),S=!1;continue}if(_===2){if(S=l,i.errorRecoveryDisabledLanes&S)var z=0;else z=i.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){l=z;e:{var J=i;_=rd;var oe=J.current.memoizedState.isDehydrated;if(oe&&(Nc(J,z).flags|=256),z=Y1(J,z,!1),z!==2){if(B1&&!oe){J.errorRecoveryDisabledLanes|=S,Rl|=S,_=4;break e}S=Ni,Ni=_,S!==null&&(Ni===null?Ni=S:Ni.push.apply(Ni,S))}_=z}if(S=!1,_!==2)continue}}if(_===1){Nc(i,0),Co(i,l,0,!0);break}e:{switch(m=i,S=_,S){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Co(m,l,xs,!_o);break e;case 2:Ni=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=F1+300-wt(),10<_)){if(Co(m,l,xs,!_o),Qt(m,0,!0)!==0)break e;m.timeoutHandle=pb(zv.bind(null,m,d,Ni,sh,U1,l,xs,Rl,Cc,_o,S,2,-0,0),_);break e}zv(m,d,Ni,sh,U1,l,xs,Rl,Cc,_o,S,0,-0,0)}}break}while(!0);$s(i)}function zv(i,l,d,m,_,S,z,J,oe,ve,Ie,ke,Ee,Ae){if(i.timeoutHandle=-1,ke=l.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(dd={stylesheets:null,count:0,unsuspend:y4},kv(l),ke=w4(),ke!==null)){i.cancelPendingCommit=ke(Xv.bind(null,i,l,S,d,m,_,z,J,oe,Ie,1,Ee,Ae)),Co(i,S,z,!ve);return}Xv(i,l,S,d,m,_,z,J,oe)}function P3(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],S=_.getSnapshot;_=_.value;try{if(!h(S(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Co(i,l,d,m){l&=~V1,l&=~Rl,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var _=l;0<_;){var S=31-tn(_),z=1<<S;m[S]=-1,_&=~z}d!==0&&Li(i,d,l)}function ah(){return(mn&6)===0?(sd(0),!1):!0}function G1(){if(Ut!==null){if(yn===0)var i=Ut.return;else i=Ut,_a=_l=null,o1(i),Ec=null,Ku=0,i=Ut;for(;i!==null;)vv(i.alternate,i),i=i.return;Ut=null}}function Nc(i,l){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,e4(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),G1(),Mn=i,Ut=d=va(i.current,null),$t=l,yn=0,Wi=null,_o=!1,Sc=un(i,l),B1=!1,Cc=xs=V1=Rl=To=sr=0,Ni=rd=null,U1=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var _=31-tn(m),S=1<<_;l|=i[_],m&=~S}return Ma=l,If(),d}function jv(i,l){Ot=null,ae.H=Wf,l===Fu||l===Bf?(l=sw(),yn=3):l===nw?(l=sw(),yn=4):yn=l===av?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Wi=l,Ut===null&&(sr=1,Zf(i,hs(l,i.current)))}function Hv(){var i=ae.H;return ae.H=Wf,i===null?Wf:i}function Gv(){var i=ae.A;return ae.A=k3,i}function q1(){sr=4,_o||($t&4194048)!==$t&&ys.current!==null||(Sc=!0),(To&134217727)===0&&(Rl&134217727)===0||Mn===null||Co(Mn,$t,xs,!1)}function Y1(i,l,d){var m=mn;mn|=2;var _=Hv(),S=Gv();(Mn!==i||$t!==l)&&(sh=null,Nc(i,l)),l=!1;var z=sr;e:do try{if(yn!==0&&Ut!==null){var J=Ut,oe=Wi;switch(yn){case 8:G1(),z=6;break e;case 3:case 2:case 9:case 6:ys.current===null&&(l=!0);var ve=yn;if(yn=0,Wi=null,Mc(i,J,oe,ve),d&&Sc){z=0;break e}break;default:ve=yn,yn=0,Wi=null,Mc(i,J,oe,ve)}}B3(),z=sr;break}catch(Ie){jv(i,Ie)}while(!0);return l&&i.shellSuspendCounter++,_a=_l=null,mn=m,ae.H=_,ae.A=S,Ut===null&&(Mn=null,$t=0,If()),z}function B3(){for(;Ut!==null;)qv(Ut)}function V3(i,l){var d=mn;mn|=2;var m=Hv(),_=Gv();Mn!==i||$t!==l?(sh=null,ih=wt()+500,Nc(i,l)):Sc=un(i,l);e:do try{if(yn!==0&&Ut!==null){l=Ut;var S=Wi;t:switch(yn){case 1:yn=0,Wi=null,Mc(i,l,S,1);break;case 2:case 9:if(rw(S)){yn=0,Wi=null,Yv(l);break}l=function(){yn!==2&&yn!==9||Mn!==i||(yn=7),$s(i)},S.then(l,l);break e;case 3:yn=7;break e;case 4:yn=5;break e;case 7:rw(S)?(yn=0,Wi=null,Yv(l)):(yn=0,Wi=null,Mc(i,l,S,7));break;case 5:var z=null;switch(Ut.tag){case 26:z=Ut.memoizedState;case 5:case 27:var J=Ut;if(!z||Cb(z)){yn=0,Wi=null;var oe=J.sibling;if(oe!==null)Ut=oe;else{var ve=J.return;ve!==null?(Ut=ve,oh(ve)):Ut=null}break t}}yn=0,Wi=null,Mc(i,l,S,5);break;case 6:yn=0,Wi=null,Mc(i,l,S,6);break;case 8:G1(),sr=6;break e;default:throw Error(r(462))}}U3();break}catch(Ie){jv(i,Ie)}while(!0);return _a=_l=null,ae.H=m,ae.A=_,mn=d,Ut!==null?0:(Mn=null,$t=0,If(),sr)}function U3(){for(;Ut!==null&&!Lt();)qv(Ut)}function qv(i){var l=xv(i.alternate,i,Ma);i.memoizedProps=i.pendingProps,l===null?oh(i):Ut=l}function Yv(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=fv(d,l,l.pendingProps,l.type,void 0,$t);break;case 11:l=fv(d,l,l.pendingProps,l.type.render,l.ref,$t);break;case 5:o1(l);default:vv(d,l),l=Ut=Wx(l,Ma),l=xv(d,l,Ma)}i.memoizedProps=i.pendingProps,l===null?oh(i):Ut=l}function Mc(i,l,d,m){_a=_l=null,o1(l),Ec=null,Ku=0;var _=l.return;try{if(I3(i,_,l,d,$t)){sr=1,Zf(i,hs(d,i.current)),Ut=null;return}}catch(S){if(_!==null)throw Ut=_,S;sr=1,Zf(i,hs(d,i.current)),Ut=null;return}l.flags&32768?(cn||m===1?i=!0:Sc||($t&536870912)!==0?i=!1:(_o=i=!0,(m===2||m===9||m===3||m===6)&&(m=ys.current,m!==null&&m.tag===13&&(m.flags|=16384))),Wv(l,i)):oh(l)}function oh(i){var l=i;do{if((l.flags&32768)!==0){Wv(l,_o);return}i=l.return;var d=N3(l.alternate,l,Ma);if(d!==null){Ut=d;return}if(l=l.sibling,l!==null){Ut=l;return}Ut=l=i}while(l!==null);sr===0&&(sr=5)}function Wv(i,l){do{var d=M3(i.alternate,i);if(d!==null){d.flags&=32767,Ut=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){Ut=i;return}Ut=i=d}while(i!==null);sr=6,Ut=null}function Xv(i,l,d,m,_,S,z,J,oe){i.cancelPendingCommit=null;do lh();while(Xr!==0);if((mn&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(S=l.lanes|l.childLanes,S|=Pg,ro(i,d,S,z,J,oe),i===Mn&&(Ut=Mn=null,$t=0),Ic=l,So=i,Rc=d,z1=S,j1=_,Vv=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,H3(qe,function(){return Jv(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null,_=fe.p,fe.p=2,z=mn,mn|=4;try{D3(i,l,d)}finally{mn=z,fe.p=_,ae.T=m}}Xr=1,Kv(),Qv(),$v()}}function Kv(){if(Xr===1){Xr=0;var i=So,l=Ic,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=ae.T,ae.T=null;var m=fe.p;fe.p=2;var _=mn;mn|=4;try{Mv(l,i);var S=ip,z=C(i.containerInfo),J=S.focusedElem,oe=S.selectionRange;if(z!==J&&J&&J.ownerDocument&&T(J.ownerDocument.documentElement,J)){if(oe!==null&&D(J)){var ve=oe.start,Ie=oe.end;if(Ie===void 0&&(Ie=ve),"selectionStart"in J)J.selectionStart=ve,J.selectionEnd=Math.min(Ie,J.value.length);else{var ke=J.ownerDocument||document,Ee=ke&&ke.defaultView||window;if(Ee.getSelection){var Ae=Ee.getSelection(),mt=J.textContent.length,ht=Math.min(oe.start,mt),_n=oe.end===void 0?ht:Math.min(oe.end,mt);!Ae.extend&&ht>_n&&(z=_n,_n=ht,ht=z);var he=v(J,ht),de=v(J,_n);if(he&&de&&(Ae.rangeCount!==1||Ae.anchorNode!==he.node||Ae.anchorOffset!==he.offset||Ae.focusNode!==de.node||Ae.focusOffset!==de.offset)){var xe=ke.createRange();xe.setStart(he.node,he.offset),Ae.removeAllRanges(),ht>_n?(Ae.addRange(xe),Ae.extend(de.node,de.offset)):(xe.setEnd(de.node,de.offset),Ae.addRange(xe))}}}}for(ke=[],Ae=J;Ae=Ae.parentNode;)Ae.nodeType===1&&ke.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<ke.length;J++){var Me=ke[J];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}vh=!!rp,ip=rp=null}finally{mn=_,fe.p=m,ae.T=d}}i.current=l,Xr=2}}function Qv(){if(Xr===2){Xr=0;var i=So,l=Ic,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=ae.T,ae.T=null;var m=fe.p;fe.p=2;var _=mn;mn|=4;try{Cv(i,l.alternate,l)}finally{mn=_,fe.p=m,ae.T=d}}Xr=3}}function $v(){if(Xr===4||Xr===3){Xr=0,Jn();var i=So,l=Ic,d=Rc,m=Vv;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Xr=5:(Xr=0,Ic=So=null,Zv(i,i.pendingLanes));var _=i.pendingLanes;if(_===0&&(Ao=null),Qn(d),l=l.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Kt,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=ae.T,_=fe.p,fe.p=2,ae.T=null;try{for(var S=i.onRecoverableError,z=0;z<m.length;z++){var J=m[z];S(J.value,{componentStack:J.stack})}}finally{ae.T=l,fe.p=_}}(Rc&3)!==0&&lh(),$s(i),_=i.pendingLanes,(d&4194090)!==0&&(_&42)!==0?i===H1?id++:(id=0,H1=i):id=0,sd(0)}}function Zv(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Vu(l)))}function lh(i){return Kv(),Qv(),$v(),Jv()}function Jv(){if(Xr!==5)return!1;var i=So,l=z1;z1=0;var d=Qn(Rc),m=ae.T,_=fe.p;try{fe.p=32>d?32:d,ae.T=null,d=j1,j1=null;var S=So,z=Rc;if(Xr=0,Ic=So=null,Rc=0,(mn&6)!==0)throw Error(r(331));var J=mn;if(mn|=4,Pv(S.current),Ov(S,S.current,z,d),mn=J,sd(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Kt,S)}catch{}return!0}finally{fe.p=_,ae.T=m,Zv(i,l)}}function eb(i,l,d){l=hs(d,l),l=b1(i.stateNode,l,2),i=mo(i,l,2),i!==null&&(zr(i,2),$s(i))}function Rn(i,l,d){if(i.tag===3)eb(i,i,d);else for(;l!==null;){if(l.tag===3){eb(l,i,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ao===null||!Ao.has(m))){i=hs(d,i),d=iv(2),m=mo(l,d,2),m!==null&&(sv(d,m,l,i),zr(m,2),$s(m));break}}l=l.return}}function W1(i,l,d){var m=i.pingCache;if(m===null){m=i.pingCache=new L3;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(d)||(B1=!0,_.add(d),i=F3.bind(null,i,l,d),l.then(i,i))}function F3(i,l,d){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Mn===i&&($t&d)===d&&(sr===4||sr===3&&($t&62914560)===$t&&300>wt()-F1?(mn&2)===0&&Nc(i,0):V1|=d,Cc===$t&&(Cc=0)),$s(i)}function tb(i,l){l===0&&(l=no()),i=fc(i,l),i!==null&&(zr(i,l),$s(i))}function z3(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),tb(i,d)}function j3(i,l){var d=0;switch(i.tag){case 13:var m=i.stateNode,_=i.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),tb(i,d)}function H3(i,l){return nt(i,l)}var ch=null,Dc=null,X1=!1,uh=!1,K1=!1,Nl=0;function $s(i){i!==Dc&&i.next===null&&(Dc===null?ch=Dc=i:Dc=Dc.next=i),uh=!0,X1||(X1=!0,q3())}function sd(i,l){if(!K1&&uh){K1=!0;do for(var d=!1,m=ch;m!==null;){if(i!==0){var _=m.pendingLanes;if(_===0)var S=0;else{var z=m.suspendedLanes,J=m.pingedLanes;S=(1<<31-tn(42|i)+1)-1,S&=_&~(z&~J),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,sb(m,S))}else S=$t,S=Qt(m,m===Mn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||un(m,S)||(d=!0,sb(m,S));m=m.next}while(d);K1=!1}}function G3(){nb()}function nb(){uh=X1=!1;var i=0;Nl!==0&&(J3()&&(i=Nl),Nl=0);for(var l=wt(),d=null,m=ch;m!==null;){var _=m.next,S=rb(m,l);S===0?(m.next=null,d===null?ch=_:d.next=_,_===null&&(Dc=d)):(d=m,(i!==0||(S&3)!==0)&&(uh=!0)),m=_}sd(i)}function rb(i,l){for(var d=i.suspendedLanes,m=i.pingedLanes,_=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var z=31-tn(S),J=1<<z,oe=_[z];oe===-1?((J&d)===0||(J&m)!==0)&&(_[z]=As(J,l)):oe<=l&&(i.expiredLanes|=J),S&=~J}if(l=Mn,d=$t,d=Qt(i,i===l?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,d===0||i===l&&(yn===2||yn===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&on(m),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||un(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(m!==null&&on(m),Qn(d)){case 2:case 8:d=Mr;break;case 32:d=qe;break;case 268435456:d=ua;break;default:d=qe}return m=ib.bind(null,i),d=nt(d,m),i.callbackPriority=l,i.callbackNode=d,l}return m!==null&&m!==null&&on(m),i.callbackPriority=2,i.callbackNode=null,2}function ib(i,l){if(Xr!==0&&Xr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(lh()&&i.callbackNode!==d)return null;var m=$t;return m=Qt(i,i===Mn?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(Fv(i,m,l),rb(i,wt()),i.callbackNode!=null&&i.callbackNode===d?ib.bind(null,i):null)}function sb(i,l){if(lh())return null;Fv(i,l,!0)}function q3(){t4(function(){(mn&6)!==0?nt(_t,G3):nb()})}function Q1(){return Nl===0&&(Nl=fa()),Nl}function ab(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:lo(""+i)}function ob(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function Y3(i,l,d,m,_){if(l==="submit"&&d&&d.stateNode===_){var S=ab((_[vn]||null).action),z=m.submitter;z&&(l=(l=z[vn]||null)?ab(l.formAction):z.getAttribute("formAction"),l!==null&&(S=l,z=null));var J=new fs("action","action",null,m,_);i.push({event:J,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Nl!==0){var oe=z?ob(_,z):new FormData(_);m1(d,{pending:!0,data:oe,method:_.method,action:S},null,oe)}}else typeof S=="function"&&(J.preventDefault(),oe=z?ob(_,z):new FormData(_),m1(d,{pending:!0,data:oe,method:_.method,action:S},S,oe))},currentTarget:_}]})}}for(var $1=0;$1<Ys.length;$1++){var Z1=Ys[$1],W3=Z1.toLowerCase(),X3=Z1[0].toUpperCase()+Z1.slice(1);Hi(W3,"on"+X3)}Hi(bt,"onAnimationEnd"),Hi(Yr,"onAnimationIteration"),Hi(Ci,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(ii,"onTransitionRun"),Hi(pn,"onTransitionStart"),Hi(Tr,"onTransitionCancel"),Hi(si,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ad));function lb(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],_=m.event;m=m.listeners;e:{var S=void 0;if(l)for(var z=m.length-1;0<=z;z--){var J=m[z],oe=J.instance,ve=J.currentTarget;if(J=J.listener,oe!==S&&_.isPropagationStopped())break e;S=J,_.currentTarget=ve;try{S(_)}catch(Ie){$f(Ie)}_.currentTarget=null,S=oe}else for(z=0;z<m.length;z++){if(J=m[z],oe=J.instance,ve=J.currentTarget,J=J.listener,oe!==S&&_.isPropagationStopped())break e;S=J,_.currentTarget=ve;try{S(_)}catch(Ie){$f(Ie)}_.currentTarget=null,S=oe}}}}function Ft(i,l){var d=l[pr];d===void 0&&(d=l[pr]=new Set);var m=i+"__bubble";d.has(m)||(cb(l,i,2,!1),d.add(m))}function J1(i,l,d){var m=0;l&&(m|=4),cb(d,i,m,l)}var dh="_reactListening"+Math.random().toString(36).slice(2);function ep(i){if(!i[dh]){i[dh]=!0,gl.forEach(function(d){d!=="selectionchange"&&(K3.has(d)||J1(d,!1,i),J1(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[dh]||(l[dh]=!0,J1("selectionchange",!1,l))}}function cb(i,l,d,m){switch(Ob(l)){case 2:var _=E4;break;case 8:_=_4;break;default:_=gp}d=_.bind(null,l,d,i),_=void 0,!ut||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?i.addEventListener(l,d,{capture:!0,passive:_}):i.addEventListener(l,d,!0):_!==void 0?i.addEventListener(l,d,{passive:_}):i.addEventListener(l,d,!1)}function tp(i,l,d,m,_){var S=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var z=m.tag;if(z===3||z===4){var J=m.stateNode.containerInfo;if(J===_)break;if(z===4)for(z=m.return;z!==null;){var oe=z.tag;if((oe===3||oe===4)&&z.stateNode.containerInfo===_)return;z=z.return}for(;J!==null;){if(z=zn(J),z===null)return;if(oe=z.tag,oe===5||oe===6||oe===26||oe===27){m=S=z;continue e}J=J.parentNode}}m=m.return}Vi(function(){var ve=S,Ie=Gr(d),ke=[];e:{var Ee=wa.get(i);if(Ee!==void 0){var Ae=fs,mt=i;switch(i){case"keypress":if(ds(d)===0)break e;case"keydown":case"keyup":Ae=Gs;break;case"focusin":mt="focus",Ae=Rs;break;case"focusout":mt="blur",Ae=Rs;break;case"beforeblur":case"afterblur":Ae=Rs;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=Ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=sn;break;case bt:case Yr:case Ci:Ae=co;break;case si:Ae=oc;break;case"scroll":case"scrollend":Ae=_r;break;case"wheel":Ae=Ti;break;case"copy":case"cut":case"paste":Ae=vt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=qs;break;case"toggle":case"beforetoggle":Ae=lc}var ht=(l&4)!==0,_n=!ht&&(i==="scroll"||i==="scrollend"),he=ht?Ee!==null?Ee+"Capture":null:Ee;ht=[];for(var de=ve,xe;de!==null;){var Me=de;if(xe=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||xe===null||he===null||(Me=st(de,he),Me!=null&&ht.push(od(de,Me,xe))),_n)break;de=de.return}0<ht.length&&(Ee=new Ae(Ee,mt,null,d,Ie),ke.push({event:Ee,listeners:ht}))}}if((l&7)===0){e:{if(Ee=i==="mouseover"||i==="pointerover",Ae=i==="mouseout"||i==="pointerout",Ee&&d!==Pi&&(mt=d.relatedTarget||d.fromElement)&&(zn(mt)||mt[Jr]))break e;if((Ae||Ee)&&(Ee=Ie.window===Ie?Ie:(Ee=Ie.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Ae?(mt=d.relatedTarget||d.toElement,Ae=ve,mt=mt?zn(mt):null,mt!==null&&(_n=o(mt),ht=mt.tag,mt!==_n||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(Ae=null,mt=ve),Ae!==mt)){if(ht=Ei,Me="onMouseLeave",he="onMouseEnter",de="mouse",(i==="pointerout"||i==="pointerover")&&(ht=qs,Me="onPointerLeave",he="onPointerEnter",de="pointer"),_n=Ae==null?Ee:gi(Ae),xe=mt==null?Ee:gi(mt),Ee=new ht(Me,de+"leave",Ae,d,Ie),Ee.target=_n,Ee.relatedTarget=xe,Me=null,zn(Ie)===ve&&(ht=new ht(he,de+"enter",mt,d,Ie),ht.target=xe,ht.relatedTarget=_n,Me=ht),_n=Me,Ae&&mt)t:{for(ht=Ae,he=mt,de=0,xe=ht;xe;xe=Oc(xe))de++;for(xe=0,Me=he;Me;Me=Oc(Me))xe++;for(;0<de-xe;)ht=Oc(ht),de--;for(;0<xe-de;)he=Oc(he),xe--;for(;de--;){if(ht===he||he!==null&&ht===he.alternate)break t;ht=Oc(ht),he=Oc(he)}ht=null}else ht=null;Ae!==null&&ub(ke,Ee,Ae,ht,!1),mt!==null&&_n!==null&&ub(ke,_n,mt,ht,!0)}}e:{if(Ee=ve?gi(ve):window,Ae=Ee.nodeName&&Ee.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&Ee.type==="file")var tt=Sf;else if(Yn(Ee))if(Du)tt=c;else{tt=j;var Vt=uc}else Ae=Ee.nodeName,!Ae||Ae.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?ve&&rt(ve.elementType)&&(tt=Sf):tt=a;if(tt&&(tt=tt(i,ve))){rr(ke,tt,d,Ie);break e}Vt&&Vt(i,Ee,ve),i==="focusout"&&ve&&Ee.type==="number"&&ve.memoizedProps.value!=null&&ge(Ee,"number",Ee.value)}switch(Vt=ve?gi(ve):window,i){case"focusin":(Yn(Vt)||Vt.contentEditable==="true")&&(Q=Vt,se=ve,ce=null);break;case"focusout":ce=se=Q=null;break;case"mousedown":ue=!0;break;case"contextmenu":case"mouseup":case"dragend":ue=!1,me(ke,d,Ie);break;case"selectionchange":if(H)break;case"keydown":case"keyup":me(ke,d,Ie)}var at;if(Ai)e:{switch(i){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else zt?Se(i,d)&&(gt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(gt="onCompositionStart");gt&&(U&&d.locale!=="ko"&&(zt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&zt&&(at=Fi()):(ls=Ie,cs="value"in ls?ls.value:ls.textContent,zt=!0)),Vt=fh(ve,gt),0<Vt.length&&(gt=new js(gt,i,null,d,Ie),ke.push({event:gt,listeners:Vt}),at?gt.data=at:(at=ze(d),at!==null&&(gt.data=at)))),(at=N?Pn(i,d):jt(i,d))&&(gt=fh(ve,"onBeforeInput"),0<gt.length&&(Vt=new js("onBeforeInput","beforeinput",null,d,Ie),ke.push({event:Vt,listeners:gt}),Vt.data=at)),Y3(ke,i,ve,d,Ie)}lb(ke,l)})}function od(i,l,d){return{instance:i,listener:l,currentTarget:d}}function fh(i,l){for(var d=l+"Capture",m=[];i!==null;){var _=i,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=st(i,d),_!=null&&m.unshift(od(i,_,S)),_=st(i,l),_!=null&&m.push(od(i,_,S))),i.tag===3)return m;i=i.return}return[]}function Oc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ub(i,l,d,m,_){for(var S=l._reactName,z=[];d!==null&&d!==m;){var J=d,oe=J.alternate,ve=J.stateNode;if(J=J.tag,oe!==null&&oe===m)break;J!==5&&J!==26&&J!==27||ve===null||(oe=ve,_?(ve=st(d,S),ve!=null&&z.unshift(od(d,ve,oe))):_||(ve=st(d,S),ve!=null&&z.push(od(d,ve,oe)))),d=d.return}z.length!==0&&i.push({event:l,listeners:z})}var Q3=/\r\n?/g,$3=/\u0000|\uFFFD/g;function db(i){return(typeof i=="string"?i:""+i).replace(Q3,`
`).replace($3,"")}function fb(i,l){return l=db(l),db(i)===l}function hh(){}function En(i,l,d,m,_,S){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||kn(i,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&kn(i,""+m);break;case"className":as(i,"class",m);break;case"tabIndex":as(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":as(i,d,m);break;case"style":Dr(i,m,S);break;case"data":if(l!=="object"){as(i,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=lo(""+m),i.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(l!=="input"&&En(i,l,"name",_.name,_,null),En(i,l,"formEncType",_.formEncType,_,null),En(i,l,"formMethod",_.formMethod,_,null),En(i,l,"formTarget",_.formTarget,_,null)):(En(i,l,"encType",_.encType,_,null),En(i,l,"method",_.method,_,null),En(i,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=lo(""+m),i.setAttribute(d,m);break;case"onClick":m!=null&&(i.onclick=hh);break;case"onScroll":m!=null&&Ft("scroll",i);break;case"onScrollEnd":m!=null&&Ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}d=lo(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""+m):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":m===!0?i.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,m):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(d,m):i.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(d):i.setAttribute(d,m);break;case"popover":Ft("beforetoggle",i),Ft("toggle",i),De(i,"popover",m);break;case"xlinkActuate":Nt(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Nt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Nt(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Nt(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Nt(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Nt(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":De(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Sn.get(d)||d,De(i,d,m))}}function np(i,l,d,m,_,S){switch(d){case"style":Dr(i,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof m=="string"?kn(i,m):(typeof m=="number"||typeof m=="bigint")&&kn(i,""+m);break;case"onScroll":m!=null&&Ft("scroll",i);break;case"onScrollEnd":m!=null&&Ft("scrollend",i);break;case"onClick":m!=null&&(i.onclick=hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),S=i[vn]||null,S=S!=null?S[d]:null,typeof S=="function"&&i.removeEventListener(l,S,_),typeof m=="function")){typeof S!="function"&&S!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,m,_);break e}d in i?i[d]=m:m===!0?i.setAttribute(d,""):De(i,d,m)}}}function Kr(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",i),Ft("load",i);var m=!1,_=!1,S;for(S in d)if(d.hasOwnProperty(S)){var z=d[S];if(z!=null)switch(S){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:En(i,l,S,z,d,null)}}_&&En(i,l,"srcSet",d.srcSet,d,null),m&&En(i,l,"src",d.src,d,null);return;case"input":Ft("invalid",i);var J=S=z=_=null,oe=null,ve=null;for(m in d)if(d.hasOwnProperty(m)){var Ie=d[m];if(Ie!=null)switch(m){case"name":_=Ie;break;case"type":z=Ie;break;case"checked":oe=Ie;break;case"defaultChecked":ve=Ie;break;case"value":S=Ie;break;case"defaultValue":J=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,l));break;default:En(i,l,m,Ie,d,null)}}jn(i,S,J,oe,ve,z,_,!1),ao(i);return;case"select":Ft("invalid",i),m=z=S=null;for(_ in d)if(d.hasOwnProperty(_)&&(J=d[_],J!=null))switch(_){case"value":S=J;break;case"defaultValue":z=J;break;case"multiple":m=J;default:En(i,l,_,J,d,null)}l=S,d=z,i.multiple=!!m,l!=null?re(i,!!m,l,!1):d!=null&&re(i,!!m,d,!0);return;case"textarea":Ft("invalid",i),S=_=m=null;for(z in d)if(d.hasOwnProperty(z)&&(J=d[z],J!=null))switch(z){case"value":m=J;break;case"defaultValue":_=J;break;case"children":S=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:En(i,l,z,J,d,null)}Nn(i,m,_,S),ao(i);return;case"option":for(oe in d)if(d.hasOwnProperty(oe)&&(m=d[oe],m!=null))switch(oe){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:En(i,l,oe,m,d,null)}return;case"dialog":Ft("beforetoggle",i),Ft("toggle",i),Ft("cancel",i),Ft("close",i);break;case"iframe":case"object":Ft("load",i);break;case"video":case"audio":for(m=0;m<ad.length;m++)Ft(ad[m],i);break;case"image":Ft("error",i),Ft("load",i);break;case"details":Ft("toggle",i);break;case"embed":case"source":case"link":Ft("error",i),Ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in d)if(d.hasOwnProperty(ve)&&(m=d[ve],m!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:En(i,l,ve,m,d,null)}return;default:if(rt(l)){for(Ie in d)d.hasOwnProperty(Ie)&&(m=d[Ie],m!==void 0&&np(i,l,Ie,m,d,void 0));return}}for(J in d)d.hasOwnProperty(J)&&(m=d[J],m!=null&&En(i,l,J,m,d,null))}function Z3(i,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,z=null,J=null,oe=null,ve=null,Ie=null;for(Ae in d){var ke=d[Ae];if(d.hasOwnProperty(Ae)&&ke!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":oe=ke;default:m.hasOwnProperty(Ae)||En(i,l,Ae,null,m,ke)}}for(var Ee in m){var Ae=m[Ee];if(ke=d[Ee],m.hasOwnProperty(Ee)&&(Ae!=null||ke!=null))switch(Ee){case"type":S=Ae;break;case"name":_=Ae;break;case"checked":ve=Ae;break;case"defaultChecked":Ie=Ae;break;case"value":z=Ae;break;case"defaultValue":J=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,l));break;default:Ae!==ke&&En(i,l,Ee,Ae,m,ke)}}Dt(i,z,J,oe,ve,Ie,S,_);return;case"select":Ae=z=J=Ee=null;for(S in d)if(oe=d[S],d.hasOwnProperty(S)&&oe!=null)switch(S){case"value":break;case"multiple":Ae=oe;default:m.hasOwnProperty(S)||En(i,l,S,null,m,oe)}for(_ in m)if(S=m[_],oe=d[_],m.hasOwnProperty(_)&&(S!=null||oe!=null))switch(_){case"value":Ee=S;break;case"defaultValue":J=S;break;case"multiple":z=S;default:S!==oe&&En(i,l,_,S,m,oe)}l=J,d=z,m=Ae,Ee!=null?re(i,!!d,Ee,!1):!!m!=!!d&&(l!=null?re(i,!!d,l,!0):re(i,!!d,d?[]:"",!1));return;case"textarea":Ae=Ee=null;for(J in d)if(_=d[J],d.hasOwnProperty(J)&&_!=null&&!m.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:En(i,l,J,null,m,_)}for(z in m)if(_=m[z],S=d[z],m.hasOwnProperty(z)&&(_!=null||S!=null))switch(z){case"value":Ee=_;break;case"defaultValue":Ae=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==S&&En(i,l,z,_,m,S)}je(i,Ee,Ae);return;case"option":for(var mt in d)if(Ee=d[mt],d.hasOwnProperty(mt)&&Ee!=null&&!m.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:En(i,l,mt,null,m,Ee)}for(oe in m)if(Ee=m[oe],Ae=d[oe],m.hasOwnProperty(oe)&&Ee!==Ae&&(Ee!=null||Ae!=null))switch(oe){case"selected":i.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:En(i,l,oe,Ee,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in d)Ee=d[ht],d.hasOwnProperty(ht)&&Ee!=null&&!m.hasOwnProperty(ht)&&En(i,l,ht,null,m,Ee);for(ve in m)if(Ee=m[ve],Ae=d[ve],m.hasOwnProperty(ve)&&Ee!==Ae&&(Ee!=null||Ae!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,l));break;default:En(i,l,ve,Ee,m,Ae)}return;default:if(rt(l)){for(var _n in d)Ee=d[_n],d.hasOwnProperty(_n)&&Ee!==void 0&&!m.hasOwnProperty(_n)&&np(i,l,_n,void 0,m,Ee);for(Ie in m)Ee=m[Ie],Ae=d[Ie],!m.hasOwnProperty(Ie)||Ee===Ae||Ee===void 0&&Ae===void 0||np(i,l,Ie,Ee,m,Ae);return}}for(var he in d)Ee=d[he],d.hasOwnProperty(he)&&Ee!=null&&!m.hasOwnProperty(he)&&En(i,l,he,null,m,Ee);for(ke in m)Ee=m[ke],Ae=d[ke],!m.hasOwnProperty(ke)||Ee===Ae||Ee==null&&Ae==null||En(i,l,ke,Ee,m,Ae)}var rp=null,ip=null;function gh(i){return i.nodeType===9?i:i.ownerDocument}function hb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gb(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function sp(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ap=null;function J3(){var i=window.event;return i&&i.type==="popstate"?i===ap?!1:(ap=i,!0):(ap=null,!1)}var pb=typeof setTimeout=="function"?setTimeout:void 0,e4=typeof clearTimeout=="function"?clearTimeout:void 0,mb=typeof Promise=="function"?Promise:void 0,t4=typeof queueMicrotask=="function"?queueMicrotask:typeof mb<"u"?function(i){return mb.resolve(null).then(i).catch(n4)}:pb;function n4(i){setTimeout(function(){throw i})}function Io(i){return i==="head"}function yb(i,l){var d=l,m=0,_=0;do{var S=d.nextSibling;if(i.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(0<m&&8>m){d=m;var z=i.ownerDocument;if(d&1&&ld(z.documentElement),d&2&&ld(z.body),d&4)for(d=z.head,ld(d),z=d.firstChild;z;){var J=z.nextSibling,oe=z.nodeName;z[vi]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&z.rel.toLowerCase()==="stylesheet"||d.removeChild(z),z=J}}if(_===0){i.removeChild(S),md(l);return}_--}else d==="$"||d==="$?"||d==="$!"?_++:m=d.charCodeAt(0)-48;else m=0;d=S}while(d);md(l)}function op(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":op(d),ss(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function r4(i,l,d,m){for(;i.nodeType===1;){var _=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[vi])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==_.rel||i.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Ds(i.nextSibling),i===null)break}return null}function i4(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Ds(i.nextSibling),i===null))return null;return i}function lp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function s4(i,l){var d=i.ownerDocument;if(i.data!=="$?"||d.readyState==="complete")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Ds(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var cp=null;function xb(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}function wb(i,l,d){switch(l=gh(d),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ld(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);ss(i)}var ws=new Map,vb=new Set;function ph(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Da=fe.d;fe.d={f:a4,r:o4,D:l4,C:c4,L:u4,m:d4,X:h4,S:f4,M:g4};function a4(){var i=Da.f(),l=ah();return i||l}function o4(i){var l=Hr(i);l!==null&&l.tag===5&&l.type==="form"?Fw(l):Da.r(i)}var kc=typeof document>"u"?null:document;function bb(i,l,d){var m=kc;if(m&&typeof l=="string"&&l){var _=An(l);_='link[rel="'+i+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),vb.has(_)||(vb.add(_),i={rel:i,crossOrigin:d,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),Kr(l,"link",i),nn(l),m.head.appendChild(l)))}}function l4(i){Da.D(i),bb("dns-prefetch",i,null)}function c4(i,l){Da.C(i,l),bb("preconnect",i,l)}function u4(i,l,d){Da.L(i,l,d);var m=kc;if(m&&i&&l){var _='link[rel="preload"][as="'+An(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+An(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+An(d.imageSizes)+'"]')):_+='[href="'+An(i)+'"]';var S=_;switch(l){case"style":S=Lc(i);break;case"script":S=Pc(i)}ws.has(S)||(i=E({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),ws.set(S,i),m.querySelector(_)!==null||l==="style"&&m.querySelector(cd(S))||l==="script"&&m.querySelector(ud(S))||(l=m.createElement("link"),Kr(l,"link",i),nn(l),m.head.appendChild(l)))}}function d4(i,l){Da.m(i,l);var d=kc;if(d&&i){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+An(m)+'"][href="'+An(i)+'"]',S=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Pc(i)}if(!ws.has(S)&&(i=E({rel:"modulepreload",href:i},l),ws.set(S,i),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ud(S)))return}m=d.createElement("link"),Kr(m,"link",i),nn(m),d.head.appendChild(m)}}}function f4(i,l,d){Da.S(i,l,d);var m=kc;if(m&&i){var _=mr(m).hoistableStyles,S=Lc(i);l=l||"default";var z=_.get(S);if(!z){var J={loading:0,preload:null};if(z=m.querySelector(cd(S)))J.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":l},d),(d=ws.get(S))&&up(i,d);var oe=z=m.createElement("link");nn(oe),Kr(oe,"link",i),oe._p=new Promise(function(ve,Ie){oe.onload=ve,oe.onerror=Ie}),oe.addEventListener("load",function(){J.loading|=1}),oe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,mh(z,l,m)}z={type:"stylesheet",instance:z,count:1,state:J},_.set(S,z)}}}function h4(i,l){Da.X(i,l);var d=kc;if(d&&i){var m=mr(d).hoistableScripts,_=Pc(i),S=m.get(_);S||(S=d.querySelector(ud(_)),S||(i=E({src:i,async:!0},l),(l=ws.get(_))&&dp(i,l),S=d.createElement("script"),nn(S),Kr(S,"link",i),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(_,S))}}function g4(i,l){Da.M(i,l);var d=kc;if(d&&i){var m=mr(d).hoistableScripts,_=Pc(i),S=m.get(_);S||(S=d.querySelector(ud(_)),S||(i=E({src:i,async:!0,type:"module"},l),(l=ws.get(_))&&dp(i,l),S=d.createElement("script"),nn(S),Kr(S,"link",i),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(_,S))}}function Eb(i,l,d,m){var _=(_=Ce.current)?ph(_):null;if(!_)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Lc(d.href),d=mr(_).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Lc(d.href);var S=mr(_).hoistableStyles,z=S.get(i);if(z||(_=_.ownerDocument||_,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,z),(S=_.querySelector(cd(i)))&&!S._p&&(z.instance=S,z.state.loading=5),ws.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ws.set(i,d),S||p4(_,i,d,z.state))),l&&m===null)throw Error(r(528,""));return z}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Pc(d),d=mr(_).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Lc(i){return'href="'+An(i)+'"'}function cd(i){return'link[rel="stylesheet"]['+i+"]"}function _b(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function p4(i,l,d,m){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=i.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Kr(l,"link",d),nn(l),i.head.appendChild(l))}function Pc(i){return'[src="'+An(i)+'"]'}function ud(i){return"script[async]"+i}function Tb(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=i.querySelector('style[data-href~="'+An(d.href)+'"]');if(m)return l.instance=m,nn(m),m;var _=E({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),nn(m),Kr(m,"style",_),mh(m,d.precedence,i),l.instance=m;case"stylesheet":_=Lc(d.href);var S=i.querySelector(cd(_));if(S)return l.state.loading|=4,l.instance=S,nn(S),S;m=_b(d),(_=ws.get(_))&&up(m,_),S=(i.ownerDocument||i).createElement("link"),nn(S);var z=S;return z._p=new Promise(function(J,oe){z.onload=J,z.onerror=oe}),Kr(S,"link",m),l.state.loading|=4,mh(S,d.precedence,i),l.instance=S;case"script":return S=Pc(d.src),(_=i.querySelector(ud(S)))?(l.instance=_,nn(_),_):(m=d,(_=ws.get(S))&&(m=E({},d),dp(m,_)),i=i.ownerDocument||i,_=i.createElement("script"),nn(_),Kr(_,"link",m),i.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,mh(m,d.precedence,i));return l.instance}function mh(i,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,S=_,z=0;z<m.length;z++){var J=m[z];if(J.dataset.precedence===l)S=J;else if(S!==_)break}S?S.parentNode.insertBefore(i,S.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function up(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function dp(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var yh=null;function Ab(i,l,d){if(yh===null){var m=new Map,_=yh=new Map;_.set(d,m)}else _=yh,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(i))return m;for(m.set(i,null),d=d.getElementsByTagName(i),_=0;_<d.length;_++){var S=d[_];if(!(S[vi]||S[lr]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var z=S.getAttribute(l)||"";z=i+z;var J=m.get(z);J?J.push(S):m.set(z,[S])}}return m}function Sb(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function m4(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Cb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var dd=null;function y4(){}function x4(i,l,d){if(dd===null)throw Error(r(475));var m=dd;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=Lc(d.href),S=i.querySelector(cd(_));if(S){i=S._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(m.count++,m=xh.bind(m),i.then(m,m)),l.state.loading|=4,l.instance=S,nn(S);return}S=i.ownerDocument||i,d=_b(d),(_=ws.get(_))&&up(d,_),S=S.createElement("link"),nn(S);var z=S;z._p=new Promise(function(J,oe){z.onload=J,z.onerror=oe}),Kr(S,"link",d),l.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=xh.bind(m),i.addEventListener("load",l),i.addEventListener("error",l))}}function w4(){if(dd===null)throw Error(r(475));var i=dd;return i.stylesheets&&i.count===0&&fp(i,i.stylesheets),0<i.count?function(l){var d=setTimeout(function(){if(i.stylesheets&&fp(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d)}}:null}function xh(){if(this.count--,this.count===0){if(this.stylesheets)fp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wh=null;function fp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wh=new Map,l.forEach(v4,i),wh=null,xh.call(i))}function v4(i,l){if(!(l.state.loading&4)){var d=wh.get(i);if(d)var m=d.get(null);else{d=new Map,wh.set(i,d);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var z=_[S];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(d.set(z.dataset.precedence,z),m=z)}m&&d.set(null,m)}_=l.instance,z=_.getAttribute("data-precedence"),S=d.get(z)||m,S===m&&d.set(null,_),d.set(z,_),this.count++,m=xh.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),S?S.parentNode.insertBefore(_,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),l.state.loading|=4}}var fd={$$typeof:L,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function b4(i,l,d,m,_,S,z,J){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.hiddenUpdates=Ct(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function Ib(i,l,d,m,_,S,z,J,oe,ve,Ie,ke){return i=new b4(i,l,d,z,J,oe,ve,ke),l=1,S===!0&&(l|=24),S=Gi(3,null,null,l),i.current=S,S.stateNode=i,l=Wg(),l.refCount++,i.pooledCache=l,l.refCount++,S.memoizedState={element:m,isDehydrated:d,cache:l},$g(S),i}function Rb(i){return i?(i=hc,i):hc}function Nb(i,l,d,m,_,S){_=Rb(_),m.context===null?m.context=_:m.pendingContext=_,m=po(l),m.payload={element:d},S=S===void 0?null:S,S!==null&&(m.callback=S),d=mo(i,m,l),d!==null&&(Ki(d,i,l),ju(d,i,l))}function Mb(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function hp(i,l){Mb(i,l),(i=i.alternate)&&Mb(i,l)}function Db(i){if(i.tag===13){var l=fc(i,67108864);l!==null&&Ki(l,i,67108864),hp(i,67108864)}}var vh=!0;function E4(i,l,d,m){var _=ae.T;ae.T=null;var S=fe.p;try{fe.p=2,gp(i,l,d,m)}finally{fe.p=S,ae.T=_}}function _4(i,l,d,m){var _=ae.T;ae.T=null;var S=fe.p;try{fe.p=8,gp(i,l,d,m)}finally{fe.p=S,ae.T=_}}function gp(i,l,d,m){if(vh){var _=pp(m);if(_===null)tp(i,l,m,bh,d),kb(i,m);else if(A4(_,i,l,d,m))m.stopPropagation();else if(kb(i,m),l&4&&-1<T4.indexOf(i)){for(;_!==null;){var S=Hr(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var z=ln(S.pendingLanes);if(z!==0){var J=S;for(J.pendingLanes|=2,J.entangledLanes|=2;z;){var oe=1<<31-tn(z);J.entanglements[1]|=oe,z&=~oe}$s(S),(mn&6)===0&&(ih=wt()+500,sd(0))}}break;case 13:J=fc(S,2),J!==null&&Ki(J,S,2),ah(),hp(S,2)}if(S=pp(m),S===null&&tp(i,l,m,bh,d),S===_)break;_=S}_!==null&&m.stopPropagation()}else tp(i,l,m,null,d)}}function pp(i){return i=Gr(i),mp(i)}var bh=null;function mp(i){if(bh=null,i=zn(i),i!==null){var l=o(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=f(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return bh=i,null}function Ob(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pt()){case _t:return 2;case Mr:return 8;case qe:case Ts:return 32;case ua:return 268435456;default:return 32}default:return 32}}var yp=!1,Ro=null,No=null,Mo=null,hd=new Map,gd=new Map,Do=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kb(i,l){switch(i){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":hd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(l.pointerId)}}function pd(i,l,d,m,_,S){return i===null||i.nativeEvent!==S?(i={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[_]},l!==null&&(l=Hr(l),l!==null&&Db(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),i)}function A4(i,l,d,m,_){switch(l){case"focusin":return Ro=pd(Ro,i,l,d,m,_),!0;case"dragenter":return No=pd(No,i,l,d,m,_),!0;case"mouseover":return Mo=pd(Mo,i,l,d,m,_),!0;case"pointerover":var S=_.pointerId;return hd.set(S,pd(hd.get(S)||null,i,l,d,m,_)),!0;case"gotpointercapture":return S=_.pointerId,gd.set(S,pd(gd.get(S)||null,i,l,d,m,_)),!0}return!1}function Lb(i){var l=zn(i.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=f(d),l!==null){i.blockedOn=l,ha(i.priority,function(){if(d.tag===13){var m=Xi();m=is(m);var _=fc(d,m);_!==null&&Ki(_,d,m),hp(d,m)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Eh(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=pp(i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);Pi=m,d.target.dispatchEvent(m),Pi=null}else return l=Hr(d),l!==null&&Db(l),i.blockedOn=d,!1;l.shift()}return!0}function Pb(i,l,d){Eh(i)&&d.delete(l)}function S4(){yp=!1,Ro!==null&&Eh(Ro)&&(Ro=null),No!==null&&Eh(No)&&(No=null),Mo!==null&&Eh(Mo)&&(Mo=null),hd.forEach(Pb),gd.forEach(Pb)}function _h(i,l){i.blockedOn===l&&(i.blockedOn=null,yp||(yp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,S4)))}var Th=null;function Bb(i){Th!==i&&(Th=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Th===i&&(Th=null);for(var l=0;l<i.length;l+=3){var d=i[l],m=i[l+1],_=i[l+2];if(typeof m!="function"){if(mp(m||d)===null)continue;break}var S=Hr(d);S!==null&&(i.splice(l,3),l-=3,m1(S,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function md(i){function l(oe){return _h(oe,i)}Ro!==null&&_h(Ro,i),No!==null&&_h(No,i),Mo!==null&&_h(Mo,i),hd.forEach(l),gd.forEach(l);for(var d=0;d<Do.length;d++){var m=Do[d];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Do.length&&(d=Do[0],d.blockedOn===null);)Lb(d),d.blockedOn===null&&Do.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],S=d[m+1],z=_[vn]||null;if(typeof S=="function")z||Bb(d);else if(z){var J=null;if(S&&S.hasAttribute("formAction")){if(_=S,z=S[vn]||null)J=z.formAction;else if(mp(_)!==null)continue}else J=z.action;typeof J=="function"?d[m+1]=J:(d.splice(m,3),m-=3),Bb(d)}}}function xp(i){this._internalRoot=i}Ah.prototype.render=xp.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=Xi();Nb(d,m,i,l,null,null)},Ah.prototype.unmount=xp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Nb(i.current,2,null,i,null,null),ah(),l[Jr]=null}};function Ah(i){this._internalRoot=i}Ah.prototype.unstable_scheduleHydration=function(i){if(i){var l=hi();i={blockedOn:null,target:i,priority:l};for(var d=0;d<Do.length&&l!==0&&l<Do[d].priority;d++);Do.splice(d,0,i),d===0&&Lb(i)}};var Vb=e.version;if(Vb!=="19.1.0")throw Error(r(527,Vb,"19.1.0"));fe.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=y(l),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var C4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Kt=Sh.inject(C4),en=Sh}catch{}}return xd.createRoot=function(i,l){if(!s(i))throw Error(r(299));var d=!1,m="",_=ev,S=tv,z=nv,J=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks)),l=Ib(i,1,!1,null,null,d,m,_,S,z,J,null),i[Jr]=l.current,ep(i),new xp(l)},xd.hydrateRoot=function(i,l,d){if(!s(i))throw Error(r(299));var m=!1,_="",S=ev,z=tv,J=nv,oe=null,ve=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(z=d.onCaughtError),d.onRecoverableError!==void 0&&(J=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(oe=d.unstable_transitionCallbacks),d.formState!==void 0&&(ve=d.formState)),l=Ib(i,1,!0,l,d??null,m,_,S,z,J,oe,ve),l.context=Rb(null),d=l.current,m=Xi(),m=is(m),_=po(m),_.callback=null,mo(d,_,m),d=m,l.current.lanes=d,zr(l,d),$s(l),i[Jr]=l.current,ep(i),new Ah(l)},xd.version="19.1.0",xd}var Xb;function B4(){if(Xb)return bp.exports;Xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bp.exports=P4(),bp.exports}var V4=B4(),wd={},Kb;function U4(){if(Kb)return wd;Kb=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.parse=f,wd.serialize=x;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,R){const M=new o,k=I.length;if(k<2)return M;const G=(R==null?void 0:R.decode)||E;let F=0;do{const K=I.indexOf("=",F);if(K===-1)break;const L=I.indexOf(";",F),$=L===-1?k:L;if(K>$){F=I.lastIndexOf(";",K-1)+1;continue}const te=p(I,F,K),ie=y(I,K,te),V=I.slice(te,ie);if(M[V]===void 0){let P=p(I,K+1,$),O=y(I,$,P);const W=G(I.slice(P,O));M[V]=W}F=$+1}while(F<k);return M}function p(I,R,M){do{const k=I.charCodeAt(R);if(k!==32&&k!==9)return R}while(++R<M);return M}function y(I,R,M){for(;R>M;){const k=I.charCodeAt(--R);if(k!==32&&k!==9)return R+1}return M}function x(I,R,M){const k=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const G=k(R);if(!e.test(G))throw new TypeError(`argument val is invalid: ${R}`);let F=I+"="+G;if(!M)return F;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);F+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);F+="; Domain="+M.domain}if(M.path){if(!r.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);F+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);F+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(F+="; HttpOnly"),M.secure&&(F+="; Secure"),M.partitioned&&(F+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return F}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function A(I){return s.call(I)==="[object Date]"}return wd}U4();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qb="popstate";function F4(n={}){function e(s,o){let{pathname:f="/",search:p="",hash:y=""}=Xl(s.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Rm("",{pathname:f,search:p,hash:y},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let f=s.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let y=s.location.href,x=y.indexOf("#");p=x===-1?y:y.slice(0,x)}return p+"#"+(typeof o=="string"?o:Gd(o))}function r(s,o){Es(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return j4(e,t,r,n)}function Kn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Es(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z4(){return Math.random().toString(36).substring(2,10)}function $b(n,e){return{usr:n.state,key:n.key,idx:e}}function Rm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xl(e):e,state:t,key:e&&e.key||r||z4()}}function Gd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function j4(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,f=s.history,p="POP",y=null,x=E();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function E(){return(f.state||{idx:null}).idx}function A(){p="POP";let G=E(),F=G==null?null:G-x;x=G,y&&y({action:p,location:k.location,delta:F})}function I(G,F){p="PUSH";let K=Rm(k.location,G,F);t&&t(K,G),x=E()+1;let L=$b(K,x),$=k.createHref(K);try{f.pushState(L,"",$)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign($)}o&&y&&y({action:p,location:k.location,delta:1})}function R(G,F){p="REPLACE";let K=Rm(k.location,G,F);t&&t(K,G),x=E();let L=$b(K,x),$=k.createHref(K);f.replaceState(L,"",$),o&&y&&y({action:p,location:k.location,delta:0})}function M(G){let F=s.location.origin!=="null"?s.location.origin:s.location.href,K=typeof G=="string"?G:Gd(G);return K=K.replace(/ $/,"%20"),Kn(F,`No window.location.(origin|href) available to create URL for href: ${K}`),new URL(K,F)}let k={get action(){return p},get location(){return n(s,f)},listen(G){if(y)throw new Error("A history only accepts one active listener");return s.addEventListener(Qb,A),y=G,()=>{s.removeEventListener(Qb,A),y=null}},createHref(G){return e(s,G)},createURL:M,encodeLocation(G){let F=M(G);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:I,replace:R,go(G){return f.go(G)}};return k}function bT(n,e,t="/"){return H4(n,e,t,!1)}function H4(n,e,t,r){let s=typeof e=="string"?Xl(e):e,o=Ga(s.pathname||"/",t);if(o==null)return null;let f=ET(n);G4(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let x=tR(o);p=J4(f[y],x,r)}return p}function ET(n,e=[],t=[],r=""){let s=(o,f,p)=>{let y={relativePath:p===void 0?o.path||"":p,caseSensitive:o.caseSensitive===!0,childrenIndex:f,route:o};y.relativePath.startsWith("/")&&(Kn(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length));let x=Fa([r,y.relativePath]),E=t.concat(y);o.children&&o.children.length>0&&(Kn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),ET(o.children,e,E,x)),!(o.path==null&&!o.index)&&e.push({path:x,score:$4(x,o.index),routesMeta:E})};return n.forEach((o,f)=>{var p;if(o.path===""||!((p=o.path)!=null&&p.includes("?")))s(o,f);else for(let y of _T(o.path))s(o,f,y)}),e}function _T(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let f=_T(r.join("/")),p=[];return p.push(...f.map(y=>y===""?o:[o,y].join("/"))),s&&p.push(...f),p.map(y=>n.startsWith("/")&&y===""?"/":y)}function G4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Z4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var q4=/^:[\w-]+$/,Y4=3,W4=2,X4=1,K4=10,Q4=-2,Zb=n=>n==="*";function $4(n,e){let t=n.split("/"),r=t.length;return t.some(Zb)&&(r+=Q4),e&&(r+=W4),t.filter(s=>!Zb(s)).reduce((s,o)=>s+(q4.test(o)?Y4:o===""?X4:K4),r)}function Z4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function J4(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",f=[];for(let p=0;p<r.length;++p){let y=r[p],x=p===r.length-1,E=o==="/"?e:e.slice(o.length)||"/",A=l0({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},E),I=y.route;if(!A&&x&&t&&!r[r.length-1].route.index&&(A=l0({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(s,A.params),f.push({params:s,pathname:Fa([o,A.pathname]),pathnameBase:sR(Fa([o,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(o=Fa([o,A.pathnameBase]))}return f}function l0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=eR(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],f=o.replace(/(.)\/+$/,"$1"),p=s.slice(1);return{params:r.reduce((x,{paramName:E,isOptional:A},I)=>{if(E==="*"){let M=p[I]||"";f=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const R=p[I];return A&&!R?x[E]=void 0:x[E]=(R||"").replace(/%2F/g,"/"),x},{}),pathname:o,pathnameBase:f,pattern:n}}function eR(n,e=!1,t=!0){Es(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(r.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function tR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Es(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ga(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function nR(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Xl(n):n;return{pathname:t?t.startsWith("/")?t:rR(t,e):e,search:aR(r),hash:oR(s)}}function rR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ap(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cy(n){let e=iR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Iy(n,e,t,r=!1){let s;typeof n=="string"?s=Xl(n):(s={...n},Kn(!s.pathname||!s.pathname.includes("?"),Ap("?","pathname","search",s)),Kn(!s.pathname||!s.pathname.includes("#"),Ap("#","pathname","hash",s)),Kn(!s.search||!s.search.includes("#"),Ap("#","search","hash",s)));let o=n===""||s.pathname==="",f=o?"/":s.pathname,p;if(f==null)p=t;else{let A=e.length-1;if(!r&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),A-=1;s.pathname=I.join("/")}p=A>=0?e[A]:"/"}let y=nR(s,p),x=f&&f!=="/"&&f.endsWith("/"),E=(o||f===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(x||E)&&(y.pathname+="/"),y}var Fa=n=>n.join("/").replace(/\/\/+/g,"/"),sR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),aR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,oR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var TT=["POST","PUT","PATCH","DELETE"];new Set(TT);var cR=["GET",...TT];new Set(cR);var yu=Z.createContext(null);yu.displayName="DataRouter";var H0=Z.createContext(null);H0.displayName="DataRouterState";var AT=Z.createContext({isTransitioning:!1});AT.displayName="ViewTransition";var uR=Z.createContext(new Map);uR.displayName="Fetchers";var dR=Z.createContext(null);dR.displayName="Await";var Us=Z.createContext(null);Us.displayName="Navigation";var lf=Z.createContext(null);lf.displayName="Location";var ca=Z.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var Ry=Z.createContext(null);Ry.displayName="RouteError";function fR(n,{relative:e}={}){Kn(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Z.useContext(Us),{hash:s,pathname:o,search:f}=cf(n,{relative:e}),p=o;return t!=="/"&&(p=o==="/"?t:Fa([t,o])),r.createHref({pathname:p,search:f,hash:s})}function xu(){return Z.useContext(lf)!=null}function sl(){return Kn(xu(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(lf).location}var ST="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CT(n){Z.useContext(Us).static||Z.useLayoutEffect(n)}function Ny(){let{isDataRoute:n}=Z.useContext(ca);return n?AR():hR()}function hR(){Kn(xu(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(yu),{basename:e,navigator:t}=Z.useContext(Us),{matches:r}=Z.useContext(ca),{pathname:s}=sl(),o=JSON.stringify(Cy(r)),f=Z.useRef(!1);return CT(()=>{f.current=!0}),Z.useCallback((y,x={})=>{if(Es(f.current,ST),!f.current)return;if(typeof y=="number"){t.go(y);return}let E=Iy(y,JSON.parse(o),s,x.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Fa([e,E.pathname])),(x.replace?t.replace:t.push)(E,x.state,x)},[e,t,o,s,n])}Z.createContext(null);function cf(n,{relative:e}={}){let{matches:t}=Z.useContext(ca),{pathname:r}=sl(),s=JSON.stringify(Cy(t));return Z.useMemo(()=>Iy(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function gR(n,e){return IT(n,e)}function IT(n,e,t,r){var K;Kn(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=Z.useContext(Us),{matches:f}=Z.useContext(ca),p=f[f.length-1],y=p?p.params:{},x=p?p.pathname:"/",E=p?p.pathnameBase:"/",A=p&&p.route;{let L=A&&A.path||"";RT(x,!A||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let I=sl(),R;if(e){let L=typeof e=="string"?Xl(e):e;Kn(E==="/"||((K=L.pathname)==null?void 0:K.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${L.pathname}" was given in the \`location\` prop.`),R=L}else R=I;let M=R.pathname||"/",k=M;if(E!=="/"){let L=E.replace(/^\//,"").split("/");k="/"+M.replace(/^\//,"").split("/").slice(L.length).join("/")}let G=!o&&t&&t.matches&&t.matches.length>0?t.matches:bT(n,{pathname:k});Es(A||G!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Es(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=wR(G&&G.map(L=>Object.assign({},L,{params:Object.assign({},y,L.params),pathname:Fa([E,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?E:Fa([E,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),f,t,r);return e&&F?Z.createElement(lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},F):F}function pR(){let n=TR(),e=lR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:o},"ErrorBoundary")," or"," ",Z.createElement("code",{style:o},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:s},t):null,f)}var mR=Z.createElement(pR,null),yR=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Z.createElement(ca.Provider,{value:this.props.routeContext},Z.createElement(Ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xR({routeContext:n,match:e,children:t}){let r=Z.useContext(yu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(ca.Provider,{value:n},t)}function wR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let y=s.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);Kn(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,y+1))}let f=!1,p=-1;if(t)for(let y=0;y<s.length;y++){let x=s[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=y),x.route.id){let{loaderData:E,errors:A}=t,I=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!A||A[x.route.id]===void 0);if(x.route.lazy||I){f=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}return s.reduceRight((y,x,E)=>{let A,I=!1,R=null,M=null;t&&(A=o&&x.route.id?o[x.route.id]:void 0,R=x.route.errorElement||mR,f&&(p<0&&E===0?(RT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,M=null):p===E&&(I=!0,M=x.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,E+1)),G=()=>{let F;return A?F=R:I?F=M:x.route.Component?F=Z.createElement(x.route.Component,null):x.route.element?F=x.route.element:F=y,Z.createElement(xR,{match:x,routeContext:{outlet:y,matches:k,isDataRoute:t!=null},children:F})};return t&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?Z.createElement(yR,{location:t.location,revalidation:t.revalidation,component:R,error:A,children:G(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):G()},null)}function My(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vR(n){let e=Z.useContext(yu);return Kn(e,My(n)),e}function bR(n){let e=Z.useContext(H0);return Kn(e,My(n)),e}function ER(n){let e=Z.useContext(ca);return Kn(e,My(n)),e}function Dy(n){let e=ER(n),t=e.matches[e.matches.length-1];return Kn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function _R(){return Dy("useRouteId")}function TR(){var r;let n=Z.useContext(Ry),e=bR("useRouteError"),t=Dy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function AR(){let{router:n}=vR("useNavigate"),e=Dy("useNavigate"),t=Z.useRef(!1);return CT(()=>{t.current=!0}),Z.useCallback(async(s,o={})=>{Es(t.current,ST),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Jb={};function RT(n,e,t){!e&&!Jb[n]&&(Jb[n]=!0,Es(!1,t))}Z.memo(SR);function SR({routes:n,future:e,state:t}){return IT(n,void 0,t,e)}function CR({to:n,replace:e,state:t,relative:r}){Kn(xu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=Z.useContext(Us);Es(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Z.useContext(ca),{pathname:f}=sl(),p=Ny(),y=Iy(n,Cy(o),f,r==="path"),x=JSON.stringify(y);return Z.useEffect(()=>{p(JSON.parse(x),{replace:e,state:t,relative:r})},[p,x,r,e,t]),null}function Td(n){Kn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Kn(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),p=Z.useMemo(()=>({basename:f,navigator:s,static:o,future:{}}),[f,s,o]);typeof t=="string"&&(t=Xl(t));let{pathname:y="/",search:x="",hash:E="",state:A=null,key:I="default"}=t,R=Z.useMemo(()=>{let M=Ga(y,f);return M==null?null:{location:{pathname:M,search:x,hash:E,state:A,key:I},navigationType:r}},[f,y,x,E,A,I,r]);return Es(R!=null,`<Router basename="${f}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:Z.createElement(Us.Provider,{value:p},Z.createElement(lf.Provider,{children:e,value:R}))}function RR({children:n,location:e}){return gR(Nm(n),e)}function Nm(n,e=[]){let t=[];return Z.Children.forEach(n,(r,s)=>{if(!Z.isValidElement(r))return;let o=[...e,s];if(r.type===Z.Fragment){t.push.apply(t,Nm(r.props.children,o));return}Kn(r.type===Td,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Nm(r.props.children,o)),t.push(f)}),t}var Wh="get",Xh="application/x-www-form-urlencoded";function G0(n){return n!=null&&typeof n.tagName=="string"}function NR(n){return G0(n)&&n.tagName.toLowerCase()==="button"}function MR(n){return G0(n)&&n.tagName.toLowerCase()==="form"}function DR(n){return G0(n)&&n.tagName.toLowerCase()==="input"}function OR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kR(n,e){return n.button===0&&(!e||e==="_self")&&!OR(n)}var Ih=null;function LR(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var PR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(n){return n!=null&&!PR.has(n)?(Es(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):n}function BR(n,e){let t,r,s,o,f;if(MR(n)){let p=n.getAttribute("action");r=p?Ga(p,e):null,t=n.getAttribute("method")||Wh,s=Sp(n.getAttribute("enctype"))||Xh,o=new FormData(n)}else if(NR(n)||DR(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||p.getAttribute("action");if(r=y?Ga(y,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Wh,s=Sp(n.getAttribute("formenctype"))||Sp(p.getAttribute("enctype"))||Xh,o=new FormData(p,n),!LR()){let{name:x,type:E,value:A}=n;if(E==="image"){let I=x?`${x}.`:"";o.append(`${I}x`,"0"),o.append(`${I}y`,"0")}else x&&o.append(x,A)}}else{if(G0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wh,r=null,s=Xh,f=n}return o&&s==="text/plain"&&(f=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:f}}function Oy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function VR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FR(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let f=await VR(o,t);return f.links?f.links():[]}return[]}));return GR(r.flat(1).filter(UR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function e2(n,e,t,r,s,o){let f=(y,x)=>t[x]?y.route.id!==t[x].route.id:!0,p=(y,x)=>{var E;return t[x].pathname!==y.pathname||((E=t[x].route.path)==null?void 0:E.endsWith("*"))&&t[x].params["*"]!==y.params["*"]};return o==="assets"?e.filter((y,x)=>f(y,x)||p(y,x)):o==="data"?e.filter((y,x)=>{var A;let E=r.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,x)||p(y,x))return!0;if(y.route.shouldRevalidate){let I=y.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function zR(n,e,{includeHydrateFallback:t}={}){return jR(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function jR(n){return[...new Set(n)]}function HR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function GR(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(HR(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}var qR=new Set([100,101,204,205]);function YR(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ga(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function NT(){let n=Z.useContext(yu);return Oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function WR(){let n=Z.useContext(H0);return Oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ky=Z.createContext(void 0);ky.displayName="FrameworkContext";function MT(){let n=Z.useContext(ky);return Oy(n,"You must render this element inside a <HydratedRouter> element"),n}function XR(n,e){let t=Z.useContext(ky),[r,s]=Z.useState(!1),[o,f]=Z.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:x,onMouseLeave:E,onTouchStart:A}=e,I=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let k=F=>{F.forEach(K=>{f(K.isIntersecting)})},G=new IntersectionObserver(k,{threshold:.5});return I.current&&G.observe(I.current),()=>{G.disconnect()}}},[n]),Z.useEffect(()=>{if(r){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[r]);let R=()=>{s(!0)},M=()=>{s(!1),f(!1)};return t?n!=="intent"?[o,I,{}]:[o,I,{onFocus:vd(p,R),onBlur:vd(y,M),onMouseEnter:vd(x,R),onMouseLeave:vd(E,M),onTouchStart:vd(A,R)}]:[!1,I,{}]}function vd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KR({page:n,...e}){let{router:t}=NT(),r=Z.useMemo(()=>bT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Z.createElement($R,{page:n,matches:r,...e}):null}function QR(n){let{manifest:e,routeModules:t}=MT(),[r,s]=Z.useState([]);return Z.useEffect(()=>{let o=!1;return FR(n,e,t).then(f=>{o||s(f)}),()=>{o=!0}},[n,e,t]),r}function $R({page:n,matches:e,...t}){let r=sl(),{manifest:s,routeModules:o}=MT(),{basename:f}=NT(),{loaderData:p,matches:y}=WR(),x=Z.useMemo(()=>e2(n,e,y,s,r,"data"),[n,e,y,s,r]),E=Z.useMemo(()=>e2(n,e,y,s,r,"assets"),[n,e,y,s,r]),A=Z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,k=!1;if(e.forEach(F=>{var L;let K=s.routes[F.route.id];!K||!K.hasLoader||(!x.some($=>$.route.id===F.route.id)&&F.route.id in p&&((L=o[F.route.id])!=null&&L.shouldRevalidate)||K.hasClientLoader?k=!0:M.add(F.route.id))}),M.size===0)return[];let G=YR(n,f);return k&&M.size>0&&G.searchParams.set("_routes",e.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[G.pathname+G.search]},[f,p,r,s,x,e,n,o]),I=Z.useMemo(()=>zR(E,s),[E,s]),R=QR(E);return Z.createElement(Z.Fragment,null,A.map(M=>Z.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),I.map(M=>Z.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),R.map(({key:M,link:k})=>Z.createElement("link",{key:M,...k})))}function ZR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DT&&(window.__reactRouterVersion="7.5.1")}catch{}function JR({basename:n,children:e,window:t}){let r=Z.useRef();r.current==null&&(r.current=F4({window:t,v5Compat:!0}));let s=r.current,[o,f]=Z.useState({action:s.action,location:s.location}),p=Z.useCallback(y=>{Z.startTransition(()=>f(y))},[f]);return Z.useLayoutEffect(()=>s.listen(p),[s,p]),Z.createElement(IR,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mi=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:f,state:p,target:y,to:x,preventScrollReset:E,viewTransition:A,...I},R){let{basename:M}=Z.useContext(Us),k=typeof x=="string"&&OT.test(x),G,F=!1;if(typeof x=="string"&&k&&(G=x,DT))try{let O=new URL(window.location.href),W=x.startsWith("//")?new URL(O.protocol+x):new URL(x),X=Ga(W.pathname,M);W.origin===O.origin&&X!=null?x=X+W.search+W.hash:F=!0}catch{Es(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=fR(x,{relative:s}),[L,$,te]=XR(r,I),ie=rN(x,{replace:f,state:p,target:y,preventScrollReset:E,relative:s,viewTransition:A});function V(O){e&&e(O),O.defaultPrevented||ie(O)}let P=Z.createElement("a",{...I,...te,href:G||K,onClick:F||o?e:V,ref:ZR(R,$),target:y,"data-discover":!k&&t==="render"?"true":void 0});return L&&!k?Z.createElement(Z.Fragment,null,P,Z.createElement(KR,{page:K})):P});Mi.displayName="Link";var eN=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:f,viewTransition:p,children:y,...x},E){let A=cf(f,{relative:x.relative}),I=sl(),R=Z.useContext(H0),{navigator:M,basename:k}=Z.useContext(Us),G=R!=null&&lN(A)&&p===!0,F=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,K=I.pathname,L=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(K=K.toLowerCase(),L=L?L.toLowerCase():null,F=F.toLowerCase()),L&&k&&(L=Ga(L,k)||L);const $=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let te=K===F||!s&&K.startsWith(F)&&K.charAt($)==="/",ie=L!=null&&(L===F||!s&&L.startsWith(F)&&L.charAt(F.length)==="/"),V={isActive:te,isPending:ie,isTransitioning:G},P=te?e:void 0,O;typeof r=="function"?O=r(V):O=[r,te?"active":null,ie?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let W=typeof o=="function"?o(V):o;return Z.createElement(Mi,{...x,"aria-current":P,className:O,ref:E,style:W,to:f,viewTransition:p},typeof y=="function"?y(V):y)});eN.displayName="NavLink";var tN=Z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:f=Wh,action:p,onSubmit:y,relative:x,preventScrollReset:E,viewTransition:A,...I},R)=>{let M=aN(),k=oN(p,{relative:x}),G=f.toLowerCase()==="get"?"get":"post",F=typeof p=="string"&&OT.test(p),K=L=>{if(y&&y(L),L.defaultPrevented)return;L.preventDefault();let $=L.nativeEvent.submitter,te=($==null?void 0:$.getAttribute("formmethod"))||f;M($||L.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:s,state:o,relative:x,preventScrollReset:E,viewTransition:A})};return Z.createElement("form",{ref:R,method:G,action:k,onSubmit:r?y:K,...I,"data-discover":!F&&n==="render"?"true":void 0})});tN.displayName="Form";function nN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kT(n){let e=Z.useContext(yu);return Kn(e,nN(n)),e}function rN(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:f}={}){let p=Ny(),y=sl(),x=cf(n,{relative:o});return Z.useCallback(E=>{if(kR(E,e)){E.preventDefault();let A=t!==void 0?t:Gd(y)===Gd(x);p(n,{replace:A,state:r,preventScrollReset:s,relative:o,viewTransition:f})}},[y,p,x,t,r,e,n,s,o,f])}var iN=0,sN=()=>`__${String(++iN)}__`;function aN(){let{router:n}=kT("useSubmit"),{basename:e}=Z.useContext(Us),t=_R();return Z.useCallback(async(r,s={})=>{let{action:o,method:f,encType:p,formData:y,body:x}=BR(r,e);if(s.navigate===!1){let E=s.fetcherKey||sN();await n.fetch(E,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:y,body:x,formMethod:s.method||f,formEncType:s.encType||p,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:y,body:x,formMethod:s.method||f,formEncType:s.encType||p,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function oN(n,{relative:e}={}){let{basename:t}=Z.useContext(Us),r=Z.useContext(ca);Kn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...cf(n||".",{relative:e})},f=sl();if(n==null){o.search=f.search;let p=new URLSearchParams(o.search),y=p.getAll("index");if(y.some(E=>E==="")){p.delete("index"),y.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();o.search=E?`?${E}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Fa([t,o.pathname])),Gd(o)}function lN(n,e={}){let t=Z.useContext(AT);Kn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kT("useViewTransitionState"),s=cf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,f=Ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return l0(s.pathname,f)!=null||l0(s.pathname,o)!=null}new TextEncoder;[...qR];var LT=vT();function PT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=PT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ul(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=PT(n))&&(r&&(r+=" "),r+=e);return r}function cN(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}cN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var uf=n=>typeof n=="number"&&!isNaN(n),Fl=n=>typeof n=="string",qa=n=>typeof n=="function",uN=n=>Fl(n)||uf(n),Mm=n=>Fl(n)||qa(n)?n:null,dN=(n,e)=>n===!1||uf(n)&&n>0?n:e,Dm=n=>Z.isValidElement(n)||Fl(n)||qa(n)||uf(n);function fN(n,e,t=300){let{scrollHeight:r,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function hN({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:o,position:f,preventExitTransition:p,done:y,nodeRef:x,isIn:E,playToast:A}){let I=t?`${n}--${f}`:n,R=t?`${e}--${f}`:e,M=Z.useRef(0);return Z.useLayoutEffect(()=>{let k=x.current,G=I.split(" "),F=K=>{K.target===x.current&&(A(),k.removeEventListener("animationend",F),k.removeEventListener("animationcancel",F),M.current===0&&K.type!=="animationcancel"&&k.classList.remove(...G))};k.classList.add(...G),k.addEventListener("animationend",F),k.addEventListener("animationcancel",F)},[]),Z.useEffect(()=>{let k=x.current,G=()=>{k.removeEventListener("animationend",G),r?fN(k,y,s):y()};E||(p?G():(M.current=1,k.className+=` ${R}`,k.addEventListener("animationend",G)))},[E]),dt.createElement(dt.Fragment,null,o)}}function t2(n,e){return{content:BT(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function BT(n,e,t=!1){return Z.isValidElement(n)&&!Fl(n.type)?Z.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):qa(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function gN({closeToast:n,theme:e,ariaLabel:t="close"}){return dt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},dt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},dt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function pN({delay:n,isRunning:e,closeToast:t,type:r="default",hide:s,className:o,controlledProgress:f,progress:p,rtl:y,isIn:x,theme:E}){let A=s||f&&p===0,I={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};f&&(I.transform=`scaleX(${p})`);let R=Ul("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":y}),M=qa(o)?o({rtl:y,type:r,defaultClassName:R}):Ul(R,o),k={[f&&p>=1?"onTransitionEnd":"onAnimationEnd"]:f&&p<1?null:()=>{x&&t()}};return dt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},dt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${r}`}),dt.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:M,style:I,...k}))}var mN=1,VT=()=>`${mN++}`;function yN(n,e,t){let r=1,s=0,o=[],f=[],p=e,y=new Map,x=new Set,E=K=>(x.add(K),()=>x.delete(K)),A=()=>{f=Array.from(y.values()),x.forEach(K=>K())},I=({containerId:K,toastId:L,updateId:$})=>{let te=K?K!==n:n!==1,ie=y.has(L)&&$==null;return te||ie},R=(K,L)=>{y.forEach($=>{var te;(L==null||L===$.props.toastId)&&((te=$.toggle)==null||te.call($,K))})},M=K=>{var L,$;($=(L=K.props)==null?void 0:L.onClose)==null||$.call(L,K.removalReason),K.isActive=!1},k=K=>{if(K==null)y.forEach(M);else{let L=y.get(K);L&&M(L)}A()},G=()=>{s-=o.length,o=[]},F=K=>{var L,$;let{toastId:te,updateId:ie}=K.props,V=ie==null;K.staleId&&y.delete(K.staleId),K.isActive=!0,y.set(te,K),A(),t(t2(K,V?"added":"updated")),V&&(($=(L=K.props).onOpen)==null||$.call(L))};return{id:n,props:p,observe:E,toggle:R,removeToast:k,toasts:y,clearQueue:G,buildToast:(K,L)=>{if(I(L))return;let{toastId:$,updateId:te,data:ie,staleId:V,delay:P}=L,O=te==null;O&&s++;let W={...p,style:p.toastStyle,key:r++,...Object.fromEntries(Object.entries(L).filter(([Y,q])=>q!=null)),toastId:$,updateId:te,data:ie,isIn:!1,className:Mm(L.className||p.toastClassName),progressClassName:Mm(L.progressClassName||p.progressClassName),autoClose:L.isLoading?!1:dN(L.autoClose,p.autoClose),closeToast(Y){y.get($).removalReason=Y,k($)},deleteToast(){let Y=y.get($);if(Y!=null){if(t(t2(Y,"removed")),y.delete($),s--,s<0&&(s=0),o.length>0){F(o.shift());return}A()}}};W.closeButton=p.closeButton,L.closeButton===!1||Dm(L.closeButton)?W.closeButton=L.closeButton:L.closeButton===!0&&(W.closeButton=Dm(p.closeButton)?p.closeButton:!0);let X={content:K,props:W,staleId:V};p.limit&&p.limit>0&&s>p.limit&&O?o.push(X):uf(P)?setTimeout(()=>{F(X)},P):F(X)},setProps(K){p=K},setToggle:(K,L)=>{let $=y.get(K);$&&($.toggle=L)},isToastActive:K=>{var L;return(L=y.get(K))==null?void 0:L.isActive},getSnapshot:()=>f}}var yi=new Map,qd=[],Om=new Set,xN=n=>Om.forEach(e=>e(n)),UT=()=>yi.size>0;function wN(){qd.forEach(n=>zT(n.content,n.options)),qd=[]}var vN=(n,{containerId:e})=>{var t;return(t=yi.get(e||1))==null?void 0:t.toasts.get(n)};function FT(n,e){var t;if(e)return!!((t=yi.get(e))!=null&&t.isToastActive(n));let r=!1;return yi.forEach(s=>{s.isToastActive(n)&&(r=!0)}),r}function bN(n){if(!UT()){qd=qd.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||uN(n))yi.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=yi.get(n.containerId);e?e.removeToast(n.id):yi.forEach(t=>{t.removeToast(n.id)})}}var EN=(n={})=>{yi.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function zT(n,e){Dm(n)&&(UT()||qd.push({content:n,options:e}),yi.forEach(t=>{t.buildToast(n,e)}))}function _N(n){var e;(e=yi.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function jT(n,e){yi.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function TN(n){let e=n.containerId||1;return{subscribe(t){let r=yN(e,n,xN);yi.set(e,r);let s=r.observe(t);return wN(),()=>{s(),yi.delete(e)}},setProps(t){var r;(r=yi.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=yi.get(e))==null?void 0:t.getSnapshot()}}}function AN(n){return Om.add(n),()=>{Om.delete(n)}}function SN(n){return n&&(Fl(n.toastId)||uf(n.toastId))?n.toastId:VT()}function df(n,e){return zT(n,e),e.toastId}function q0(n,e){return{...e,type:e&&e.type||n,toastId:SN(e)}}function Y0(n){return(e,t)=>df(e,q0(n,t))}function fn(n,e){return df(n,q0("default",e))}fn.loading=(n,e)=>df(n,q0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function CN(n,{pending:e,error:t,success:r},s){let o;e&&(o=Fl(e)?fn.loading(e,s):fn.loading(e.render,{...s,...e}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(x,E,A)=>{if(E==null){fn.dismiss(o);return}let I={type:x,...f,...s,data:A},R=Fl(E)?{render:E}:E;return o?fn.update(o,{...I,...R}):fn(R.render,{...I,...R}),A},y=qa(n)?n():n;return y.then(x=>p("success",r,x)).catch(x=>p("error",t,x)),y}fn.promise=CN;fn.success=Y0("success");fn.info=Y0("info");fn.error=Y0("error");fn.warning=Y0("warning");fn.warn=fn.warning;fn.dark=(n,e)=>df(n,q0("default",{theme:"dark",...e}));function IN(n){bN(n)}fn.dismiss=IN;fn.clearWaitingQueue=EN;fn.isActive=FT;fn.update=(n,e={})=>{let t=vN(n,e);if(t){let{props:r,content:s}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:VT()};o.toastId!==n&&(o.staleId=n);let f=o.render||s;delete o.render,df(f,o)}};fn.done=n=>{fn.update(n,{progress:1})};fn.onChange=AN;fn.play=n=>jT(!0,n);fn.pause=n=>jT(!1,n);function RN(n){var e;let{subscribe:t,getSnapshot:r,setProps:s}=Z.useRef(TN(n)).current;s(n);let o=(e=Z.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function f(p){if(!o)return[];let y=new Map;return n.newestOnTop&&o.reverse(),o.forEach(x=>{let{position:E}=x.props;y.has(E)||y.set(E,[]),y.get(E).push(x)}),Array.from(y,x=>p(x[0],x[1]))}return{getToastToRender:f,isToastActive:FT,count:o==null?void 0:o.length}}function NN(n){let[e,t]=Z.useState(!1),[r,s]=Z.useState(!1),o=Z.useRef(null),f=Z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:p,pauseOnHover:y,closeToast:x,onClick:E,closeOnClick:A}=n;_N({id:n.toastId,containerId:n.containerId,fn:t}),Z.useEffect(()=>{if(n.pauseOnFocusLoss)return I(),()=>{R()}},[n.pauseOnFocusLoss]);function I(){document.hasFocus()||F(),window.addEventListener("focus",G),window.addEventListener("blur",F)}function R(){window.removeEventListener("focus",G),window.removeEventListener("blur",F)}function M(V){if(n.draggable===!0||n.draggable===V.pointerType){K();let P=o.current;f.canCloseOnClick=!0,f.canDrag=!0,P.style.transition="none",n.draggableDirection==="x"?(f.start=V.clientX,f.removalDistance=P.offsetWidth*(n.draggablePercent/100)):(f.start=V.clientY,f.removalDistance=P.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function k(V){let{top:P,bottom:O,left:W,right:X}=o.current.getBoundingClientRect();V.nativeEvent.type!=="touchend"&&n.pauseOnHover&&V.clientX>=W&&V.clientX<=X&&V.clientY>=P&&V.clientY<=O?F():G()}function G(){t(!0)}function F(){t(!1)}function K(){f.didMove=!1,document.addEventListener("pointermove",$),document.addEventListener("pointerup",te)}function L(){document.removeEventListener("pointermove",$),document.removeEventListener("pointerup",te)}function $(V){let P=o.current;if(f.canDrag&&P){f.didMove=!0,e&&F(),n.draggableDirection==="x"?f.delta=V.clientX-f.start:f.delta=V.clientY-f.start,f.start!==V.clientX&&(f.canCloseOnClick=!1);let O=n.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;P.style.transform=`translate3d(${O},0)`,P.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function te(){L();let V=o.current;if(f.canDrag&&f.didMove&&V){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){s(!0),n.closeToast(!0),n.collapseAll();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.removeProperty("transform"),V.style.removeProperty("opacity")}}let ie={onPointerDown:M,onPointerUp:k};return p&&y&&(ie.onMouseEnter=F,n.stacked||(ie.onMouseLeave=G)),A&&(ie.onClick=V=>{E&&E(V),f.canCloseOnClick&&x(!0)}),{playToast:G,pauseToast:F,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:ie}}var MN=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,W0=({theme:n,type:e,isLoading:t,...r})=>dt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function DN(n){return dt.createElement(W0,{...n},dt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function ON(n){return dt.createElement(W0,{...n},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kN(n){return dt.createElement(W0,{...n},dt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function LN(n){return dt.createElement(W0,{...n},dt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function PN(){return dt.createElement("div",{className:"Toastify__spinner"})}var km={info:ON,warning:DN,success:kN,error:LN,spinner:PN},BN=n=>n in km;function VN({theme:n,type:e,isLoading:t,icon:r}){let s=null,o={theme:n,type:e};return r===!1||(qa(r)?s=r({...o,isLoading:t}):Z.isValidElement(r)?s=Z.cloneElement(r,o):t?s=km.spinner():BN(e)&&(s=km[e](o))),s}var UN=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:o}=NN(n),{closeButton:f,children:p,autoClose:y,onClick:x,type:E,hideProgressBar:A,closeToast:I,transition:R,position:M,className:k,style:G,progressClassName:F,updateId:K,role:L,progress:$,rtl:te,toastId:ie,deleteToast:V,isIn:P,isLoading:O,closeOnClick:W,theme:X,ariaLabel:Y}=n,q=Ul("Toastify__toast",`Toastify__toast-theme--${X}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":te},{"Toastify__toast--close-on-click":W}),be=qa(k)?k({rtl:te,position:M,type:E,defaultClassName:q}):Ul(q,k),le=VN(n),ae=!!$||!y,fe={closeToast:I,type:E,theme:X},we=null;return f===!1||(qa(f)?we=f(fe):Z.isValidElement(f)?we=Z.cloneElement(f,fe):we=gN(fe)),dt.createElement(R,{isIn:P,done:V,position:M,preventExitTransition:t,nodeRef:r,playToast:o},dt.createElement("div",{id:ie,tabIndex:0,onClick:x,"data-in":P,className:be,...s,style:G,ref:r,...P&&{role:L,"aria-label":Y}},le!=null&&dt.createElement("div",{className:Ul("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},le),BT(p,n,!e),we,!n.customProgressBar&&dt.createElement(pN,{...K&&!ae?{key:`p-${K}`}:{},rtl:te,theme:X,delay:y,isRunning:e,isIn:P,closeToast:I,hide:A,type:E,className:F,controlledProgress:ae,progress:$||0})))},FN=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),zN=hN(FN("bounce",!0)),jN={position:"top-right",transition:zN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function HN(n){let e={...jN,...n},t=n.stacked,[r,s]=Z.useState(!0),o=Z.useRef(null),{getToastToRender:f,isToastActive:p,count:y}=RN(e),{className:x,style:E,rtl:A,containerId:I,hotKeys:R}=e;function M(G){let F=Ul("Toastify__toast-container",`Toastify__toast-container--${G}`,{"Toastify__toast-container--rtl":A});return qa(x)?x({position:G,rtl:A,defaultClassName:F}):Ul(F,Mm(x))}function k(){t&&(s(!0),fn.play())}return MN(()=>{var G;if(t){let F=o.current.querySelectorAll('[data-in="true"]'),K=12,L=(G=e.position)==null?void 0:G.includes("top"),$=0,te=0;Array.from(F).reverse().forEach((ie,V)=>{let P=ie;P.classList.add("Toastify__toast--stacked"),V>0&&(P.dataset.collapsed=`${r}`),P.dataset.pos||(P.dataset.pos=L?"top":"bot");let O=$*(r?.2:1)+(r?0:K*V);P.style.setProperty("--y",`${L?O:O*-1}px`),P.style.setProperty("--g",`${K}`),P.style.setProperty("--s",`${1-(r?te:0)}`),$+=P.offsetHeight,te+=.025})}},[r,y,t]),Z.useEffect(()=>{function G(F){var K;let L=o.current;R(F)&&((K=L.querySelector('[tabIndex="0"]'))==null||K.focus(),s(!1),fn.pause()),F.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(s(!0),fn.play())}return document.addEventListener("keydown",G),()=>{document.removeEventListener("keydown",G)}},[R]),dt.createElement("section",{ref:o,className:"Toastify",id:I,onMouseEnter:()=>{t&&(s(!1),fn.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},f((G,F)=>{let K=F.length?{...E}:{...E,pointerEvents:"none"};return dt.createElement("div",{tabIndex:-1,className:M(G),"data-stacked":t,style:K,key:`c-${G}`},F.map(({content:L,props:$})=>dt.createElement(UN,{...$,stacked:t,collapseAll:k,isIn:p($.toastId,$.containerId),key:`t-${$.key}`},L)))}))}const GN=()=>{};var n2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},qN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],f=n[t++],p=n[t++],y=((s&7)<<18|(o&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const o=n[t++],f=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|f&63)}}return e.join("")},GT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],f=s+1<n.length,p=f?n[s+1]:0,y=s+2<n.length,x=y?n[s+2]:0,E=o>>2,A=(o&3)<<4|p>>4;let I=(p&15)<<2|x>>6,R=x&63;y||(R=64,f||(I=64)),r.push(t[E],t[A],t[I],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(HT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],p=s<n.length?t[n.charAt(s)]:0;++s;const x=s<n.length?t[n.charAt(s)]:64;++s;const A=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||p==null||x==null||A==null)throw new YN;const I=o<<2|p>>4;if(r.push(I),x!==64){const R=p<<4&240|x>>2;if(r.push(R),A!==64){const M=x<<6&192|A;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WN=function(n){const e=HT(n);return GT.encodeByteArray(e,!0)},c0=function(n){return WN(n).replace(/\./g,"")},qT=function(n){try{return GT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=()=>XN().__FIREBASE_DEFAULTS__,QN=()=>{if(typeof process>"u"||typeof n2>"u")return;const n=n2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$N=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&qT(n[1]);return e&&JSON.parse(e)},X0=()=>{try{return GN()||KN()||QN()||$N()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},YT=n=>{var e,t;return(t=(e=X0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ZN=n=>{const e=YT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},WT=()=>{var n;return(n=X0())===null||n===void 0?void 0:n.config},XT=n=>{var e;return(e=X0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[c0(JSON.stringify(t)),c0(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function nM(){var n;const e=(n=X0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aM(){const n=di();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oM(){return!nM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lM(){try{return typeof indexedDB=="object"}catch{return!1}}function cM(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="FirebaseError";class Za extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=uM,Object.setPrototypeOf(this,Za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ff.prototype.create)}}class ff{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],f=o?dM(o,r):"Error",p=`${this.serviceName}: ${f} (${s}).`;return new Za(s,p,r)}}function dM(n,e){return n.replace(fM,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const fM=/\{\$([^}]+)}/g;function hM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],f=e[s];if(r2(o)&&r2(f)){if(!zl(o,f))return!1}else if(o!==f)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function r2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ad(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Sd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gM(n,e){const t=new pM(n,e);return t.subscribe.bind(t)}class pM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Cp),s.error===void 0&&(s.error=Cp),s.complete===void 0&&(s.complete=Cp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(n){return n&&n._delegate?n._delegate:n}class jl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new JN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wM(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ol){return this.instances.has(e)}getOptions(e=Ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(o);r===p&&f.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const f=this.instances.get(s);return f&&e(f,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ol){return this.component?this.component.multipleInstances?e:Ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xM(n){return n===Ol?void 0:n}function wM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const bM={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},EM=qt.INFO,_M={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},TM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=_M[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=EM,this._logHandler=TM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const AM=(n,e)=>e.some(t=>n instanceof t);let i2,s2;function SM(){return i2||(i2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CM(){return s2||(s2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KT=new WeakMap,Lm=new WeakMap,QT=new WeakMap,Ip=new WeakMap,Py=new WeakMap;function IM(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",f)},o=()=>{t(Yo(n.result)),s()},f=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&KT.set(t,n)}).catch(()=>{}),Py.set(e,n),e}function RM(n){if(Lm.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",f),n.removeEventListener("abort",f)},o=()=>{t(),s()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",f),n.addEventListener("abort",f)});Lm.set(n,e)}let Pm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NM(n){Pm=n(Pm)}function MM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rp(this),e,...t);return QT.set(r,e.sort?e.sort():[e]),Yo(r)}:CM().includes(n)?function(...e){return n.apply(Rp(this),e),Yo(KT.get(this))}:function(...e){return Yo(n.apply(Rp(this),e))}}function DM(n){return typeof n=="function"?MM(n):(n instanceof IDBTransaction&&RM(n),AM(n,SM())?new Proxy(n,Pm):n)}function Yo(n){if(n instanceof IDBRequest)return IM(n);if(Ip.has(n))return Ip.get(n);const e=DM(n);return e!==n&&(Ip.set(n,e),Py.set(e,n)),e}const Rp=n=>Py.get(n);function OM(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const f=indexedDB.open(n,e),p=Yo(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Yo(f.result),y.oldVersion,y.newVersion,Yo(f.transaction),y)}),t&&f.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),p.then(y=>{o&&y.addEventListener("close",()=>o()),s&&y.addEventListener("versionchange",x=>s(x.oldVersion,x.newVersion,x))}).catch(()=>{}),p}const kM=["get","getKey","getAll","getAllKeys","count"],LM=["put","add","delete","clear"],Np=new Map;function a2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=LM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kM.includes(t)))return;const o=async function(f,...p){const y=this.transaction(f,s?"readwrite":"readonly");let x=y.store;return r&&(x=x.index(p.shift())),(await Promise.all([x[t](...p),s&&y.done]))[0]};return Np.set(e,o),o}NM(n=>({...n,get:(e,t,r)=>a2(e,t)||n.get(e,t,r),has:(e,t)=>!!a2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(BM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function BM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bm="@firebase/app",o2="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new Ly("@firebase/app"),VM="@firebase/app-compat",UM="@firebase/analytics-compat",FM="@firebase/analytics",zM="@firebase/app-check-compat",jM="@firebase/app-check",HM="@firebase/auth",GM="@firebase/auth-compat",qM="@firebase/database",YM="@firebase/data-connect",WM="@firebase/database-compat",XM="@firebase/functions",KM="@firebase/functions-compat",QM="@firebase/installations",$M="@firebase/installations-compat",ZM="@firebase/messaging",JM="@firebase/messaging-compat",eD="@firebase/performance",tD="@firebase/performance-compat",nD="@firebase/remote-config",rD="@firebase/remote-config-compat",iD="@firebase/storage",sD="@firebase/storage-compat",aD="@firebase/firestore",oD="@firebase/vertexai",lD="@firebase/firestore-compat",cD="firebase",uD="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",dD={[Bm]:"fire-core",[VM]:"fire-core-compat",[FM]:"fire-analytics",[UM]:"fire-analytics-compat",[jM]:"fire-app-check",[zM]:"fire-app-check-compat",[HM]:"fire-auth",[GM]:"fire-auth-compat",[qM]:"fire-rtdb",[YM]:"fire-data-connect",[WM]:"fire-rtdb-compat",[XM]:"fire-fn",[KM]:"fire-fn-compat",[QM]:"fire-iid",[$M]:"fire-iid-compat",[ZM]:"fire-fcm",[JM]:"fire-fcm-compat",[eD]:"fire-perf",[tD]:"fire-perf-compat",[nD]:"fire-rc",[rD]:"fire-rc-compat",[iD]:"fire-gcs",[sD]:"fire-gcs-compat",[aD]:"fire-fst",[lD]:"fire-fst-compat",[oD]:"fire-vertex","fire-js":"fire-js",[cD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map,fD=new Map,Um=new Map;function l2(n,e){try{n.container.addComponent(e)}catch(t){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ou(n){const e=n.name;if(Um.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,n);for(const t of u0.values())l2(t,n);for(const t of fD.values())l2(t,n);return!0}function By(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new ff("app","Firebase",hD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=uD;function $T(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wo.create("bad-app-name",{appName:String(s)});if(t||(t=WT()),!t)throw Wo.create("no-options");const o=u0.get(s);if(o){if(zl(t,o.options)&&zl(r,o.config))return o;throw Wo.create("duplicate-app",{appName:s})}const f=new vM(s);for(const y of Um.values())f.addComponent(y);const p=new gD(t,r,f);return u0.set(s,p),p}function ZT(n=Vm){const e=u0.get(n);if(!e&&n===Vm&&WT())return $T();if(!e)throw Wo.create("no-app",{appName:n});return e}function Xo(n,e,t){var r;let s=(r=dD[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),f=e.match(/\s|\//);if(o||f){const p=[`Unable to register library "${s}" with version "${e}":`];o&&p.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&f&&p.push("and"),f&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ya.warn(p.join(" "));return}ou(new jl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="firebase-heartbeat-database",mD=1,Yd="firebase-heartbeat-store";let Mp=null;function JT(){return Mp||(Mp=OM(pD,mD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wo.create("idb-open",{originalErrorMessage:n.message})})),Mp}async function yD(n){try{const t=(await JT()).transaction(Yd),r=await t.objectStore(Yd).get(eA(n));return await t.done,r}catch(e){if(e instanceof Za)Ya.warn(e.message);else{const t=Wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ya.warn(t.message)}}}async function c2(n,e){try{const r=(await JT()).transaction(Yd,"readwrite");await r.objectStore(Yd).put(e,eA(n)),await r.done}catch(t){if(t instanceof Za)Ya.warn(t.message);else{const r=Wo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ya.warn(r.message)}}}function eA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=1024,wD=30;class vD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ED(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=u2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(f=>f.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>wD){const f=_D(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u2(),{heartbeatsToSend:r,unsentEntries:s}=bD(this._heartbeatsCache.heartbeats),o=c0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ya.warn(t),""}}}function u2(){return new Date().toISOString().substring(0,10)}function bD(n,e=xD){const t=[];let r=n.slice();for(const s of n){const o=t.find(f=>f.agent===s.agent);if(o){if(o.dates.push(s.date),d2(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),d2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class ED{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lM()?cM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return c2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return c2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function d2(n){return c0(JSON.stringify({version:2,heartbeats:n})).length}function _D(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n){ou(new jl("platform-logger",e=>new PM(e),"PRIVATE")),ou(new jl("heartbeat",e=>new vD(e),"PRIVATE")),Xo(Bm,o2,n),Xo(Bm,o2,"esm2017"),Xo("fire-js","")}TD("");function Vy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AD=tA,nA=new ff("auth","Firebase",tA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Ly("@firebase/auth");function SD(n,...e){d0.logLevel<=qt.WARN&&d0.warn(`Auth (${wu}): ${n}`,...e)}function Kh(n,...e){d0.logLevel<=qt.ERROR&&d0.error(`Auth (${wu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(n,...e){throw Uy(n,...e)}function na(n,...e){return Uy(n,...e)}function rA(n,e,t){const r=Object.assign(Object.assign({},AD()),{[e]:t});return new ff("auth","Firebase",r).create(e,{appName:n.name})}function za(n){return rA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nA.create(n,...e)}function pt(n,e,...t){if(!n)throw Uy(e,...t)}function Ba(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Kh(e),new Error(e)}function Wa(n,e){n||Ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function CD(){return f2()==="http:"||f2()==="https:"}function f2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CD()||iM()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wa(t>e,"Short delay should be less than long delay!"),this.isMobile=tM()||sM()}get(){return ID()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(n,e){Wa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DD=new gf(3e4,6e4);function al(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ol(n,e,t,r,s={}){return sA(n,s,async()=>{let o={},f={};r&&(e==="GET"?f=r:o={body:JSON.stringify(r)});const p=hf(Object.assign({key:n.config.apiKey},f)).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const x=Object.assign({method:e,headers:y},o);return rM()||(x.referrerPolicy="no-referrer"),iA.fetch()(await aA(n,n.config.apiHost,t,p),x)})}async function sA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ND),e);try{const s=new kD(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const f=await o.json();if("needConfirmation"in f)throw Rh(n,"account-exists-with-different-credential",f);if(o.ok&&!("errorMessage"in f))return f;{const p=o.ok?f.errorMessage:f.error.message,[y,x]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rh(n,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Rh(n,"email-already-in-use",f);if(y==="USER_DISABLED")throw Rh(n,"user-disabled",f);const E=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw rA(n,E,x);Bs(n,E)}}catch(s){if(s instanceof Za)throw s;Bs(n,"network-request-failed",{message:String(s)})}}async function pf(n,e,t,r,s={}){const o=await ol(n,e,t,r,s);return"mfaPendingCredential"in o&&Bs(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function aA(n,e,t,r){const s=`${e}${t}?${r}`,o=n,f=o.config.emulator?Fy(n.config,s):`${n.config.apiScheme}://${s}`;return MD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(f).toString():f}function OD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(na(this.auth,"network-request-failed")),DD.get())})}}function Rh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=na(n,e,r);return s.customData._tokenResponse=t,s}function h2(n){return n!==void 0&&n.enterprise!==void 0}class LD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PD(n,e){return ol(n,"GET","/v2/recaptchaConfig",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e){return ol(n,"POST","/v1/accounts:delete",e)}async function f0(n,e){return ol(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VD(n,e=!1){const t=Fr(n),r=await t.getIdToken(e),s=zy(r);pt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,f=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Od(Dp(s.auth_time)),issuedAtTime:Od(Dp(s.iat)),expirationTime:Od(Dp(s.exp)),signInProvider:f||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Dp(n){return Number(n)*1e3}function zy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const s=qT(t);return s?JSON.parse(s):(Kh("Failed to decode base64 JWT payload"),null)}catch(s){return Kh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function g2(n){const e=zy(n);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Za&&UD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function UD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Od(this.lastLoginAt),this.creationTime=Od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Wd(n,f0(t,{idToken:r}));pt(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const f=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?oA(o.providerUserInfo):[],p=jD(n.providerData,f),y=n.isAnonymous,x=!(n.email&&o.passwordHash)&&!(p!=null&&p.length),E=y?x:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:p,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:E};Object.assign(n,A)}async function zD(n){const e=Fr(n);await h0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jD(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oA(n){return n.map(e=>{var{providerId:t}=e,r=Vy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,e){const t=await sA(n,{},async()=>{const r=hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,f=await aA(n,s,"/v1/token",`key=${o}`),p=await n._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",iA.fetch()(f,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function GD(n,e){return ol(n,"POST","/v2/accounts:revokeToken",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const t=g2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await HD(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,f=new $c;return r&&(pt(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),s&&(pt(typeof s=="string","internal-error",{appName:e}),f.accessToken=s),o&&(pt(typeof o=="number","internal-error",{appName:e}),f.expirationTime=o),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return Ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(n,e){pt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ls{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Vy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Wd(this,this.stsTokenManager.getToken(this.auth,e));return pt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return VD(this,e)}reload(){return zD(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await h0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vs(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await Wd(this,BD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,f,p,y,x,E;const A=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(s=t.email)!==null&&s!==void 0?s:void 0,R=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(f=t.photoURL)!==null&&f!==void 0?f:void 0,k=(p=t.tenantId)!==null&&p!==void 0?p:void 0,G=(y=t._redirectEventId)!==null&&y!==void 0?y:void 0,F=(x=t.createdAt)!==null&&x!==void 0?x:void 0,K=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:L,emailVerified:$,isAnonymous:te,providerData:ie,stsTokenManager:V}=t;pt(L&&V,e,"internal-error");const P=$c.fromJSON(this.name,V);pt(typeof L=="string",e,"internal-error"),ko(A,e.name),ko(I,e.name),pt(typeof $=="boolean",e,"internal-error"),pt(typeof te=="boolean",e,"internal-error"),ko(R,e.name),ko(M,e.name),ko(k,e.name),ko(G,e.name),ko(F,e.name),ko(K,e.name);const O=new Ls({uid:L,auth:e,email:I,emailVerified:$,displayName:A,isAnonymous:te,photoURL:M,phoneNumber:R,tenantId:k,stsTokenManager:P,createdAt:F,lastLoginAt:K});return ie&&Array.isArray(ie)&&(O.providerData=ie.map(W=>Object.assign({},W))),G&&(O._redirectEventId=G),O}static async _fromIdTokenResponse(e,t,r=!1){const s=new $c;s.updateFromServerResponse(t);const o=new Ls({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await h0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];pt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?oA(s.providerUserInfo):[],f=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),p=new $c;p.updateFromIdToken(r);const y=new Ls({uid:s.localId,auth:e,stsTokenManager:p,isAnonymous:f}),x={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new zm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(y,x),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Map;function Va(n){Wa(n instanceof Function,"Expected a class definition");let e=p2.get(n);return e?(Wa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,p2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lA.type="NONE";const m2=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n,e,t){return`firebase:${n}:${e}:${t}`}class Zc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Qh(this.userKey,s.apiKey,o),this.fullPersistenceKey=Qh("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await f0(this.auth,{idToken:e}).catch(()=>{});return t?Ls._fromGetAccountInfoResponse(this.auth,t,e):null}return Ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Zc(Va(m2),e,r);const s=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let o=s[0]||Va(m2);const f=Qh(r,e.config.apiKey,e.name);let p=null;for(const x of t)try{const E=await x._get(f);if(E){let A;if(typeof E=="string"){const I=await f0(e,{idToken:E}).catch(()=>{});if(!I)break;A=await Ls._fromGetAccountInfoResponse(e,I,E)}else A=Ls._fromJSON(e,E);x!==o&&(p=A),o=x;break}}catch{}const y=s.filter(x=>x._shouldAllowMigration);return!o._shouldAllowMigration||!y.length?new Zc(o,e,r):(o=y[0],p&&await o._set(f,p.toJSON()),await Promise.all(t.map(async x=>{if(x!==o)try{await x._remove(f)}catch{}})),new Zc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gA(e))return"Blackberry";if(pA(e))return"Webos";if(uA(e))return"Safari";if((e.includes("chrome/")||dA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cA(n=di()){return/firefox\//i.test(n)}function uA(n=di()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dA(n=di()){return/crios\//i.test(n)}function fA(n=di()){return/iemobile/i.test(n)}function hA(n=di()){return/android/i.test(n)}function gA(n=di()){return/blackberry/i.test(n)}function pA(n=di()){return/webos/i.test(n)}function jy(n=di()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qD(n=di()){var e;return jy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YD(){return aM()&&document.documentMode===10}function mA(n=di()){return jy(n)||hA(n)||pA(n)||gA(n)||/windows phone/i.test(n)||fA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n,e=[]){let t;switch(n){case"Browser":t=y2(di());break;case"Worker":t=`${y2(di())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((f,p)=>{try{const y=e(o);f(y)}catch(y){p(y)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(n,e={}){return ol(n,"GET","/v2/passwordPolicy",al(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=6;class QD{constructor(e){var t,r,s,o;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:KD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,f,p;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(t=y.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),y.isValid&&(y.isValid=(r=y.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),y.isValid&&(y.isValid=(s=y.containsLowercaseLetter)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(o=y.containsUppercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(f=y.containsNumericCharacter)!==null&&f!==void 0?f:!0),y.isValid&&(y.isValid=(p=y.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),y}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x2(this),this.idTokenSubscription=new x2(this),this.beforeStateQueue=new WD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Va(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Zc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await f0(this,{idToken:e}),r=await Ls._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vs(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===p)&&(y!=null&&y.user)&&(s=y.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await h0(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vs(this.app))return Promise.reject(za(this));const t=e?Fr(e):null;return t&&pt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vs(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vs(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XD(this),t=new QD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ff("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await GD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Va(e)||this._popupRedirectResolver;pt(t,this,"argument-error"),this.redirectPersistenceManager=await Zc.create(this,[Va(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{f||o(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,r,s);return()=>{f=!0,y()}}else{const y=e.addObserver(t);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&SD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Kl(n){return Fr(n)}class x2{constructor(e){this.auth=e,this.observer=null,this.addObserver=gM(t=>this.observer=t)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(n){K0=n}function xA(n){return K0.loadJS(n)}function JD(){return K0.recaptchaEnterpriseScript}function e8(){return K0.gapiScript}function t8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class n8{constructor(){this.enterprise=new r8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class r8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const i8="recaptcha-enterprise",wA="NO_RECAPTCHA";class s8{constructor(e){this.type=i8,this.auth=Kl(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(f,p)=>{PD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const x=new LD(y);return o.tenantId==null?o._agentRecaptchaConfig=x:o._tenantRecaptchaConfigs[o.tenantId]=x,f(x.siteKey)}}).catch(y=>{p(y)})})}function s(o,f,p){const y=window.grecaptcha;h2(y)?y.enterprise.ready(()=>{y.enterprise.execute(o,{action:e}).then(x=>{f(x)}).catch(()=>{f(wA)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n8().execute("siteKey",{action:"verify"}):new Promise((o,f)=>{r(this.auth).then(p=>{if(!t&&h2(window.grecaptcha))s(p,o,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=JD();y.length!==0&&(y+=p),xA(y).then(()=>{s(p,o,f)}).catch(x=>{f(x)})}}).catch(p=>{f(p)})})}}async function w2(n,e,t,r=!1,s=!1){const o=new s8(n);let f;if(s)f=wA;else try{f=await o.verify(t)}catch{f=await o.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,x=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:x,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jm(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await w2(n,e,t,t==="getOobCode");return r(n,f)}else return r(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await w2(n,e,t,t==="getOobCode");return r(n,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(n,e){const t=By(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(zl(o,e??{}))return s;Bs(s,"already-initialized")}return t.initialize({options:e})}function o8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Va);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l8(n,e,t){const r=Kl(n);pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=vA(e),{host:f,port:p}=c8(e),y=p===null?"":`:${p}`,x={url:`${o}//${f}${y}/`},E=Object.freeze({host:f,port:p,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(zl(x,r.config.emulator)&&zl(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=x,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,u8()}function vA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c8(n){const e=vA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:v2(r.substr(o.length+1))}}else{const[o,f]=r.split(":");return{host:o,port:v2(f)}}}function v2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function u8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ba("not implemented")}_getIdTokenResponse(e){return Ba("not implemented")}_linkToIdToken(e,t){return Ba("not implemented")}_getReauthenticationResolver(e){return Ba("not implemented")}}async function d8(n,e){return ol(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(n,e){return pf(n,"POST","/v1/accounts:signInWithPassword",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(n,e){return pf(n,"POST","/v1/accounts:signInWithEmailLink",al(n,e))}async function g8(n,e){return pf(n,"POST","/v1/accounts:signInWithEmailLink",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends Hy{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Xd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,t,"signInWithPassword",f8);case"emailLink":return h8(e,{email:this._email,oobCode:this._password});default:Bs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jm(e,r,"signUpPassword",d8);case"emailLink":return g8(e,{idToken:t,email:this._email,oobCode:this._password});default:Bs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n,e){return pf(n,"POST","/v1/accounts:signInWithIdp",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8="http://localhost";class Hl extends Hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Vy(t,["providerId","signInMethod"]);if(!r||!s)return null;const f=new Hl(r,s);return f.idToken=o.idToken||void 0,f.accessToken=o.accessToken||void 0,f.secret=o.secret,f.nonce=o.nonce,f.pendingToken=o.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Jc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jc(e,t)}buildRequest(){const e={requestUri:p8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y8(n){const e=Ad(Sd(n)).link,t=e?Ad(Sd(e)).deep_link_id:null,r=Ad(Sd(n)).deep_link_id;return(r?Ad(Sd(r)).link:null)||r||t||e||n}class Gy{constructor(e){var t,r,s,o,f,p;const y=Ad(Sd(e)),x=(t=y.apiKey)!==null&&t!==void 0?t:null,E=(r=y.oobCode)!==null&&r!==void 0?r:null,A=m8((s=y.mode)!==null&&s!==void 0?s:null);pt(x&&E&&A,"argument-error"),this.apiKey=x,this.operation=A,this.code=E,this.continueUrl=(o=y.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(f=y.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(p=y.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=y8(e);try{return new Gy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.providerId=vu.PROVIDER_ID}static credential(e,t){return Xd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Gy.parseLink(t);return pt(r,"argument-error"),Xd._fromEmailAndCode(e,r.code,r.tenantId)}}vu.PROVIDER_ID="password";vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends mf{constructor(){super("facebook.com")}static credential(e){return Hl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return zo.credential(t,r)}catch{return null}}}zo.GOOGLE_SIGN_IN_METHOD="google.com";zo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends mf{constructor(){super("github.com")}static credential(e){return Hl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends mf{constructor(){super("twitter.com")}static credential(e,t){return Hl._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ho.credential(t,r)}catch{return null}}}Ho.TWITTER_SIGN_IN_METHOD="twitter.com";Ho.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(n,e){return pf(n,"POST","/v1/accounts:signUp",al(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Ls._fromIdTokenResponse(e,r,s),f=b2(r);return new Gl({user:o,providerId:f,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=b2(r);return new Gl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function b2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends Za{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,g0.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new g0(e,t,r,s)}}function EA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?g0._fromErrorAndOperation(n,o,e,r):o})}async function w8(n,e,t=!1){const r=await Wd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(n,e,t=!1){const{auth:r}=n;if(vs(r.app))return Promise.reject(za(r));const s="reauthenticate";try{const o=await Wd(n,EA(r,s,e,n),t);pt(o.idToken,r,"internal-error");const f=zy(o.idToken);pt(f,r,"internal-error");const{sub:p}=f;return pt(n.uid===p,r,"user-mismatch"),Gl._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Bs(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(n,e,t=!1){if(vs(n.app))return Promise.reject(za(n));const r="signIn",s=await EA(n,r,e),o=await Gl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function b8(n,e){return _A(Kl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(n){const e=Kl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E8(n,e,t){if(vs(n.app))return Promise.reject(za(n));const r=Kl(n),f=await jm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",x8).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&TA(n),y}),p=await Gl._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(p.user),p}function _8(n,e,t){return vs(n.app)?Promise.reject(za(n)):b8(Fr(n),vu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TA(n),r})}function T8(n,e,t,r){return Fr(n).onIdTokenChanged(e,t,r)}function A8(n,e,t){return Fr(n).beforeAuthStateChanged(e,t)}function S8(n,e,t,r){return Fr(n).onAuthStateChanged(e,t,r)}function C8(n){return Fr(n).signOut()}const p0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(p0,"1"),this.storage.removeItem(p0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=1e3,R8=10;class SA extends AA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,p,y)=>{this.notifyListeners(f,y)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const f=this.storage.getItem(r);!t&&this.localCache[r]===f||this.notifyListeners(r,f)},o=this.storage.getItem(r);YD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,R8):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},I8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SA.type="LOCAL";const N8=SA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA extends AA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CA.type="SESSION";const IA=CA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Q0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,f=this.handlersMap[s];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const p=Array.from(f).map(async x=>x(t.origin,o)),y=await M8(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Q0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,f;return new Promise((p,y)=>{const x=qy("",20);s.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:s,onMessage(A){const I=A;if(I.data.eventId===x)switch(I.data.status){case"ack":clearTimeout(E),o=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),p(I.data.response);break;default:clearTimeout(E),clearTimeout(o),y(new Error("invalid_response"));break}}},this.handlers.add(f),s.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[s.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return window}function O8(n){ra().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return typeof ra().WorkerGlobalScope<"u"&&typeof ra().importScripts=="function"}async function k8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function P8(){return RA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firebaseLocalStorageDb",B8=1,m0="firebaseLocalStorage",MA="fbase_key";class yf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $0(n,e){return n.transaction([m0],e?"readwrite":"readonly").objectStore(m0)}function V8(){const n=indexedDB.deleteDatabase(NA);return new yf(n).toPromise()}function Hm(){const n=indexedDB.open(NA,B8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(m0,{keyPath:MA})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(m0)?e(r):(r.close(),await V8(),e(await Hm()))})})}async function E2(n,e,t){const r=$0(n,!0).put({[MA]:e,value:t});return new yf(r).toPromise()}async function U8(n,e){const t=$0(n,!1).get(e),r=await new yf(t).toPromise();return r===void 0?null:r.value}function _2(n,e){const t=$0(n,!0).delete(e);return new yf(t).toPromise()}const F8=800,z8=3;class DA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>z8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Q0._getInstance(P8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await k8(),!this.activeServiceWorker)return;this.sender=new D8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await E2(e,p0,"1"),await _2(e,p0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>E2(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>U8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>_2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=$0(s,!1).getAll();return new yf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DA.type="LOCAL";const j8=DA;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(n,e){return e?Va(e):(pt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy extends Hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function G8(n){return _A(n.auth,new Yy(n),n.bypassAuthState)}function q8(n){const{auth:e,user:t}=n;return pt(t,e,"internal-error"),v8(t,new Yy(n),n.bypassAuthState)}async function Y8(n){const{auth:e,user:t}=n;return pt(t,e,"internal-error"),w8(t,new Yy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:f,type:p}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G8;case"linkViaPopup":case"linkViaRedirect":return Y8;case"reauthViaPopup":case"reauthViaRedirect":return q8;default:Bs(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=new gf(2e3,1e4);class qc extends OA{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,qc.currentPopupAction&&qc.currentPopupAction.cancel(),qc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=qy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W8.get())};e()}}qc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="pendingRedirect",$h=new Map;class K8 extends OA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$h.get(this.auth._key());if(!e){try{const r=await Q8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q8(n,e){const t=J8(e),r=Z8(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function $8(n,e){$h.set(n._key(),e)}function Z8(n){return Va(n._redirectPersistence)}function J8(n){return Qh(X8,n.config.apiKey,n.name)}async function e6(n,e,t=!1){if(vs(n.app))return Promise.reject(za(n));const r=Kl(n),s=H8(r,e),f=await new K8(r,s,t).execute();return f&&!t&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=10*60*1e3;class n6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(na(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t6&&this.cachedEventUids.clear(),this.cachedEventUids.has(T2(e))}saveEventToCache(e){this.cachedEventUids.add(T2(e)),this.lastProcessedEventTime=Date.now()}}function T2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(n,e={}){return ol(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a6=/^https?/;async function o6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await i6(n);for(const t of e)try{if(l6(t))return}catch{}Bs(n,"unauthorized-domain")}function l6(n){const e=Fm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===r}if(!a6.test(t))return!1;if(s6.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new gf(3e4,6e4);function A2(){const n=ra().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function u6(n){return new Promise((e,t)=>{var r,s,o;function f(){A2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A2(),t(na(n,"network-request-failed"))},timeout:c6.get()})}if(!((s=(r=ra().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=ra().gapi)===null||o===void 0)&&o.load)f();else{const p=t8("iframefcb");return ra()[p]=()=>{gapi.load?f():t(na(n,"network-request-failed"))},xA(`${e8()}?onload=${p}`).catch(y=>t(y))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function d6(n){return Zh=Zh||u6(n),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new gf(5e3,15e3),h6="__/auth/iframe",g6="emulator/auth/iframe",p6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y6(n){const e=n.config;pt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fy(e,g6):`https://${n.config.authDomain}/${h6}`,r={apiKey:e.apiKey,appName:n.name,v:wu},s=m6.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${hf(r).slice(1)}`}async function x6(n){const e=await d6(n),t=ra().gapi;return pt(t,n,"internal-error"),e.open({where:document.body,url:y6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p6,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const f=na(n,"network-request-failed"),p=ra().setTimeout(()=>{o(f)},f6.get());function y(){ra().clearTimeout(p),s(r)}r.ping(y).then(y,()=>{o(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v6=500,b6=600,E6="_blank",_6="http://localhost";class S2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T6(n,e,t,r=v6,s=b6){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y=Object.assign(Object.assign({},w6),{width:r.toString(),height:s.toString(),top:o,left:f}),x=di().toLowerCase();t&&(p=dA(x)?E6:t),cA(x)&&(e=e||_6,y.scrollbars="yes");const E=Object.entries(y).reduce((I,[R,M])=>`${I}${R}=${M},`,"");if(qD(x)&&p!=="_self")return A6(e||"",p),new S2(null);const A=window.open(e||"",p,E);pt(A,n,"popup-blocked");try{A.focus()}catch{}return new S2(A)}function A6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="__/auth/handler",C6="emulator/auth/handler",I6=encodeURIComponent("fac");async function C2(n,e,t,r,s,o){pt(n.config.authDomain,n,"auth-domain-config-required"),pt(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wu,eventId:s};if(e instanceof bA){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",hM(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof mf){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}n.tenantId&&(f.tid=n.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await n._getAppCheckToken(),x=y?`#${I6}=${encodeURIComponent(y)}`:"";return`${R6(n)}?${hf(p).slice(1)}${x}`}function R6({config:n}){return n.emulator?Fy(n,C6):`https://${n.authDomain}/${S6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="webStorageSupport";class N6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IA,this._completeRedirectFn=e6,this._overrideRedirectResult=$8}async _openPopup(e,t,r,s){var o;Wa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const f=await C2(e,t,r,Fm(),s);return T6(e,f,qy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await C2(e,t,r,Fm(),s);return O8(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Wa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await x6(e),r=new n6(e);return t.register("authEvent",s=>(pt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},s=>{var o;const f=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Op];f!==void 0&&t(!!f),Bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=o6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mA()||uA()||jy()}}const M6=N6;var I2="@firebase/auth",R2="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k6(n){ou(new jl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;pt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yA(n)},x=new $D(r,s,o,y);return o8(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ou(new jl("auth-internal",e=>{const t=Kl(e.getProvider("auth").getImmediate());return(r=>new D6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(I2,R2,O6(n)),Xo(I2,R2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=5*60,P6=XT("authIdTokenMaxAge")||L6;let N2=null;const B6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>P6)return;const s=t==null?void 0:t.token;N2!==s&&(N2=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function V6(n=ZT()){const e=By(n,"auth");if(e.isInitialized())return e.getImmediate();const t=a8(n,{popupRedirectResolver:M6,persistence:[j8,N8,IA]}),r=XT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const f=B6(o.toString());A8(t,f,()=>f(t.currentUser)),T8(t,p=>f(p))}}const s=YT("auth");return s&&l8(t,`http://${s}`),t}function U6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=na("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",U6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k6("Browser");var F6="firebase",z6="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(F6,z6,"app");var M2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ko,LA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,P){function O(){}O.prototype=P.prototype,V.D=P.prototype,V.prototype=new O,V.prototype.constructor=V,V.C=function(W,X,Y){for(var q=Array(arguments.length-2),be=2;be<arguments.length;be++)q[be-2]=arguments[be];return P.prototype[X].apply(W,q)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,P,O){O||(O=0);var W=Array(16);if(typeof P=="string")for(var X=0;16>X;++X)W[X]=P.charCodeAt(O++)|P.charCodeAt(O++)<<8|P.charCodeAt(O++)<<16|P.charCodeAt(O++)<<24;else for(X=0;16>X;++X)W[X]=P[O++]|P[O++]<<8|P[O++]<<16|P[O++]<<24;P=V.g[0],O=V.g[1],X=V.g[2];var Y=V.g[3],q=P+(Y^O&(X^Y))+W[0]+3614090360&4294967295;P=O+(q<<7&4294967295|q>>>25),q=Y+(X^P&(O^X))+W[1]+3905402710&4294967295,Y=P+(q<<12&4294967295|q>>>20),q=X+(O^Y&(P^O))+W[2]+606105819&4294967295,X=Y+(q<<17&4294967295|q>>>15),q=O+(P^X&(Y^P))+W[3]+3250441966&4294967295,O=X+(q<<22&4294967295|q>>>10),q=P+(Y^O&(X^Y))+W[4]+4118548399&4294967295,P=O+(q<<7&4294967295|q>>>25),q=Y+(X^P&(O^X))+W[5]+1200080426&4294967295,Y=P+(q<<12&4294967295|q>>>20),q=X+(O^Y&(P^O))+W[6]+2821735955&4294967295,X=Y+(q<<17&4294967295|q>>>15),q=O+(P^X&(Y^P))+W[7]+4249261313&4294967295,O=X+(q<<22&4294967295|q>>>10),q=P+(Y^O&(X^Y))+W[8]+1770035416&4294967295,P=O+(q<<7&4294967295|q>>>25),q=Y+(X^P&(O^X))+W[9]+2336552879&4294967295,Y=P+(q<<12&4294967295|q>>>20),q=X+(O^Y&(P^O))+W[10]+4294925233&4294967295,X=Y+(q<<17&4294967295|q>>>15),q=O+(P^X&(Y^P))+W[11]+2304563134&4294967295,O=X+(q<<22&4294967295|q>>>10),q=P+(Y^O&(X^Y))+W[12]+1804603682&4294967295,P=O+(q<<7&4294967295|q>>>25),q=Y+(X^P&(O^X))+W[13]+4254626195&4294967295,Y=P+(q<<12&4294967295|q>>>20),q=X+(O^Y&(P^O))+W[14]+2792965006&4294967295,X=Y+(q<<17&4294967295|q>>>15),q=O+(P^X&(Y^P))+W[15]+1236535329&4294967295,O=X+(q<<22&4294967295|q>>>10),q=P+(X^Y&(O^X))+W[1]+4129170786&4294967295,P=O+(q<<5&4294967295|q>>>27),q=Y+(O^X&(P^O))+W[6]+3225465664&4294967295,Y=P+(q<<9&4294967295|q>>>23),q=X+(P^O&(Y^P))+W[11]+643717713&4294967295,X=Y+(q<<14&4294967295|q>>>18),q=O+(Y^P&(X^Y))+W[0]+3921069994&4294967295,O=X+(q<<20&4294967295|q>>>12),q=P+(X^Y&(O^X))+W[5]+3593408605&4294967295,P=O+(q<<5&4294967295|q>>>27),q=Y+(O^X&(P^O))+W[10]+38016083&4294967295,Y=P+(q<<9&4294967295|q>>>23),q=X+(P^O&(Y^P))+W[15]+3634488961&4294967295,X=Y+(q<<14&4294967295|q>>>18),q=O+(Y^P&(X^Y))+W[4]+3889429448&4294967295,O=X+(q<<20&4294967295|q>>>12),q=P+(X^Y&(O^X))+W[9]+568446438&4294967295,P=O+(q<<5&4294967295|q>>>27),q=Y+(O^X&(P^O))+W[14]+3275163606&4294967295,Y=P+(q<<9&4294967295|q>>>23),q=X+(P^O&(Y^P))+W[3]+4107603335&4294967295,X=Y+(q<<14&4294967295|q>>>18),q=O+(Y^P&(X^Y))+W[8]+1163531501&4294967295,O=X+(q<<20&4294967295|q>>>12),q=P+(X^Y&(O^X))+W[13]+2850285829&4294967295,P=O+(q<<5&4294967295|q>>>27),q=Y+(O^X&(P^O))+W[2]+4243563512&4294967295,Y=P+(q<<9&4294967295|q>>>23),q=X+(P^O&(Y^P))+W[7]+1735328473&4294967295,X=Y+(q<<14&4294967295|q>>>18),q=O+(Y^P&(X^Y))+W[12]+2368359562&4294967295,O=X+(q<<20&4294967295|q>>>12),q=P+(O^X^Y)+W[5]+4294588738&4294967295,P=O+(q<<4&4294967295|q>>>28),q=Y+(P^O^X)+W[8]+2272392833&4294967295,Y=P+(q<<11&4294967295|q>>>21),q=X+(Y^P^O)+W[11]+1839030562&4294967295,X=Y+(q<<16&4294967295|q>>>16),q=O+(X^Y^P)+W[14]+4259657740&4294967295,O=X+(q<<23&4294967295|q>>>9),q=P+(O^X^Y)+W[1]+2763975236&4294967295,P=O+(q<<4&4294967295|q>>>28),q=Y+(P^O^X)+W[4]+1272893353&4294967295,Y=P+(q<<11&4294967295|q>>>21),q=X+(Y^P^O)+W[7]+4139469664&4294967295,X=Y+(q<<16&4294967295|q>>>16),q=O+(X^Y^P)+W[10]+3200236656&4294967295,O=X+(q<<23&4294967295|q>>>9),q=P+(O^X^Y)+W[13]+681279174&4294967295,P=O+(q<<4&4294967295|q>>>28),q=Y+(P^O^X)+W[0]+3936430074&4294967295,Y=P+(q<<11&4294967295|q>>>21),q=X+(Y^P^O)+W[3]+3572445317&4294967295,X=Y+(q<<16&4294967295|q>>>16),q=O+(X^Y^P)+W[6]+76029189&4294967295,O=X+(q<<23&4294967295|q>>>9),q=P+(O^X^Y)+W[9]+3654602809&4294967295,P=O+(q<<4&4294967295|q>>>28),q=Y+(P^O^X)+W[12]+3873151461&4294967295,Y=P+(q<<11&4294967295|q>>>21),q=X+(Y^P^O)+W[15]+530742520&4294967295,X=Y+(q<<16&4294967295|q>>>16),q=O+(X^Y^P)+W[2]+3299628645&4294967295,O=X+(q<<23&4294967295|q>>>9),q=P+(X^(O|~Y))+W[0]+4096336452&4294967295,P=O+(q<<6&4294967295|q>>>26),q=Y+(O^(P|~X))+W[7]+1126891415&4294967295,Y=P+(q<<10&4294967295|q>>>22),q=X+(P^(Y|~O))+W[14]+2878612391&4294967295,X=Y+(q<<15&4294967295|q>>>17),q=O+(Y^(X|~P))+W[5]+4237533241&4294967295,O=X+(q<<21&4294967295|q>>>11),q=P+(X^(O|~Y))+W[12]+1700485571&4294967295,P=O+(q<<6&4294967295|q>>>26),q=Y+(O^(P|~X))+W[3]+2399980690&4294967295,Y=P+(q<<10&4294967295|q>>>22),q=X+(P^(Y|~O))+W[10]+4293915773&4294967295,X=Y+(q<<15&4294967295|q>>>17),q=O+(Y^(X|~P))+W[1]+2240044497&4294967295,O=X+(q<<21&4294967295|q>>>11),q=P+(X^(O|~Y))+W[8]+1873313359&4294967295,P=O+(q<<6&4294967295|q>>>26),q=Y+(O^(P|~X))+W[15]+4264355552&4294967295,Y=P+(q<<10&4294967295|q>>>22),q=X+(P^(Y|~O))+W[6]+2734768916&4294967295,X=Y+(q<<15&4294967295|q>>>17),q=O+(Y^(X|~P))+W[13]+1309151649&4294967295,O=X+(q<<21&4294967295|q>>>11),q=P+(X^(O|~Y))+W[4]+4149444226&4294967295,P=O+(q<<6&4294967295|q>>>26),q=Y+(O^(P|~X))+W[11]+3174756917&4294967295,Y=P+(q<<10&4294967295|q>>>22),q=X+(P^(Y|~O))+W[2]+718787259&4294967295,X=Y+(q<<15&4294967295|q>>>17),q=O+(Y^(X|~P))+W[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(X+(q<<21&4294967295|q>>>11))&4294967295,V.g[2]=V.g[2]+X&4294967295,V.g[3]=V.g[3]+Y&4294967295}r.prototype.u=function(V,P){P===void 0&&(P=V.length);for(var O=P-this.blockSize,W=this.B,X=this.h,Y=0;Y<P;){if(X==0)for(;Y<=O;)s(this,V,Y),Y+=this.blockSize;if(typeof V=="string"){for(;Y<P;)if(W[X++]=V.charCodeAt(Y++),X==this.blockSize){s(this,W),X=0;break}}else for(;Y<P;)if(W[X++]=V[Y++],X==this.blockSize){s(this,W),X=0;break}}this.h=X,this.o+=P},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;var O=8*this.o;for(P=V.length-8;P<V.length;++P)V[P]=O&255,O/=256;for(this.u(V),V=Array(16),P=O=0;4>P;++P)for(var W=0;32>W;W+=8)V[O++]=this.g[P]>>>W&255;return V};function o(V,P){var O=p;return Object.prototype.hasOwnProperty.call(O,V)?O[V]:O[V]=P(V)}function f(V,P){this.h=P;for(var O=[],W=!0,X=V.length-1;0<=X;X--){var Y=V[X]|0;W&&Y==P||(O[X]=Y,W=!1)}this.g=O}var p={};function y(V){return-128<=V&&128>V?o(V,function(P){return new f([P|0],0>P?-1:0)}):new f([V|0],0>V?-1:0)}function x(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return G(x(-V));for(var P=[],O=1,W=0;V>=O;W++)P[W]=V/O|0,O*=4294967296;return new f(P,0)}function E(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return G(E(V.substring(1),P));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=x(Math.pow(P,8)),W=A,X=0;X<V.length;X+=8){var Y=Math.min(8,V.length-X),q=parseInt(V.substring(X,X+Y),P);8>Y?(Y=x(Math.pow(P,Y)),W=W.j(Y).add(x(q))):(W=W.j(O),W=W.add(x(q)))}return W}var A=y(0),I=y(1),R=y(16777216);n=f.prototype,n.m=function(){if(k(this))return-G(this).m();for(var V=0,P=1,O=0;O<this.g.length;O++){var W=this.i(O);V+=(0<=W?W:4294967296+W)*P,P*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(k(this))return"-"+G(this).toString(V);for(var P=x(Math.pow(V,6)),O=this,W="";;){var X=$(O,P).g;O=F(O,X.j(P));var Y=((0<O.g.length?O.g[0]:O.h)>>>0).toString(V);if(O=X,M(O))return Y+W;for(;6>Y.length;)Y="0"+Y;W=Y+W}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(var P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function k(V){return V.h==-1}n.l=function(V){return V=F(this,V),k(V)?-1:M(V)?0:1};function G(V){for(var P=V.g.length,O=[],W=0;W<P;W++)O[W]=~V.g[W];return new f(O,~V.h).add(I)}n.abs=function(){return k(this)?G(this):this},n.add=function(V){for(var P=Math.max(this.g.length,V.g.length),O=[],W=0,X=0;X<=P;X++){var Y=W+(this.i(X)&65535)+(V.i(X)&65535),q=(Y>>>16)+(this.i(X)>>>16)+(V.i(X)>>>16);W=q>>>16,Y&=65535,q&=65535,O[X]=q<<16|Y}return new f(O,O[O.length-1]&-2147483648?-1:0)};function F(V,P){return V.add(G(P))}n.j=function(V){if(M(this)||M(V))return A;if(k(this))return k(V)?G(this).j(G(V)):G(G(this).j(V));if(k(V))return G(this.j(G(V)));if(0>this.l(R)&&0>V.l(R))return x(this.m()*V.m());for(var P=this.g.length+V.g.length,O=[],W=0;W<2*P;W++)O[W]=0;for(W=0;W<this.g.length;W++)for(var X=0;X<V.g.length;X++){var Y=this.i(W)>>>16,q=this.i(W)&65535,be=V.i(X)>>>16,le=V.i(X)&65535;O[2*W+2*X]+=q*le,K(O,2*W+2*X),O[2*W+2*X+1]+=Y*le,K(O,2*W+2*X+1),O[2*W+2*X+1]+=q*be,K(O,2*W+2*X+1),O[2*W+2*X+2]+=Y*be,K(O,2*W+2*X+2)}for(W=0;W<P;W++)O[W]=O[2*W+1]<<16|O[2*W];for(W=P;W<2*P;W++)O[W]=0;return new f(O,0)};function K(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function L(V,P){this.g=V,this.h=P}function $(V,P){if(M(P))throw Error("division by zero");if(M(V))return new L(A,A);if(k(V))return P=$(G(V),P),new L(G(P.g),G(P.h));if(k(P))return P=$(V,G(P)),new L(G(P.g),P.h);if(30<V.g.length){if(k(V)||k(P))throw Error("slowDivide_ only works with positive integers.");for(var O=I,W=P;0>=W.l(V);)O=te(O),W=te(W);var X=ie(O,1),Y=ie(W,1);for(W=ie(W,2),O=ie(O,2);!M(W);){var q=Y.add(W);0>=q.l(V)&&(X=X.add(O),Y=q),W=ie(W,1),O=ie(O,1)}return P=F(V,X.j(P)),new L(X,P)}for(X=A;0<=V.l(P);){for(O=Math.max(1,Math.floor(V.m()/P.m())),W=Math.ceil(Math.log(O)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),Y=x(O),q=Y.j(P);k(q)||0<q.l(V);)O-=W,Y=x(O),q=Y.j(P);M(Y)&&(Y=I),X=X.add(Y),V=F(V,q)}return new L(X,V)}n.A=function(V){return $(this,V).h},n.and=function(V){for(var P=Math.max(this.g.length,V.g.length),O=[],W=0;W<P;W++)O[W]=this.i(W)&V.i(W);return new f(O,this.h&V.h)},n.or=function(V){for(var P=Math.max(this.g.length,V.g.length),O=[],W=0;W<P;W++)O[W]=this.i(W)|V.i(W);return new f(O,this.h|V.h)},n.xor=function(V){for(var P=Math.max(this.g.length,V.g.length),O=[],W=0;W<P;W++)O[W]=this.i(W)^V.i(W);return new f(O,this.h^V.h)};function te(V){for(var P=V.g.length+1,O=[],W=0;W<P;W++)O[W]=V.i(W)<<1|V.i(W-1)>>>31;return new f(O,V.h)}function ie(V,P){var O=P>>5;P%=32;for(var W=V.g.length-O,X=[],Y=0;Y<W;Y++)X[Y]=0<P?V.i(Y+O)>>>P|V.i(Y+O+1)<<32-P:V.i(Y+O);return new f(X,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LA=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=x,f.fromString=E,Ko=f}).apply(typeof M2<"u"?M2:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PA,Cd,BA,Jh,Gm,VA,UA,FA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,N,U){return b==Array.prototype||b==Object.prototype||(b[N]=U.value),b};function t(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var N=0;N<b.length;++N){var U=b[N];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=t(this);function s(b,N){if(N)e:{var U=r;b=b.split(".");for(var ee=0;ee<b.length-1;ee++){var pe=b[ee];if(!(pe in U))break e;U=U[pe]}b=b[b.length-1],ee=U[b],N=N(ee),N!=ee&&N!=null&&e(U,b,{configurable:!0,writable:!0,value:N})}}function o(b,N){b instanceof String&&(b+="");var U=0,ee=!1,pe={next:function(){if(!ee&&U<b.length){var Se=U++;return{value:N(Se,b[Se]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}s("Array.prototype.values",function(b){return b||function(){return o(this,function(N,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function y(b){var N=typeof b;return N=N!="object"?N:b?Array.isArray(b)?"array":N:"null",N=="array"||N=="object"&&typeof b.length=="number"}function x(b){var N=typeof b;return N=="object"&&b!=null||N=="function"}function E(b,N,U){return b.call.apply(b.bind,arguments)}function A(b,N,U){if(!b)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,ee),b.apply(N,pe)}}return function(){return b.apply(N,arguments)}}function I(b,N,U){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,I.apply(null,arguments)}function R(b,N){var U=Array.prototype.slice.call(arguments,1);return function(){var ee=U.slice();return ee.push.apply(ee,arguments),b.apply(this,ee)}}function M(b,N){function U(){}U.prototype=N.prototype,b.aa=N.prototype,b.prototype=new U,b.prototype.constructor=b,b.Qb=function(ee,pe,Se){for(var ze=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ze[zt-2]=arguments[zt];return N.prototype[pe].apply(ee,ze)}}function k(b){const N=b.length;if(0<N){const U=Array(N);for(let ee=0;ee<N;ee++)U[ee]=b[ee];return U}return[]}function G(b,N){for(let U=1;U<arguments.length;U++){const ee=arguments[U];if(y(ee)){const pe=b.length||0,Se=ee.length||0;b.length=pe+Se;for(let ze=0;ze<Se;ze++)b[pe+ze]=ee[ze]}else b.push(ee)}}class F{constructor(N,U){this.i=N,this.j=U,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function K(b){return/^[\s\xa0]*$/.test(b)}function L(){var b=p.navigator;return b&&(b=b.userAgent)?b:""}function $(b){return $[" "](b),b}$[" "]=function(){};var te=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function ie(b,N,U){for(const ee in b)N.call(U,b[ee],ee,b)}function V(b,N){for(const U in b)N.call(void 0,b[U],U,b)}function P(b){const N={};for(const U in b)N[U]=b[U];return N}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(b,N){let U,ee;for(let pe=1;pe<arguments.length;pe++){ee=arguments[pe];for(U in ee)b[U]=ee[U];for(let Se=0;Se<O.length;Se++)U=O[Se],Object.prototype.hasOwnProperty.call(ee,U)&&(b[U]=ee[U])}}function X(b){var N=1;b=b.split(":");const U=[];for(;0<N&&b.length;)U.push(b.shift()),N--;return b.length&&U.push(b.join(":")),U}function Y(b){p.setTimeout(()=>{throw b},0)}function q(){var b=Re;let N=null;return b.g&&(N=b.g,b.g=b.g.next,b.g||(b.h=null),N.next=null),N}class be{constructor(){this.h=this.g=null}add(N,U){const ee=le.get();ee.set(N,U),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var le=new F(()=>new ae,b=>b.reset());class ae{constructor(){this.next=this.g=this.h=null}set(N,U){this.h=N,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,we=!1,Re=new be,ne=()=>{const b=p.Promise.resolve(void 0);fe=()=>{b.then(ye)}};var ye=()=>{for(var b;b=q();){try{b.h.call(b.g)}catch(U){Y(U)}var N=le;N.j(b),100>N.h&&(N.h++,b.next=N.g,N.g=b)}we=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(b,N){this.type=b,this.g=this.target=N,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var Ge=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var b=!1,N=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const U=()=>{};p.addEventListener("test",U,N),p.removeEventListener("test",U,N)}catch{}return b}();function it(b,N){if(Oe.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var U=this.type=b.type,ee=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=N,N=b.relatedTarget){if(te){e:{try{$(N.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(N=null)}}else U=="mouseover"?N=b.fromElement:U=="mouseout"&&(N=b.toElement);this.relatedTarget=N,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:Ce[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&it.aa.h.call(this)}}M(it,Oe);var Ce={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),He=0;function Ye(b,N,U,ee,pe){this.listener=b,this.proxy=null,this.src=N,this.type=U,this.capture=!!ee,this.ha=pe,this.key=++He,this.da=this.fa=!1}function lt(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function et(b){this.src=b,this.g={},this.h=0}et.prototype.add=function(b,N,U,ee,pe){var Se=b.toString();b=this.g[Se],b||(b=this.g[Se]=[],this.h++);var ze=nt(b,N,ee,pe);return-1<ze?(N=b[ze],U||(N.fa=!1)):(N=new Ye(N,this.src,Se,!!ee,pe),N.fa=U,b.push(N)),N};function xt(b,N){var U=N.type;if(U in b.g){var ee=b.g[U],pe=Array.prototype.indexOf.call(ee,N,void 0),Se;(Se=0<=pe)&&Array.prototype.splice.call(ee,pe,1),Se&&(lt(N),b.g[U].length==0&&(delete b.g[U],b.h--))}}function nt(b,N,U,ee){for(var pe=0;pe<b.length;++pe){var Se=b[pe];if(!Se.da&&Se.listener==N&&Se.capture==!!U&&Se.ha==ee)return pe}return-1}var on="closure_lm_"+(1e6*Math.random()|0),Lt={};function Jn(b,N,U,ee,pe){if(Array.isArray(N)){for(var Se=0;Se<N.length;Se++)Jn(b,N[Se],U,ee,pe);return null}return U=eo(U),b&&b[We]?b.K(N,U,x(ee)?!!ee.capture:!1,pe):wt(b,N,U,!1,ee,pe)}function wt(b,N,U,ee,pe,Se){if(!N)throw Error("Invalid event type");var ze=x(pe)?!!pe.capture:!!pe,zt=ua(b);if(zt||(b[on]=zt=new et(b)),U=zt.add(N,U,ee,ze,Se),U.proxy)return U;if(ee=Pt(),U.proxy=ee,ee.src=b,ee.listener=U,b.addEventListener)Ge||(pe=ze),pe===void 0&&(pe=!1),b.addEventListener(N.toString(),ee,pe);else if(b.attachEvent)b.attachEvent(qe(N.toString()),ee);else if(b.addListener&&b.removeListener)b.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Pt(){function b(U){return N.call(b.src,b.listener,U)}const N=Ts;return b}function _t(b,N,U,ee,pe){if(Array.isArray(N))for(var Se=0;Se<N.length;Se++)_t(b,N[Se],U,ee,pe);else ee=x(ee)?!!ee.capture:!!ee,U=eo(U),b&&b[We]?(b=b.i,N=String(N).toString(),N in b.g&&(Se=b.g[N],U=nt(Se,U,ee,pe),-1<U&&(lt(Se[U]),Array.prototype.splice.call(Se,U,1),Se.length==0&&(delete b.g[N],b.h--)))):b&&(b=ua(b))&&(N=b.g[N.toString()],b=-1,N&&(b=nt(N,U,ee,pe)),(U=-1<b?N[b]:null)&&Mr(U))}function Mr(b){if(typeof b!="number"&&b&&!b.da){var N=b.src;if(N&&N[We])xt(N.i,b);else{var U=b.type,ee=b.proxy;N.removeEventListener?N.removeEventListener(U,ee,b.capture):N.detachEvent?N.detachEvent(qe(U),ee):N.addListener&&N.removeListener&&N.removeListener(ee),(U=ua(N))?(xt(U,b),U.h==0&&(U.src=null,N[on]=null)):lt(b)}}}function qe(b){return b in Lt?Lt[b]:Lt[b]="on"+b}function Ts(b,N){if(b.da)b=!0;else{N=new it(N,this);var U=b.listener,ee=b.ha||b.src;b.fa&&Mr(b),b=U.call(ee,N)}return b}function ua(b){return b=b[on],b instanceof et?b:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(b){return typeof b=="function"?b:(b[fi]||(b[fi]=function(N){return b.handleEvent(N)}),b[fi])}function Kt(){Ne.call(this),this.i=new et(this),this.M=this,this.F=null}M(Kt,Ne),Kt.prototype[We]=!0,Kt.prototype.removeEventListener=function(b,N,U,ee){_t(this,b,N,U,ee)};function en(b,N){var U,ee=b.F;if(ee)for(U=[];ee;ee=ee.F)U.push(ee);if(b=b.M,ee=N.type||N,typeof N=="string")N=new Oe(N,b);else if(N instanceof Oe)N.target=N.target||b;else{var pe=N;N=new Oe(ee,b),W(N,pe)}if(pe=!0,U)for(var Se=U.length-1;0<=Se;Se--){var ze=N.g=U[Se];pe=er(ze,ee,!0,N)&&pe}if(ze=N.g=b,pe=er(ze,ee,!0,N)&&pe,pe=er(ze,ee,!1,N)&&pe,U)for(Se=0;Se<U.length;Se++)ze=N.g=U[Se],pe=er(ze,ee,!1,N)&&pe}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var b=this.i,N;for(N in b.g){for(var U=b.g[N],ee=0;ee<U.length;ee++)lt(U[ee]);delete b.g[N],b.h--}}this.F=null},Kt.prototype.K=function(b,N,U,ee){return this.i.add(String(b),N,!1,U,ee)},Kt.prototype.L=function(b,N,U,ee){return this.i.add(String(b),N,!0,U,ee)};function er(b,N,U,ee){if(N=b.i.g[String(N)],!N)return!0;N=N.concat();for(var pe=!0,Se=0;Se<N.length;++Se){var ze=N[Se];if(ze&&!ze.da&&ze.capture==U){var zt=ze.listener,Pn=ze.ha||ze.src;ze.fa&&xt(b.i,ze),pe=zt.call(Pn,ee)!==!1&&pe}}return pe&&!ee.defaultPrevented}function tn(b,N,U){if(typeof b=="function")U&&(b=I(b,U));else if(b&&typeof b.handleEvent=="function")b=I(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:p.setTimeout(b,N||0)}function hl(b){b.g=tn(()=>{b.g=null,b.i&&(b.i=!1,hl(b))},b.l);const N=b.h;b.h=null,b.m.apply(null,N)}class to extends Ne{constructor(N,U){super(),this.m=N,this.l=U,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(b){Ne.call(this),this.h=b,this.g={}}M(da,Ne);var wn=[];function Fe(b){ie(b.g,function(N,U){this.g.hasOwnProperty(U)&&Mr(N)},b),b.g={}}da.prototype.N=function(){da.aa.N.call(this),Fe(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=p.JSON.stringify,Qt=p.JSON.parse,un=class{stringify(b){return p.JSON.stringify(b,void 0)}parse(b){return p.JSON.parse(b,void 0)}};function As(){}As.prototype.h=null;function fa(b){return b.h||(b.h=b.i())}function no(){}var Ct={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){Oe.call(this,"d")}M(zr,Oe);function ro(){Oe.call(this,"c")}M(ro,Oe);var Li={},jr=null;function is(){return jr=jr||new Kt}Li.La="serverreachability";function Qn(b){Oe.call(this,Li.La,b)}M(Qn,Oe);function hi(b){const N=is();en(N,new Qn(N))}Li.STAT_EVENT="statevent";function ha(b,N){Oe.call(this,Li.STAT_EVENT,b),this.stat=N}M(ha,Oe);function Xt(b){const N=is();en(N,new ha(N,b))}Li.Ma="timingevent";function lr(b,N){Oe.call(this,Li.Ma,b),this.size=N}M(lr,Oe);function vn(b,N){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){b()},N)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function pr(b,N,U,ee,pe,Se){b.info(function(){if(b.g)if(Se)for(var ze="",zt=Se.split("&"),Pn=0;Pn<zt.length;Pn++){var jt=zt[Pn].split("=");if(1<jt.length){var In=jt[0];jt=jt[1];var Yn=In.split("_");ze=2<=Yn.length&&Yn[1]=="type"?ze+(In+"="+jt+"&"):ze+(In+"=redacted&")}}else ze=null;else ze=Se;return"XMLHTTP REQ ("+ee+") [attempt "+pe+"]: "+N+`
`+U+`
`+ze})}function Ss(b,N,U,ee,pe,Se,ze){b.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+pe+"]: "+N+`
`+U+`
`+Se+" "+ze})}function cr(b,N,U,ee){b.info(function(){return"XMLHTTP TEXT ("+N+"): "+vi(b,U)+(ee?" "+ee:"")})}function Xe(b,N){b.info(function(){return"TIMEOUT: "+N})}Jr.prototype.info=function(){};function vi(b,N){if(!b.g)return N;if(!N)return null;try{var U=JSON.parse(N);if(U){for(b=0;b<U.length;b++)if(Array.isArray(U[b])){var ee=U[b];if(!(2>ee.length)){var pe=ee[1];if(Array.isArray(pe)&&!(1>pe.length)){var Se=pe[0];if(Se!="noop"&&Se!="stop"&&Se!="close")for(var ze=1;ze<pe.length;ze++)pe[ze]=""}}}}return ln(U)}catch{return N}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hr;function gi(){}M(gi,As),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},Hr=new gi;function mr(b,N,U,ee){this.j=b,this.i=N,this.l=U,this.R=ee||1,this.U=new da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nn}function nn(){this.i=null,this.g="",this.h=!1}var gl={},io={};function tr(b,N,U){b.L=1,b.v=Nn(Dt(N)),b.m=U,b.P=!0,Dn(b,null)}function Dn(b,N){b.F=Date.now(),ei(b),b.A=Dt(b.v);var U=b.A,ee=b.R;Array.isArray(ee)||(ee=[String(ee)]),Hn(U.i,"t",ee),b.C=0,U=b.j.J,b.h=new nn,b.g=oc(b.j,U?N:null,!b.m),0<b.O&&(b.M=new to(I(b.Y,b,b.g),b.O)),N=b.U,U=b.g,ee=b.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(wn[0]=pe.toString()),pe=wn);for(var Se=0;Se<pe.length;Se++){var ze=Jn(U,pe[Se],ee||N.handleEvent,!1,N.h||N);if(!ze)break;N.g[ze.key]=ze}N=b.H?P(b.H):{},b.m?(b.u||(b.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,N)):(b.u="GET",b.g.ea(b.A,b.u,null,N)),hi(),pr(b.i,b.u,b.A,b.l,b.R,b.m)}mr.prototype.ca=function(b){b=b.target;const N=this.M;N&&Ei(b)==3?N.j():this.Y(b)},mr.prototype.Y=function(b){try{if(b==this.g)e:{const Yn=Ei(this.g);var N=this.g.Ba();const rr=this.g.Z();if(!(3>Yn)&&(Yn!=3||this.g&&(this.h.h||this.g.oa()||ic(this.g)))){this.J||Yn!=4||N==7||(N==8||0>=rr?hi(3):hi(2)),De(this);var U=this.g.Z();this.X=U;t:if(gn(this)){var ee=ic(this.g);b="";var pe=ee.length,Se=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nt(this),as(this);var ze="";break t}this.h.i=new p.TextDecoder}for(N=0;N<pe;N++)this.h.h=!0,b+=this.h.i.decode(ee[N],{stream:!(Se&&N==pe-1)});ee.length=0,this.h.g+=b,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=U==200,Ss(this.i,this.u,this.A,this.l,this.R,Yn,U),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,Pn=this.g;if((zt=Pn.g?Pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(zt)){var jt=zt;break t}}jt=null}if(U=jt)cr(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bi(this,U);else{this.o=!1,this.s=3,Xt(12),Nt(this),as(this);break e}}if(this.P){U=!0;let yr;for(;!this.J&&this.C<ze.length;)if(yr=pl(this,ze),yr==io){Yn==4&&(this.s=4,Xt(14),U=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==gl){this.s=4,Xt(15),cr(this.i,this.l,ze,"[Invalid Chunk]"),U=!1;break}else cr(this.i,this.l,yr,null),bi(this,yr);if(gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yn!=4||ze.length!=0||this.h.h||(this.s=1,Xt(16),U=!1),this.o=this.o&&U,!U)cr(this.i,this.l,ze,"[Invalid Chunked Response]"),Nt(this),as(this);else if(0<ze.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),Ns(In),In.M=!0,Xt(11))}}else cr(this.i,this.l,ze,null),bi(this,ze);Yn==4&&Nt(this),this.o&&!this.J&&(Yn==4?Cn(this.j,this):(this.o=!1,ei(this)))}else rn(this.g),U==400&&0<ze.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Nt(this),as(this)}}}catch{}finally{}};function gn(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function pl(b,N){var U=b.C,ee=N.indexOf(`
`,U);return ee==-1?io:(U=Number(N.substring(U,ee)),isNaN(U)?gl:(ee+=1,ee+U>N.length?io:(N=N.slice(ee,ee+U),b.C=ee+U,N)))}mr.prototype.cancel=function(){this.J=!0,Nt(this)};function ei(b){b.S=Date.now()+b.I,so(b,b.I)}function so(b,N){if(b.B!=null)throw Error("WatchDog timer not null");b.B=vn(I(b.ba,b),N)}function De(b){b.B&&(p.clearTimeout(b.B),b.B=null)}mr.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Xe(this.i,this.A),this.L!=2&&(hi(),Xt(17)),Nt(this),this.s=2,as(this)):so(this,this.S-b)};function as(b){b.j.G==0||b.J||Cn(b.j,b)}function Nt(b){De(b);var N=b.M;N&&typeof N.ma=="function"&&N.ma(),b.M=null,Fe(b.U),b.g&&(N=b.g,b.g=null,N.abort(),N.ma())}function bi(b,N){try{var U=b.j;if(U.G!=0&&(U.g==b||ga(U.h,b))){if(!b.K&&ga(U.h,b)&&U.G==3){try{var ee=U.Da.g.parse(N)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var pe=ee;if(pe[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<b.F)Gs(U),co(U);else break e;ml(U),Xt(18)}}else U.za=pe[1],0<U.za-U.T&&37500>pe[2]&&U.F&&U.v==0&&!U.C&&(U.C=vn(I(U.Za,U),6e3));if(1>=St(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else qr(U,11)}else if((b.K||U.g==b)&&Gs(U),!K(N))for(pe=U.Da.g.parse(N),N=0;N<pe.length;N++){let jt=pe[N];if(U.T=jt[0],jt=jt[1],U.G==2)if(jt[0]=="c"){U.K=jt[1],U.ia=jt[2];const In=jt[3];In!=null&&(U.la=In,U.j.info("VER="+U.la));const Yn=jt[4];Yn!=null&&(U.Aa=Yn,U.j.info("SVER="+U.Aa));const rr=jt[5];rr!=null&&typeof rr=="number"&&0<rr&&(ee=1.5*rr,U.L=ee,U.j.info("backChannelRequestTimeoutMs_="+ee)),ee=U;const yr=b.g;if(yr){const dr=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var Se=ee.h;Se.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(Fs(Se,Se.h),Se.h=null))}if(ee.D){const yl=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(ee.ya=yl,je(ee.I,ee.D,yl))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-b.F,U.j.info("Handshake RTT: "+U.R+"ms")),ee=U;var ze=b;if(ee.qa=ot(ee,ee.J?ee.ia:null,ee.W),ze.K){Er(ee.h,ze);var zt=ze,Pn=ee.L;Pn&&(zt.I=Pn),zt.B&&(De(zt),ei(zt)),ee.g=ze}else ac(ee);0<U.i.length&&vt(U)}else jt[0]!="stop"&&jt[0]!="close"||qr(U,7);else U.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?qr(U,7):_i(U):jt[0]!="noop"&&U.l&&U.l.ta(jt),U.v=0)}}hi(4)}catch{}}var nc=class{constructor(b,N){this.g=b,this.map=N}};function Mt(b){this.l=b||10,p.PerformanceNavigationTiming?(b=p.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bt(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function St(b){return b.h?1:b.g?b.g.size:0}function ga(b,N){return b.h?b.h==N:b.g?b.g.has(N):!1}function Fs(b,N){b.g?b.g.add(N):b.h=N}function Er(b,N){b.h&&b.h==N?b.h=null:b.g&&b.g.has(N)&&b.g.delete(N)}Mt.prototype.cancel=function(){if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function On(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let N=b.i;for(const U of b.g.values())N=N.concat(U.D);return N}return k(b.i)}function os(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(y(b)){for(var N=[],U=b.length,ee=0;ee<U;ee++)N.push(b[ee]);return N}N=[],U=0;for(ee in b)N[U++]=b[ee];return N}function ao(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(y(b)||typeof b=="string"){var N=[];b=b.length;for(var U=0;U<b;U++)N.push(U);return N}N=[],U=0;for(const ee in b)N[U++]=ee;return N}}}function Tn(b,N){if(b.forEach&&typeof b.forEach=="function")b.forEach(N,void 0);else if(y(b)||typeof b=="string")Array.prototype.forEach.call(b,N,void 0);else for(var U=ao(b),ee=os(b),pe=ee.length,Se=0;Se<pe;Se++)N.call(void 0,ee[Se],U&&U[Se],b)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mu(b,N){if(b){b=b.split("&");for(var U=0;U<b.length;U++){var ee=b[U].indexOf("="),pe=null;if(0<=ee){var Se=b[U].substring(0,ee);pe=b[U].substring(ee+1)}else Se=b[U];N(Se,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function An(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof An){this.h=b.h,jn(this,b.j),this.o=b.o,this.g=b.g,ge(this,b.s),this.l=b.l;var N=b.i,U=new Pi;U.i=N.i,N.g&&(U.g=new Map(N.g),U.h=N.h),re(this,U),this.m=b.m}else b&&(N=String(b).match(ti))?(this.h=!1,jn(this,N[1]||"",!0),this.o=kn(N[2]||""),this.g=kn(N[3]||"",!0),ge(this,N[4]),this.l=kn(N[5]||"",!0),re(this,N[6]||"",!0),this.m=kn(N[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}An.prototype.toString=function(){var b=[],N=this.j;N&&b.push(pa(N,Dr,!0),":");var U=this.g;return(U||N=="file")&&(b.push("//"),(N=this.o)&&b.push(pa(N,Dr,!0),"@"),b.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&b.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&b.push("/"),b.push(pa(U,U.charAt(0)=="/"?Sn:rt,!0))),(U=this.i.toString())&&b.push("?",U),(U=this.m)&&b.push("#",pa(U,lo)),b.join("")};function Dt(b){return new An(b)}function jn(b,N,U){b.j=U?kn(N,!0):N,b.j&&(b.j=b.j.replace(/:$/,""))}function ge(b,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);b.s=N}else b.s=null}function re(b,N,U){N instanceof Pi?(b.i=N,Vi(b.i,b.h)):(U||(N=pa(N,rc)),b.i=new Pi(N,b.h))}function je(b,N,U){b.i.set(N,U)}function Nn(b){return je(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function kn(b,N){return b?N?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function pa(b,N,U){return typeof b=="string"?(b=encodeURI(b).replace(N,oo),U&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function oo(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Dr=/[#\/\?@]/g,rt=/[#\?:]/g,Sn=/[#\?]/g,rc=/[#\?@]/g,lo=/#/g;function Pi(b,N){this.h=this.g=null,this.i=b||null,this.j=!!N}function Gr(b){b.g||(b.g=new Map,b.h=0,b.i&&Mu(b.i,function(N,U){b.add(decodeURIComponent(N.replace(/\+/g," ")),U)}))}n=Pi.prototype,n.add=function(b,N){Gr(this),this.i=null,b=ni(this,b);var U=this.g.get(b);return U||this.g.set(b,U=[]),U.push(N),this.h+=1,this};function Bi(b,N){Gr(b),N=ni(b,N),b.g.has(N)&&(b.i=null,b.h-=b.g.get(N).length,b.g.delete(N))}function Cs(b,N){return Gr(b),N=ni(b,N),b.g.has(N)}n.forEach=function(b,N){Gr(this),this.g.forEach(function(U,ee){U.forEach(function(pe){b.call(N,pe,ee,this)},this)},this)},n.na=function(){Gr(this);const b=Array.from(this.g.values()),N=Array.from(this.g.keys()),U=[];for(let ee=0;ee<N.length;ee++){const pe=b[ee];for(let Se=0;Se<pe.length;Se++)U.push(N[ee])}return U},n.V=function(b){Gr(this);let N=[];if(typeof b=="string")Cs(this,b)&&(N=N.concat(this.g.get(ni(this,b))));else{b=Array.from(this.g.values());for(let U=0;U<b.length;U++)N=N.concat(b[U])}return N},n.set=function(b,N){return Gr(this),this.i=null,b=ni(this,b),Cs(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[N]),this.h+=1,this},n.get=function(b,N){return b?(b=this.V(b),0<b.length?String(b[0]):N):N};function Hn(b,N,U){Bi(b,N),0<U.length&&(b.i=null,b.g.set(ni(b,N),k(U)),b.h+=U.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],N=Array.from(this.g.keys());for(var U=0;U<N.length;U++){var ee=N[U];const Se=encodeURIComponent(String(ee)),ze=this.V(ee);for(ee=0;ee<ze.length;ee++){var pe=Se;ze[ee]!==""&&(pe+="="+encodeURIComponent(String(ze[ee]))),b.push(pe)}}return this.i=b.join("&")};function ni(b,N){return N=String(N),b.j&&(N=N.toLowerCase()),N}function Vi(b,N){N&&!b.j&&(Gr(b),b.i=null,b.g.forEach(function(U,ee){var pe=ee.toLowerCase();ee!=pe&&(Bi(this,ee),Hn(this,pe,U))},b)),b.j=N}function st(b,N){const U=new Jr;if(p.Image){const ee=new Image;ee.onload=R(ut,U,"TestLoadImage: loaded",!0,N,ee),ee.onerror=R(ut,U,"TestLoadImage: error",!1,N,ee),ee.onabort=R(ut,U,"TestLoadImage: abort",!1,N,ee),ee.ontimeout=R(ut,U,"TestLoadImage: timeout",!1,N,ee),p.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=b}else N(!1)}function Ui(b,N){const U=new Jr,ee=new AbortController,pe=setTimeout(()=>{ee.abort(),ut(U,"TestPingServer: timeout",!1,N)},1e4);fetch(b,{signal:ee.signal}).then(Se=>{clearTimeout(pe),Se.ok?ut(U,"TestPingServer: ok",!0,N):ut(U,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(pe),ut(U,"TestPingServer: error",!1,N)})}function ut(b,N,U,ee,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),ee(U)}catch{}}function Ln(){this.g=new un}function ls(b,N,U){const ee=U||"";try{Tn(b,function(pe,Se){let ze=pe;x(pe)&&(ze=ln(pe)),N.push(ee+Se+"="+encodeURIComponent(ze))})}catch(pe){throw N.push(ee+"type="+encodeURIComponent("_badmap")),pe}}function cs(b){this.l=b.Ub||null,this.j=b.eb||!1}M(cs,As),cs.prototype.g=function(){return new us(this.l,this.j)},cs.prototype.i=function(b){return function(){return b}}({});function us(b,N){Kt.call(this),this.D=b,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(us,Kt),n=us.prototype,n.open=function(b,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=N,this.readyState=1,ri(this)},n.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(N.body=b),(this.D||p).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},n.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fi(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fi(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}n.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var N=b.value?b.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!b.done}))&&(this.response=this.responseText+=N)}b.done?ds(this):ri(this),this.readyState==3&&Fi(this)}},n.Ra=function(b){this.g&&(this.response=this.responseText=b,ds(this))},n.Qa=function(b){this.g&&(this.response=b,ds(this))},n.ga=function(){this.g&&ds(this)};function ds(b){b.readyState=4,b.l=null,b.j=null,b.v=null,ri(b)}n.setRequestHeader=function(b,N){this.u.append(b,N)},n.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],N=this.h.entries();for(var U=N.next();!U.done;)U=U.value,b.push(U[0]+": "+U[1]),U=N.next();return b.join(`\r
`)};function ri(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Is(b){let N="";return ie(b,function(U,ee){N+=ee,N+=":",N+=U,N+=`\r
`}),N}function Gn(b,N,U){e:{for(ee in U){var ee=!1;break e}ee=!0}ee||(U=Is(U),typeof b=="string"?U!=null&&encodeURIComponent(String(U)):je(b,N,U))}function Jt(b){Kt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Jt,Kt);var fs=/^https?$/i,zi=["POST","PUT"];n=Jt.prototype,n.Ha=function(b){this.J=b},n.ea=function(b,N,U,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);N=N?N.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hr.g(),this.v=this.o?fa(this.o):fa(Hr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(N,String(b),!0),this.B=!1}catch(Se){_r(this,Se);return}if(b=U||"",U=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var pe in ee)U.set(pe,ee[pe]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Se of ee.keys())U.set(Se,ee.get(Se));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(U.keys()).find(Se=>Se.toLowerCase()=="content-type"),pe=p.FormData&&b instanceof p.FormData,!(0<=Array.prototype.indexOf.call(zi,N,void 0))||ee||pe||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,ze]of U)this.g.setRequestHeader(Se,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xa(this),this.u=!0,this.g.send(b),this.u=!1}catch(Se){_r(this,Se)}};function _r(b,N){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=N,b.m=5,ma(b),ji(b)}function ma(b){b.A||(b.A=!0,en(b,"complete"),en(b,"error"))}n.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,en(this,"complete"),en(this,"abort"),ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ji(this,!0)),Jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},n.bb=function(){ya(this)};function ya(b){if(b.h&&typeof f<"u"&&(!b.v[1]||Ei(b)!=4||b.Z()!=2)){if(b.u&&Ei(b)==4)tn(b.Ea,0,b);else if(en(b,"readystatechange"),Ei(b)==4){b.h=!1;try{const ze=b.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var U;if(!(U=N)){var ee;if(ee=ze===0){var pe=String(b.D).match(ti)[1]||null;!pe&&p.self&&p.self.location&&(pe=p.self.location.protocol.slice(0,-1)),ee=!fs.test(pe?pe.toLowerCase():"")}U=ee}if(U)en(b,"complete"),en(b,"success");else{b.m=6;try{var Se=2<Ei(b)?b.g.statusText:""}catch{Se=""}b.l=Se+" ["+b.Z()+"]",ma(b)}}finally{ji(b)}}}}function ji(b,N){if(b.g){xa(b);const U=b.g,ee=b.v[0]?()=>{}:null;b.g=null,b.v=null,N||en(b,"ready");try{U.onreadystatechange=ee}catch{}}}function xa(b){b.I&&(p.clearTimeout(b.I),b.I=null)}n.isActive=function(){return!!this.g};function Ei(b){return b.g?b.g.readyState:0}n.Z=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(b){if(this.g){var N=this.g.responseText;return b&&N.indexOf(b)==0&&(N=N.substring(b.length)),Qt(N)}};function ic(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function rn(b){const N={};b=(b.g&&2<=Ei(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<b.length;ee++){if(K(b[ee]))continue;var U=X(b[ee]);const pe=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Se=N[pe]||[];N[pe]=Se,Se.push(U)}V(N,function(ee){return ee.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(b,N,U){return U&&U.internalChannelParams&&U.internalChannelParams[b]||N}function Rs(b){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,b),this.cb=zs("retryDelaySeedMs",1e4,b),this.Wa=zs("forwardChannelMaxRetries",2,b),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new Mt(b&&b.concurrentRequestLimit),this.Da=new Ln,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Rs.prototype,n.la=8,n.G=1,n.connect=function(b,N,U,ee){Xt(0),this.W=b,this.H=N||{},U&&ee!==void 0&&(this.H.OSID=U,this.H.OAID=ee),this.F=this.X,this.I=ot(this,null,this.W),vt(this)};function _i(b){if(Te(b),b.G==3){var N=b.U++,U=Dt(b.I);if(je(U,"SID",b.K),je(U,"RID",N),je(U,"TYPE","terminate"),Hs(b,U),N=new mr(b,b.j,N),N.L=2,N.v=Nn(Dt(U)),U=!1,p.navigator&&p.navigator.sendBeacon)try{U=p.navigator.sendBeacon(N.v.toString(),"")}catch{}!U&&p.Image&&(new Image().src=N.v,U=!0),U||(N.g=oc(N.j,null),N.g.ea(N.v)),N.F=Date.now(),ei(N)}sn(b)}function co(b){b.g&&(Ns(b),b.g.cancel(),b.g=null)}function Te(b){co(b),b.u&&(p.clearTimeout(b.u),b.u=null),Gs(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&p.clearTimeout(b.s),b.s=null)}function vt(b){if(!Bt(b.h)&&!b.s){b.s=!0;var N=b.Ga;fe||ne(),we||(fe(),we=!0),Re.add(N,b),b.B=0}}function ur(b,N){return St(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=N.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=vn(I(b.Ga,b,N),qs(b,b.B)),b.B++,!0)}n.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const pe=new mr(this,this.j,b);let Se=this.o;if(this.S&&(Se?(Se=P(Se),W(Se,this.S)):Se=this.S),this.m!==null||this.O||(pe.H=Se,Se=null),this.P)e:{for(var N=0,U=0;U<this.i.length;U++){t:{var ee=this.i[U];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(N+=ee,4096<N){N=U;break e}if(N===4096||U===this.i.length-1){N=U+1;break e}}N=1e3}else N=1e3;N=sc(this,pe,N),U=Dt(this.I),je(U,"RID",b),je(U,"CVER",22),this.D&&je(U,"X-HTTP-Session-Id",this.D),Hs(this,U),Se&&(this.O?N="headers="+encodeURIComponent(String(Is(Se)))+"&"+N:this.m&&Gn(U,this.m,Se)),Fs(this.h,pe),this.Ua&&je(U,"TYPE","init"),this.P?(je(U,"$req",N),je(U,"SID","null"),pe.T=!0,tr(pe,U,null)):tr(pe,U,N),this.G=2}}else this.G==3&&(b?js(this,b):this.i.length==0||Bt(this.h)||js(this))};function js(b,N){var U;N?U=N.l:U=b.U++;const ee=Dt(b.I);je(ee,"SID",b.K),je(ee,"RID",U),je(ee,"AID",b.T),Hs(b,ee),b.m&&b.o&&Gn(ee,b.m,b.o),U=new mr(b,b.j,U,b.B+1),b.m===null&&(U.H=b.o),N&&(b.i=N.D.concat(b.i)),N=sc(b,U,1e3),U.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),Fs(b.h,U),tr(U,ee,N)}function Hs(b,N){b.H&&ie(b.H,function(U,ee){je(N,ee,U)}),b.l&&Tn({},function(U,ee){je(N,ee,U)})}function sc(b,N,U){U=Math.min(b.i.length,U);var ee=b.l?I(b.l.Na,b.l,b):null;e:{var pe=b.i;let Se=-1;for(;;){const ze=["count="+U];Se==-1?0<U?(Se=pe[0].g,ze.push("ofs="+Se)):Se=0:ze.push("ofs="+Se);let zt=!0;for(let Pn=0;Pn<U;Pn++){let jt=pe[Pn].g;const In=pe[Pn].map;if(jt-=Se,0>jt)Se=Math.max(0,pe[Pn].g-100),zt=!1;else try{ls(In,ze,"req"+jt+"_")}catch{ee&&ee(In)}}if(zt){ee=ze.join("&");break e}}}return b=b.i.splice(0,U),N.D=b,ee}function ac(b){if(!b.g&&!b.u){b.Y=1;var N=b.Fa;fe||ne(),we||(fe(),we=!0),Re.add(N,b),b.v=0}}function ml(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=vn(I(b.Fa,b),qs(b,b.v)),b.v++,!0)}n.Fa=function(){if(this.u=null,qn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=vn(I(this.ab,this),b)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),co(this),qn(this))};function Ns(b){b.A!=null&&(p.clearTimeout(b.A),b.A=null)}function qn(b){b.g=new mr(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var N=Dt(b.qa);je(N,"RID","rpc"),je(N,"SID",b.K),je(N,"AID",b.T),je(N,"CI",b.F?"0":"1"),!b.F&&b.ja&&je(N,"TO",b.ja),je(N,"TYPE","xmlhttp"),Hs(b,N),b.m&&b.o&&Gn(N,b.m,b.o),b.L&&(b.g.I=b.L);var U=b.g;b=b.ia,U.L=1,U.v=Nn(Dt(N)),U.m=null,U.P=!0,Dn(U,b)}n.Za=function(){this.C!=null&&(this.C=null,co(this),ml(this),Xt(19))};function Gs(b){b.C!=null&&(p.clearTimeout(b.C),b.C=null)}function Cn(b,N){var U=null;if(b.g==N){Gs(b),Ns(b),b.g=null;var ee=2}else if(ga(b.h,N))U=N.D,Er(b.h,N),ee=1;else return;if(b.G!=0){if(N.o)if(ee==1){U=N.m?N.m.length:0,N=Date.now()-N.F;var pe=b.B;ee=is(),en(ee,new lr(ee,U)),vt(b)}else ac(b);else if(pe=N.s,pe==3||pe==0&&0<N.X||!(ee==1&&ur(b,N)||ee==2&&ml(b)))switch(U&&0<U.length&&(N=b.h,N.i=N.i.concat(U)),pe){case 1:qr(b,5);break;case 4:qr(b,10);break;case 3:qr(b,6);break;default:qr(b,2)}}}function qs(b,N){let U=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(U*=2),U*N}function qr(b,N){if(b.j.info("Error code "+N),N==2){var U=I(b.fb,b),ee=b.Xa;const pe=!ee;ee=new An(ee||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||jn(ee,"https"),Nn(ee),pe?st(ee.toString(),U):Ui(ee.toString(),U)}else Xt(2);b.G=0,b.l&&b.l.sa(N),sn(b),Te(b)}n.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function sn(b){if(b.G=0,b.ka=[],b.l){const N=On(b.h);(N.length!=0||b.i.length!=0)&&(G(b.ka,N),G(b.ka,b.i),b.h.i.length=0,k(b.i),b.i.length=0),b.l.ra()}}function ot(b,N,U){var ee=U instanceof An?Dt(U):new An(U);if(ee.g!="")N&&(ee.g=N+"."+ee.g),ge(ee,ee.s);else{var pe=p.location;ee=pe.protocol,N=N?N+"."+pe.hostname:pe.hostname,pe=+pe.port;var Se=new An(null);ee&&jn(Se,ee),N&&(Se.g=N),pe&&ge(Se,pe),U&&(Se.l=U),ee=Se}return U=b.D,N=b.ya,U&&N&&je(ee,U,N),je(ee,"VER",b.la),Hs(b,ee),ee}function oc(b,N,U){if(N&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=b.Ca&&!b.pa?new Jt(new cs({eb:U})):new Jt(b.pa),N.Ha(b.J),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dn(){}n=dn.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ti(){}Ti.prototype.g=function(b,N){return new nr(b,N)};function nr(b,N){Kt.call(this),this.g=new Rs(N),this.l=b,this.h=N&&N.messageUrlParams||null,b=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(b?b["X-WebChannel-Content-Type"]=N.messageContentType:b={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(b?b["X-WebChannel-Client-Profile"]=N.va:b={"X-WebChannel-Client-Profile":N.va}),this.g.S=b,(b=N&&N.Sb)&&!K(b)&&(this.g.m=b),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!K(N)&&(this.g.D=N,b=this.h,b!==null&&N in b&&(b=this.h,N in b&&delete b[N])),this.j=new Ai(this)}M(nr,Kt),nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nr.prototype.close=function(){_i(this.g)},nr.prototype.o=function(b){var N=this.g;if(typeof b=="string"){var U={};U.__data__=b,b=U}else this.u&&(U={},U.__data__=ln(b),b=U);N.i.push(new nc(N.Ya++,b)),N.G==3&&vt(N)},nr.prototype.N=function(){this.g.l=null,delete this.j,_i(this.g),delete this.g,nr.aa.N.call(this)};function lc(b){zr.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var N=b.__sm__;if(N){e:{for(const U in N){b=U;break e}b=void 0}(this.i=b)&&(b=this.i,N=N!==null&&b in N?N[b]:void 0),this.data=N}else this.data=b}M(lc,zr);function pi(){ro.call(this),this.status=1}M(pi,ro);function Ai(b){this.g=b}M(Ai,dn),Ai.prototype.ua=function(){en(this.g,"a")},Ai.prototype.ta=function(b){en(this.g,new lc(b))},Ai.prototype.sa=function(b){en(this.g,new pi)},Ai.prototype.ra=function(){en(this.g,"b")},Ti.prototype.createWebChannel=Ti.prototype.g,nr.prototype.send=nr.prototype.o,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,FA=function(){return new Ti},UA=function(){return is()},VA=Li,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Jh=ss,zn.COMPLETE="complete",BA=zn,no.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,Cd=no,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,PA=Jt}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const D2="@firebase/firestore",O2="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Ly("@firebase/firestore");function zc(){return ql.logLevel}function $e(n,...e){if(ql.logLevel<=qt.DEBUG){const t=e.map(Wy);ql.debug(`Firestore (${bu}): ${n}`,...t)}}function Xa(n,...e){if(ql.logLevel<=qt.ERROR){const t=e.map(Wy);ql.error(`Firestore (${bu}): ${n}`,...t)}}function lu(n,...e){if(ql.logLevel<=qt.WARN){const t=e.map(Wy);ql.warn(`Firestore (${bu}): ${n}`,...t)}}function Wy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n="Unexpected state"){const e=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: `+n;throw Xa(e),new Error(e)}function hn(n,e){n||yt()}function At(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends Za{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class H6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class G6{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){hn(this.o===void 0);let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let o=new Qo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qo,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const y=o;e.enqueueRetryable(async()=>{await y.promise,await s(this.currentUser)})},p=y=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qo)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(hn(typeof r.accessToken=="string"),new zA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hn(e===null||typeof e=="string"),new ci(e)}}class q6{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y6{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new q6(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W6{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){hn(this.o===void 0);const r=o=>{o.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const f=o.token!==this.R;return this.R=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new k2(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(hn(typeof t.token=="string"),this.R=t.token,new k2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=X6(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function kt(n,e){return n<e?-1:n>e?1:0}function qm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return kt(r,s);{const o=jA(),f=K6(o.encode(L2(n,t)),o.encode(L2(e,t)));return f!==0?f:kt(r,s)}}t+=r>65535?2:1}return kt(n.length,e.length)}function L2(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function K6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return kt(n[t],e[t]);return kt(n.length,e.length)}function cu(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=-62135596800,B2=1e6;class Fn{static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*B2);return new Fn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Je(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Je(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<P2)throw new Je(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B2}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-P2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Fn(0,0))}static max(){return new Et(new Fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="__name__";class ea{constructor(e,t,r){t===void 0?t=0:t>e.length&&yt(),r===void 0?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=ea.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return kt(e.length,t.length)}static compareSegments(e,t){const r=ea.isNumericId(e),s=ea.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ea.extractNumericId(e).compare(ea.extractNumericId(t)):qm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ko.fromString(e.substring(4,e.length-2))}}class Un extends ea{construct(e,t,r){return new Un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const Q6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends ea{construct(e,t,r){return new $r(e,t,r)}static isValidIdentifier(e){return Q6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V2}static keyField(){return new $r([V2])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Je(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;s<e.length;){const p=e[s];if(p==="\\"){if(s+1===e.length)throw new Je(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[s+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Je(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,s+=2}else p==="`"?(f=!f,s++):p!=="."||f?(r+=p,s++):(o(),s++)}if(o(),f)throw new Je(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(t)}static emptyPath(){return new $r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Un.fromString(e))}static fromName(e){return new ct(Un.fromString(e).popFirst(5))}static empty(){return new ct(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Un(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=-1;function $6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Et.fromTimestamp(r===1e9?new Fn(t+1,0):new Fn(t,r));return new Zo(s,ct.empty(),e)}function Z6(n){return new Zo(n.readTime,n.key,Kd)}class Zo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zo(Et.min(),ct.empty(),Kd)}static max(){return new Zo(Et.max(),ct.empty(),Kd)}}function J6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ct.comparator(n.documentKey,e.documentKey),t!==0?t:kt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(n){if(n.code!==Pe.FAILED_PRECONDITION||n.message!==eO)throw n;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Le((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Le?t:Le.resolve(t)}catch(t){return Le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Le.reject(t)}static resolve(e){return new Le((t,r)=>{t(e)})}static reject(e){return new Le((t,r)=>{r(e)})}static waitFor(e){return new Le((t,r)=>{let s=0,o=0,f=!1;e.forEach(p=>{++s,p.next(()=>{++o,f&&o===s&&t()},y=>r(y))}),f=!0,o===s&&t()})}static or(e){let t=Le.resolve(!1);for(const r of e)t=t.next(s=>s?Le.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new Le((r,s)=>{const o=e.length,f=new Array(o);let p=0;for(let y=0;y<o;y++){const x=y;t(e[x]).next(E=>{f[x]=E,++p,p===o&&r(f)},E=>s(E))}})}static doWhile(e,t){return new Le((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function nO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _u(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Z0.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function J0(n){return n==null}function y0(n){return n===0&&1/n==-1/0}function rO(n){return typeof n=="number"&&Number.isInteger(n)&&!y0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="";function iO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U2(e)),e=sO(n.get(t),e);return U2(e)}function sO(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case GA:t+="";break;default:t+=o}}return t}function U2(n){return n+GA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ll(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new Zn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new Zn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Qr.RED,this.left=s??Qr.EMPTY,this.right=o??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Qr(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Qr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,t,r,s,o){return this}insert(e,t,r){return new Qr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.comparator=e,this.data=new Zn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new z2(this.data.getIterator())}getIteratorFrom(e){return new z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cr(this.comparator);return t.data=e,t}}class z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new ts([])}unionWith(e){let t=new Cr($r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ts(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YA("Invalid base64 string: "+o):o}}(e);return new Zr(t)}static fromUint8Array(e){const t=function(s){let o="";for(let f=0;f<s.length;++f)o+=String.fromCharCode(s[f]);return o}(e);return new Zr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(n){if(hn(!!n),typeof n=="string"){let e=0;const t=aO.exec(n);if(hn(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gr(n.seconds),nanos:gr(n.nanos)}}function gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function el(n){return typeof n=="string"?Zr.fromBase64String(n):Zr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="server_timestamp",XA="__type__",KA="__previous_value__",QA="__local_write_time__";function Ky(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[XA])===null||t===void 0?void 0:t.stringValue)===WA}function eg(n){const e=n.mapValue.fields[KA];return Ky(e)?eg(e):e}function Qd(n){const e=Jo(n.mapValue.fields[QA].timestampValue);return new Fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,r,s,o,f,p,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=x}}const x0="(default)";class $d{constructor(e,t){this.projectId=e,this.database=t||x0}static empty(){return new $d("","")}get isDefaultDatabase(){return this.database===x0}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="__type__",lO="__max__",Dh={mapValue:{}},ZA="__vector__",w0="value";function tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ky(n)?4:uO(n)?9007199254740991:cO(n)?10:11:yt()}function la(n,e){if(n===e)return!0;const t=tl(n);if(t!==tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qd(n).isEqual(Qd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const f=Jo(s.timestampValue),p=Jo(o.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return el(s.bytesValue).isEqual(el(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return gr(s.geoPointValue.latitude)===gr(o.geoPointValue.latitude)&&gr(s.geoPointValue.longitude)===gr(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return gr(s.integerValue)===gr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const f=gr(s.doubleValue),p=gr(o.doubleValue);return f===p?y0(f)===y0(p):isNaN(f)&&isNaN(p)}return!1}(n,e);case 9:return cu(n.arrayValue.values||[],e.arrayValue.values||[],la);case 10:case 11:return function(s,o){const f=s.mapValue.fields||{},p=o.mapValue.fields||{};if(F2(f)!==F2(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!la(f[y],p[y])))return!1;return!0}(n,e);default:return yt()}}function Zd(n,e){return(n.values||[]).find(t=>la(t,e))!==void 0}function uu(n,e){if(n===e)return 0;const t=tl(n),r=tl(e);if(t!==r)return kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(o,f){const p=gr(o.integerValue||o.doubleValue),y=gr(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(n,e);case 3:return j2(n.timestampValue,e.timestampValue);case 4:return j2(Qd(n),Qd(e));case 5:return qm(n.stringValue,e.stringValue);case 6:return function(o,f){const p=el(o),y=el(f);return p.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(o,f){const p=o.split("/"),y=f.split("/");for(let x=0;x<p.length&&x<y.length;x++){const E=kt(p[x],y[x]);if(E!==0)return E}return kt(p.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,f){const p=kt(gr(o.latitude),gr(f.latitude));return p!==0?p:kt(gr(o.longitude),gr(f.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return H2(n.arrayValue,e.arrayValue);case 10:return function(o,f){var p,y,x,E;const A=o.fields||{},I=f.fields||{},R=(p=A[w0])===null||p===void 0?void 0:p.arrayValue,M=(y=I[w0])===null||y===void 0?void 0:y.arrayValue,k=kt(((x=R==null?void 0:R.values)===null||x===void 0?void 0:x.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return k!==0?k:H2(R,M)}(n.mapValue,e.mapValue);case 11:return function(o,f){if(o===Dh.mapValue&&f===Dh.mapValue)return 0;if(o===Dh.mapValue)return 1;if(f===Dh.mapValue)return-1;const p=o.fields||{},y=Object.keys(p),x=f.fields||{},E=Object.keys(x);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const I=qm(y[A],E[A]);if(I!==0)return I;const R=uu(p[y[A]],x[E[A]]);if(R!==0)return R}return kt(y.length,E.length)}(n.mapValue,e.mapValue);default:throw yt()}}function j2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return kt(n,e);const t=Jo(n),r=Jo(e),s=kt(t.seconds,r.seconds);return s!==0?s:kt(t.nanos,r.nanos)}function H2(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=uu(t[s],r[s]);if(o)return o}return kt(t.length,r.length)}function du(n){return Ym(n)}function Ym(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Jo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return el(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ct.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Ym(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const f of r)o?o=!1:s+=",",s+=`${f}:${Ym(t.fields[f])}`;return s+"}"}(n.mapValue):yt()}function e0(n){switch(tl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eg(n);return e?16+e0(e):16;case 5:return 2*n.stringValue.length;case 6:return el(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+e0(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return ll(r.fields,(o,f)=>{s+=o.length+e0(f)}),s}(n.mapValue);default:throw yt()}}function G2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wm(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function q2(n){return!!n&&"nullValue"in n}function Y2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function t0(n){return!!n&&"mapValue"in n}function cO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$A])===null||t===void 0?void 0:t.stringValue)===ZA}function kd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ll(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!t0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kd(t)}setAll(e){let t=$r.emptyPath(),r={},s=[];e.forEach((f,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,s),r={},s=[],t=p.popLast()}f?r[p.lastSegment()]=kd(f):s.push(p.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());t0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return la(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];t0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ll(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Oi(kd(this.value))}}function JA(n){const e=[];return ll(n.fields,(t,r)=>{const s=new $r([t]);if(t0(r)){const o=JA(r.mapValue).fields;if(o.length===0)e.push(s);else for(const f of o)e.push(s.child(f))}else e.push(s)}),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,r,s,o,f,p){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=f,this.documentState=p}static newInvalidDocument(e){return new ui(e,0,Et.min(),Et.min(),Et.min(),Oi.empty(),0)}static newFoundDocument(e,t,r,s){return new ui(e,1,t,Et.min(),r,s,0)}static newNoDocument(e,t){return new ui(e,2,t,Et.min(),Et.min(),Oi.empty(),0)}static newUnknownDocument(e,t){return new ui(e,3,t,Et.min(),Et.min(),Oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t){this.position=e,this.inclusive=t}}function W2(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],f=n.position[s];if(o.field.isKeyField()?r=ct.comparator(ct.fromName(f.referenceValue),t.key):r=uu(f,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function X2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!la(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t="asc"){this.field=e,this.dir=t}}function dO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{}class br extends eS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new hO(e,t,r):t==="array-contains"?new mO(e,r):t==="in"?new yO(e,r):t==="not-in"?new xO(e,r):t==="array-contains-any"?new wO(e,r):new br(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gO(e,r):new pO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(uu(t,this.value)):t!==null&&tl(this.value)===tl(t)&&this.matchesComparison(uu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends eS{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Vs(e,t)}matches(e){return tS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function tS(n){return n.op==="and"}function nS(n){return fO(n)&&tS(n)}function fO(n){for(const e of n.filters)if(e instanceof Vs)return!1;return!0}function Xm(n){if(n instanceof br)return n.field.canonicalString()+n.op.toString()+du(n.value);if(nS(n))return n.filters.map(e=>Xm(e)).join(",");{const e=n.filters.map(t=>Xm(t)).join(",");return`${n.op}(${e})`}}function rS(n,e){return n instanceof br?function(r,s){return s instanceof br&&r.op===s.op&&r.field.isEqual(s.field)&&la(r.value,s.value)}(n,e):n instanceof Vs?function(r,s){return s instanceof Vs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,f,p)=>o&&rS(f,s.filters[p]),!0):!1}(n,e):void yt()}function iS(n){return n instanceof br?function(t){return`${t.field.canonicalString()} ${t.op} ${du(t.value)}`}(n):n instanceof Vs?function(t){return t.op.toString()+" {"+t.getFilters().map(iS).join(" ,")+"}"}(n):"Filter"}class hO extends br{constructor(e,t,r){super(e,t,r),this.key=ct.fromName(r.referenceValue)}matches(e){const t=ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class gO extends br{constructor(e,t){super(e,"in",t),this.keys=sS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pO extends br{constructor(e,t){super(e,"not-in",t),this.keys=sS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ct.fromName(r.referenceValue))}class mO extends br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qy(t)&&Zd(t.arrayValue,this.value)}}class yO extends br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zd(this.value.arrayValue,t)}}class xO extends br{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Zd(this.value.arrayValue,t)}}class wO extends br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t=null,r=[],s=[],o=null,f=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=f,this.endAt=p,this.le=null}}function K2(n,e=null,t=[],r=[],s=null,o=null,f=null){return new vO(n,e,t,r,s,o,f)}function $y(n){const e=At(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Xm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),J0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>du(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>du(r)).join(",")),e.le=t}return e.le}function Zy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!X2(n.startAt,e.startAt)&&X2(n.endAt,e.endAt)}function Km(n){return ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t=null,r=[],s=[],o=null,f="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=f,this.startAt=p,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function bO(n,e,t,r,s,o,f,p){return new Tu(n,e,t,r,s,o,f,p)}function aS(n){return new Tu(n)}function Q2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oS(n){return n.collectionGroup!==null}function Ld(n){const e=At(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Cr($r.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(x=>{x.isInequality()&&(p=p.add(x.field))})}),p})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Jd(o,r))}),t.has($r.keyField().canonicalString())||e.he.push(new Jd($r.keyField(),r))}return e.he}function ia(n){const e=At(n);return e.Pe||(e.Pe=EO(e,Ld(n))),e.Pe}function EO(n,e){if(n.limitType==="F")return K2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Jd(s.field,o)});const t=n.endAt?new v0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new v0(n.startAt.position,n.startAt.inclusive):null;return K2(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Qm(n,e){const t=n.filters.concat([e]);return new Tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $m(n,e,t){return new Tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tg(n,e){return Zy(ia(n),ia(e))&&n.limitType===e.limitType}function lS(n){return`${$y(ia(n))}|lt:${n.limitType}`}function jc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>iS(s)).join(", ")}]`),J0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>du(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>du(s)).join(",")),`Target(${r})`}(ia(n))}; limitType=${n.limitType})`}function ng(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ct.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of Ld(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(f,p,y){const x=W2(f,p,y);return f.inclusive?x<=0:x<0}(r.startAt,Ld(r),s)||r.endAt&&!function(f,p,y){const x=W2(f,p,y);return f.inclusive?x>=0:x>0}(r.endAt,Ld(r),s))}(n,e)}function _O(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cS(n){return(e,t)=>{let r=!1;for(const s of Ld(n)){const o=TO(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function TO(n,e,t){const r=n.field.isKeyField()?ct.comparator(e.key,t.key):function(o,f,p){const y=f.data.field(o),x=p.data.field(o);return y!==null&&x!==null?uu(y,x):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ll(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return qA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Zn(ct.comparator);function Ka(){return AO}const uS=new Zn(ct.comparator);function Id(...n){let e=uS;for(const t of n)e=e.insert(t.key,t);return e}function dS(n){let e=uS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vl(){return Pd()}function fS(){return Pd()}function Pd(){return new Ql(n=>n.toString(),(n,e)=>n.isEqual(e))}const SO=new Zn(ct.comparator),CO=new Cr(ct.comparator);function Wt(...n){let e=CO;for(const t of n)e=e.add(t);return e}const IO=new Cr(kt);function RO(){return IO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:y0(e)?"-0":e}}function hS(n){return{integerValue:""+n}}function NO(n,e){return rO(e)?hS(e):Jy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this._=void 0}}function MO(n,e,t){return n instanceof ef?function(s,o){const f={fields:{[XA]:{stringValue:WA},[QA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Ky(o)&&(o=eg(o)),o&&(f.fields[KA]=o),{mapValue:f}}(t,e):n instanceof tf?pS(n,e):n instanceof nf?mS(n,e):function(s,o){const f=gS(s,o),p=$2(f)+$2(s.Ie);return Wm(f)&&Wm(s.Ie)?hS(p):Jy(s.serializer,p)}(n,e)}function DO(n,e,t){return n instanceof tf?pS(n,e):n instanceof nf?mS(n,e):t}function gS(n,e){return n instanceof b0?function(r){return Wm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ef extends rg{}class tf extends rg{constructor(e){super(),this.elements=e}}function pS(n,e){const t=yS(e);for(const r of n.elements)t.some(s=>la(s,r))||t.push(r);return{arrayValue:{values:t}}}class nf extends rg{constructor(e){super(),this.elements=e}}function mS(n,e){let t=yS(e);for(const r of n.elements)t=t.filter(s=>!la(s,r));return{arrayValue:{values:t}}}class b0 extends rg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function $2(n){return gr(n.integerValue||n.doubleValue)}function yS(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.field=e,this.transform=t}}function kO(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof tf&&s instanceof tf||r instanceof nf&&s instanceof nf?cu(r.elements,s.elements,la):r instanceof b0&&s instanceof b0?la(r.Ie,s.Ie):r instanceof ef&&s instanceof ef}(n.transform,e.transform)}class LO{constructor(e,t){this.version=e,this.transformResults=t}}class bs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ig{}function xS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ex(n.key,bs.none()):new xf(n.key,n.data,bs.none());{const t=n.data,r=Oi.empty();let s=new Cr($r.comparator);for(let o of e.fields)if(!s.has(o)){let f=t.field(o);f===null&&o.length>1&&(o=o.popLast(),f=t.field(o)),f===null?r.delete(o):r.set(o,f),s=s.add(o)}return new cl(n.key,r,new ts(s.toArray()),bs.none())}}function PO(n,e,t){n instanceof xf?function(s,o,f){const p=s.value.clone(),y=J2(s.fieldTransforms,o,f.transformResults);p.setAll(y),o.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(n,e,t):n instanceof cl?function(s,o,f){if(!n0(s.precondition,o))return void o.convertToUnknownDocument(f.version);const p=J2(s.fieldTransforms,o,f.transformResults),y=o.data;y.setAll(wS(s)),y.setAll(p),o.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(n,e,t):function(s,o,f){o.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Bd(n,e,t,r){return n instanceof xf?function(o,f,p,y){if(!n0(o.precondition,f))return p;const x=o.value.clone(),E=eE(o.fieldTransforms,y,f);return x.setAll(E),f.convertToFoundDocument(f.version,x).setHasLocalMutations(),null}(n,e,t,r):n instanceof cl?function(o,f,p,y){if(!n0(o.precondition,f))return p;const x=eE(o.fieldTransforms,y,f),E=f.data;return E.setAll(wS(o)),E.setAll(x),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(n,e,t,r):function(o,f,p){return n0(o.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(n,e,t)}function BO(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=gS(r.transform,s||null);o!=null&&(t===null&&(t=Oi.empty()),t.set(r.field,o))}return t||null}function Z2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&cu(r,s,(o,f)=>kO(o,f))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xf extends ig{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cl extends ig{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function J2(n,e,t){const r=new Map;hn(n.length===t.length);for(let s=0;s<t.length;s++){const o=n[s],f=o.transform,p=e.data.field(o.field);r.set(o.field,DO(f,p,t[s]))}return r}function eE(n,e,t){const r=new Map;for(const s of n){const o=s.transform,f=t.data.field(s.field);r.set(s.field,MO(o,f,e))}return r}class ex extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&PO(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=fS();return this.mutations.forEach(s=>{const o=e.get(s.key),f=o.overlayedDocument;let p=this.applyToLocalView(f,o.mutatedFields);p=t.has(s.key)?null:p;const y=xS(f,p);y!==null&&r.set(s.key,y),f.isValidDocument()||f.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wt())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,(t,r)=>Z2(t,r))&&cu(this.baseMutations,e.baseMutations,(t,r)=>Z2(t,r))}}class tx{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){hn(e.mutations.length===r.length);let s=function(){return SO}();const o=e.mutations;for(let f=0;f<o.length;f++)s=s.insert(o[f].key,r[f].version);return new tx(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr,Zt;function jO(n){switch(n){case Pe.OK:return yt();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0;default:return yt()}}function vS(n){if(n===void 0)return Xa("GRPC error has no .code"),Pe.UNKNOWN;switch(n){case vr.OK:return Pe.OK;case vr.CANCELLED:return Pe.CANCELLED;case vr.UNKNOWN:return Pe.UNKNOWN;case vr.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case vr.INTERNAL:return Pe.INTERNAL;case vr.UNAVAILABLE:return Pe.UNAVAILABLE;case vr.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case vr.NOT_FOUND:return Pe.NOT_FOUND;case vr.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case vr.ABORTED:return Pe.ABORTED;case vr.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case vr.DATA_LOSS:return Pe.DATA_LOSS;default:return yt()}}(Zt=vr||(vr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new Ko([4294967295,4294967295],0);function tE(n){const e=jA().encode(n),t=new LA;return t.update(e),new Uint8Array(t.digest())}function nE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ko([t,r],0),new Ko([s,o],0)]}class nx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rd(`Invalid padding: ${t}`);if(r<0)throw new Rd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Rd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ko.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(Ko.fromNumber(r)));return s.compare(HO)===1&&(s=new Ko([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=tE(e),[r,s]=nE(t);for(let o=0;o<this.hashCount;o++){const f=this.Ae(r,s,o);if(!this.Re(f))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),f=new nx(o,s,t);return r.forEach(p=>f.insert(p)),f}insert(e){if(this.Ee===0)return;const t=tE(e),[r,s]=nE(t);for(let o=0;o<this.hashCount;o++){const f=this.Ae(r,s,o);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sg(Et.min(),s,new Zn(kt),Ka(),Wt())}}class wf{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wf(r,t,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class bS{constructor(e,t){this.targetId=e,this.ge=t}}class ES{constructor(e,t,r=Zr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class rE{constructor(){this.pe=0,this.ye=iE(),this.we=Zr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Wt(),t=Wt(),r=Wt();return this.ye.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:yt()}}),new wf(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=iE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,hn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class GO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ka(),this.$e=Oh(),this.Ue=Oh(),this.Ke=new Zn(kt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const o=s.target;if(Km(o))if(r===0){const f=new ct(o.path);this.ze(t,f,ui.newNoDocument(f,Et.min()))}else hn(r===1);else{const f=this.et(t);if(f!==r){const p=this.tt(e),y=p?this.nt(p,e,f):1;if(y!==0){this.Ye(t);const x=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,x)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let f,p;try{f=el(r).toUint8Array()}catch(y){if(y instanceof YA)return lu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new nx(f,s,o)}catch(y){return lu(y instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.Ee===0?null:p}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const f=this.ke.it(),p=`projects/${f.projectId}/databases/${f.database}/documents/${o.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,o,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((o,f)=>{const p=this.Xe(f);if(p){if(o.current&&Km(p.target)){const y=new ct(p.target.path);this._t(y).has(f)||this.ut(f,y)||this.ze(f,y,ui.newNoDocument(y,e))}o.ve&&(t.set(f,o.Fe()),o.Me())}});let r=Wt();this.Ue.forEach((o,f)=>{let p=!0;f.forEachWhile(y=>{const x=this.Xe(y);return!x||x.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(o))}),this.Qe.forEach((o,f)=>f.setReadTime(e));const s=new sg(e,t,this.Ke,this.Qe,r);return this.Qe=Ka(),this.$e=Oh(),this.Ue=Oh(),this.Ke=new Zn(kt),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new rE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Cr(kt),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Cr(kt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||$e("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new rE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Oh(){return new Zn(ct.comparator)}function iE(){return new Zn(ct.comparator)}const qO={asc:"ASCENDING",desc:"DESCENDING"},YO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WO={and:"AND",or:"OR"};class XO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zm(n,e){return n.useProto3Json||J0(e)?e:{value:e}}function E0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _S(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KO(n,e){return E0(n,e.toTimestamp())}function sa(n){return hn(!!n),Et.fromTimestamp(function(t){const r=Jo(t);return new Fn(r.seconds,r.nanos)}(n))}function rx(n,e){return Jm(n,e).canonicalString()}function Jm(n,e){const t=function(s){return new Un(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TS(n){const e=Un.fromString(n);return hn(RS(e)),e}function ey(n,e){return rx(n.databaseId,e.path)}function kp(n,e){const t=TS(e);if(t.get(1)!==n.databaseId.projectId)throw new Je(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Je(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ct(SS(t))}function AS(n,e){return rx(n.databaseId,e)}function QO(n){const e=TS(n);return e.length===4?Un.emptyPath():SS(e)}function ty(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SS(n){return hn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function sE(n,e,t){return{name:ey(n,e),fields:t.value.mapValue.fields}}function $O(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(x,E){return x.useProto3Json?(hn(E===void 0||typeof E=="string"),Zr.fromBase64String(E||"")):(hn(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Zr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(x){const E=x.code===void 0?Pe.UNKNOWN:vS(x.code);return new Je(E,x.message||"")}(f);t=new ES(r,s,o,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=kp(n,r.document.name),o=sa(r.document.updateTime),f=r.document.createTime?sa(r.document.createTime):Et.min(),p=new Oi({mapValue:{fields:r.document.fields}}),y=ui.newFoundDocument(s,o,f,p),x=r.targetIds||[],E=r.removedTargetIds||[];t=new r0(x,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=kp(n,r.document),o=r.readTime?sa(r.readTime):Et.min(),f=ui.newNoDocument(s,o),p=r.removedTargetIds||[];t=new r0([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=kp(n,r.document),o=r.removedTargetIds||[];t=new r0([],o,s,null)}else{if(!("filter"in e))return yt();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,f=new zO(s,o),p=r.targetId;t=new bS(p,f)}}return t}function ZO(n,e){let t;if(e instanceof xf)t={update:sE(n,e.key,e.value)};else if(e instanceof ex)t={delete:ey(n,e.key)};else if(e instanceof cl)t={update:sE(n,e.key,e.data),updateMask:o5(e.fieldMask)};else{if(!(e instanceof VO))return yt();t={verify:ey(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,f){const p=f.transform;if(p instanceof ef)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof tf)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof nf)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof b0)return{fieldPath:f.field.canonicalString(),increment:p.Ie};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:KO(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(n,e.precondition)),t}function JO(n,e){return n&&n.length>0?(hn(e!==void 0),n.map(t=>function(s,o){let f=s.updateTime?sa(s.updateTime):sa(o);return f.isEqual(Et.min())&&(f=sa(o)),new LO(f,s.transformResults||[])}(t,e))):[]}function e5(n,e){return{documents:[AS(n,e.path)]}}function t5(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AS(n,s);const o=function(x){if(x.length!==0)return IS(Vs.create(x,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const f=function(x){if(x.length!==0)return x.map(E=>function(I){return{field:Hc(I.field),direction:i5(I.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const p=Zm(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(x){return{before:x.inclusive,values:x.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(x){return{before:!x.inclusive,values:x.position}}(e.endAt)),{ht:t,parent:s}}function n5(n){let e=QO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){hn(r===1);const E=t.from[0];E.allDescendants?s=E.collectionId:e=e.child(E.collectionId)}let o=[];t.where&&(o=function(A){const I=CS(A);return I instanceof Vs&&nS(I)?I.getFilters():[I]}(t.where));let f=[];t.orderBy&&(f=function(A){return A.map(I=>function(M){return new Jd(Gc(M.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(t.orderBy));let p=null;t.limit&&(p=function(A){let I;return I=typeof A=="object"?A.value:A,J0(I)?null:I}(t.limit));let y=null;t.startAt&&(y=function(A){const I=!!A.before,R=A.values||[];return new v0(R,I)}(t.startAt));let x=null;return t.endAt&&(x=function(A){const I=!A.before,R=A.values||[];return new v0(R,I)}(t.endAt)),bO(e,s,f,o,p,"F",y,x)}function r5(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Gc(t.unaryFilter.field);return br.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Gc(t.unaryFilter.field);return br.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gc(t.unaryFilter.field);return br.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Gc(t.unaryFilter.field);return br.create(f,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(n):n.fieldFilter!==void 0?function(t){return br.create(Gc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vs.create(t.compositeFilter.filters.map(r=>CS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return yt()}}(t.compositeFilter.op))}(n):yt()}function i5(n){return qO[n]}function s5(n){return YO[n]}function a5(n){return WO[n]}function Hc(n){return{fieldPath:n.canonicalString()}}function Gc(n){return $r.fromServerFormat(n.fieldPath)}function IS(n){return n instanceof br?function(t){if(t.op==="=="){if(Y2(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NAN"}};if(q2(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Y2(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NAN"}};if(q2(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(t.field),op:s5(t.op),value:t.value}}}(n):n instanceof Vs?function(t){const r=t.getFilters().map(s=>IS(s));return r.length===1?r[0]:{compositeFilter:{op:a5(t.op),filters:r}}}(n):yt()}function o5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t,r,s,o=Et.min(),f=Et.min(),p=Zr.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.Tt=e}}function c5(n){const e=n5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.Tn=new d5}addToCollectionParentIndex(e,t){return this.Tn.add(t),Le.resolve()}getCollectionParents(e,t){return Le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Le.resolve()}deleteFieldIndex(e,t){return Le.resolve()}deleteAllFieldIndexes(e){return Le.resolve()}createTargetIndexes(e,t){return Le.resolve()}getDocumentsMatchingTarget(e,t){return Le.resolve(null)}getIndexType(e,t){return Le.resolve(0)}getFieldIndexes(e,t){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,t){return Le.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,t){return Le.resolve(Zo.min())}updateCollectionGroup(e,t,r){return Le.resolve()}updateIndexEntries(e,t){return Le.resolve()}}class d5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Cr(Un.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Cr(Un.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NS=41943040;class Di{static withCacheSize(e){return new Di(e,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di.DEFAULT_COLLECTION_PERCENTILE=10,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Di.DEFAULT=new Di(NS,Di.DEFAULT_COLLECTION_PERCENTILE,Di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Di.DISABLED=new Di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new fu(0)}static Kn(){return new fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",f5=1048576;function lE([n,e],[t,r]){const s=kt(n,t);return s===0?kt(e,r):s}class h5{constructor(e){this.Hn=e,this.buffer=new Cr(lE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();lE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){$e(oE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_u(t)?$e(oE,"Ignoring IndexedDB error during garbage collection: ",t):await Eu(t)}await this.er(3e5)})}}class p5{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Le.resolve(Z0.ae);const r=new h5(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(aE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,o,f,p,y,x;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),s=this.params.maximumSequenceNumbersToCollect):s=A,f=Date.now(),this.nthSequenceNumber(e,s))).next(A=>(r=A,p=Date.now(),this.removeTargets(e,r,t))).next(A=>(o=A,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(x=Date.now(),zc()<=qt.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${s} in `+(p-f)+`ms
	Removed ${o} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(x-y)+`ms
Total Duration: ${x-E}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:A})))}}function m5(n,e){return new p5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.changes=new Ql(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Bd(r.mutation,s,ts.empty(),Fn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Wt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Wt()){const s=Vl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let f=Id();return o.forEach((p,y)=>{f=f.insert(p,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const r=Vl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Wt()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((f,p)=>{t.set(f,p)})})}computeViews(e,t,r,s){let o=Ka();const f=Pd(),p=function(){return Pd()}();return t.forEach((y,x)=>{const E=r.get(x.key);s.has(x.key)&&(E===void 0||E.mutation instanceof cl)?o=o.insert(x.key,x):E!==void 0?(f.set(x.key,E.mutation.getFieldMask()),Bd(E.mutation,x,E.mutation.getFieldMask(),Fn.now())):f.set(x.key,ts.empty())}),this.recalculateAndSaveOverlays(e,o).next(y=>(y.forEach((x,E)=>f.set(x,E)),t.forEach((x,E)=>{var A;return p.set(x,new x5(E,(A=f.get(x))!==null&&A!==void 0?A:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Pd();let s=new Zn((f,p)=>f-p),o=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const p of f)p.keys().forEach(y=>{const x=t.get(y);if(x===null)return;let E=r.get(y)||ts.empty();E=p.applyToLocalView(x,E),r.set(y,E);const A=(s.get(p.batchId)||Wt()).add(y);s=s.insert(p.batchId,A)})}).next(()=>{const f=[],p=s.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),x=y.key,E=y.value,A=fS();E.forEach(I=>{if(!o.has(I)){const R=xS(t.get(I),r.get(I));R!==null&&A.set(I,R),o=o.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,x,A))}return Le.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(f){return ct.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const f=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Le.resolve(Vl());let p=Kd,y=o;return f.next(x=>Le.forEach(x,(E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),o.get(E)?Le.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{y=y.insert(E,I)}))).next(()=>this.populateOverlays(e,x,o)).next(()=>this.computeViews(e,y,x,Wt())).next(E=>({batchId:p,changes:dS(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ct(t)).next(r=>{let s=Id();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let f=Id();return this.indexManager.getCollectionParents(e,o).next(p=>Le.forEach(p,y=>{const x=function(A,I){return new Tu(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,y.child(o));return this.getDocumentsMatchingCollectionQuery(e,x,r,s).next(E=>{E.forEach((A,I)=>{f=f.insert(A,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(f=>(o=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(f=>{o.forEach((y,x)=>{const E=x.getKey();f.get(E)===null&&(f=f.insert(E,ui.newInvalidDocument(E)))});let p=Id();return f.forEach((y,x)=>{const E=o.get(y);E!==void 0&&Bd(E.mutation,x,ts.empty(),Fn.now()),ng(t,x)&&(p=p.insert(y,x))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:sa(s.createTime)}}(t)),Le.resolve()}getNamedQuery(e,t){return Le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:c5(s.bundledQuery),readTime:sa(s.readTime)}}(t)),Le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.overlays=new Zn(ct.comparator),this.Rr=new Map}getOverlay(e,t){return Le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vl();return Le.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.Et(e,t,o)}),Le.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Le.resolve()}getOverlaysForCollection(e,t,r){const s=Vl(),o=t.length+1,f=new ct(t.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,x=y.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===o&&y.largestBatchId>r&&s.set(y.getKey(),y)}return Le.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Zn((x,E)=>x-E);const f=this.overlays.getIterator();for(;f.hasNext();){const x=f.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>r){let E=o.get(x.largestBatchId);E===null&&(E=Vl(),o=o.insert(x.largestBatchId,E)),E.set(x.getKey(),x)}}const p=Vl(),y=o.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((x,E)=>p.set(x,E)),!(p.size()>=s)););return Le.resolve(p)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const f=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new FO(t,r));let o=this.Rr.get(t);o===void 0&&(o=Wt(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.sessionToken=Zr.EMPTY_BYTE_STRING}getSessionToken(e){return Le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Vr=new Cr(Br.mr),this.gr=new Cr(Br.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Br(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Br(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ct(new Un([])),r=new Br(t,e),s=new Br(t,e+1),o=[];return this.gr.forEachInRange([r,s],f=>{this.wr(f),o.push(f.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ct(new Un([])),r=new Br(t,e),s=new Br(t,e+1);let o=Wt();return this.gr.forEachInRange([r,s],f=>{o=o.add(f.key)}),o}containsKey(e){const t=new Br(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ct.comparator(e.key,t.key)||kt(e.Cr,t.Cr)}static pr(e,t){return kt(e.Cr,t.Cr)||ct.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Cr(Br.mr)}checkEmpty(e){return Le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new UO(o,t,r,s);this.mutationQueue.push(f);for(const p of s)this.Mr=this.Mr.add(new Br(p.key,o)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Le.resolve(f)}lookupMutationBatch(e,t){return Le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),o=s<0?0:s;return Le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(this.mutationQueue.length===0?Xy:this.Fr-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),s=new Br(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,s],f=>{const p=this.Or(f.Cr);o.push(p)}),Le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cr(kt);return t.forEach(s=>{const o=new Br(s,0),f=new Br(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,f],p=>{r=r.add(p.Cr)})}),Le.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;ct.isDocumentKey(o)||(o=o.child(""));const f=new Br(new ct(o),0);let p=new Cr(kt);return this.Mr.forEachWhile(y=>{const x=y.key.path;return!!r.isPrefixOf(x)&&(x.length===s&&(p=p.add(y.Cr)),!0)},f),Le.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){hn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Le.forEach(t.mutations,s=>{const o=new Br(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Br(t,0),s=this.Mr.firstAfterOrEqual(r);return Le.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.kr=e,this.docs=function(){return new Zn(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,f=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Le.resolve(r?r.document.mutableCopy():ui.newInvalidDocument(t))}getEntries(e,t){let r=Ka();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ui.newInvalidDocument(s))}),Le.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Ka();const f=t.path,p=new ct(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:x,value:{document:E}}=y.getNext();if(!f.isPrefixOf(x.path))break;x.path.length>f.length+1||J6(Z6(E),r)<=0||(s.has(E.key)||ng(t,E))&&(o=o.insert(E.key,E.mutableCopy()))}return Le.resolve(o)}getAllFromCollectionGroup(e,t,r,s){yt()}qr(e,t){return Le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new A5(this)}getSize(e){return Le.resolve(this.size)}}class A5 extends y5{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.persistence=e,this.Qr=new Ql(t=>$y(t),Zy),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ix,this.targetCount=0,this.Kr=fu.Un()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new fu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Le.resolve()}updateTargetData(e,t){return this.zn(t),Le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.Qr.forEach((f,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.Qr.delete(f),o.push(this.removeMatchingKeysForTargetId(e,p.targetId)),s++)}),Le.waitFor(o).next(()=>s)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Le.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),Le.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(f=>{o.push(s.markPotentiallyOrphaned(e,f))}),Le.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return Le.resolve(r)}containsKey(e,t){return Le.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Z0(0),this.zr=!1,this.zr=!0,this.jr=new E5,this.referenceDelegate=e(this),this.Hr=new S5(this),this.indexManager=new u5,this.remoteDocumentCache=function(s){return new T5(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new l5(t),this.Yr=new v5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new _5(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const s=new C5(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(e,t){return Le.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class C5 extends tO{constructor(e){super(),this.currentSequenceNumber=e}}class sx{constructor(e){this.persistence=e,this.ti=new ix,this.ni=null}static ri(e){return new sx(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Le.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Le.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.ii,r=>{const s=ct.fromPath(r);return this.si(e,s).next(o=>{o||t.removeEntry(s,Et.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Le.or([()=>Le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class _0{constructor(e,t){this.persistence=e,this.oi=new Ql(r=>iO(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=m5(this,t)}static ri(e,t){return new _0(e,t)}Zr(){}Xr(e){return Le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Le.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(o=>o?Le.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(e,f=>this.ar(e,f,t).next(p=>{p||(r++,o.removeEntry(f,Et.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Le.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Le.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=e0(e.data.value)),t}ar(e,t,r){return Le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return Le.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Wt(),s=Wt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new ax(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return oM()?8:nO(di())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.rs(e,t).next(f=>{o.result=f}).next(()=>{if(!o.result)return this.ss(e,t,s,r).next(f=>{o.result=f})}).next(()=>{if(o.result)return;const f=new I5;return this._s(e,t,f).next(p=>{if(o.result=p,this.Xi)return this.us(e,t,f,p.size)})}).next(()=>o.result)}us(e,t,r,s){return r.documentReadCount<this.es?(zc()<=qt.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",jc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Le.resolve()):(zc()<=qt.DEBUG&&$e("QueryEngine","Query:",jc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(zc()<=qt.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",jc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ia(t))):Le.resolve())}rs(e,t){if(Q2(t))return Le.resolve(null);let r=ia(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=$m(t,null,"F"),r=ia(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const f=Wt(...o);return this.ns.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const x=this.cs(t,p);return this.ls(t,x,f,y.readTime)?this.rs(e,$m(t,null,"F")):this.hs(e,x,t,y)}))})))}ss(e,t,r,s){return Q2(t)||s.isEqual(Et.min())?Le.resolve(null):this.ns.getDocuments(e,r).next(o=>{const f=this.cs(t,o);return this.ls(t,f,r,s)?Le.resolve(null):(zc()<=qt.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jc(t)),this.hs(e,f,t,$6(s,Kd)).next(p=>p))})}cs(e,t){let r=new Cr(cS(e));return t.forEach((s,o)=>{ng(e,o)&&(r=r.add(o))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(e,t,r){return zc()<=qt.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",jc(t)),this.ns.getDocumentsMatchingQuery(e,t,Zo.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(f=>{o=o.insert(f.key,f)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="LocalStore",N5=3e8;class M5{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Zn(kt),this.Is=new Ql(o=>$y(o),Zy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function D5(n,e,t,r){return new M5(n,e,t,r)}async function DS(n,e){const t=At(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const f=[],p=[];let y=Wt();for(const x of s){f.push(x.batchId);for(const E of x.mutations)y=y.add(E.key)}for(const x of o){p.push(x.batchId);for(const E of x.mutations)y=y.add(E.key)}return t.localDocuments.getDocuments(r,y).next(x=>({Rs:x,removedBatchIds:f,addedBatchIds:p}))})})}function O5(n,e){const t=At(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,y,x,E){const A=x.batch,I=A.keys();let R=Le.resolve();return I.forEach(M=>{R=R.next(()=>E.getEntry(y,M)).next(k=>{const G=x.docVersions.get(M);hn(G!==null),k.version.compareTo(G)<0&&(A.applyToRemoteDocument(k,x),k.isValidDocument()&&(k.setReadTime(x.commitVersion),E.addEntry(k)))})}),R.next(()=>p.mutationQueue.removeMutationBatch(y,A))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let y=Wt();for(let x=0;x<p.mutationResults.length;++x)p.mutationResults[x].transformResults.length>0&&(y=y.add(p.batch.mutations[x].key));return y}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function OS(n){const e=At(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function k5(n,e){const t=At(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const p=[];e.targetChanges.forEach((E,A)=>{const I=s.get(A);if(!I)return;p.push(t.Hr.removeMatchingKeys(o,E.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(o,E.addedDocuments,A)));let R=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?R=R.withResumeToken(Zr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(E.resumeToken,r)),s=s.insert(A,R),function(k,G,F){return k.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=N5?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(I,R,E)&&p.push(t.Hr.updateTargetData(o,R))});let y=Ka(),x=Wt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(o,E))}),p.push(L5(o,f,e.documentUpdates).next(E=>{y=E.Vs,x=E.fs})),!r.isEqual(Et.min())){const E=t.Hr.getLastRemoteSnapshotVersion(o).next(A=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));p.push(E)}return Le.waitFor(p).next(()=>f.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,y,x)).next(()=>y)}).then(o=>(t.Ts=s,o))}function L5(n,e,t){let r=Wt(),s=Wt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let f=Ka();return t.forEach((p,y)=>{const x=o.get(p);y.isFoundDocument()!==x.isFoundDocument()&&(s=s.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(e.removeEntry(p,y.readTime),f=f.insert(p,y)):!x.isValidDocument()||y.version.compareTo(x.version)>0||y.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(y),f=f.insert(p,y)):$e(ox,"Ignoring outdated watch update for ",p,". Current version:",x.version," Watch version:",y.version)}),{Vs:f,fs:s}})}function P5(n,e){const t=At(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B5(n,e){const t=At(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(o=>o?(s=o,Le.resolve(s)):t.Hr.allocateTargetId(r).next(f=>(s=new Go(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function ny(n,e,t){const r=At(n),s=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,f=>r.persistence.referenceDelegate.removeTarget(f,s))}catch(f){if(!_u(f))throw f;$e(ox,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function cE(n,e,t){const r=At(n);let s=Et.min(),o=Wt();return r.persistence.runTransaction("Execute query","readwrite",f=>function(y,x,E){const A=At(y),I=A.Is.get(E);return I!==void 0?Le.resolve(A.Ts.get(I)):A.Hr.getTargetData(x,E)}(r,f,ia(e)).next(p=>{if(p)return s=p.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(f,p.targetId).next(y=>{o=y})}).next(()=>r.Ps.getDocumentsMatchingQuery(f,e,t?s:Et.min(),t?o:Wt())).next(p=>(V5(r,_O(e),p),{documents:p,gs:o})))}function V5(n,e,t){let r=n.Es.get(e)||Et.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}class uE{constructor(){this.activeTargetIds=RO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U5{constructor(){this.ho=new uE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new uE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class fE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){$e(dE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){$e(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh=null;function ry(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="RestConnection",z5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===x0?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,t,r,s,o){const f=ry(),p=this.bo(e,t.toUriEncodedString());$e(Lp,`Sending RPC '${e}' ${f}:`,p,r);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,s,o),this.vo(e,p,y,r).then(x=>($e(Lp,`Received RPC '${e}' ${f}: `,x),x),x=>{throw lu(Lp,`RPC '${e}' ${f} failed with error: `,x,"url: ",p,"request:",r),x})}Co(e,t,r,s,o,f){return this.So(e,t,r,s,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}bo(e,t){const r=z5[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="WebChannelConnection";class G5 extends j5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const o=ry();return new Promise((f,p)=>{const y=new PA;y.setWithCredentials(!0),y.listenOnce(BA.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Jh.NO_ERROR:const E=y.getResponseJson();$e(li,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(E)),f(E);break;case Jh.TIMEOUT:$e(li,`RPC '${e}' ${o} timed out`),p(new Je(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const A=y.getStatus();if($e(li,`RPC '${e}' ${o} failed with status:`,A,"response text:",y.getResponseText()),A>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const M=function(G){const F=G.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(F)>=0?F:Pe.UNKNOWN}(R.status);p(new Je(M,R.message))}else p(new Je(Pe.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Je(Pe.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{$e(li,`RPC '${e}' ${o} completed.`)}});const x=JSON.stringify(s);$e(li,`RPC '${e}' ${o} sending request:`,s),y.send(t,"POST",x,r,15)})}Wo(e,t,r){const s=ry(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=FA(),p=UA(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(y.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const E=o.join("");$e(li,`Creating RPC '${e}' stream ${s}: ${E}`,y);const A=f.createWebChannel(E,y);let I=!1,R=!1;const M=new H5({Fo:G=>{R?$e(li,`Not sending because RPC '${e}' stream ${s} is closed:`,G):(I||($e(li,`Opening RPC '${e}' stream ${s} transport.`),A.open(),I=!0),$e(li,`RPC '${e}' stream ${s} sending:`,G),A.send(G))},Mo:()=>A.close()}),k=(G,F,K)=>{G.listen(F,L=>{try{K(L)}catch($){setTimeout(()=>{throw $},0)}})};return k(A,Cd.EventType.OPEN,()=>{R||($e(li,`RPC '${e}' stream ${s} transport opened.`),M.Qo())}),k(A,Cd.EventType.CLOSE,()=>{R||(R=!0,$e(li,`RPC '${e}' stream ${s} transport closed`),M.Uo())}),k(A,Cd.EventType.ERROR,G=>{R||(R=!0,lu(li,`RPC '${e}' stream ${s} transport errored:`,G),M.Uo(new Je(Pe.UNAVAILABLE,"The operation could not be completed")))}),k(A,Cd.EventType.MESSAGE,G=>{var F;if(!R){const K=G.data[0];hn(!!K);const L=K,$=(L==null?void 0:L.error)||((F=L[0])===null||F===void 0?void 0:F.error);if($){$e(li,`RPC '${e}' stream ${s} received error:`,$);const te=$.status;let ie=function(O){const W=vr[O];if(W!==void 0)return vS(W)}(te),V=$.message;ie===void 0&&(ie=Pe.INTERNAL,V="Unknown error status: "+te+" with message "+$.message),R=!0,M.Uo(new Je(ie,V)),A.close()}else $e(li,`RPC '${e}' stream ${s} received:`,K),M.Ko(K)}}),k(p,VA.STAT_EVENT,G=>{G.stat===Gm.PROXY?$e(li,`RPC '${e}' stream ${s} detected buffering proxy`):G.stat===Gm.NOPROXY&&$e(li,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(n){return new XO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&$e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class LS{constructor(e,t,r,s,o,f,p,y){this.Ti=e,this.n_=r,this.r_=s,this.connection=o,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Pe.RESOURCE_EXHAUSTED?(Xa(t.toString()),Xa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new Je(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return $e(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():($e(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q5 extends LS{constructor(e,t,r,s,o,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,f),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=$O(this.serializer,e),r=function(o){if(!("targetChange"in o))return Et.min();const f=o.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?sa(f.readTime):Et.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=ty(this.serializer),t.addTarget=function(o,f){let p;const y=f.target;if(p=Km(y)?{documents:e5(o,y)}:{query:t5(o,y).ht},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=_S(o,f.resumeToken);const x=Zm(o,f.expectedCount);x!==null&&(p.expectedCount=x)}else if(f.snapshotVersion.compareTo(Et.min())>0){p.readTime=E0(o,f.snapshotVersion.toTimestamp());const x=Zm(o,f.expectedCount);x!==null&&(p.expectedCount=x)}return p}(this.serializer,e);const r=r5(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=ty(this.serializer),t.removeTarget=e,this.I_(t)}}class Y5 extends LS{constructor(e,t,r,s,o,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,f),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return hn(!!e.streamToken),this.lastStreamToken=e.streamToken,hn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){hn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=JO(e.writeResults,e.commitTime),r=sa(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=ty(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ZO(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{}class X5 extends W5{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Je(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,f])=>this.connection.So(e,Jm(t,r),s,o,f)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(Pe.UNKNOWN,o.toString())})}Co(e,t,r,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Co(e,Jm(t,r),s,f,p,o)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Je(Pe.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class K5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Xa(t),this.N_=!1):$e("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="RemoteStore";class Q5{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(f=>{r.enqueueAndForget(async()=>{$l(this)&&($e(Yl,"Restarting streams for network reachability change."),await async function(y){const x=At(y);x.W_.add(4),await vf(x),x.j_.set("Unknown"),x.W_.delete(4),await og(x)}(this))})}),this.j_=new K5(r,s)}}async function og(n){if($l(n))for(const e of n.G_)await e(!0)}async function vf(n){for(const e of n.G_)await e(!1)}function PS(n,e){const t=At(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),dx(t)?ux(t):Au(t).c_()&&cx(t,e))}function lx(n,e){const t=At(n),r=Au(t);t.K_.delete(e),r.c_()&&BS(t,e),t.K_.size===0&&(r.c_()?r.P_():$l(t)&&t.j_.set("Unknown"))}function cx(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Au(n).y_(e)}function BS(n,e){n.H_.Ne(e),Au(n).w_(e)}function ux(n){n.H_=new GO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Au(n).start(),n.j_.B_()}function dx(n){return $l(n)&&!Au(n).u_()&&n.K_.size>0}function $l(n){return At(n).W_.size===0}function VS(n){n.H_=void 0}async function $5(n){n.j_.set("Online")}async function Z5(n){n.K_.forEach((e,t)=>{cx(n,e)})}async function J5(n,e){VS(n),dx(n)?(n.j_.q_(e),ux(n)):n.j_.set("Unknown")}async function ek(n,e,t){if(n.j_.set("Online"),e instanceof ES&&e.state===2&&e.cause)try{await async function(s,o){const f=o.cause;for(const p of o.targetIds)s.K_.has(p)&&(await s.remoteSyncer.rejectListen(p,f),s.K_.delete(p),s.H_.removeTarget(p))}(n,e)}catch(r){$e(Yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await T0(n,r)}else if(e instanceof r0?n.H_.We(e):e instanceof bS?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Et.min()))try{const r=await OS(n.localStore);t.compareTo(r)>=0&&await function(o,f){const p=o.H_.ot(f);return p.targetChanges.forEach((y,x)=>{if(y.resumeToken.approximateByteSize()>0){const E=o.K_.get(x);E&&o.K_.set(x,E.withResumeToken(y.resumeToken,f))}}),p.targetMismatches.forEach((y,x)=>{const E=o.K_.get(y);if(!E)return;o.K_.set(y,E.withResumeToken(Zr.EMPTY_BYTE_STRING,E.snapshotVersion)),BS(o,y);const A=new Go(E.target,y,x,E.sequenceNumber);cx(o,A)}),o.remoteSyncer.applyRemoteEvent(p)}(n,t)}catch(r){$e(Yl,"Failed to raise snapshot:",r),await T0(n,r)}}async function T0(n,e,t){if(!_u(e))throw e;n.W_.add(1),await vf(n),n.j_.set("Offline"),t||(t=()=>OS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{$e(Yl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await og(n)})}function US(n,e){return e().catch(t=>T0(n,t,e))}async function lg(n){const e=At(n),t=nl(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Xy;for(;tk(e);)try{const s=await P5(e.localStore,r);if(s===null){e.U_.length===0&&t.P_();break}r=s.batchId,nk(e,s)}catch(s){await T0(e,s)}FS(e)&&zS(e)}function tk(n){return $l(n)&&n.U_.length<10}function nk(n,e){n.U_.push(e);const t=nl(n);t.c_()&&t.S_&&t.b_(e.mutations)}function FS(n){return $l(n)&&!nl(n).u_()&&n.U_.length>0}function zS(n){nl(n).start()}async function rk(n){nl(n).C_()}async function ik(n){const e=nl(n);for(const t of n.U_)e.b_(t.mutations)}async function sk(n,e,t){const r=n.U_.shift(),s=tx.from(r,e,t);await US(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await lg(n)}async function ak(n,e){e&&nl(n).S_&&await async function(r,s){if(function(f){return jO(f)&&f!==Pe.ABORTED}(s.code)){const o=r.U_.shift();nl(r).h_(),await US(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await lg(r)}}(n,e),FS(n)&&zS(n)}async function gE(n,e){const t=At(n);t.asyncQueue.verifyOperationInProgress(),$e(Yl,"RemoteStore received new credentials");const r=$l(t);t.W_.add(3),await vf(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await og(t)}async function ok(n,e){const t=At(n);e?(t.W_.delete(2),await og(t)):e||(t.W_.add(2),await vf(t),t.j_.set("Unknown"))}function Au(n){return n.J_||(n.J_=function(t,r,s){const o=At(t);return o.M_(),new q5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:$5.bind(null,n),No:Z5.bind(null,n),Lo:J5.bind(null,n),p_:ek.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),dx(n)?ux(n):n.j_.set("Unknown")):(await n.J_.stop(),VS(n))})),n.J_}function nl(n){return n.Y_||(n.Y_=function(t,r,s){const o=At(t);return o.M_(),new Y5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:rk.bind(null,n),Lo:ak.bind(null,n),D_:ik.bind(null,n),v_:sk.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await lg(n)):(await n.Y_.stop(),n.U_.length>0&&($e(Yl,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Qo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const f=Date.now()+r,p=new fx(e,t,f,s,o);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hx(n,e){if(Xa("AsyncQueue",`${e}: ${n}`),_u(n))return new Je(Pe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{static emptySet(e){return new eu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ct.comparator(t.key,r.key):(t,r)=>ct.comparator(t.key,r.key),this.keyedMap=Id(),this.sortedSet=new Zn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.Z_=new Zn(ct.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class hu{constructor(e,t,r,s,o,f,p,y,x){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=x}static fromInitialDocuments(e,t,r,s,o){const f=[];return t.forEach(p=>{f.push({type:0,doc:p})}),new hu(e,t,eu.emptySet(t),f,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ck{constructor(){this.queries=mE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=At(t),o=s.queries;s.queries=mE(),o.forEach((f,p)=>{for(const y of p.ta)y.onError(r)})})(this,new Je(Pe.ABORTED,"Firestore shutting down"))}}function mE(){return new Ql(n=>lS(n),tg)}async function uk(n,e){const t=At(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.na()&&e.ra()&&(r=2):(o=new lk,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(s,!0);break;case 1:o.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(f){const p=hx(f,`Initialization of query '${jc(e.query)}' failed`);return void e.onError(p)}t.queries.set(s,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&gx(t)}async function dk(n,e){const t=At(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const f=o.ta.indexOf(e);f>=0&&(o.ta.splice(f,1),o.ta.length===0?s=e.ra()?0:1:!o.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function fk(n,e){const t=At(n);let r=!1;for(const s of e){const o=s.query,f=t.queries.get(o);if(f){for(const p of f.ta)p.oa(s)&&(r=!0);f.ea=s}}r&&gx(t)}function hk(n,e,t){const r=At(n),s=r.queries.get(e);if(s)for(const o of s.ta)o.onError(t);r.queries.delete(e)}function gx(n){n.ia.forEach(e=>{e.next()})}var iy,yE;(yE=iy||(iy={}))._a="default",yE.Cache="cache";class gk{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.key=e}}class HS{constructor(e){this.key=e}}class pk{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Wt(),this.mutatedKeys=Wt(),this.ya=cS(e),this.wa=new eu(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new pE,s=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,f=s,p=!1;const y=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,x=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((E,A)=>{const I=s.get(E),R=ng(this.query,A)?A:null,M=!!I&&this.mutatedKeys.has(I.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let G=!1;I&&R?I.data.isEqual(R.data)?M!==k&&(r.track({type:3,doc:R}),G=!0):this.va(I,R)||(r.track({type:2,doc:R}),G=!0,(y&&this.ya(R,y)>0||x&&this.ya(R,x)<0)&&(p=!0)):!I&&R?(r.track({type:0,doc:R}),G=!0):I&&!R&&(r.track({type:1,doc:I}),G=!0,(y||x)&&(p=!0)),G&&(R?(f=f.add(R),o=k?o.add(E):o.delete(E)):(f=f.delete(E),o=o.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),o=o.delete(E.key),r.track({type:1,doc:E})}return{wa:f,Da:r,ls:p,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,A)=>function(R,M){const k=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return k(R)-k(M)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(r),s=s!=null&&s;const p=t&&!s?this.Fa():[],y=this.pa.size===0&&this.current&&!s?1:0,x=y!==this.ga;return this.ga=y,f.length!==0||x?{snapshot:new hu(this.query,e.wa,o,f,e.mutatedKeys,y===0,x,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Wt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new HS(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new jS(r))}),t}Oa(e){this.fa=e.gs,this.pa=Wt();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return hu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const px="SyncEngine";class mk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class yk{constructor(e){this.key=e,this.Ba=!1}}class xk{constructor(e,t,r,s,o,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ql(p=>lS(p),tg),this.qa=new Map,this.Qa=new Set,this.$a=new Zn(ct.comparator),this.Ua=new Map,this.Ka=new ix,this.Wa={},this.Ga=new Map,this.za=fu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function wk(n,e,t=!0){const r=KS(n);let s;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await GS(r,e,t,!0),s}async function vk(n,e){const t=KS(n);await GS(t,e,!0,!1)}async function GS(n,e,t,r){const s=await B5(n.localStore,ia(e)),o=s.targetId,f=n.sharedClientState.addLocalQueryTarget(o,t);let p;return r&&(p=await bk(n,e,o,f==="current",s.resumeToken)),n.isPrimaryClient&&t&&PS(n.remoteStore,s),p}async function bk(n,e,t,r,s){n.Ha=(A,I,R)=>async function(k,G,F,K){let L=G.view.ba(F);L.ls&&(L=await cE(k.localStore,G.query,!1).then(({documents:V})=>G.view.ba(V,L)));const $=K&&K.targetChanges.get(G.targetId),te=K&&K.targetMismatches.get(G.targetId)!=null,ie=G.view.applyChanges(L,k.isPrimaryClient,$,te);return wE(k,G.targetId,ie.Ma),ie.snapshot}(n,A,I,R);const o=await cE(n.localStore,e,!0),f=new pk(e,o.gs),p=f.ba(o.documents),y=wf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),x=f.applyChanges(p,n.isPrimaryClient,y);wE(n,t,x.Ma);const E=new mk(e,t,f);return n.ka.set(e,E),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),x.snapshot}async function Ek(n,e,t){const r=At(n),s=r.ka.get(e),o=r.qa.get(s.targetId);if(o.length>1)return r.qa.set(s.targetId,o.filter(f=>!tg(f,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ny(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&lx(r.remoteStore,s.targetId),sy(r,s.targetId)}).catch(Eu)):(sy(r,s.targetId),await ny(r.localStore,s.targetId,!0))}async function _k(n,e){const t=At(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lx(t.remoteStore,r.targetId))}async function Tk(n,e,t){const r=Mk(n);try{const s=await function(f,p){const y=At(f),x=Fn.now(),E=p.reduce((R,M)=>R.add(M.key),Wt());let A,I;return y.persistence.runTransaction("Locally write mutations","readwrite",R=>{let M=Ka(),k=Wt();return y.ds.getEntries(R,E).next(G=>{M=G,M.forEach((F,K)=>{K.isValidDocument()||(k=k.add(F))})}).next(()=>y.localDocuments.getOverlayedDocuments(R,M)).next(G=>{A=G;const F=[];for(const K of p){const L=BO(K,A.get(K.key).overlayedDocument);L!=null&&F.push(new cl(K.key,L,JA(L.value.mapValue),bs.exists(!0)))}return y.mutationQueue.addMutationBatch(R,x,F,p)}).next(G=>{I=G;const F=G.applyToLocalDocumentSet(A,k);return y.documentOverlayCache.saveOverlays(R,G.batchId,F)})}).then(()=>({batchId:I.batchId,changes:dS(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(f,p,y){let x=f.Wa[f.currentUser.toKey()];x||(x=new Zn(kt)),x=x.insert(p,y),f.Wa[f.currentUser.toKey()]=x}(r,s.batchId,t),await bf(r,s.changes),await lg(r.remoteStore)}catch(s){const o=hx(s,"Failed to persist write");t.reject(o)}}async function qS(n,e){const t=At(n);try{const r=await k5(t.localStore,e);e.targetChanges.forEach((s,o)=>{const f=t.Ua.get(o);f&&(hn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?f.Ba=!0:s.modifiedDocuments.size>0?hn(f.Ba):s.removedDocuments.size>0&&(hn(f.Ba),f.Ba=!1))}),await bf(t,r,e)}catch(r){await Eu(r)}}function xE(n,e,t){const r=At(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((o,f)=>{const p=f.view.sa(e);p.snapshot&&s.push(p.snapshot)}),function(f,p){const y=At(f);y.onlineState=p;let x=!1;y.queries.forEach((E,A)=>{for(const I of A.ta)I.sa(p)&&(x=!0)}),x&&gx(y)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ak(n,e,t){const r=At(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ua.get(e),o=s&&s.key;if(o){let f=new Zn(ct.comparator);f=f.insert(o,ui.newNoDocument(o,Et.min()));const p=Wt().add(o),y=new sg(Et.min(),new Map,new Zn(kt),f,p);await qS(r,y),r.$a=r.$a.remove(o),r.Ua.delete(e),mx(r)}else await ny(r.localStore,e,!1).then(()=>sy(r,e,t)).catch(Eu)}async function Sk(n,e){const t=At(n),r=e.batch.batchId;try{const s=await O5(t.localStore,e);WS(t,r,null),YS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await bf(t,s)}catch(s){await Eu(s)}}async function Ck(n,e,t){const r=At(n);try{const s=await function(f,p){const y=At(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",x=>{let E;return y.mutationQueue.lookupMutationBatch(x,p).next(A=>(hn(A!==null),E=A.keys(),y.mutationQueue.removeMutationBatch(x,A))).next(()=>y.mutationQueue.performConsistencyCheck(x)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(x,E,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,E)).next(()=>y.localDocuments.getDocuments(x,E))})}(r.localStore,e);WS(r,e,t),YS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await bf(r,s)}catch(s){await Eu(s)}}function YS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function WS(n,e,t){const r=At(n);let s=r.Wa[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function sy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(r=>{n.Ka.containsKey(r)||XS(n,r)})}function XS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(lx(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),mx(n))}function wE(n,e,t){for(const r of t)r instanceof jS?(n.Ka.addReference(r.key,e),Ik(n,r)):r instanceof HS?($e(px,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,e),n.Ka.containsKey(r.key)||XS(n,r.key)):yt()}function Ik(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||($e(px,"New document in limbo: "+t),n.Qa.add(r),mx(n))}function mx(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ct(Un.fromString(e)),r=n.za.next();n.Ua.set(r,new yk(t)),n.$a=n.$a.insert(t,r),PS(n.remoteStore,new Go(ia(aS(t.path)),r,"TargetPurposeLimboResolution",Z0.ae))}}async function bf(n,e,t){const r=At(n),s=[],o=[],f=[];r.ka.isEmpty()||(r.ka.forEach((p,y)=>{f.push(r.Ha(y,e,t).then(x=>{var E;if((x||t)&&r.isPrimaryClient){const A=x?!x.fromCache:(E=t==null?void 0:t.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(x){s.push(x);const A=ax.Yi(y.targetId,x);o.push(A)}}))}),await Promise.all(f),r.La.p_(s),await async function(y,x){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Le.forEach(x,I=>Le.forEach(I.Hi,R=>E.persistence.referenceDelegate.addReference(A,I.targetId,R)).next(()=>Le.forEach(I.Ji,R=>E.persistence.referenceDelegate.removeReference(A,I.targetId,R)))))}catch(A){if(!_u(A))throw A;$e(ox,"Failed to update sequence numbers: "+A)}for(const A of x){const I=A.targetId;if(!A.fromCache){const R=E.Ts.get(I),M=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(I,k)}}}(r.localStore,o))}async function Rk(n,e){const t=At(n);if(!t.currentUser.isEqual(e)){$e(px,"User change. New user:",e.toKey());const r=await DS(t.localStore,e);t.currentUser=e,function(o,f){o.Ga.forEach(p=>{p.forEach(y=>{y.reject(new Je(Pe.CANCELLED,f))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bf(t,r.Rs)}}function Nk(n,e){const t=At(n),r=t.Ua.get(e);if(r&&r.Ba)return Wt().add(r.key);{let s=Wt();const o=t.qa.get(e);if(!o)return s;for(const f of o){const p=t.ka.get(f);s=s.unionWith(p.view.Sa)}return s}}function KS(n){const e=At(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ak.bind(null,e),e.La.p_=fk.bind(null,e.eventManager),e.La.Ja=hk.bind(null,e.eventManager),e}function Mk(n){const e=At(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ck.bind(null,e),e}class A0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ag(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return D5(this.persistence,new R5,e.initialUser,this.serializer)}Xa(e){return new MS(sx.ri,this.serializer)}Za(e){return new U5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}A0.provider={build:()=>new A0};class Dk extends A0{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){hn(this.persistence.referenceDelegate instanceof _0);const r=this.persistence.referenceDelegate.garbageCollector;return new g5(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Di.withCacheSize(this.cacheSizeBytes):Di.DEFAULT;return new MS(r=>_0.ri(r,t),this.serializer)}}class ay{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rk.bind(null,this.syncEngine),await ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ck}()}createDatastore(e){const t=ag(e.databaseInfo.databaseId),r=function(o){return new G5(o)}(e.databaseInfo);return function(o,f,p,y){return new X5(o,f,p,y)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,f,p){return new Q5(r,s,o,f,p)}(this.localStore,this.datastore,e.asyncQueue,t=>xE(this.syncEngine,t,0),function(){return fE.D()?new fE:new F5}())}createSyncEngine(e,t){return function(s,o,f,p,y,x,E){const A=new xk(s,o,f,p,y,x);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=At(s);$e(Yl,"RemoteStore shutting down."),o.W_.add(5),await vf(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ay.provider={build:()=>new ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Xa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="FirestoreClient";class kk{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=ci.UNAUTHENTICATED,this.clientId=HA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async f=>{$e(rl,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>($e(rl,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=hx(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bp(n,e){n.asyncQueue.verifyOperationInProgress(),$e(rl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await DS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function vE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Lk(n);$e(rl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>gE(e.remoteStore,s)),n._onlineComponents=e}async function Lk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$e(rl,"Using user provided OfflineComponentProvider");try{await Bp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Pe.FAILED_PRECONDITION||s.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;lu("Error using user provided cache. Falling back to memory cache: "+t),await Bp(n,new A0)}}else $e(rl,"Using default OfflineComponentProvider"),await Bp(n,new Dk(void 0));return n._offlineComponents}async function QS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($e(rl,"Using user provided OnlineComponentProvider"),await vE(n,n._uninitializedComponentsProvider._online)):($e(rl,"Using default OnlineComponentProvider"),await vE(n,new ay))),n._onlineComponents}function Pk(n){return QS(n).then(e=>e.syncEngine)}async function Bk(n){const e=await QS(n),t=e.eventManager;return t.onListen=wk.bind(null,e.syncEngine),t.onUnlisten=Ek.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_k.bind(null,e.syncEngine),t}function Vk(n,e,t={}){const r=new Qo;return n.asyncQueue.enqueueAndForget(async()=>function(o,f,p,y,x){const E=new Ok({next:I=>{E.su(),f.enqueueAndForget(()=>dk(o,A)),I.fromCache&&y.source==="server"?x.reject(new Je(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(I)},error:I=>x.reject(I)}),A=new gk(p,E,{includeMetadataChanges:!0,Ta:!0});return uk(o,A)}(await Bk(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n,e,t){if(!t)throw new Je(Pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uk(n,e,t,r){if(e===!0&&r===!0)throw new Je(Pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function EE(n){if(!ct.isDocumentKey(n))throw new Je(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _E(n){if(ct.isDocumentKey(n))throw new Je(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":yt()}function Qa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Je(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cg(n);throw new Je(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firestore.googleapis.com",TE=!0;class AE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JS,this.ssl=TE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:TE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f5)throw new Je(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Je(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Je(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Je(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new j6;switch(r.type){case"firstParty":return new Y6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=bE.get(t);r&&($e("ComponentProvider","Removing Datastore"),bE.delete(t),r.terminate())}(this),Promise.resolve()}}function Fk(n,e,t,r={}){var s;const o=(n=Qa(n,ug))._getSettings(),f=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;o.host!==JS&&o.host!==p&&lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},o),{host:p,ssl:!1,emulatorOptions:r});if(!zl(y,f)&&(n._setSettings(y),r.mockUserToken)){let x,E;if(typeof r.mockUserToken=="string")x=r.mockUserToken,E=ci.MOCK_USER;else{x=eM(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new Je(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ci(A)}n._authCredentials=new H6(new zA(x,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class ki{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ki(this.firestore,e,this._key)}}class $o extends Zl{constructor(e,t,r){super(e,t,aS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ki(this.firestore,null,new ct(e))}withConverter(e){return new $o(this.firestore,e,this._path)}}function Ps(n,e,...t){if(n=Fr(n),ZS("collection","path",e),n instanceof ug){const r=Un.fromString(e,...t);return _E(r),new $o(n,null,r)}{if(!(n instanceof ki||n instanceof $o))throw new Je(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return _E(r),new $o(n.firestore,null,r)}}function ul(n,e,...t){if(n=Fr(n),arguments.length===1&&(e=HA.newId()),ZS("doc","path",e),n instanceof ug){const r=Un.fromString(e,...t);return EE(r),new ki(n,null,new ct(r))}{if(!(n instanceof ki||n instanceof $o))throw new Je(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Un.fromString(e,...t));return EE(r),new ki(n.firestore,n instanceof $o?n.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="AsyncQueue";class CE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kS(this,"async_queue_retry"),this.Su=()=>{const r=Pp();r&&$e(SE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Qo;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_u(e))throw e;$e(SE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(f){let p=f.message||"";return f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),p}(r);throw Xa("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=fx.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Su extends ug{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new CE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CE(e),this._firestoreClient=void 0,await e}}}function zk(n,e){const t=typeof n=="object"?n:ZT(),r=typeof n=="string"?n:x0,s=By(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=ZN("firestore");o&&Fk(s,...o)}return s}function eC(n){if(n._terminated)throw new Je(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jk(n),n._firestoreClient}function jk(n){var e,t,r;const s=n._freezeSettings(),o=function(p,y,x,E){return new oO(p,y,x,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,$S(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new kk(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gu(Zr.fromBase64String(e))}catch(t){throw new Je(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gu(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Je(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Je(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Je(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=/^__.*__$/;class Gk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cl(e,this.data,this.fieldMask,t,this.fieldTransforms):new xf(e,this.data,t,this.fieldTransforms)}}class tC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class wx{constructor(e,t,r,s,o,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return S0(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(nC(this.Lu)&&Hk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class qk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ag(e)}ju(e,t,r,s=!1){return new wx({Lu:e,methodName:t,zu:r,path:$r.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(n){const e=n._freezeSettings(),t=ag(n._databaseId);return new qk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rC(n,e,t,r,s,o={}){const f=n.ju(o.merge||o.mergeFields?2:0,e,t,s);bx("Data must be an object, but it was:",f,r);const p=iC(r,f);let y,x;if(o.merge)y=new ts(f.fieldMask),x=f.fieldTransforms;else if(o.mergeFields){const E=[];for(const A of o.mergeFields){const I=oy(e,A,t);if(!f.contains(I))throw new Je(Pe.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);aC(E,I)||E.push(I)}y=new ts(E),x=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,x=f.fieldTransforms;return new Gk(new Oi(p),y,x)}class gg extends fg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gg}}class vx extends fg{_toFieldTransform(e){return new OO(e.path,new ef)}isEqual(e){return e instanceof vx}}function Yk(n,e,t,r){const s=n.ju(1,e,t);bx("Data must be an object, but it was:",s,r);const o=[],f=Oi.empty();ll(r,(y,x)=>{const E=Ex(e,y,t);x=Fr(x);const A=s.Uu(E);if(x instanceof gg)o.push(E);else{const I=Ef(x,A);I!=null&&(o.push(E),f.set(E,I))}});const p=new ts(o);return new tC(f,p,s.fieldTransforms)}function Wk(n,e,t,r,s,o){const f=n.ju(1,e,t),p=[oy(e,r,t)],y=[s];if(o.length%2!=0)throw new Je(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<o.length;I+=2)p.push(oy(e,o[I])),y.push(o[I+1]);const x=[],E=Oi.empty();for(let I=p.length-1;I>=0;--I)if(!aC(x,p[I])){const R=p[I];let M=y[I];M=Fr(M);const k=f.Uu(R);if(M instanceof gg)x.push(R);else{const G=Ef(M,k);G!=null&&(x.push(R),E.set(R,G))}}const A=new ts(x);return new tC(E,A,f.fieldTransforms)}function Xk(n,e,t,r=!1){return Ef(t,n.ju(r?4:3,e))}function Ef(n,e){if(sC(n=Fr(n)))return bx("Unsupported field value:",e,n),iC(n,e);if(n instanceof fg)return function(r,s){if(!nC(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const o=[];let f=0;for(const p of r){let y=Ef(p,s.Ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),o.push(y),f++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Fr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Fn.fromDate(r);return{timestampValue:E0(s.serializer,o)}}if(r instanceof Fn){const o=new Fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:E0(s.serializer,o)}}if(r instanceof yx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gu)return{bytesValue:_S(s.serializer,r._byteString)};if(r instanceof ki){const o=s.databaseId,f=r.firestore._databaseId;if(!f.isEqual(o))throw s.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:rx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xx)return function(f,p){return{mapValue:{fields:{[$A]:{stringValue:ZA},[w0]:{arrayValue:{values:f.toArray().map(x=>{if(typeof x!="number")throw p.Wu("VectorValues must only contain numeric values.");return Jy(p.serializer,x)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${cg(r)}`)}(n,e)}function iC(n,e){const t={};return qA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ll(n,(r,s)=>{const o=Ef(s,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function sC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Fn||n instanceof yx||n instanceof gu||n instanceof ki||n instanceof fg||n instanceof xx)}function bx(n,e,t){if(!sC(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=cg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function oy(n,e,t){if((e=Fr(e))instanceof dg)return e._internalPath;if(typeof e=="string")return Ex(n,e);throw S0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Kk=new RegExp("[~\\*/\\[\\]]");function Ex(n,e,t){if(e.search(Kk)>=0)throw S0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dg(...e.split("."))._internalPath}catch{throw S0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function S0(n,e,t,r,s){const o=r&&!r.isEmpty(),f=s!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(o||f)&&(y+=" (found",o&&(y+=` in field ${r}`),f&&(y+=` in document ${s}`),y+=")"),new Je(Pe.INVALID_ARGUMENT,p+n+y)}function aC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Qk extends oC{data(){return super.data()}}function pg(n,e){return typeof e=="string"?Ex(n,e):e instanceof dg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Je(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _x{}class lC extends _x{}function tu(n,e,...t){let r=[];e instanceof _x&&r.push(e),r=r.concat(t),function(o){const f=o.filter(y=>y instanceof Tx).length,p=o.filter(y=>y instanceof mg).length;if(f>1||f>0&&p>0)throw new Je(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class mg extends lC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mg(e,t,r)}_apply(e){const t=this._parse(e);return cC(e._query,t),new Zl(e.firestore,e.converter,Qm(e._query,t))}_parse(e){const t=hg(e.firestore);return function(o,f,p,y,x,E,A){let I;if(x.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Je(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){RE(A,E);const M=[];for(const k of A)M.push(IE(y,o,k));I={arrayValue:{values:M}}}else I=IE(y,o,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||RE(A,E),I=Xk(p,f,A,E==="in"||E==="not-in");return br.create(x,E,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ly(n,e,t){const r=e,s=pg("where",n);return mg._create(s,r,t)}class Tx extends _x{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tx(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Vs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let f=s;const p=o.getFlattenedFilters();for(const y of p)cC(f,y),f=Qm(f,y)}(e._query,t),new Zl(e.firestore,e.converter,Qm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ax extends lC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ax(e,t)}_apply(e){const t=function(s,o,f){if(s.startAt!==null)throw new Je(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Je(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jd(o,f)}(e._query,this._field,this._direction);return new Zl(e.firestore,e.converter,function(s,o){const f=s.explicitOrderBy.concat([o]);return new Tu(s.path,s.collectionGroup,f,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Vd(n,e="asc"){const t=e,r=pg("orderBy",n);return Ax._create(r,t)}function IE(n,e,t){if(typeof(t=Fr(t))=="string"){if(t==="")throw new Je(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oS(e)&&t.indexOf("/")!==-1)throw new Je(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Un.fromString(t));if(!ct.isDocumentKey(r))throw new Je(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return G2(n,new ct(r))}if(t instanceof ki)return G2(n,t._key);throw new Je(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cg(t)}.`)}function RE(n,e){if(!Array.isArray(n)||n.length===0)throw new Je(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cC(n,e){const t=function(s,o){for(const f of s)for(const p of f.getFlattenedFilters())if(o.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Je(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Je(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Zk{convertValue(e,t="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ll(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[w0].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(f=>gr(f.doubleValue));return new xx(o)}convertGeoPoint(e){return new yx(gr(e.latitude),gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=eg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qd(e));default:return null}}convertTimestamp(e){const t=Jo(e);return new Fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Un.fromString(e);hn(RS(r));const s=new $d(r.get(1),r.get(3)),o=new ct(r.popFirst(5));return s.isEqual(t)||Xa(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jk extends oC{constructor(e,t,r,s,o,f){super(e,t,r,s,f),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new i0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class i0 extends Jk{data(e={}){return super.data(e)}}class e9{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Lh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new i0(this._firestore,this._userDataWriter,r.key,r,new Lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Je(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let f=0;return s._snapshot.docChanges.map(p=>{const y=new i0(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Lh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>o||p.type!==3).map(p=>{const y=new i0(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Lh(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let x=-1,E=-1;return p.type!==0&&(x=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:t9(p.type),doc:y,oldIndex:x,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function t9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class n9 extends Zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,t)}}function ja(n){n=Qa(n,Zl);const e=Qa(n.firestore,Su),t=eC(e),r=new n9(e);return $k(n._query),Vk(t,n._query).then(s=>new e9(e,r,n,s))}function r9(n,e,t){n=Qa(n,ki);const r=Qa(n.firestore,Su),s=uC(n.converter,e);return xg(r,[rC(hg(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,bs.none())])}function yg(n,e,t,...r){n=Qa(n,ki);const s=Qa(n.firestore,Su),o=hg(s);let f;return f=typeof(e=Fr(e))=="string"||e instanceof dg?Wk(o,"updateDoc",n._key,e,t,r):Yk(o,"updateDoc",n._key,e),xg(s,[f.toMutation(n._key,bs.exists(!0))])}function nu(n){return xg(Qa(n.firestore,Su),[new ex(n._key,bs.none())])}function Sx(n,e){const t=Qa(n.firestore,Su),r=ul(n),s=uC(n.converter,e);return xg(t,[rC(hg(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,bs.exists(!1))]).then(()=>r)}function xg(n,e){return function(r,s){const o=new Qo;return r.asyncQueue.enqueueAndForget(async()=>Tk(await Pk(r),s,o)),o.promise}(eC(n),e)}function Cx(){return new vx("serverTimestamp")}(function(e,t=!0){(function(s){bu=s})(wu),ou(new jl("firestore",(r,{instanceIdentifier:s,options:o})=>{const f=r.getProvider("app").getImmediate(),p=new Su(new G6(r.getProvider("auth-internal")),new W6(f,r.getProvider("app-check-internal")),function(x,E){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Je(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(x.options.projectId,E)}(f,s),f);return o=Object.assign({useFetchStreams:t},o),p._setSettings(o),p},"PUBLIC").setMultipleInstances(!0)),Xo(D2,O2,e),Xo(D2,O2,"esm2017")})();const i9={apiKey:"AIzaSyDDjg-YMs-i_TAem3LJk4j-qrgXYPUIsO8",authDomain:"freezer-manager-36acd.firebaseapp.com",projectId:"freezer-manager-36acd",storageBucket:"freezer-manager-36acd.firebasestorage.app",messagingSenderId:"572471426932",appId:"1:572471426932:web:3a4fca9342a8c9ae883621",measurementId:"G-N8SX67S0SY"},dC=$T(i9),wg=V6(dC),Ur=zk(dC),fC=Z.createContext(),s9=({children:n})=>{const[e,t]=Z.useState(null),[r,s]=Z.useState(!0);return Z.useEffect(()=>{const o=S8(wg,f=>{t(f),s(!1)});return()=>o()},[]),B.jsx(fC.Provider,{value:{user:e,loading:r},children:n})},_f=()=>Z.useContext(fC);function a9({children:n}){const{user:e,loading:t}=_f();return t?B.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-blue-950 dark:to-indigo-950",children:B.jsx("div",{className:"flex items-center justify-center h-screen",children:B.jsxs("div",{className:"relative flex flex-col items-center",children:[B.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),B.jsx("div",{className:"mt-4 text-lg font-medium text-gray-600 dark:text-gray-300 animate-pulse",children:"Loading freezers..."})]})})}):e?n:B.jsx(CR,{to:"/login",replace:!0})}function ft(n,e){const t=e.split(".");let r=n;for(const s of t){if(typeof r=="boolean"||typeof r=="string")return r;if(r==null||typeof r!="object")return;r=r[s]}return r}function o9(n){const{theme:e,clearTheme:t,applyTheme:r,...s}=n;return s}function Ir(n,e){let t=o9(n);return e&&(t={...e,...n}),t}const dl={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};dl.defaultMerge;function l9(n,e){return e}function c9(n,e){return n.filter(t=>t!==void 0)}var NE;(function(n){n[n.NOT=0]="NOT",n[n.RECORD=1]="RECORD",n[n.ARRAY=2]="ARRAY",n[n.SET=3]="SET",n[n.MAP=4]="MAP",n[n.OTHER=5]="OTHER"})(NE||(NE={}));function ME(n){return typeof n!="object"||n===null?0:Array.isArray(n)?2:f9(n)?1:n instanceof Set?3:n instanceof Map?4:5}function u9(n){const e=new Set;for(const t of n)for(const r of[...Object.keys(t),...Object.getOwnPropertySymbols(t)])e.add(r);return e}function d9(n,e){return typeof n=="object"&&Object.prototype.propertyIsEnumerable.call(n,e)}function hC(n){var r;let e=0,t=(r=n[0])==null?void 0:r[Symbol.iterator]();return{[Symbol.iterator](){return{next(){var s;do{if(t===void 0)return{done:!0,value:void 0};const o=t.next();if(o.done===!0){e+=1,t=(s=n[e])==null?void 0:s[Symbol.iterator]();continue}return{done:!1,value:o.value}}while(!0)}}}}}const DE=["[object Object]","[object Module]"];function f9(n){if(!DE.includes(Object.prototype.toString.call(n)))return!1;const{constructor:e}=n;if(e===void 0)return!0;const t=e.prototype;return!(t===null||typeof t!="object"||!DE.includes(Object.prototype.toString.call(t))||!t.hasOwnProperty("isPrototypeOf"))}function h9(n,e,t){const r={};for(const s of u9(n)){const o=[];for(const y of n)d9(y,s)&&o.push(y[s]);if(o.length===0)continue;const f=e.metaDataUpdater(t,{key:s,parents:n}),p=pC(o,e,f);p!==dl.skip&&(s==="__proto__"?Object.defineProperty(r,s,{value:p,configurable:!0,enumerable:!0,writable:!0}):r[s]=p)}return r}function g9(n){return n.flat()}function p9(n){return new Set(hC(n))}function m9(n){return new Map(hC(n))}function y9(n){return n.at(-1)}const Ph={mergeRecords:h9,mergeArrays:g9,mergeSets:p9,mergeMaps:m9,mergeOthers:y9};function x9(...n){return gC({})(...n)}function gC(n,e){const t=w9(n,r);function r(...s){return pC(s,t,e)}return r}function w9(n,e){return{defaultMergeFunctions:Ph,mergeFunctions:{...Ph,...Object.fromEntries(Object.entries(n).filter(([t,r])=>Object.hasOwn(Ph,t)).map(([t,r])=>r===!1?[t,Ph.mergeOthers]:[t,r]))},metaDataUpdater:n.metaDataUpdater??l9,deepmerge:e,useImplicitDefaultMerging:n.enableImplicitDefaultMerging??!1,filterValues:n.filterValues===!1?void 0:n.filterValues??c9,actions:dl}}function pC(n,e,t){var o;const r=((o=e.filterValues)==null?void 0:o.call(e,n,t))??n;if(r.length===0)return;if(r.length===1)return Vp(r,e,t);const s=ME(r[0]);if(s!==0&&s!==5){for(let f=1;f<r.length;f++)if(ME(r[f])!==s)return Vp(r,e,t)}switch(s){case 1:return v9(r,e,t);case 2:return b9(r,e,t);case 3:return E9(r,e,t);case 4:return _9(r,e,t);default:return Vp(r,e,t)}}function v9(n,e,t){const r=e.mergeFunctions.mergeRecords(n,e,t);return r===dl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(n,e,t):r}function b9(n,e,t){const r=e.mergeFunctions.mergeArrays(n,e,t);return r===dl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(n):r}function E9(n,e,t){const r=e.mergeFunctions.mergeSets(n,e,t);return r===dl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(n):r}function _9(n,e,t){const r=e.mergeFunctions.mergeMaps(n,e,t);return r===dl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(n):r}function Vp(n,e,t){const r=e.mergeFunctions.mergeOthers(n,e,t);return r===dl.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(n):r}function s0(n){var e,t,r;if(Array.isArray(n)){for(t=Array(e=n.length);e--;)t[e]=(r=n[e])&&typeof r=="object"?s0(r):r;return t}if(Object.prototype.toString.call(n)==="[object Object]"){t={};for(e in n)e==="__proto__"?Object.defineProperty(t,e,{value:s0(n[e]),configurable:!0,enumerable:!0,writable:!0}):t[e]=(r=n[e])&&typeof r=="object"?s0(r):r;return t}return n}const mC={dark:void 0,prefix:void 0};function T9(){return mC.dark}function yC(){return mC.prefix}const OE=new Map;function A9(n){if(!n.trim().length)return n;const e=n,t=OE.get(e);if(t)return t;const s=n.split(/(\s+)/).map(o=>{if(/^\s+$/.test(o))return o;const f=o,p=f.match(/^([^:]+:)?(.+)$/);if(p){const[,y="",x]=p;for(const[E,A]of S9)if(E.test(x))return y+x.replace(E,A)}return f}).join("");return OE.set(e,s),s}const S9=[[/^shadow-sm$/,"shadow-xs"],[/^shadow$/,"shadow-sm"],[/^drop-shadow-sm$/,"drop-shadow-xs"],[/^drop-shadow$/,"drop-shadow-sm"],[/^blur-sm$/,"blur-xs"],[/^blur$/,"blur-sm"],[/^rounded-sm$/,"rounded-xs"],[/^rounded$/,"rounded-sm"],[/^ring$/,"ring-3"]];function C9(n){return gC({mergeOthers:(e,t)=>{if(e.some(r=>typeof r=="string")){const r=e.filter(f=>typeof f=="string"),s=new Set,o=[];for(const f of r){const p=[...new Set(f.split(/\s+/))];o.push(p.filter(y=>!s.has(y)).join(" "));for(const y of p)s.add(y)}return n(o)}return t.actions.defaultMerge}})}const I9="4.1.4";function xC(){try{return parseInt(I9.split(".")[0],10)}catch{return}}function cy(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;if(Array.isArray(n))return n.length!==e.length?!1:n.every((r,s)=>cy(r,e[s]));if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();const t=Object.keys(n);return t.length!==Object.keys(e).length?!1:t.every(r=>Object.prototype.hasOwnProperty.call(e,r)&&cy(n[r],e[r]))}return n!==n&&e!==e}const Ix="-",R9=n=>{const e=M9(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:f=>{const p=f.split(Ix);return p[0]===""&&p.length!==1&&p.shift(),wC(p,e)||N9(f)},getConflictingClassGroupIds:(f,p)=>{const y=t[f]||[];return p&&r[f]?[...y,...r[f]]:y}}},wC=(n,e)=>{var f;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?wC(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(Ix);return(f=e.validators.find(({validator:p})=>p(o)))==null?void 0:f.classGroupId},kE=/^\[(.+)\]$/,N9=n=>{if(kE.test(n)){const e=kE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},M9=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return O9(Object.entries(n.classGroups),t).forEach(([o,f])=>{uy(f,r,o,e)}),r},uy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:LE(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(D9(s)){uy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,f])=>{uy(f,LE(e,o),t,r)})})},LE=(n,e)=>{let t=n;return e.split(Ix).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},D9=n=>n.isThemeGetter,O9=(n,e)=>e?n.map(([t,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([f,p])=>[e+f,p])):o);return[t,s]}):n,k9=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,f)=>{t.set(o,f),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let f=t.get(o);if(f!==void 0)return f;if((f=r.get(o))!==void 0)return s(o,f),f},set(o,f){t.has(o)?t.set(o,f):s(o,f)}}},vC="!",L9=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],o=e.length,f=p=>{const y=[];let x=0,E=0,A;for(let G=0;G<p.length;G++){let F=p[G];if(x===0){if(F===s&&(r||p.slice(G,G+o)===e)){y.push(p.slice(E,G)),E=G+o;continue}if(F==="/"){A=G;continue}}F==="["?x++:F==="]"&&x--}const I=y.length===0?p:p.substring(E),R=I.startsWith(vC),M=R?I.substring(1):I,k=A&&A>E?A-E:void 0;return{modifiers:y,hasImportantModifier:R,baseClassName:M,maybePostfixModifierPosition:k}};return t?p=>t({className:p,parseClassName:f}):f},P9=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},B9=n=>({cache:k9(n.cacheSize),parseClassName:L9(n),...R9(n)}),V9=/\s+/,U9=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],f=n.trim().split(V9);let p="";for(let y=f.length-1;y>=0;y-=1){const x=f[y],{modifiers:E,hasImportantModifier:A,baseClassName:I,maybePostfixModifierPosition:R}=t(x);let M=!!R,k=r(M?I.substring(0,R):I);if(!k){if(!M){p=x+(p.length>0?" "+p:p);continue}if(k=r(I),!k){p=x+(p.length>0?" "+p:p);continue}M=!1}const G=P9(E).join(":"),F=A?G+vC:G,K=F+k;if(o.includes(K))continue;o.push(K);const L=s(k,M);for(let $=0;$<L.length;++$){const te=L[$];o.push(F+te)}p=x+(p.length>0?" "+p:p)}return p};function F9(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=bC(e))&&(r&&(r+=" "),r+=t);return r}const bC=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=bC(n[r]))&&(t&&(t+=" "),t+=e);return t};function PE(n,...e){let t,r,s,o=f;function f(y){const x=e.reduce((E,A)=>A(E),n());return t=B9(x),r=t.cache.get,s=t.cache.set,o=p,p(y)}function p(y){const x=r(y);if(x)return x;const E=U9(y,t);return s(y,E),E}return function(){return o(F9.apply(null,arguments))}}const Bn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},EC=/^\[(?:([a-z-]+):)?(.+)\]$/i,z9=/^\d+\/\d+$/,j9=new Set(["px","full","screen"]),H9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,G9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,q9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Y9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=n=>ru(n)||j9.has(n)||z9.test(n),Lo=n=>Cu(n,"length",t7),ru=n=>!!n&&!Number.isNaN(Number(n)),Up=n=>Cu(n,"number",ru),bd=n=>!!n&&Number.isInteger(Number(n)),X9=n=>n.endsWith("%")&&ru(n.slice(0,-1)),Rt=n=>EC.test(n),Po=n=>H9.test(n),K9=new Set(["length","size","percentage"]),Q9=n=>Cu(n,K9,_C),$9=n=>Cu(n,"position",_C),Z9=new Set(["image","url"]),J9=n=>Cu(n,Z9,r7),e7=n=>Cu(n,"",n7),Ed=()=>!0,Cu=(n,e,t)=>{const r=EC.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},t7=n=>G9.test(n)&&!q9.test(n),_C=()=>!1,n7=n=>Y9.test(n),r7=n=>W9.test(n),BE=()=>{const n=Bn("colors"),e=Bn("spacing"),t=Bn("blur"),r=Bn("brightness"),s=Bn("borderColor"),o=Bn("borderRadius"),f=Bn("borderSpacing"),p=Bn("borderWidth"),y=Bn("contrast"),x=Bn("grayscale"),E=Bn("hueRotate"),A=Bn("invert"),I=Bn("gap"),R=Bn("gradientColorStops"),M=Bn("gradientColorStopPositions"),k=Bn("inset"),G=Bn("margin"),F=Bn("opacity"),K=Bn("padding"),L=Bn("saturate"),$=Bn("scale"),te=Bn("sepia"),ie=Bn("skew"),V=Bn("space"),P=Bn("translate"),O=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",Rt,e],Y=()=>[Rt,e],q=()=>["",Oa,Lo],be=()=>["auto",ru,Rt],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>["start","end","center","between","around","evenly","stretch"],Re=()=>["","0",Rt],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ye=()=>[ru,Rt];return{cacheSize:500,separator:":",theme:{colors:[Ed],spacing:[Oa,Lo],blur:["none","",Po,Rt],brightness:ye(),borderColor:[n],borderRadius:["none","","full",Po,Rt],borderSpacing:Y(),borderWidth:q(),contrast:ye(),grayscale:Re(),hueRotate:ye(),invert:Re(),gap:Y(),gradientColorStops:[n],gradientColorStopPositions:[X9,Lo],inset:X(),margin:X(),opacity:ye(),padding:Y(),saturate:ye(),scale:ye(),sepia:Re(),skew:ye(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[Po]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),Rt]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[k]}],"inset-x":[{"inset-x":[k]}],"inset-y":[{"inset-y":[k]}],start:[{start:[k]}],end:[{end:[k]}],top:[{top:[k]}],right:[{right:[k]}],bottom:[{bottom:[k]}],left:[{left:[k]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bd,Rt]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:Re()}],shrink:[{shrink:Re()}],order:[{order:["first","last","none",bd,Rt]}],"grid-cols":[{"grid-cols":[Ed]}],"col-start-end":[{col:["auto",{span:["full",bd,Rt]},Rt]}],"col-start":[{"col-start":be()}],"col-end":[{"col-end":be()}],"grid-rows":[{"grid-rows":[Ed]}],"row-start-end":[{row:["auto",{span:[bd,Rt]},Rt]}],"row-start":[{"row-start":be()}],"row-end":[{"row-end":be()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...we()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...we(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...we(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[K]}],px:[{px:[K]}],py:[{py:[K]}],ps:[{ps:[K]}],pe:[{pe:[K]}],pt:[{pt:[K]}],pr:[{pr:[K]}],pb:[{pb:[K]}],pl:[{pl:[K]}],m:[{m:[G]}],mx:[{mx:[G]}],my:[{my:[G]}],ms:[{ms:[G]}],me:[{me:[G]}],mt:[{mt:[G]}],mr:[{mr:[G]}],mb:[{mb:[G]}],ml:[{ml:[G]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,e]}],"min-w":[{"min-w":[Rt,e,"min","max","fit"]}],"max-w":[{"max-w":[Rt,e,"none","full","min","max","fit","prose",{screen:[Po]},Po]}],h:[{h:[Rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Po,Lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Up]}],"font-family":[{font:[Ed]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",ru,Up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oa,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[F]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[F]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oa,Lo]}],"underline-offset":[{"underline-offset":["auto",Oa,Rt]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[F]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),$9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Q9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},J9]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[M]}],"gradient-via-pos":[{via:[M]}],"gradient-to-pos":[{to:[M]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[F]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[F]}],"divide-style":[{divide:ae()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Oa,Rt]}],"outline-w":[{outline:[Oa,Lo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[F]}],"ring-offset-w":[{"ring-offset":[Oa,Lo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Po,e7]}],"shadow-color":[{shadow:[Ed]}],opacity:[{opacity:[F]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[y]}],"drop-shadow":[{"drop-shadow":["","none",Po,Rt]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[E]}],invert:[{invert:[A]}],saturate:[{saturate:[L]}],sepia:[{sepia:[te]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[y]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[E]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[F]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[bd,Rt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[ie]}],"skew-y":[{"skew-y":[ie]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Oa,Lo,Up]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},i7=(n,{cacheSize:e,prefix:t,separator:r,experimentalParseClassName:s,extend:o={},override:f={}})=>{Nd(n,"cacheSize",e),Nd(n,"prefix",t),Nd(n,"separator",r),Nd(n,"experimentalParseClassName",s);for(const p in f)s7(n[p],f[p]);for(const p in o)a7(n[p],o[p]);return n},Nd=(n,e,t)=>{t!==void 0&&(n[e]=t)},s7=(n,e)=>{if(e)for(const t in e)Nd(n,t,e[t])},a7=(n,e)=>{if(e)for(const t in e){const r=e[t];r!==void 0&&(n[t]=(n[t]||[]).concat(r))}},o7=(n,...e)=>typeof n=="function"?PE(BE,n,...e):PE(()=>i7(BE(),n),...e),Rx="-",l7=n=>{const e=u7(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:f=>{const p=f.split(Rx);return p[0]===""&&p.length!==1&&p.shift(),TC(p,e)||c7(f)},getConflictingClassGroupIds:(f,p)=>{const y=t[f]||[];return p&&r[f]?[...y,...r[f]]:y}}},TC=(n,e)=>{var f;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?TC(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(Rx);return(f=e.validators.find(({validator:p})=>p(o)))==null?void 0:f.classGroupId},VE=/^\[(.+)\]$/,c7=n=>{if(VE.test(n)){const e=VE.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},u7=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)dy(t[s],r,s,e);return r},dy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:UE(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(d7(s)){dy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,f])=>{dy(f,UE(e,o),t,r)})})},UE=(n,e)=>{let t=n;return e.split(Rx).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},d7=n=>n.isThemeGetter,f7=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,f)=>{t.set(o,f),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let f=t.get(o);if(f!==void 0)return f;if((f=r.get(o))!==void 0)return s(o,f),f},set(o,f){t.has(o)?t.set(o,f):s(o,f)}}},fy="!",hy=":",h7=hy.length,g7=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const o=[];let f=0,p=0,y=0,x;for(let M=0;M<s.length;M++){let k=s[M];if(f===0&&p===0){if(k===hy){o.push(s.slice(y,M)),y=M+h7;continue}if(k==="/"){x=M;continue}}k==="["?f++:k==="]"?f--:k==="("?p++:k===")"&&p--}const E=o.length===0?s:s.substring(y),A=p7(E),I=A!==E,R=x&&x>y?x-y:void 0;return{modifiers:o,hasImportantModifier:I,baseClassName:A,maybePostfixModifierPosition:R}};if(e){const s=e+hy,o=r;r=f=>f.startsWith(s)?o(f.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=o=>t({className:o,parseClassName:s})}return r},p7=n=>n.endsWith(fy)?n.substring(0,n.length-1):n.startsWith(fy)?n.substring(1):n,m7=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(f=>{f[0]==="["||e[f]?(s.push(...o.sort(),f),o=[]):o.push(f)}),s.push(...o.sort()),s}},y7=n=>({cache:f7(n.cacheSize),parseClassName:g7(n),sortModifiers:m7(n),...l7(n)}),x7=/\s+/,w7=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,f=[],p=n.trim().split(x7);let y="";for(let x=p.length-1;x>=0;x-=1){const E=p[x],{isExternal:A,modifiers:I,hasImportantModifier:R,baseClassName:M,maybePostfixModifierPosition:k}=t(E);if(A){y=E+(y.length>0?" "+y:y);continue}let G=!!k,F=r(G?M.substring(0,k):M);if(!F){if(!G){y=E+(y.length>0?" "+y:y);continue}if(F=r(M),!F){y=E+(y.length>0?" "+y:y);continue}G=!1}const K=o(I).join(":"),L=R?K+fy:K,$=L+F;if(f.includes($))continue;f.push($);const te=s(F,G);for(let ie=0;ie<te.length;++ie){const V=te[ie];f.push(L+V)}y=E+(y.length>0?" "+y:y)}return y};function v7(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=AC(e))&&(r&&(r+=" "),r+=t);return r}const AC=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=AC(n[r]))&&(t&&(t+=" "),t+=e);return t};function FE(n,...e){let t,r,s,o=f;function f(y){const x=e.reduce((E,A)=>A(E),n());return t=y7(x),r=t.cache.get,s=t.cache.set,o=p,p(y)}function p(y){const x=r(y);if(x)return x;const E=w7(y,t);return s(y,E),E}return function(){return o(v7.apply(null,arguments))}}const Pr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},SC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,CC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,b7=/^\d+\/\d+$/,E7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bc=n=>b7.test(n),Gt=n=>!!n&&!Number.isNaN(Number(n)),Ml=n=>!!n&&Number.isInteger(Number(n)),zE=n=>n.endsWith("%")&&Gt(n.slice(0,-1)),Bo=n=>E7.test(n),C7=()=>!0,I7=n=>_7.test(n)&&!T7.test(n),Nx=()=>!1,R7=n=>A7.test(n),N7=n=>S7.test(n),M7=n=>!Ke(n)&&!Qe(n),D7=n=>Iu(n,NC,Nx),Ke=n=>SC.test(n),Dl=n=>Iu(n,MC,I7),Fp=n=>Iu(n,H7,Gt),O7=n=>Iu(n,IC,Nx),k7=n=>Iu(n,RC,N7),L7=n=>Iu(n,Nx,R7),Qe=n=>CC.test(n),Bh=n=>Ru(n,MC),P7=n=>Ru(n,G7),B7=n=>Ru(n,IC),V7=n=>Ru(n,NC),U7=n=>Ru(n,RC),F7=n=>Ru(n,q7,!0),Iu=(n,e,t)=>{const r=SC.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Ru=(n,e,t=!1)=>{const r=CC.exec(n);return r?r[1]?e(r[1]):t:!1},IC=n=>n==="position",z7=new Set(["image","url"]),RC=n=>z7.has(n),j7=new Set(["length","size","percentage"]),NC=n=>j7.has(n),MC=n=>n==="length",H7=n=>n==="number",G7=n=>n==="family-name",q7=n=>n==="shadow",jE=()=>{const n=Pr("color"),e=Pr("font"),t=Pr("text"),r=Pr("font-weight"),s=Pr("tracking"),o=Pr("leading"),f=Pr("breakpoint"),p=Pr("container"),y=Pr("spacing"),x=Pr("radius"),E=Pr("shadow"),A=Pr("inset-shadow"),I=Pr("drop-shadow"),R=Pr("blur"),M=Pr("perspective"),k=Pr("aspect"),G=Pr("ease"),F=Pr("animate"),K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto","contain","none"],ie=()=>[Bc,"px","full","auto",Qe,Ke,y],V=()=>[Ml,"none","subgrid",Qe,Ke],P=()=>["auto",{span:["full",Ml,Qe,Ke]},Qe,Ke],O=()=>[Ml,"auto",Qe,Ke],W=()=>["auto","min","max","fr",Qe,Ke],X=()=>[Qe,Ke,y],Y=()=>["start","end","center","between","around","evenly","stretch","baseline"],q=()=>["start","end","center","stretch"],be=()=>[Qe,Ke,y],le=()=>["px",...be()],ae=()=>["px","auto",...be()],fe=()=>[Bc,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",Qe,Ke,y],we=()=>[n,Qe,Ke],Re=()=>[zE,Dl],ne=()=>["","none","full",x,Qe,Ke],ye=()=>["",Gt,Bh,Dl],Ne=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ge=()=>["","none",R,Qe,Ke],it=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe,Ke],Ce=()=>["none",Gt,Qe,Ke],We=()=>["none",Gt,Qe,Ke],He=()=>[Gt,Qe,Ke],Ye=()=>[Bc,"full","px",Qe,Ke,y];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bo],breakpoint:[Bo],color:[C7],container:[Bo],"drop-shadow":[Bo],ease:["in","out","in-out"],font:[M7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bo],shadow:[Bo],spacing:[Gt],text:[Bo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bc,Ke,Qe,k]}],container:["container"],columns:[{columns:[Gt,Ke,Qe,p]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Ke,Qe]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ie()}],"inset-x":[{"inset-x":ie()}],"inset-y":[{"inset-y":ie()}],start:[{start:ie()}],end:[{end:ie()}],top:[{top:ie()}],right:[{right:ie()}],bottom:[{bottom:ie()}],left:[{left:ie()}],visibility:["visible","invisible","collapse"],z:[{z:[Ml,"auto",Qe,Ke]}],basis:[{basis:[Bc,"full","auto",Qe,Ke,p,y]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gt,Bc,"auto","initial","none",Ke]}],grow:[{grow:["",Gt,Qe,Ke]}],shrink:[{shrink:["",Gt,Qe,Ke]}],order:[{order:[Ml,"first","last","none",Qe,Ke]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":W()}],"auto-rows":[{"auto-rows":W()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...q(),"baseline"]}],"align-self":[{self:["auto",...q(),"baseline"]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:le()}],px:[{px:le()}],py:[{py:le()}],ps:[{ps:le()}],pe:[{pe:le()}],pt:[{pt:le()}],pr:[{pr:le()}],pb:[{pb:le()}],pl:[{pl:le()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":be()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":be()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[p,"screen",...fe()]}],"min-w":[{"min-w":[p,"screen","none",...fe()]}],"max-w":[{"max-w":[p,"screen","none","prose",{screen:[f]},...fe()]}],h:[{h:["screen",...fe()]}],"min-h":[{"min-h":["screen","none",...fe()]}],"max-h":[{"max-h":["screen",...fe()]}],"font-size":[{text:["base",t,Bh,Dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Qe,Fp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zE,Ke]}],"font-family":[{font:[P7,Ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Qe,Ke]}],"line-clamp":[{"line-clamp":[Gt,"none",Qe,Fp]}],leading:[{leading:[Qe,Ke,o,y]}],"list-image":[{"list-image":["none",Qe,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:we()}],"text-color":[{text:we()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Gt,"from-font","auto",Qe,Dl]}],"text-decoration-color":[{decoration:we()}],"underline-offset":[{"underline-offset":[Gt,"auto",Qe,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...be()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),B7,O7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",V7,D7]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ml,Qe,Ke],radial:["",Qe,Ke],conic:[Ml,Qe,Ke]},U7,k7]}],"bg-color":[{bg:we()}],"gradient-from-pos":[{from:Re()}],"gradient-via-pos":[{via:Re()}],"gradient-to-pos":[{to:Re()}],"gradient-from":[{from:we()}],"gradient-via":[{via:we()}],"gradient-to":[{to:we()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:we()}],"border-color-x":[{"border-x":we()}],"border-color-y":[{"border-y":we()}],"border-color-s":[{"border-s":we()}],"border-color-e":[{"border-e":we()}],"border-color-t":[{"border-t":we()}],"border-color-r":[{"border-r":we()}],"border-color-b":[{"border-b":we()}],"border-color-l":[{"border-l":we()}],"divide-color":[{divide:we()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Gt,Qe,Ke]}],"outline-w":[{outline:["",Gt,Bh,Dl]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",E,F7,L7]}],"shadow-color":[{shadow:we()}],"inset-shadow":[{"inset-shadow":["none",Qe,Ke,A]}],"inset-shadow-color":[{"inset-shadow":we()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:we()}],"ring-offset-w":[{"ring-offset":[Gt,Dl]}],"ring-offset-color":[{"ring-offset":we()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":we()}],opacity:[{opacity:[Gt,Qe,Ke]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],filter:[{filter:["","none",Qe,Ke]}],blur:[{blur:Ge()}],brightness:[{brightness:[Gt,Qe,Ke]}],contrast:[{contrast:[Gt,Qe,Ke]}],"drop-shadow":[{"drop-shadow":["","none",I,Qe,Ke]}],grayscale:[{grayscale:["",Gt,Qe,Ke]}],"hue-rotate":[{"hue-rotate":[Gt,Qe,Ke]}],invert:[{invert:["",Gt,Qe,Ke]}],saturate:[{saturate:[Gt,Qe,Ke]}],sepia:[{sepia:["",Gt,Qe,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Ke]}],"backdrop-blur":[{"backdrop-blur":Ge()}],"backdrop-brightness":[{"backdrop-brightness":[Gt,Qe,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[Gt,Qe,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gt,Qe,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gt,Qe,Ke]}],"backdrop-invert":[{"backdrop-invert":["",Gt,Qe,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[Gt,Qe,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[Gt,Qe,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Gt,Qe,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":be()}],"border-spacing-x":[{"border-spacing-x":be()}],"border-spacing-y":[{"border-spacing-y":be()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gt,"initial",Qe,Ke]}],ease:[{ease:["linear","initial",G,Qe,Ke]}],delay:[{delay:[Gt,Qe,Ke]}],animate:[{animate:["none",F,Qe,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,Qe,Ke]}],"perspective-origin":[{"perspective-origin":it()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Qe,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:it()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ye()}],"translate-x":[{"translate-x":Ye()}],"translate-y":[{"translate-y":Ye()}],"translate-z":[{"translate-z":Ye()}],"translate-none":["translate-none"],accent:[{accent:we()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:we()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":be()}],"scroll-mx":[{"scroll-mx":be()}],"scroll-my":[{"scroll-my":be()}],"scroll-ms":[{"scroll-ms":be()}],"scroll-me":[{"scroll-me":be()}],"scroll-mt":[{"scroll-mt":be()}],"scroll-mr":[{"scroll-mr":be()}],"scroll-mb":[{"scroll-mb":be()}],"scroll-ml":[{"scroll-ml":be()}],"scroll-p":[{"scroll-p":be()}],"scroll-px":[{"scroll-px":be()}],"scroll-py":[{"scroll-py":be()}],"scroll-ps":[{"scroll-ps":be()}],"scroll-pe":[{"scroll-pe":be()}],"scroll-pt":[{"scroll-pt":be()}],"scroll-pr":[{"scroll-pr":be()}],"scroll-pb":[{"scroll-pb":be()}],"scroll-pl":[{"scroll-pl":be()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Ke]}],fill:[{fill:["none",...we()]}],"stroke-w":[{stroke:[Gt,Bh,Dl,Fp]}],stroke:[{stroke:["none",...we()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Y7=(n,{cacheSize:e,prefix:t,experimentalParseClassName:r,extend:s={},override:o={}})=>(Md(n,"cacheSize",e),Md(n,"prefix",t),Md(n,"experimentalParseClassName",r),Vh(n.theme,o.theme),Vh(n.classGroups,o.classGroups),Vh(n.conflictingClassGroups,o.conflictingClassGroups),Vh(n.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),Md(n,"orderSensitiveModifiers",o.orderSensitiveModifiers),Uh(n.theme,s.theme),Uh(n.classGroups,s.classGroups),Uh(n.conflictingClassGroups,s.conflictingClassGroups),Uh(n.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),DC(n,s,"orderSensitiveModifiers"),n),Md=(n,e,t)=>{t!==void 0&&(n[e]=t)},Vh=(n,e)=>{if(e)for(const t in e)Md(n,t,e[t])},Uh=(n,e)=>{if(e)for(const t in e)DC(n,e,t)},DC=(n,e,t)=>{const r=e[t];r!==void 0&&(n[t]=n[t]?n[t].concat(r):r)},W7=(n,...e)=>typeof n=="function"?FE(jE,n,...e):FE(()=>Y7(jE(),n),...e),HE=new Map;function Yt(...n){const e=yC(),t=xC(),r=`${e}.${t}`,s=HE.get(r);if(s)return s(...n);const o=(t===3?o7:W7)({extend:{classGroups:{"bg-image":["bg-arrow-down-icon","bg-check-icon","bg-dash-icon","bg-dot-icon"],shadow:["shadow-sm-light"]}},prefix:e});return HE.set(r,o),o(...n)}function Rr(...n){return X7(()=>K7(...n),n)}function X7(n,e){const t=Z.useRef(),r=Z.useRef();return(!t.current||!cy(t.current,e))&&(t.current=e,r.current=n()),r.current}function K7([n,...e],t,r){const s=T9(),o=yC(),f=xC(),p=e!=null&&e.length?e==null?void 0:e.filter(I=>I!==void 0):void 0,y=t!=null&&t.length?t==null?void 0:t.filter(I=>I!==void 0):void 0,x=r!=null&&r.length?r==null?void 0:r.filter(I=>I!==void 0):void 0,E=y!=null&&y.length||s===!1||f===4||o?s0(n):n;if(y!=null&&y.length){const I=gy(E,!1);let R=!1;for(const M of y)M&&(R=!0),Q7(I,M);R&&Z7(E,I)}(f===4||o)&&eL(E,I=>(f===4&&(I=A9(I)),I));let A=E;if(p!=null&&p.length&&(A=C9(Yt)(E,...p)),x!=null&&x.length&&(p!=null&&p.length)){const I=gy(E,"merge");let R=!1;for(const M of x)M!=="merge"&&(R=!0),$7(I,M);R&&J7(A,x9(E,...e),I)}return A}function Q7(n,e){function t(r,s){if(typeof s=="boolean")if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return s;if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function $7(n,e){function t(r,s){if(typeof s=="string")if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return s;if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function Z7(n,e){function t(r,s){if(s===!0)if(typeof r=="object"&&r!==null)for(const o in r)r[o]=t(r[o],s);else return"";if(typeof s=="object"&&s!==null)for(const o in s)r[o]=t(r[o],s[o]);return r}t(n,e)}function J7(n,e,t){function r(s,o,f){if(f==="replace")if(typeof s=="object"&&s!==null)for(const p in s)s[p]=r(s[p],o[p],f);else return o;if(typeof f=="object"&&f!==null)for(const p in f)s[p]=r(s[p],o[p],f[p]);return s}r(n,e,t)}function eL(n,e){function t(r){if(typeof r=="string")return e(r);if(Array.isArray(r))for(let s=0;s<r.length;s++)r[s]=t(r[s]);else if(typeof r=="object"&&r!==null)for(const s in r)r[s]=t(r[s]);return r}t(n)}function gy(n,e){if(n===null||typeof n!="object")return e;const t={};for(const r in n)t[r]=gy(n[r],e);return t}const OC=Z.forwardRef((n,e)=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:B.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M5.293 7.293a1 1 0 0 1 1.414 0L10 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));OC.displayName="ChevronDownIcon";const tL=Z.createContext(void 0);function Nr(){return Z.useContext(tL)??{}}const Mx={root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"p-5 first:rounded-t-lg last:rounded-b-lg dark:bg-gray-900"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between p-5 text-left font-medium text-gray-500 first:rounded-t-lg last:rounded-b-lg dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white"}}};function kC(n){var R,M,k;const e=Nr(),t=Rr([Mx.root,(M=(R=e.theme)==null?void 0:R.accordion)==null?void 0:M.root,n.theme],[ft(e.clearTheme,"accordion.root"),n.clearTheme],[ft(e.applyTheme,"accordion.root"),n.applyTheme]),{alwaysOpen:r=!1,arrowIcon:s=OC,children:o,flush:f=!1,collapseAll:p=!1,className:y,...x}=Ir(n,(k=e.props)==null?void 0:k.accordion),[E,A]=Z.useState(p?-1:0),I=Z.useMemo(()=>Z.Children.map(o,(G,F)=>Z.cloneElement(G,{alwaysOpen:r,arrowIcon:s,flush:f,isOpen:E===F,setOpen:()=>A(E===F?-1:F)})),[r,s,o,f,E]);return B.jsx("div",{className:Yt(t.base,t.flush[f?"on":"off"],y),"data-testid":"flowbite-accordion",...x,children:I})}kC.displayName="Accordion";const LC=Z.createContext(void 0);function PC(){const n=Z.useContext(LC);if(!n)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return n}function BC(n){var f,p,y;const{isOpen:e}=PC(),t=Nr(),r=Rr([Mx.content,(p=(f=t.theme)==null?void 0:f.accordion)==null?void 0:p.content,n.theme],[ft(t.clearTheme,"accordion.content"),n.clearTheme],[ft(t.applyTheme,"accordion.content"),n.applyTheme]),{className:s,...o}=Ir(n,(y=t.props)==null?void 0:y.accordionContent);return B.jsx("div",{className:Yt(r.base,s),"data-testid":"flowbite-accordion-content",hidden:!e,...o})}BC.displayName="AccordionContent";function VC({children:n,...e}){const{alwaysOpen:t}=e,[r,s]=Z.useState(e.isOpen),o=t?{...e,isOpen:r,setOpen:()=>s(!r)}:e;return B.jsx(LC.Provider,{value:o,children:n})}VC.displayName="AccordionPanel";function UC(n){var I,R,M;const{arrowIcon:e,flush:t,isOpen:r,setOpen:s}=PC(),o=()=>typeof s<"u"&&s(),f=Nr(),p=Rr([Mx.title,(R=(I=f.theme)==null?void 0:I.accordion)==null?void 0:R.title,n.theme],[ft(f.clearTheme,"accordion.title"),n.clearTheme],[ft(f.applyTheme,"accordion.title"),n.applyTheme]),{as:y="h2",children:x,className:E,...A}=Ir(n,(M=f.props)==null?void 0:M.accordionTitle);return B.jsxs("button",{className:Yt(p.base,p.flush[t?"on":"off"],p.open[r?"on":"off"],E),onClick:o,type:"button",...A,children:[B.jsx(y,{className:p.heading,"data-testid":"flowbite-accordion-heading",children:x}),e&&B.jsx(e,{"aria-hidden":!0,className:Yt(p.arrow.base,p.arrow.open[r?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})}UC.displayName="AccordionTitle";const FC=Z.forwardRef(({children:n,as:e,href:t,type:r="button",...s},o)=>{const f=e||(t?"a":"button");return Z.createElement(f,{ref:o,href:t,type:r,...s},n)});FC.displayName="ButtonBase";const nL=Z.createContext(void 0);function rL(){return Z.useContext(nL)}const iL={base:"relative flex items-center justify-center rounded-lg text-center font-medium focus:outline-none focus:ring-4",disabled:"pointer-events-none opacity-50",fullSized:"w-full",grouped:"rounded-none border-l-0 first:rounded-s-lg first:border-l last:rounded-e-lg focus:ring-2",pill:"rounded-full",size:{xs:"h-8 px-3 text-xs",sm:"h-9 px-3 text-sm",md:"h-10 px-5 text-sm",lg:"h-12 px-5 text-base",xl:"h-[52px] px-6 text-base"},color:{default:"bg-primary-700 text-white hover:bg-primary-800 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800",alternative:"border border-gray-200 bg-white text-gray-900 hover:bg-gray-100 hover:text-primary-700 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-700",blue:"bg-blue-700 text-white hover:bg-blue-800 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",cyan:"bg-cyan-700 text-white hover:bg-cyan-800 focus:ring-cyan-300 dark:bg-cyan-600 dark:hover:bg-cyan-700 dark:focus:ring-cyan-800",dark:"bg-gray-800 text-white hover:bg-gray-900 focus:ring-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700",gray:"bg-gray-700 text-white hover:bg-gray-800 focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-800",green:"bg-green-700 text-white hover:bg-green-800 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",indigo:"bg-indigo-700 text-white hover:bg-indigo-800 focus:ring-indigo-300 dark:bg-indigo-600 dark:hover:bg-indigo-700 dark:focus:ring-indigo-800",light:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-700",lime:"bg-lime-700 text-white hover:bg-lime-800 focus:ring-lime-300 dark:bg-lime-600 dark:hover:bg-lime-700 dark:focus:ring-lime-800",pink:"bg-pink-700 text-white hover:bg-pink-800 focus:ring-pink-300 dark:bg-pink-600 dark:hover:bg-pink-700 dark:focus:ring-pink-800",purple:"bg-purple-700 text-white hover:bg-purple-800 focus:ring-purple-300 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-800",red:"bg-red-700 text-white hover:bg-red-800 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800",teal:"bg-teal-700 text-white hover:bg-teal-800 focus:ring-teal-300 dark:bg-teal-600 dark:hover:bg-teal-700 dark:focus:ring-teal-800",yellow:"bg-yellow-400 text-white hover:bg-yellow-500 focus:ring-yellow-300 dark:bg-yellow-600 dark:hover:bg-yellow-400 dark:focus:ring-yellow-900"},outlineColor:{default:"border border-primary-700 text-primary-700 hover:border-primary-800 hover:bg-primary-800 hover:text-white focus:ring-primary-300 dark:border-primary-600 dark:text-primary-500 dark:hover:border-primary-700 dark:hover:bg-primary-700 dark:hover:text-white dark:focus:ring-primary-800",blue:"border border-blue-700 text-blue-700 hover:border-blue-800 hover:bg-blue-800 hover:text-white focus:ring-blue-300 dark:border-blue-500 dark:text-blue-500 dark:hover:border-blue-700 dark:hover:bg-blue-700 dark:hover:text-white dark:focus:ring-blue-800",cyan:"border border-cyan-700 text-cyan-700 hover:border-cyan-800 hover:bg-cyan-800 hover:text-white focus:ring-cyan-300 dark:border-cyan-500 dark:text-cyan-500 dark:hover:border-cyan-700 dark:hover:bg-cyan-700 dark:hover:text-white dark:focus:ring-cyan-800",dark:"border border-gray-800 text-gray-800 hover:border-gray-900 hover:bg-gray-900 hover:text-white focus:ring-gray-300 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:ring-gray-800",gray:"border border-gray-700 text-gray-700 hover:border-gray-800 hover:bg-gray-800 hover:text-white focus:ring-gray-300 dark:border-gray-600 dark:text-gray-400 dark:hover:border-gray-700 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-800",green:"border border-green-700 text-green-700 hover:border-green-800 hover:bg-green-800 hover:text-white focus:ring-green-300 dark:border-green-600 dark:text-green-500 dark:hover:border-green-700 dark:hover:bg-green-700 dark:hover:text-white dark:focus:ring-green-800",indigo:"border border-indigo-700 text-indigo-700 hover:border-indigo-800 hover:bg-indigo-800 hover:text-white focus:ring-indigo-300 dark:border-indigo-600 dark:text-indigo-400 dark:hover:border-indigo-700 dark:hover:bg-indigo-700 dark:hover:text-white dark:focus:ring-indigo-800",lime:"border border-lime-700 text-lime-700 hover:border-lime-800 hover:bg-lime-800 hover:text-white focus:ring-lime-300 dark:border-lime-600 dark:text-lime-500 dark:hover:border-lime-700 dark:hover:bg-lime-700 dark:hover:text-white dark:focus:ring-lime-800",pink:"border border-pink-700 text-pink-700 hover:border-pink-800 hover:bg-pink-800 hover:text-white focus:ring-pink-300 dark:border-pink-600 dark:text-pink-500 dark:hover:border-pink-700 dark:hover:bg-pink-700 dark:hover:text-white dark:focus:ring-pink-800",purple:"border border-purple-700 text-purple-700 hover:border-purple-800 hover:bg-purple-800 hover:text-white focus:ring-purple-300 dark:border-purple-600 dark:text-purple-400 dark:hover:border-purple-700 dark:hover:bg-purple-700 dark:hover:text-white dark:focus:ring-purple-800",red:"border border-red-700 text-red-700 hover:border-red-800 hover:bg-red-800 hover:text-white focus:ring-red-300 dark:border-red-600 dark:text-red-500 dark:hover:border-red-700 dark:hover:bg-red-700 dark:hover:text-white dark:focus:ring-red-800",teal:"border border-teal-700 text-teal-700 hover:border-teal-800 hover:bg-teal-800 hover:text-white focus:ring-teal-300 dark:border-teal-600 dark:text-teal-400 dark:hover:border-teal-700 dark:hover:bg-teal-700 dark:hover:text-white dark:focus:ring-teal-800",yellow:"border border-yellow-400 text-yellow-400 hover:border-yellow-500 hover:bg-yellow-500 hover:text-white focus:ring-yellow-300 dark:border-yellow-300 dark:text-yellow-300 dark:hover:border-yellow-400 dark:hover:bg-yellow-400 dark:hover:text-white dark:focus:ring-yellow-900"}},aa=Z.forwardRef((n,e)=>{var G,F;const t=Nr(),r=Rr([iL,(G=t.theme)==null?void 0:G.button,n.theme],[ft(t.clearTheme,"button"),n.clearTheme],[ft(t.applyTheme,"button"),n.applyTheme]),{children:s,className:o,color:f="default",disabled:p,fullSized:y,outline:x,pill:E,size:A="md",...I}=Ir(n,(F=t.props)==null?void 0:F.button),R=rL(),M=(R==null?void 0:R.outline)??x,k=(R==null?void 0:R.pill)??E;return B.jsx(FC,{ref:e,disabled:p,className:Yt(r.base,r.size[A],k&&r.pill,p&&r.disabled,y&&r.fullSized,M?r.outlineColor[f]:r.color[f],R&&r.grouped,o),...I,children:s})});aa.displayName="Button";const sL={root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},Ud=Z.forwardRef((n,e)=>{var R,M;const t=Nr(),r=Rr([sL,(R=t.theme)==null?void 0:R.card,n.theme],[ft(t.clearTheme,"card"),n.clearTheme],[ft(t.applyTheme,"card"),n.applyTheme]),{children:s,className:o,horizontal:f,href:p,imgAlt:y,imgSrc:x,renderImage:E,...A}=Ir(n,(M=t.props)==null?void 0:M.card),I=typeof p>"u"?"div":"a";return B.jsxs(I,{ref:e,"data-testid":"flowbite-card",href:p,className:Yt(r.root.base,r.root.horizontal[f?"on":"off"],p&&r.root.href,o),...A,children:[(E==null?void 0:E(r,!!f))??(x&&B.jsx("img",{"data-testid":"flowbite-card-image",alt:y??"",src:x,className:Yt(r.img.base,r.img.horizontal[n.horizontal?"on":"off"])})),B.jsx("div",{className:r.root.children,children:s})]})});Ud.displayName="Card";function vg(){return typeof window<"u"}function fl(n){return zC(n)?(n.nodeName||"").toLowerCase():"#document"}function rs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ja(n){var e;return(e=(zC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function zC(n){return vg()?n instanceof Node||n instanceof rs(n).Node:!1}function or(n){return vg()?n instanceof Element||n instanceof rs(n).Element:!1}function Vr(n){return vg()?n instanceof HTMLElement||n instanceof rs(n).HTMLElement:!1}function py(n){return!vg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof rs(n).ShadowRoot}function Tf(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=_s(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function aL(n){return["table","td","th"].includes(fl(n))}function bg(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Dx(n){const e=Eg(),t=or(n)?_s(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function oL(n){let e=$a(n);for(;Vr(e)&&!Ha(e);){if(Dx(e))return e;if(bg(e))return null;e=$a(e)}return null}function Eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ha(n){return["html","body","#document"].includes(fl(n))}function _s(n){return rs(n).getComputedStyle(n)}function _g(n){return or(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function $a(n){if(fl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||py(n)&&n.host||Ja(n);return py(e)?e.host:e}function jC(n){const e=$a(n);return Ha(e)?n.ownerDocument?n.ownerDocument.body:n.body:Vr(e)&&Tf(e)?e:jC(e)}function iu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=jC(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),f=rs(s);if(o){const p=my(f);return e.concat(f,f.visualViewport||[],Tf(s)?s:[],p&&t?iu(p):[])}return e.concat(s,iu(s,[],t))}function my(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function kl(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Zi(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&py(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function HC(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function GC(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function lL(n){return n.mozInputSource===0&&n.isTrusted?!0:yy()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function cL(n){return dL()?!1:!yy()&&n.width===0&&n.height===0||yy()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function uL(){return/apple/i.test(navigator.vendor)}function yy(){const n=/android/i;return n.test(HC())||n.test(GC())}function dL(){return GC().includes("jsdom/")}function GE(n,e){return["mouse","pen"].includes(n)}function fL(n){return"nativeEvent"in n}function hL(n){return n.matches("html,body")}function Os(n){return(n==null?void 0:n.ownerDocument)||document}function zp(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function Bl(n){return"composedPath"in n?n.composedPath()[0]:n.target}const gL="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function qC(n){return Vr(n)&&n.matches(gL)}function jp(n){n.preventDefault(),n.stopPropagation()}function pL(n){return n?n.getAttribute("role")==="combobox"&&qC(n):!1}const qE=Math.min,Fd=Math.max,C0=Math.round,oa=n=>({x:n,y:n});function YC(n){return n.split("-")[0]}function mL(n){return n.split("-")[1]}function yL(n){return n==="x"?"y":"x"}function xL(n){return n==="y"?"height":"width"}function WC(n){return["top","bottom"].includes(YC(n))?"y":"x"}function wL(n){return yL(WC(n))}function XC(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var vL=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],I0=vL.join(","),KC=typeof Element>"u",pu=KC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,R0=!KC&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},N0=function n(e,t){var r;t===void 0&&(t=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=s===""||s==="true",f=o||t&&e&&n(e.parentNode);return f},bL=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},EL=function(e,t,r){if(N0(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(I0));return t&&pu.call(e,I0)&&s.unshift(e),s=s.filter(r),s},_L=function n(e,t,r){for(var s=[],o=Array.from(e);o.length;){var f=o.shift();if(!N0(f,!1))if(f.tagName==="SLOT"){var p=f.assignedElements(),y=p.length?p:f.children,x=n(y,!0,r);r.flatten?s.push.apply(s,x):s.push({scopeParent:f,candidates:x})}else{var E=pu.call(f,I0);E&&r.filter(f)&&(t||!e.includes(f))&&s.push(f);var A=f.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(f),I=!N0(A,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(f));if(A&&I){var R=n(A===!0?f.children:A.children,!0,r);r.flatten?s.push.apply(s,R):s.push({scopeParent:f,candidates:R})}else o.unshift.apply(o,f.children)}}return s},QC=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},$C=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||bL(e))&&!QC(e)?0:e.tabIndex},TL=function(e,t){var r=$C(e);return r<0&&t&&!QC(e)?0:r},AL=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},ZC=function(e){return e.tagName==="INPUT"},SL=function(e){return ZC(e)&&e.type==="hidden"},CL=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},IL=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},RL=function(e){if(!e.name)return!0;var t=e.form||R0(e),r=function(p){return t.querySelectorAll('input[type="radio"][name="'+p+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(f){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",f.message),!1}var o=IL(s,e.form);return!o||o===e},NL=function(e){return ZC(e)&&e.type==="radio"},ML=function(e){return NL(e)&&!RL(e)},DL=function(e){var t,r=e&&R0(e),s=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var f,p,y;for(o=!!((f=s)!==null&&f!==void 0&&(p=f.ownerDocument)!==null&&p!==void 0&&p.contains(s)||e!=null&&(y=e.ownerDocument)!==null&&y!==void 0&&y.contains(e));!o&&s;){var x,E,A;r=R0(s),s=(x=r)===null||x===void 0?void 0:x.host,o=!!((E=s)!==null&&E!==void 0&&(A=E.ownerDocument)!==null&&A!==void 0&&A.contains(s))}}return o},YE=function(e){var t=e.getBoundingClientRect(),r=t.width,s=t.height;return r===0&&s===0},OL=function(e,t){var r=t.displayCheck,s=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=pu.call(e,"details>summary:first-of-type"),f=o?e.parentElement:e;if(pu.call(f,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var p=e;e;){var y=e.parentElement,x=R0(e);if(y&&!y.shadowRoot&&s(y)===!0)return YE(e);e.assignedSlot?e=e.assignedSlot:!y&&x!==e.ownerDocument?e=x.host:e=y}e=p}if(DL(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return YE(e);return!1},kL=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var s=t.children.item(r);if(s.tagName==="LEGEND")return pu.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},LL=function(e,t){return!(t.disabled||N0(t)||SL(t)||OL(t,e)||CL(t)||kL(t))},xy=function(e,t){return!(ML(t)||$C(t)<0||!LL(e,t))},PL=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},BL=function n(e){var t=[],r=[];return e.forEach(function(s,o){var f=!!s.scopeParent,p=f?s.scopeParent:s,y=TL(p,f),x=f?n(s.candidates):p;y===0?f?t.push.apply(t,x):t.push(p):r.push({documentOrder:o,tabIndex:y,item:s,isScope:f,content:x})}),r.sort(AL).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(t)},Tg=function(e,t){t=t||{};var r;return t.getShadowRoot?r=_L([e],t.includeContainer,{filter:xy.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:PL}):r=EL(e,t.includeContainer,xy.bind(null,t)),BL(r)},VL=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return pu.call(e,I0)===!1?!1:xy(t,e)};function WE(n,e,t){let{reference:r,floating:s}=n;const o=WC(e),f=wL(e),p=xL(f),y=YC(e),x=o==="y",E=r.x+r.width/2-s.width/2,A=r.y+r.height/2-s.height/2,I=r[p]/2-s[p]/2;let R;switch(y){case"top":R={x:E,y:r.y-s.height};break;case"bottom":R={x:E,y:r.y+r.height};break;case"right":R={x:r.x+r.width,y:A};break;case"left":R={x:r.x-s.width,y:A};break;default:R={x:r.x,y:r.y}}switch(mL(e)){case"start":R[f]-=I*(t&&x?-1:1);break;case"end":R[f]+=I*(t&&x?-1:1);break}return R}const UL=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:f}=t,p=o.filter(Boolean),y=await(f.isRTL==null?void 0:f.isRTL(e));let x=await f.getElementRects({reference:n,floating:e,strategy:s}),{x:E,y:A}=WE(x,r,y),I=r,R={},M=0;for(let k=0;k<p.length;k++){const{name:G,fn:F}=p[k],{x:K,y:L,data:$,reset:te}=await F({x:E,y:A,initialPlacement:r,placement:I,strategy:s,middlewareData:R,rects:x,platform:f,elements:{reference:n,floating:e}});E=K??E,A=L??A,R={...R,[G]:{...R[G],...$}},te&&M<=50&&(M++,typeof te=="object"&&(te.placement&&(I=te.placement),te.rects&&(x=te.rects===!0?await f.getElementRects({reference:n,floating:e,strategy:s}):te.rects),{x:E,y:A}=WE(x,I,y)),k=-1)}return{x:E,y:A,placement:I,strategy:s,middlewareData:R}};function JC(n){const e=_s(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Vr(n),o=s?n.offsetWidth:t,f=s?n.offsetHeight:r,p=C0(t)!==o||C0(r)!==f;return p&&(t=o,r=f),{width:t,height:r,$:p}}function eI(n){return or(n)?n:n.contextElement}function su(n){const e=eI(n);if(!Vr(e))return oa(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=JC(e);let f=(o?C0(t.width):t.width)/r,p=(o?C0(t.height):t.height)/s;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const FL=oa(0);function tI(n){const e=rs(n);return!Eg()||!e.visualViewport?FL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==rs(n)?!1:e}function rf(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=eI(n);let f=oa(1);e&&(r?or(r)&&(f=su(r)):f=su(n));const p=zL(o,t,r)?tI(o):oa(0);let y=(s.left+p.x)/f.x,x=(s.top+p.y)/f.y,E=s.width/f.x,A=s.height/f.y;if(o){const I=rs(o),R=r&&or(r)?rs(r):r;let M=I,k=my(M);for(;k&&r&&R!==M;){const G=su(k),F=k.getBoundingClientRect(),K=_s(k),L=F.left+(k.clientLeft+parseFloat(K.paddingLeft))*G.x,$=F.top+(k.clientTop+parseFloat(K.paddingTop))*G.y;y*=G.x,x*=G.y,E*=G.x,A*=G.y,y+=L,x+=$,M=rs(k),k=my(M)}}return XC({width:E,height:A,x:y,y:x})}function Ox(n,e){const t=_g(n).scrollLeft;return e?e.left+t:rf(Ja(n)).left+t}function nI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Ox(n,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function jL(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const o=s==="fixed",f=Ja(r),p=e?bg(e.floating):!1;if(r===f||p&&o)return t;let y={scrollLeft:0,scrollTop:0},x=oa(1);const E=oa(0),A=Vr(r);if((A||!A&&!o)&&((fl(r)!=="body"||Tf(f))&&(y=_g(r)),Vr(r))){const R=rf(r);x=su(r),E.x=R.x+r.clientLeft,E.y=R.y+r.clientTop}const I=f&&!A&&!o?nI(f,y,!0):oa(0);return{width:t.width*x.x,height:t.height*x.y,x:t.x*x.x-y.scrollLeft*x.x+E.x+I.x,y:t.y*x.y-y.scrollTop*x.y+E.y+I.y}}function HL(n){return Array.from(n.getClientRects())}function GL(n){const e=Ja(n),t=_g(n),r=n.ownerDocument.body,s=Fd(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Fd(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let f=-t.scrollLeft+Ox(n);const p=-t.scrollTop;return _s(r).direction==="rtl"&&(f+=Fd(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:f,y:p}}function qL(n,e){const t=rs(n),r=Ja(n),s=t.visualViewport;let o=r.clientWidth,f=r.clientHeight,p=0,y=0;if(s){o=s.width,f=s.height;const x=Eg();(!x||x&&e==="fixed")&&(p=s.offsetLeft,y=s.offsetTop)}return{width:o,height:f,x:p,y}}function YL(n,e){const t=rf(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,o=Vr(n)?su(n):oa(1),f=n.clientWidth*o.x,p=n.clientHeight*o.y,y=s*o.x,x=r*o.y;return{width:f,height:p,x:y,y:x}}function XE(n,e,t){let r;if(e==="viewport")r=qL(n,t);else if(e==="document")r=GL(Ja(n));else if(or(e))r=YL(e,t);else{const s=tI(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return XC(r)}function rI(n,e){const t=$a(n);return t===e||!or(t)||Ha(t)?!1:_s(t).position==="fixed"||rI(t,e)}function WL(n,e){const t=e.get(n);if(t)return t;let r=iu(n,[],!1).filter(p=>or(p)&&fl(p)!=="body"),s=null;const o=_s(n).position==="fixed";let f=o?$a(n):n;for(;or(f)&&!Ha(f);){const p=_s(f),y=Dx(f);!y&&p.position==="fixed"&&(s=null),(o?!y&&!s:!y&&p.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Tf(f)&&!y&&rI(n,f))?r=r.filter(E=>E!==f):s=p,f=$a(f)}return e.set(n,r),r}function XL(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const f=[...t==="clippingAncestors"?bg(e)?[]:WL(e,this._c):[].concat(t),r],p=f[0],y=f.reduce((x,E)=>{const A=XE(e,E,s);return x.top=Fd(A.top,x.top),x.right=qE(A.right,x.right),x.bottom=qE(A.bottom,x.bottom),x.left=Fd(A.left,x.left),x},XE(e,p,s));return{width:y.right-y.left,height:y.bottom-y.top,x:y.left,y:y.top}}function KL(n){const{width:e,height:t}=JC(n);return{width:e,height:t}}function QL(n,e,t){const r=Vr(e),s=Ja(e),o=t==="fixed",f=rf(n,!0,o,e);let p={scrollLeft:0,scrollTop:0};const y=oa(0);if(r||!r&&!o)if((fl(e)!=="body"||Tf(s))&&(p=_g(e)),r){const I=rf(e,!0,o,e);y.x=I.x+e.clientLeft,y.y=I.y+e.clientTop}else s&&(y.x=Ox(s));const x=s&&!r&&!o?nI(s,p):oa(0),E=f.left+p.scrollLeft-y.x-x.x,A=f.top+p.scrollTop-y.y-x.y;return{x:E,y:A,width:f.width,height:f.height}}function Hp(n){return _s(n).position==="static"}function KE(n,e){if(!Vr(n)||_s(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ja(n)===t&&(t=t.ownerDocument.body),t}function iI(n,e){const t=rs(n);if(bg(n))return t;if(!Vr(n)){let s=$a(n);for(;s&&!Ha(s);){if(or(s)&&!Hp(s))return s;s=$a(s)}return t}let r=KE(n,e);for(;r&&aL(r)&&Hp(r);)r=KE(r,e);return r&&Ha(r)&&Hp(r)&&!Dx(r)?t:r||oL(n)||t}const $L=async function(n){const e=this.getOffsetParent||iI,t=this.getDimensions,r=await t(n.floating);return{reference:QL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZL(n){return _s(n).direction==="rtl"}const JL={convertOffsetParentRelativeRectToViewportRelativeRect:jL,getDocumentElement:Ja,getClippingRect:XL,getOffsetParent:iI,getElementRects:$L,getClientRects:HL,getDimensions:KL,getScale:su,isElement:or,isRTL:ZL},eP=(n,e,t)=>{const r=new Map,s={platform:JL,...t},o={...s.platform,_c:r};return UL(n,e,{...s,platform:o})};var a0=typeof document<"u"?Z.useLayoutEffect:Z.useEffect;function M0(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!M0(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!M0(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function sI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function QE(n,e){const t=sI(n);return Math.round(e*t)/t}function Gp(n){const e=Z.useRef(n);return a0(()=>{e.current=n}),e}function tP(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:f}={},transform:p=!0,whileElementsMounted:y,open:x}=n,[E,A]=Z.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[I,R]=Z.useState(r);M0(I,r)||R(r);const[M,k]=Z.useState(null),[G,F]=Z.useState(null),K=Z.useCallback(we=>{we!==ie.current&&(ie.current=we,k(we))},[]),L=Z.useCallback(we=>{we!==V.current&&(V.current=we,F(we))},[]),$=o||M,te=f||G,ie=Z.useRef(null),V=Z.useRef(null),P=Z.useRef(E),O=y!=null,W=Gp(y),X=Gp(s),Y=Gp(x),q=Z.useCallback(()=>{if(!ie.current||!V.current)return;const we={placement:e,strategy:t,middleware:I};X.current&&(we.platform=X.current),eP(ie.current,V.current,we).then(Re=>{const ne={...Re,isPositioned:Y.current!==!1};be.current&&!M0(P.current,ne)&&(P.current=ne,LT.flushSync(()=>{A(ne)}))})},[I,e,t,X,Y]);a0(()=>{x===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,A(we=>({...we,isPositioned:!1})))},[x]);const be=Z.useRef(!1);a0(()=>(be.current=!0,()=>{be.current=!1}),[]),a0(()=>{if($&&(ie.current=$),te&&(V.current=te),$&&te){if(W.current)return W.current($,te,q);q()}},[$,te,q,W,O]);const le=Z.useMemo(()=>({reference:ie,floating:V,setReference:K,setFloating:L}),[K,L]),ae=Z.useMemo(()=>({reference:$,floating:te}),[$,te]),fe=Z.useMemo(()=>{const we={position:t,left:0,top:0};if(!ae.floating)return we;const Re=QE(ae.floating,E.x),ne=QE(ae.floating,E.y);return p?{...we,transform:"translate("+Re+"px, "+ne+"px)",...sI(ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Re,top:ne}},[t,p,ae.floating,E.x,E.y]);return Z.useMemo(()=>({...E,update:q,refs:le,elements:ae,floatingStyles:fe}),[E,q,le,ae,fe])}function wy(n){return Z.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})},n)}const aI={...D4},nP=aI.useInsertionEffect,rP=nP||(n=>n());function Pa(n){const e=Z.useRef(()=>{});return rP(()=>{e.current=n}),Z.useCallback(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}var ns=typeof document<"u"?Z.useLayoutEffect:Z.useEffect;let $E=!1,iP=0;const ZE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+iP++;function sP(){const[n,e]=Z.useState(()=>$E?ZE():void 0);return ns(()=>{n==null&&e(ZE())},[]),Z.useEffect(()=>{$E=!0},[]),n}const aP=aI.useId,kx=aP||sP;function oP(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(s=>s(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(s=>s!==t))||[])}}}const lP=Z.createContext(null),cP=Z.createContext(null),oI=()=>{var n;return((n=Z.useContext(lP))==null?void 0:n.id)||null},Lx=()=>Z.useContext(cP);function sf(n){return"data-floating-ui-"+n}function qp(n){const e=Z.useRef(n);return ns(()=>{e.current=n}),e}let JE=0;function Vc(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:s=!1}=e;r&&cancelAnimationFrame(JE);const o=()=>n==null?void 0:n.focus({preventScroll:t});s?o():JE=requestAnimationFrame(o)}function e_(n,e){var t;let r=[],s=(t=n.find(o=>o.id===e))==null?void 0:t.parentId;for(;s;){const o=n.find(f=>f.id===s);s=o==null?void 0:o.parentId,o&&(r=r.concat(o))}return r}function zd(n,e){let t=n.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),r=t;for(;r.length;)r=n.filter(s=>{var o;return(o=r)==null?void 0:o.some(f=>{var p;return s.parentId===f.id&&((p=s.context)==null?void 0:p.open)})}),t=t.concat(r);return t}let Uc=new WeakMap,Fh=new WeakSet,zh={},Yp=0;const uP=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,lI=n=>n&&(n.host||lI(n.parentNode)),dP=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=lI(t);return n.contains(r)?r:null}).filter(t=>t!=null);function fP(n,e,t,r){const s="data-floating-ui-inert",o=r?"inert":t?"aria-hidden":null,f=dP(e,n),p=new Set,y=new Set(f),x=[];zh[s]||(zh[s]=new WeakMap);const E=zh[s];f.forEach(A),I(e),p.clear();function A(R){!R||p.has(R)||(p.add(R),R.parentNode&&A(R.parentNode))}function I(R){!R||y.has(R)||[].forEach.call(R.children,M=>{if(fl(M)!=="script")if(p.has(M))I(M);else{const k=o?M.getAttribute(o):null,G=k!==null&&k!=="false",F=Uc.get(M)||0,K=o?F+1:F,L=(E.get(M)||0)+1;Uc.set(M,K),E.set(M,L),x.push(M),K===1&&G&&Fh.add(M),L===1&&M.setAttribute(s,""),!G&&o&&M.setAttribute(o,"true")}})}return Yp++,()=>{x.forEach(R=>{const M=Uc.get(R)||0,k=o?M-1:M,G=(E.get(R)||0)-1;Uc.set(R,k),E.set(R,G),k||(!Fh.has(R)&&o&&R.removeAttribute(o),Fh.delete(R)),G||R.removeAttribute(s)}),Yp--,Yp||(Uc=new WeakMap,Uc=new WeakMap,Fh=new WeakSet,zh={})}}function t_(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=Os(n[0]).body;return fP(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const Ag=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function cI(n,e){const t=Tg(n,Ag());e==="prev"&&t.reverse();const r=t.indexOf(kl(Os(n)));return t.slice(r+1)[0]}function uI(){return cI(document.body,"next")}function dI(){return cI(document.body,"prev")}function jd(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Zi(t,r)}function hP(n){Tg(n,Ag()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function n_(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}const Sg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let gP;function r_(n){n.key==="Tab"&&(n.target,clearTimeout(gP))}const D0=Z.forwardRef(function(e,t){const[r,s]=Z.useState();ns(()=>(uL()&&s("button"),document.addEventListener("keydown",r_),()=>{document.removeEventListener("keydown",r_)}),[]);const o={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[sf("focus-guard")]:"",style:Sg};return B.jsx("span",{...e,...o})}),fI=Z.createContext(null),i_=sf("portal");function pP(n){n===void 0&&(n={});const{id:e,root:t}=n,r=kx(),s=hI(),[o,f]=Z.useState(null),p=Z.useRef(null);return ns(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{p.current=null})},[o]),ns(()=>{if(!r||p.current)return;const y=e?document.getElementById(e):null;if(!y)return;const x=document.createElement("div");x.id=r,x.setAttribute(i_,""),y.appendChild(x),p.current=x,f(x)},[e,r]),ns(()=>{if(t===null||!r||p.current)return;let y=t||(s==null?void 0:s.portalNode);y&&!or(y)&&(y=y.current),y=y||document.body;let x=null;e&&(x=document.createElement("div"),x.id=e,y.appendChild(x));const E=document.createElement("div");E.id=r,E.setAttribute(i_,""),y=x||y,y.appendChild(E),p.current=E,f(E)},[e,t,r,s]),o}function mP(n){const{children:e,id:t,root:r,preserveTabOrder:s=!0}=n,o=pP({id:t,root:r}),[f,p]=Z.useState(null),y=Z.useRef(null),x=Z.useRef(null),E=Z.useRef(null),A=Z.useRef(null),I=f==null?void 0:f.modal,R=f==null?void 0:f.open,M=!!f&&!f.modal&&f.open&&s&&!!(r||o);return Z.useEffect(()=>{if(!o||!s||I)return;function k(G){o&&jd(G)&&(G.type==="focusin"?n_:hP)(o)}return o.addEventListener("focusin",k,!0),o.addEventListener("focusout",k,!0),()=>{o.removeEventListener("focusin",k,!0),o.removeEventListener("focusout",k,!0)}},[o,s,I]),Z.useEffect(()=>{o&&(R||n_(o))},[R,o]),B.jsxs(fI.Provider,{value:Z.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:y,afterOutsideRef:x,beforeInsideRef:E,afterInsideRef:A,portalNode:o,setFocusManagerState:p}),[s,o]),children:[M&&o&&B.jsx(D0,{"data-type":"outside",ref:y,onFocus:k=>{if(jd(k,o)){var G;(G=E.current)==null||G.focus()}else{const F=dI()||(f==null?void 0:f.domReference);F==null||F.focus()}}}),M&&o&&B.jsx("span",{"aria-owns":o.id,style:Sg}),o&&LT.createPortal(e,o),M&&o&&B.jsx(D0,{"data-type":"outside",ref:x,onFocus:k=>{if(jd(k,o)){var G;(G=A.current)==null||G.focus()}else{const F=uI()||(f==null?void 0:f.domReference);F==null||F.focus(),f!=null&&f.closeOnFocusOut&&(f==null||f.onOpenChange(!1,k.nativeEvent,"focus-out"))}}})]})}const hI=()=>Z.useContext(fI),vy="data-floating-ui-focusable";function s_(n){return n?n.hasAttribute(vy)?n:n.querySelector("["+vy+"]")||n:null}const yP=20;let Ll=[];function Wp(n){Ll=Ll.filter(e=>e.isConnected),n&&fl(n)!=="body"&&(Ll.push(n),Ll.length>yP&&(Ll=Ll.slice(-20)))}function a_(){return Ll.slice().reverse().find(n=>n.isConnected)}function xP(n){const e=Ag();return VL(n,e)?n:Tg(n,e)[0]||n}const wP=Z.forwardRef(function(e,t){return B.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:Sg})});function vP(n){const{context:e,children:t,disabled:r=!1,order:s=["content"],guards:o=!0,initialFocus:f=0,returnFocus:p=!0,restoreFocus:y=!1,modal:x=!0,visuallyHiddenDismiss:E=!1,closeOnFocusOut:A=!0,outsideElementsInert:I=!1}=n,{open:R,onOpenChange:M,events:k,dataRef:G,elements:{domReference:F,floating:K}}=e,L=Pa(()=>{var Ye;return(Ye=G.current.floatingContext)==null?void 0:Ye.nodeId}),$=typeof f=="number"&&f<0,te=pL(F)&&$,ie=uP(),V=ie?o:!0,P=!V||ie&&I,O=qp(s),W=qp(f),X=qp(p),Y=Lx(),q=hI(),be=Z.useRef(null),le=Z.useRef(null),ae=Z.useRef(!1),fe=Z.useRef(!1),we=Z.useRef(-1),Re=q!=null,ne=s_(K),ye=Pa(function(Ye){return Ye===void 0&&(Ye=ne),Ye?Tg(Ye,Ag()):[]}),Ne=Pa(Ye=>{const lt=ye(Ye);return O.current.map(et=>F&&et==="reference"?F:ne&&et==="floating"?ne:lt).filter(Boolean).flat()});Z.useEffect(()=>{if(r||!x)return;function Ye(et){if(et.key==="Tab"){Zi(ne,kl(Os(ne)))&&ye().length===0&&!te&&jp(et);const xt=Ne(),nt=Bl(et);O.current[0]==="reference"&&nt===F&&(jp(et),et.shiftKey?Vc(xt[xt.length-1]):Vc(xt[1])),O.current[1]==="floating"&&nt===ne&&et.shiftKey&&(jp(et),Vc(xt[0]))}}const lt=Os(ne);return lt.addEventListener("keydown",Ye),()=>{lt.removeEventListener("keydown",Ye)}},[r,F,ne,x,O,te,ye,Ne]),Z.useEffect(()=>{if(r||!K)return;function Ye(lt){const et=Bl(lt),nt=ye().indexOf(et);nt!==-1&&(we.current=nt)}return K.addEventListener("focusin",Ye),()=>{K.removeEventListener("focusin",Ye)}},[r,K,ye]),Z.useEffect(()=>{if(r||!A)return;function Ye(){fe.current=!0,setTimeout(()=>{fe.current=!1})}function lt(et){const xt=et.relatedTarget;queueMicrotask(()=>{const nt=L(),on=!(Zi(F,xt)||Zi(K,xt)||Zi(xt,K)||Zi(q==null?void 0:q.portalNode,xt)||xt!=null&&xt.hasAttribute(sf("focus-guard"))||Y&&(zd(Y.nodesRef.current,nt).find(Lt=>{var Jn,wt;return Zi((Jn=Lt.context)==null?void 0:Jn.elements.floating,xt)||Zi((wt=Lt.context)==null?void 0:wt.elements.domReference,xt)})||e_(Y.nodesRef.current,nt).find(Lt=>{var Jn,wt,Pt;return[(Jn=Lt.context)==null?void 0:Jn.elements.floating,s_((wt=Lt.context)==null?void 0:wt.elements.floating)].includes(xt)||((Pt=Lt.context)==null?void 0:Pt.elements.domReference)===xt})));if(y&&on&&kl(Os(ne))===Os(ne).body){Vr(ne)&&ne.focus();const Lt=we.current,Jn=ye(),wt=Jn[Lt]||Jn[Jn.length-1]||ne;Vr(wt)&&wt.focus()}(te||!x)&&xt&&on&&!fe.current&&xt!==a_()&&(ae.current=!0,M(!1,et,"focus-out"))})}if(K&&Vr(F))return F.addEventListener("focusout",lt),F.addEventListener("pointerdown",Ye),K.addEventListener("focusout",lt),()=>{F.removeEventListener("focusout",lt),F.removeEventListener("pointerdown",Ye),K.removeEventListener("focusout",lt)}},[r,F,K,ne,x,Y,q,M,A,y,ye,te,L]);const Oe=Z.useRef(null),Ge=Z.useRef(null),it=wy([Oe,q==null?void 0:q.beforeInsideRef]),Ce=wy([Ge,q==null?void 0:q.afterInsideRef]);Z.useEffect(()=>{var Ye;if(r||!K)return;const lt=Array.from((q==null||(Ye=q.portalNode)==null?void 0:Ye.querySelectorAll("["+sf("portal")+"]"))||[]),et=Y&&!x?e_(Y==null?void 0:Y.nodesRef.current,L()).map(on=>{var Lt;return(Lt=on.context)==null?void 0:Lt.elements.floating}):[],xt=[K,...lt,...et,be.current,le.current,Oe.current,Ge.current,q==null?void 0:q.beforeOutsideRef.current,q==null?void 0:q.afterOutsideRef.current,O.current.includes("reference")||te?F:null].filter(on=>on!=null),nt=x||te?t_(xt,!P,P):t_(xt);return()=>{nt()}},[r,F,K,x,O,q,te,V,P,Y,L]),ns(()=>{if(r||!Vr(ne))return;const Ye=Os(ne),lt=kl(Ye);queueMicrotask(()=>{const et=Ne(ne),xt=W.current,nt=(typeof xt=="number"?et[xt]:xt.current)||ne,on=Zi(ne,lt);!$&&!on&&R&&Vc(nt,{preventScroll:nt===ne})})},[r,R,ne,$,Ne,W]),ns(()=>{if(r||!ne)return;let Ye=!1;const lt=Os(ne),et=kl(lt);let nt=G.current.openEvent;Wp(et);function on(wt){let{open:Pt,reason:_t,event:Mr,nested:qe}=wt;Pt&&(nt=Mr),_t==="escape-key"&&F&&Wp(F),["hover","safe-polygon"].includes(_t)&&Mr.type==="mouseleave"&&(ae.current=!0),_t==="outside-press"&&(qe?(ae.current=!1,Ye=!0):ae.current=!(lL(Mr)||cL(Mr)))}k.on("openchange",on);const Lt=lt.createElement("span");Lt.setAttribute("tabindex","-1"),Lt.setAttribute("aria-hidden","true"),Object.assign(Lt.style,Sg),Re&&F&&F.insertAdjacentElement("afterend",Lt);function Jn(){return typeof X.current=="boolean"?a_()||Lt:X.current.current||Lt}return()=>{k.off("openchange",on);const wt=kl(lt),Pt=Zi(K,wt)||Y&&zd(Y.nodesRef.current,L()).some(qe=>{var Ts;return Zi((Ts=qe.context)==null?void 0:Ts.elements.floating,wt)});(Pt||nt&&["click","mousedown"].includes(nt.type))&&F&&Wp(F);const Mr=Jn();queueMicrotask(()=>{const qe=xP(Mr);X.current&&!ae.current&&Vr(qe)&&(!(qe!==wt&&wt!==lt.body)||Pt)&&qe.focus({preventScroll:Ye}),Lt.remove()})}},[r,K,ne,X,G,k,Y,Re,F,L]),Z.useEffect(()=>{queueMicrotask(()=>{ae.current=!1})},[r]),ns(()=>{if(!r&&q)return q.setFocusManagerState({modal:x,closeOnFocusOut:A,open:R,onOpenChange:M,domReference:F}),()=>{q.setFocusManagerState(null)}},[r,q,x,R,M,A,F]),ns(()=>{if(r||!ne||typeof MutationObserver!="function"||$)return;const Ye=()=>{const et=ne.getAttribute("tabindex"),xt=ye(),nt=kl(Os(K)),on=xt.indexOf(nt);on!==-1&&(we.current=on),O.current.includes("floating")||nt!==F&&xt.length===0?et!=="0"&&ne.setAttribute("tabindex","0"):et!=="-1"&&ne.setAttribute("tabindex","-1")};Ye();const lt=new MutationObserver(Ye);return lt.observe(ne,{childList:!0,subtree:!0,attributes:!0}),()=>{lt.disconnect()}},[r,K,ne,F,O,ye,$]);function We(Ye){return r||!E||!x?null:B.jsx(wP,{ref:Ye==="start"?be:le,onClick:lt=>M(!1,lt.nativeEvent),children:typeof E=="string"?E:"Dismiss"})}const He=!r&&V&&(x?!te:!0)&&(Re||x);return B.jsxs(B.Fragment,{children:[He&&B.jsx(D0,{"data-type":"inside",ref:it,onFocus:Ye=>{if(x){const et=Ne();Vc(s[0]==="reference"?et[0]:et[et.length-1])}else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(ae.current=!1,jd(Ye,q.portalNode)){const et=uI()||F;et==null||et.focus()}else{var lt;(lt=q.beforeOutsideRef.current)==null||lt.focus()}}}),!te&&We("start"),t,We("end"),He&&B.jsx(D0,{"data-type":"inside",ref:Ce,onFocus:Ye=>{if(x)Vc(Ne()[0]);else if(q!=null&&q.preserveTabOrder&&q.portalNode)if(A&&(ae.current=!0),jd(Ye,q.portalNode)){const et=dI()||F;et==null||et.focus()}else{var lt;(lt=q.afterOutsideRef.current)==null||lt.focus()}}})]})}let jh=0;function bP(){const n=/iP(hone|ad|od)|iOS/.test(HC()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,o=e.left?parseFloat(e.left):window.scrollX,f=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",s&&(e[r]=s+"px"),n){var p,y;const x=((p=window.visualViewport)==null?void 0:p.offsetLeft)||0,E=((y=window.visualViewport)==null?void 0:y.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(f-Math.floor(E))+"px",left:-(o-Math.floor(x))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),n&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(o,f))}}let o_=()=>{};const EP=Z.forwardRef(function(e,t){const{lockScroll:r=!1,...s}=e;return ns(()=>{if(r)return jh++,jh===1&&(o_=bP()),()=>{jh--,jh===0&&o_()}},[r]),B.jsx("div",{ref:t,...s,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...s.style}})});function l_(n){return Vr(n.target)&&n.target.tagName==="BUTTON"}function c_(n){return qC(n)}function _P(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:s,elements:{domReference:o}}=n,{enabled:f=!0,event:p="click",toggle:y=!0,ignoreMouse:x=!1,keyboardHandlers:E=!0,stickIfOpen:A=!0}=e,I=Z.useRef(),R=Z.useRef(!1),M=Z.useMemo(()=>({onPointerDown(k){I.current=k.pointerType},onMouseDown(k){const G=I.current;k.button===0&&p!=="click"&&(GE(G)&&x||(t&&y&&(!(s.current.openEvent&&A)||s.current.openEvent.type==="mousedown")?r(!1,k.nativeEvent,"click"):(k.preventDefault(),r(!0,k.nativeEvent,"click"))))},onClick(k){const G=I.current;if(p==="mousedown"&&I.current){I.current=void 0;return}GE(G)&&x||(t&&y&&(!(s.current.openEvent&&A)||s.current.openEvent.type==="click")?r(!1,k.nativeEvent,"click"):r(!0,k.nativeEvent,"click"))},onKeyDown(k){I.current=void 0,!(k.defaultPrevented||!E||l_(k))&&(k.key===" "&&!c_(o)&&(k.preventDefault(),R.current=!0),k.key==="Enter"&&r(!(t&&y),k.nativeEvent,"click"))},onKeyUp(k){k.defaultPrevented||!E||l_(k)||c_(o)||k.key===" "&&R.current&&(R.current=!1,r(!(t&&y),k.nativeEvent,"click"))}}),[s,o,p,x,E,r,t,A,y]);return Z.useMemo(()=>f?{reference:M}:{},[f,M])}const TP={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},AP={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},u_=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n==null?void 0:n.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n==null?void 0:n.outsidePress)!=null?t:!0}};function SP(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:s,dataRef:o}=n,{enabled:f=!0,escapeKey:p=!0,outsidePress:y=!0,outsidePressEvent:x="pointerdown",referencePress:E=!1,referencePressEvent:A="pointerdown",ancestorScroll:I=!1,bubbles:R,capture:M}=e,k=Lx(),G=Pa(typeof y=="function"?y:()=>!1),F=typeof y=="function"?G:y,K=Z.useRef(!1),L=Z.useRef(!1),{escapeKey:$,outsidePress:te}=u_(R),{escapeKey:ie,outsidePress:V}=u_(M),P=Z.useRef(!1),O=Pa(le=>{var ae;if(!t||!f||!p||le.key!=="Escape"||P.current)return;const fe=(ae=o.current.floatingContext)==null?void 0:ae.nodeId,we=k?zd(k.nodesRef.current,fe):[];if(!$&&(le.stopPropagation(),we.length>0)){let Re=!0;if(we.forEach(ne=>{var ye;if((ye=ne.context)!=null&&ye.open&&!ne.context.dataRef.current.__escapeKeyBubbles){Re=!1;return}}),!Re)return}r(!1,fL(le)?le.nativeEvent:le,"escape-key")}),W=Pa(le=>{var ae;const fe=()=>{var we;O(le),(we=Bl(le))==null||we.removeEventListener("keydown",fe)};(ae=Bl(le))==null||ae.addEventListener("keydown",fe)}),X=Pa(le=>{var ae;const fe=K.current;K.current=!1;const we=L.current;if(L.current=!1,x==="click"&&we||fe||typeof F=="function"&&!F(le))return;const Re=Bl(le),ne="["+sf("inert")+"]",ye=Os(s.floating).querySelectorAll(ne);let Ne=or(Re)?Re:null;for(;Ne&&!Ha(Ne);){const Ce=$a(Ne);if(Ha(Ce)||!or(Ce))break;Ne=Ce}if(ye.length&&or(Re)&&!hL(Re)&&!Zi(Re,s.floating)&&Array.from(ye).every(Ce=>!Zi(Ne,Ce)))return;if(Vr(Re)&&be){const Ce=Ha(Re),We=_s(Re),He=/auto|scroll/,Ye=Ce||He.test(We.overflowX),lt=Ce||He.test(We.overflowY),et=Ye&&Re.clientWidth>0&&Re.scrollWidth>Re.clientWidth,xt=lt&&Re.clientHeight>0&&Re.scrollHeight>Re.clientHeight,nt=We.direction==="rtl",on=xt&&(nt?le.offsetX<=Re.offsetWidth-Re.clientWidth:le.offsetX>Re.clientWidth),Lt=et&&le.offsetY>Re.clientHeight;if(on||Lt)return}const Oe=(ae=o.current.floatingContext)==null?void 0:ae.nodeId,Ge=k&&zd(k.nodesRef.current,Oe).some(Ce=>{var We;return zp(le,(We=Ce.context)==null?void 0:We.elements.floating)});if(zp(le,s.floating)||zp(le,s.domReference)||Ge)return;const it=k?zd(k.nodesRef.current,Oe):[];if(it.length>0){let Ce=!0;if(it.forEach(We=>{var He;if((He=We.context)!=null&&He.open&&!We.context.dataRef.current.__outsidePressBubbles){Ce=!1;return}}),!Ce)return}r(!1,le,"outside-press")}),Y=Pa(le=>{var ae;const fe=()=>{var we;X(le),(we=Bl(le))==null||we.removeEventListener(x,fe)};(ae=Bl(le))==null||ae.addEventListener(x,fe)});Z.useEffect(()=>{if(!t||!f)return;o.current.__escapeKeyBubbles=$,o.current.__outsidePressBubbles=te;let le=-1;function ae(ye){r(!1,ye,"ancestor-scroll")}function fe(){window.clearTimeout(le),P.current=!0}function we(){le=window.setTimeout(()=>{P.current=!1},Eg()?5:0)}const Re=Os(s.floating);p&&(Re.addEventListener("keydown",ie?W:O,ie),Re.addEventListener("compositionstart",fe),Re.addEventListener("compositionend",we)),F&&Re.addEventListener(x,V?Y:X,V);let ne=[];return I&&(or(s.domReference)&&(ne=iu(s.domReference)),or(s.floating)&&(ne=ne.concat(iu(s.floating))),!or(s.reference)&&s.reference&&s.reference.contextElement&&(ne=ne.concat(iu(s.reference.contextElement)))),ne=ne.filter(ye=>{var Ne;return ye!==((Ne=Re.defaultView)==null?void 0:Ne.visualViewport)}),ne.forEach(ye=>{ye.addEventListener("scroll",ae,{passive:!0})}),()=>{p&&(Re.removeEventListener("keydown",ie?W:O,ie),Re.removeEventListener("compositionstart",fe),Re.removeEventListener("compositionend",we)),F&&Re.removeEventListener(x,V?Y:X,V),ne.forEach(ye=>{ye.removeEventListener("scroll",ae)}),window.clearTimeout(le)}},[o,s,p,F,x,t,r,I,f,$,te,O,ie,W,X,V,Y]),Z.useEffect(()=>{K.current=!1},[F,x]);const q=Z.useMemo(()=>({onKeyDown:O,...E&&{[TP[A]]:le=>{r(!1,le.nativeEvent,"reference-press")},...A!=="click"&&{onClick(le){r(!1,le.nativeEvent,"reference-press")}}}}),[O,r,E,A]),be=Z.useMemo(()=>({onKeyDown:O,onMouseDown(){L.current=!0},onMouseUp(){L.current=!0},[AP[x]]:()=>{K.current=!0}}),[O,x]);return Z.useMemo(()=>f?{reference:q,floating:be}:{},[f,q,be])}function CP(n){const{open:e=!1,onOpenChange:t,elements:r}=n,s=kx(),o=Z.useRef({}),[f]=Z.useState(()=>oP()),p=oI()!=null,[y,x]=Z.useState(r.reference),E=Pa((R,M,k)=>{o.current.openEvent=R?M:void 0,f.emit("openchange",{open:R,event:M,reason:k,nested:p}),t==null||t(R,M,k)}),A=Z.useMemo(()=>({setPositionReference:x}),[]),I=Z.useMemo(()=>({reference:y||r.reference||null,floating:r.floating||null,domReference:r.reference}),[y,r.reference,r.floating]);return Z.useMemo(()=>({dataRef:o,open:e,onOpenChange:E,elements:I,events:f,floatingId:s,refs:A}),[e,E,I,f,s,A])}function IP(n){n===void 0&&(n={});const{nodeId:e}=n,t=CP({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,s=r.elements,[o,f]=Z.useState(null),[p,y]=Z.useState(null),E=(s==null?void 0:s.domReference)||o,A=Z.useRef(null),I=Lx();ns(()=>{E&&(A.current=E)},[E]);const R=tP({...n,elements:{...s,...p&&{reference:p}}}),M=Z.useCallback(L=>{const $=or(L)?{getBoundingClientRect:()=>L.getBoundingClientRect(),contextElement:L}:L;y($),R.refs.setReference($)},[R.refs]),k=Z.useCallback(L=>{(or(L)||L===null)&&(A.current=L,f(L)),(or(R.refs.reference.current)||R.refs.reference.current===null||L!==null&&!or(L))&&R.refs.setReference(L)},[R.refs]),G=Z.useMemo(()=>({...R.refs,setReference:k,setPositionReference:M,domReference:A}),[R.refs,k,M]),F=Z.useMemo(()=>({...R.elements,domReference:E}),[R.elements,E]),K=Z.useMemo(()=>({...R,...r,refs:G,elements:F,nodeId:e}),[R,G,F,e,r]);return ns(()=>{r.dataRef.current.floatingContext=K;const L=I==null?void 0:I.nodesRef.current.find($=>$.id===e);L&&(L.context=K)}),Z.useMemo(()=>({...R,context:K,refs:G,elements:F}),[R,G,F,K])}const d_="active",f_="selected";function Xp(n,e,t){const r=new Map,s=t==="item";let o=n;if(s&&n){const{[d_]:f,[f_]:p,...y}=n;o=y}return{...t==="floating"&&{tabIndex:-1,[vy]:""},...o,...e.map(f=>{const p=f?f[t]:null;return typeof p=="function"?n?p(n):null:p}).concat(n).reduce((f,p)=>(p&&Object.entries(p).forEach(y=>{let[x,E]=y;if(!(s&&[d_,f_].includes(x)))if(x.indexOf("on")===0){if(r.has(x)||r.set(x,[]),typeof E=="function"){var A;(A=r.get(x))==null||A.push(E),f[x]=function(){for(var I,R=arguments.length,M=new Array(R),k=0;k<R;k++)M[k]=arguments[k];return(I=r.get(x))==null?void 0:I.map(G=>G(...M)).find(G=>G!==void 0)}}}else f[x]=E}),f),{})}}function RP(n){n===void 0&&(n=[]);const e=n.map(p=>p==null?void 0:p.reference),t=n.map(p=>p==null?void 0:p.floating),r=n.map(p=>p==null?void 0:p.item),s=Z.useCallback(p=>Xp(p,n,"reference"),e),o=Z.useCallback(p=>Xp(p,n,"floating"),t),f=Z.useCallback(p=>Xp(p,n,"item"),r);return Z.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:f}),[s,o,f])}const NP=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function MP(n,e){var t;e===void 0&&(e={});const{open:r,floatingId:s}=n,{enabled:o=!0,role:f="dialog"}=e,p=(t=NP.get(f))!=null?t:f,y=kx(),E=oI()!=null,A=Z.useMemo(()=>p==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:r?s:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":r?s:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:y},...p==="menu"&&E&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[p,s,E,r,y,f]),I=Z.useMemo(()=>{const M={id:s,...p&&{role:p}};return p==="tooltip"||f==="label"?M:{...M,...p==="menu"&&{"aria-labelledby":y}}},[p,s,y,f]),R=Z.useCallback(M=>{let{active:k,selected:G}=M;const F={role:"option",...k&&{id:s+"-option"}};switch(f){case"select":return{...F,"aria-selected":k&&G};case"combobox":return{...F,...k&&{"aria-selected":!0}}}return{}},[s,f]);return Z.useMemo(()=>o?{reference:A,floating:I,item:R}:{},[o,A,I,R])}const gI=Z.forwardRef((n,e)=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:B.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M9.707 16.707a1 1 0 0 1-1.414 0l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 1.414L5.414 9H17a1 1 0 1 1 0 2H5.414l4.293 4.293a1 1 0 0 1 0 1.414z",clipRule:"evenodd"})}));gI.displayName="ArrowLeftIcon";const pI=Z.forwardRef((n,e)=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:B.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M10.293 3.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L14.586 11H3a1 1 0 1 1 0-2h11.586l-4.293-4.293a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})}));pI.displayName="ArrowRightIcon";const mI=Z.forwardRef((n,e)=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 20 20",ref:e,...n,children:B.jsx("path",{fillRule:"evenodd",stroke:"none",d:"M6 2a1 1 0 0 0-1 1v1H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1V3a1 1 0 1 0-2 0v1H7V3a1 1 0 0 0-1-1zm0 5a1 1 0 0 0 0 2h8a1 1 0 1 0 0-2H6z",clipRule:"evenodd"})}));mI.displayName="CalendarIcon";const DP={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},Px=Z.forwardRef((n,e)=>{var R,M;const t=Nr(),r=Rr([DP,(R=t.theme)==null?void 0:R.textInput,n.theme],[ft(t.clearTheme,"textInput"),n.clearTheme],[ft(t.applyTheme,"textInput"),n.applyTheme]),{addon:s,className:o,color:f="gray",icon:p,rightIcon:y,shadow:x,sizing:E="md",type:A="text",...I}=Ir(n,(M=t.props)==null?void 0:M.textInput);return B.jsxs("div",{className:Yt(r.base,o),children:[s&&B.jsx("span",{className:r.addon,children:s}),B.jsxs("div",{className:r.field.base,children:[p&&B.jsx("div",{className:r.field.icon.base,children:B.jsx(p,{className:r.field.icon.svg})}),y&&B.jsx("div",{"data-testid":"right-icon",className:r.field.rightIcon.base,children:B.jsx(y,{className:r.field.rightIcon.svg})}),B.jsx("input",{className:Yt(r.field.input.base,r.field.input.colors[f],r.field.input.sizes[E],r.field.input.withIcon[p?"on":"off"],r.field.input.withRightIcon[y?"on":"off"],r.field.input.withAddon[s?"on":"off"],r.field.input.withShadow[x?"on":"off"]),type:A,...I,ref:e})]})]})});Px.displayName="TextInput";const yI=Z.createContext(void 0);function Cg(){const n=Z.useContext(yI);if(!n)throw new Error("useDatePickerContext should be used within the DatePickerContext provider!");return n}var Xn=(n=>(n[n.Days=0]="Days",n[n.Months=1]="Months",n[n.Years=2]="Years",n[n.Decades=3]="Decades",n))(Xn||{}),xI=(n=>(n[n.Sunday=0]="Sunday",n[n.Monday=1]="Monday",n[n.Tuesday=2]="Tuesday",n[n.Wednesday=3]="Wednesday",n[n.Thursday=4]="Thursday",n[n.Friday=5]="Friday",n[n.Saturday=6]="Saturday",n))(xI||{});function mu(n,e,t){const r=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime();if(e&&t){const s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),o=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return r>=s&&r<=o}if(e){const s=new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime();return r>=s}if(t){const s=new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return r<=s}return!0}function af(n,e){return n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.getTime()===e.getTime()}function Hh(n,e,t){return mu(n,e,t)||(e&&n<e?n=e:t&&n>t&&(n=t)),n}function OP(n,e){const t=new Date(n.getFullYear(),n.getMonth(),1);let s=t.getDay()-e;return s<0&&(s+=7),Bx(t,-s)}function kP(n,e){const t=[],r=new Date(0);r.setDate(r.getDate()-r.getDay()+e);const s=new Intl.DateTimeFormat(n,{weekday:"short"});for(let o=0;o<7;o++)t.push(s.format(Bx(r,o)));return t}function Bx(n,e){const t=new Date(n);return t.setDate(t.getDate()+e),t}function LP(n,e){const t=new Date(n);return t.setMonth(t.getMonth()+e),t}function Yc(n,e){const t=new Date(n);return t.setFullYear(t.getFullYear()+e),t}function Wc(n,e,t){let r={day:"numeric",month:"long",year:"numeric"};return t&&(r=t),new Intl.DateTimeFormat(n,r).format(e)}function Xc(n,e){const t=n.getFullYear();return Math.floor(t/e)*e}function PP(n,e){const t=n.getFullYear(),r=e+9;return t>=e&&t<=r}const BP={root:{base:"relative"},popup:{root:{base:"absolute top-10 z-50 block pt-2",inline:"relative top-0 z-auto",inner:"inline-block rounded-lg bg-white p-4 shadow-lg dark:bg-gray-700"},header:{base:"",title:"px-2 py-3 text-center font-semibold text-gray-900 dark:text-white",selectors:{base:"mb-2 flex justify-between",button:{base:"rounded-lg bg-white px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",prev:"",next:"",view:""}}},view:{base:"p-1"},footer:{base:"mt-2 flex space-x-2",button:{base:"w-full rounded-lg px-5 py-2 text-center text-sm font-medium focus:ring-4 focus:ring-cyan-300",today:"bg-cyan-700 text-white hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700",clear:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}}},views:{days:{header:{base:"mb-1 grid grid-cols-7",title:"h-6 text-center text-sm font-medium leading-6 text-gray-500 dark:text-gray-400"},items:{base:"grid w-64 grid-cols-7",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},months:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},years:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},decades:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}}}};function wI(){const{theme:n,weekStart:e,minDate:t,maxDate:r,viewDate:s,selectedDate:o,changeSelectedDate:f,language:p}=Cg(),y=n.views.days,x=kP(p,e),E=OP(s,e);return B.jsxs(B.Fragment,{children:[B.jsx("div",{className:y.header.base,children:x.map((A,I)=>B.jsx("span",{className:y.header.title,children:A},I))}),B.jsx("div",{className:y.items.base,children:[...Array(42)].map((A,I)=>{const R=Bx(E,I),M=Wc(p,R,{day:"numeric"}),k=o&&af(o,R),G=!mu(R,t,r);return B.jsx("button",{disabled:G,type:"button",className:Yt(y.items.item.base,k&&y.items.item.selected,G&&y.items.item.disabled),onClick:()=>{G||f(R,!0)},children:M},I)})})]})}wI.displayName="DatepickerViewsDays";function vI(){const{theme:n,viewDate:e,selectedDate:t,minDate:r,maxDate:s,setViewDate:o,setView:f}=Cg(),p=n.views.decades,y=Xc(e,100);return B.jsx("div",{className:p.items.base,children:[...Array(12)].map((x,E)=>{const A=y-10+E*10;new Date(e.getTime()).setFullYear(A+e.getFullYear()%10);const R=new Date(A,0,1),M=Yc(R,9),k=t&&PP(t,A),G=!mu(R,r,s)&&!mu(M,r,s);return B.jsx("button",{disabled:G,type:"button",className:Yt(p.items.item.base,k&&p.items.item.selected,G&&p.items.item.disabled),onClick:()=>{G||(t&&o(Yc(e,A-t.getFullYear())),f(Xn.Years))},children:A},E)})})}vI.displayName="DatepickerViewsDecades";function bI(){const{theme:n,minDate:e,maxDate:t,selectedDate:r,viewDate:s,language:o,setViewDate:f,setView:p}=Cg(),y=n.views.months;return B.jsx("div",{className:y.items.base,children:[...Array(12)].map((x,E)=>{const A=new Date;A.setMonth(E,1),A.setFullYear(s.getFullYear());const I=Wc(o,A,{month:"short"}),R=r&&af(r,A),M=!mu(A,e,t);return B.jsx("button",{disabled:M,type:"button",className:Yt(y.items.item.base,R&&y.items.item.selected,M&&y.items.item.disabled),onClick:()=>{M||(f(A),p(Xn.Days))},children:I},E)})})}bI.displayName="DatepickerViewsMonth";function EI(){const{theme:n,selectedDate:e,minDate:t,maxDate:r,viewDate:s,setViewDate:o,setView:f}=Cg(),p=n.views.years;return B.jsx("div",{className:p.items.base,children:[...Array(12)].map((y,x)=>{const A=Xc(s,10)+x,I=new Date(s.getTime());I.setFullYear(A);const R=e&&af(e,I),M=!mu(I,t,r);return B.jsx("button",{disabled:M,type:"button",className:Yt(p.items.item.base,R&&p.items.item.selected,M&&p.items.item.disabled),onClick:()=>{M||(o(I),f(Xn.Months))},children:A},x)})})}EI.displayName="DatepickerViewsYears";const _I=Z.forwardRef((n,e)=>{var it,Ce;const t=Nr(),r=Rr([BP,(it=t.theme)==null?void 0:it.datepicker,n.theme],[ft(t.clearTheme,"datepicker"),n.clearTheme],[ft(t.applyTheme,"datepicker"),n.applyTheme]),{title:s,open:o,inline:f=!1,autoHide:p=!0,showClearButton:y=!0,labelClearButton:x="Clear",showTodayButton:E=!0,labelTodayButton:A="Today",defaultValue:I,minDate:R,maxDate:M,language:k="en",weekStart:G=xI.Sunday,className:F,onChange:K,label:L,value:$,...te}=Ir(n,(Ce=t.props)==null?void 0:Ce.datepicker),ie=I?Hh(I,R,M):null,V=Z.useMemo(()=>I?Hh(I,R,M):new Date,[]),[P,O]=Z.useState(o),[W,X]=Z.useState(Xn.Days),[Y,q]=Z.useState($??ie),[be,le]=Z.useState($??V),ae=Z.useRef(null),fe=Z.useRef(null);function we(We,He){q(We),(We===null||We)&&K&&K(We),p&&W===Xn.Days&&He==!0&&!f&&O(!1)}function Re(){we(ie,!0),I&&le(I)}Z.useImperativeHandle(e,()=>({focus(){var We;(We=ae.current)==null||We.focus()},clear(){Re()}}));function ne(We){switch(We){case Xn.Decades:return B.jsx(vI,{});case Xn.Years:return B.jsx(EI,{});case Xn.Months:return B.jsx(bI,{});case Xn.Days:default:return B.jsx(wI,{})}}function ye(){switch(W){case Xn.Days:return Xn.Months;case Xn.Months:return Xn.Years;case Xn.Years:return Xn.Decades}return W}function Ne(){switch(W){case Xn.Decades:return`${Xc(be,100)-10} - ${Xc(be,100)+100}`;case Xn.Years:return`${Xc(be,10)} - ${Xc(be,10)+11}`;case Xn.Months:return Wc(k,be,{year:"numeric"});case Xn.Days:default:return Wc(k,be,{month:"long",year:"numeric"})}}function Oe(We,He,Ye){switch(We){case Xn.Days:return new Date(LP(He,Ye));case Xn.Months:return new Date(Yc(He,Ye));case Xn.Years:return new Date(Yc(He,Ye*10));case Xn.Decades:return new Date(Yc(He,Ye*100));default:return new Date(Yc(He,Ye*10))}}Z.useEffect(()=>{const We=He=>{var et,xt;const Ye=(et=fe==null?void 0:fe.current)==null?void 0:et.contains(He.target),lt=(xt=ae==null?void 0:ae.current)==null?void 0:xt.contains(He.target);!Ye&&!lt&&O(!1)};return document.addEventListener("mousedown",We),()=>{document.removeEventListener("mousedown",We)}},[ae,fe,O]),Z.useEffect(()=>{const We=$&&Hh(new Date($),R,M),He=Y&&Hh(new Date(Y),R,M);He&&We&&!af(We,He)&&q(We),Y==null&&q(ie)},[$,q,le,Y]);const Ge=$===null?L:Wc(k,Y||new Date);return B.jsx(yI.Provider,{value:{theme:r,language:k,minDate:R,maxDate:M,weekStart:G,isOpen:P,setIsOpen:O,view:W,setView:X,viewDate:be,setViewDate:le,selectedDate:Y,setSelectedDate:q,changeSelectedDate:we},children:B.jsxs("div",{className:Yt(r.root.base,F),children:[!f&&B.jsx(Px,{theme:r.root.input,icon:mI,ref:ae,onFocus:()=>{Y&&!af(be,Y)&&le(Y),O(!0)},value:Ge,defaultValue:ie?Wc(k,ie):L,readOnly:!0,...te}),(P||f)&&B.jsx("div",{ref:fe,className:Yt(r.popup.root.base,f&&r.popup.root.inline),children:B.jsxs("div",{className:r.popup.root.inner,children:[B.jsxs("div",{className:r.popup.header.base,children:[s&&B.jsx("div",{className:r.popup.header.title,children:s}),B.jsxs("div",{className:r.popup.header.selectors.base,children:[B.jsx("button",{type:"button",className:Yt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.prev),onClick:()=>le(Oe(W,be,-1)),children:B.jsx(gI,{})}),B.jsx("button",{type:"button",className:Yt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.view),onClick:()=>X(ye()),children:Ne()}),B.jsx("button",{type:"button",className:Yt(r.popup.header.selectors.button.base,r.popup.header.selectors.button.next),onClick:()=>le(Oe(W,be,1)),children:B.jsx(pI,{})})]})]}),B.jsx("div",{className:r.popup.view.base,children:ne(W)}),(y||E)&&B.jsxs("div",{className:r.popup.footer.base,children:[E&&B.jsx("button",{type:"button",className:Yt(r.popup.footer.button.base,r.popup.footer.button.today),onClick:()=>{const We=new Date;we(We,!0),le(We)},children:A}),y&&B.jsx("button",{type:"button",className:Yt(r.popup.footer.button.base,r.popup.footer.button.clear),onClick:()=>{we(null,!0)},children:x})]})]})})]})})});_I.displayName="Datepicker";const VP={base:"block w-full cursor-pointer rounded-lg border file:-ms-4 file:me-4 file:cursor-pointer file:border-none file:bg-gray-800 file:py-2.5 file:pe-4 file:ps-8 file:text-sm file:font-medium file:leading-[inherit] file:text-white hover:file:bg-gray-700 focus:outline-none focus:ring-1 dark:file:bg-gray-600 dark:hover:file:bg-gray-500",sizes:{sm:"text-xs",md:"text-sm",lg:"text-lg"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-400 dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}},TI=Z.forwardRef((n,e)=>{var y,x;const t=Nr(),r=Rr([VP,(y=t.theme)==null?void 0:y.fileInput,n.theme],[ft(t.clearTheme,"fileInput"),n.clearTheme],[ft(t.applyTheme,"fileInput"),n.applyTheme]),{className:s,color:o="gray",sizing:f="md",...p}=Ir(n,(x=t.props)==null?void 0:x.fileInput);return B.jsx("input",{ref:e,type:"file",className:Yt(r.base,r.colors[o],r.sizes[f],s),...p})});TI.displayName="FileInput";const UP={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},AI=Z.forwardRef((n,e)=>{var y,x;const t=Nr(),r=Rr([UP,(y=t.theme)==null?void 0:y.label,n.theme],[ft(t.clearTheme,"label"),n.clearTheme],[ft(t.applyTheme,"label"),n.applyTheme]),{className:s,color:o="default",disabled:f=!1,...p}=Ir(n,(x=t.props)==null?void 0:x.label);return B.jsx("label",{ref:e,className:Yt(r.root.base,r.root.colors[o],f&&r.root.disabled,s),"data-testid":"flowbite-label",...p})});AI.displayName="Label";const SI=Z.createContext(void 0);function Ig(){const n=Z.useContext(SI);if(!n)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return n}const Af={root:{base:"bg-white px-2 py-2.5 sm:px-4 dark:border-gray-700 dark:bg-gray-800",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pl-3 pr-4 md:p-0",active:{on:"bg-primary-700 text-white md:bg-transparent md:text-primary-700 dark:text-white",off:"border-b border-gray-100 text-gray-700 hover:bg-gray-50 md:border-0 md:hover:bg-transparent md:hover:text-primary-700 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 md:hidden dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",icon:"h-6 w-6 shrink-0",title:"sr-only"}},CI=Z.forwardRef((n,e)=>{var R,M;const t=Nr(),r=Rr([Af,(R=t.theme)==null?void 0:R.navbar,n.theme],[ft(t.clearTheme,"navbar"),n.clearTheme],[ft(t.applyTheme,"navbar"),n.applyTheme]),{border:s,children:o,className:f,fluid:p=!1,menuOpen:y,rounded:x,...E}=Ir(n,(M=t.props)==null?void 0:M.navbar),[A,I]=Z.useState(y);return B.jsx(SI.Provider,{value:{theme:n.theme,clearTheme:n.clearTheme,applyTheme:n.applyTheme,isOpen:A,setIsOpen:I},children:B.jsx("nav",{ref:e,className:Yt(r.root.base,r.root.bordered[s?"on":"off"],r.root.rounded[x?"on":"off"],f),...E,children:B.jsx("div",{className:Yt(r.root.inner.base,r.root.inner.fluid[p?"on":"off"]),children:o})})})});CI.displayName="Navbar";const II=Z.forwardRef((n,e)=>{var E,A,I;const{theme:t,clearTheme:r,applyTheme:s}=Ig(),o=Nr(),f=Rr([Af.brand,(A=(E=o.theme)==null?void 0:E.navbar)==null?void 0:A.brand,t==null?void 0:t.brand,n.theme],[ft(o.clearTheme,"navbar.brand"),ft(r,"brand"),n.clearTheme],[ft(o.applyTheme,"navbar.brand"),ft(s,"brand"),n.applyTheme]),{as:p="a",className:y,...x}=Ir(n,(I=o.props)==null?void 0:I.navbarBrand);return B.jsx(p,{ref:e,className:Yt(f.base,y),...x})});II.displayName="NavbarBrand";const RI=Z.forwardRef((n,e)=>{var A,I,R;const{theme:t,clearTheme:r,applyTheme:s,isOpen:o}=Ig(),f=Nr(),p=Rr([Af.collapse,(I=(A=f.theme)==null?void 0:A.navbar)==null?void 0:I.collapse,t==null?void 0:t.collapse,n.theme],[ft(f.clearTheme,"navbar.collapse"),ft(r,"collapse"),n.clearTheme],[ft(f.applyTheme,"navbar.collapse"),ft(s,"collapse"),n.applyTheme]),{children:y,className:x,...E}=Ir(n,(R=f.props)==null?void 0:R.navbarCollapse);return B.jsx("div",{ref:e,"data-testid":"flowbite-navbar-collapse",className:Yt(p.base,p.hidden[o?"off":"on"],x),...E,children:B.jsx("ul",{className:p.list,children:y})})});RI.displayName="NavbarCollapse";const Pl=Z.forwardRef((n,e)=>{var G,F,K;const{theme:t,clearTheme:r,applyTheme:s,setIsOpen:o}=Ig(),f=Nr(),p=Rr([Af.link,(F=(G=f.theme)==null?void 0:G.navbar)==null?void 0:F.link,t==null?void 0:t.link,n.theme],[ft(f.clearTheme,"navbar.link"),ft(r,"link"),n.clearTheme],[ft(f.applyTheme,"navbar.link"),ft(s,"link"),n.applyTheme]),{active:y,as:x="a",disabled:E,children:A,className:I,onClick:R,...M}=Ir(n,(K=f.props)==null?void 0:K.navbarLink);function k(L){o(!1),R==null||R(L)}return B.jsx("li",{ref:e,children:B.jsx(x,{className:Yt(p.base,y&&p.active.on,!y&&!E&&p.active.off,p.disabled[E?"on":"off"],I),onClick:k,...M,children:A})})});Pl.displayName="NavbarLink";const NI=Z.forwardRef((n,e)=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",stroke:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",ref:e,...n,children:B.jsx("path",{stroke:"none",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}));NI.displayName="BarsIcon";const MI=Z.forwardRef((n,e)=>{var R,M,k;const{theme:t,clearTheme:r,applyTheme:s,isOpen:o,setIsOpen:f}=Ig(),p=Nr(),y=Rr([Af.toggle,(M=(R=p.theme)==null?void 0:R.navbar)==null?void 0:M.toggle,t==null?void 0:t.toggle,n.theme],[ft(p.clearTheme,"navbar.toggle"),ft(r,"toggle"),n.clearTheme],[ft(p.applyTheme,"navbar.toggle"),ft(s,"toggle"),n.applyTheme]),{barIcon:x=NI,className:E,...A}=Ir(n,(k=p.props)==null?void 0:k.navbarToggle);function I(){f(!o)}return B.jsxs("button",{ref:e,"data-testid":"flowbite-navbar-toggle",onClick:I,className:Yt(y.base,E),...A,children:[B.jsx("span",{className:y.title,children:"Open main menu"}),B.jsx(x,{"aria-hidden":!0,className:y.icon})]})});MI.displayName="NavbarToggle";const DI=Z.createContext(void 0);function Vx(){const n=Z.useContext(DI);if(!n)throw new Error("useModalContext should be used within the ModalContext provider!");return n}const Rg={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900/50 dark:bg-gray-900/80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"flex-1 overflow-auto p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t border-b p-5 dark:border-gray-600",popup:"border-b-0 p-2",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},Ng=Z.forwardRef((n,e)=>{var V,P;const[t,r]=Z.useState(void 0),s=Nr(),o=Rr([Rg,(V=s.theme)==null?void 0:V.modal,n.theme],[ft(s.clearTheme,"modal"),n.clearTheme],[ft(s.applyTheme,"modal"),n.applyTheme]),{children:f,className:p,dismissible:y=!1,onClose:x,popup:E,position:A="center",root:I,show:R,size:M="2xl",initialFocus:k,...G}=Ir(n,(P=s.props)==null?void 0:P.modal),{context:F}=IP({open:R,onOpenChange:()=>x&&x()}),K=wy([F.refs.setFloating,e]),L=_P(F),$=SP(F,{outsidePressEvent:"mousedown",enabled:y}),te=MP(F),{getFloatingProps:ie}=RP([L,$,te]);return R?B.jsx(DI.Provider,{value:{theme:n.theme,clearTheme:n.clearTheme,applyTheme:n.applyTheme,popup:E,onClose:x,setHeaderId:r},children:B.jsx(mP,{root:I,children:B.jsx(EP,{lockScroll:!0,"data-testid":"modal-overlay",className:Yt(o.root.base,o.root.positions[A],R?o.root.show.on:o.root.show.off,p),...G,children:B.jsx(vP,{context:F,initialFocus:k,children:B.jsx("div",{ref:K,...ie(G),"aria-labelledby":t,className:Yt(o.content.base,o.root.sizes[M]),children:B.jsx("div",{className:o.content.inner,children:f})})})})})}):null});Ng.displayName="Modal";const Mg=Z.forwardRef((n,e)=>{var E,A,I;const{theme:t,clearTheme:r,applyTheme:s,popup:o}=Vx(),f=Nr(),p=Rr([Rg.body,(A=(E=f.theme)==null?void 0:E.modal)==null?void 0:A.body,t==null?void 0:t.body,n.theme],[ft(f.clearTheme,"modal.body"),ft(r,"body"),n.clearTheme],[ft(f.applyTheme,"modal.body"),ft(s,"body"),n.applyTheme]),{className:y,...x}=Ir(n,(I=f.props)==null?void 0:I.modalBody);return B.jsx("div",{ref:e,className:Yt(p.base,o&&p.popup,y),...x})});Mg.displayName="ModalBody";const OI=Z.forwardRef((n,e)=>{var E,A,I;const{theme:t,clearTheme:r,applyTheme:s,popup:o}=Vx(),f=Nr(),p=Rr([Rg.footer,(A=(E=f.theme)==null?void 0:E.modal)==null?void 0:A.footer,t==null?void 0:t.footer,n.theme],[ft(f.clearTheme,"modal.footer"),ft(r,"footer"),n.clearTheme],[ft(f.applyTheme,"modal.footer"),ft(s,"footer"),n.applyTheme]),{className:y,...x}=Ir(n,(I=f.props)==null?void 0:I.modalFooter);return B.jsx("div",{ref:e,className:Yt(p.base,!o&&p.popup,y),...x})});OI.displayName="ModalFooter";const kI=Z.forwardRef((n,e)=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",ref:e,...n,children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}));kI.displayName="OutlineXIcon";const Dg=Z.forwardRef((n,e)=>{var F,K,L;const{theme:t,clearTheme:r,applyTheme:s,popup:o,onClose:f,setHeaderId:p}=Vx(),y=Nr(),x=Rr([Rg.header,(K=(F=y.theme)==null?void 0:F.modal)==null?void 0:K.header,t==null?void 0:t.header,n.theme],[ft(y.clearTheme,"modal.header"),ft(r,"header"),n.clearTheme],[ft(y.applyTheme,"modal.header"),ft(s,"header"),n.applyTheme]),{as:E="h3",children:A,className:I,id:R,...M}=Ir(n,(L=y.props)==null?void 0:L.modalHeader),k=Z.useId(),G=R||k;return Z.useLayoutEffect(()=>(p(G),()=>p(void 0)),[G,p]),B.jsxs("div",{ref:e,className:Yt(x.base,o&&x.popup,I),...M,children:[B.jsx(E,{id:G,className:x.title,children:A}),B.jsx("button",{"aria-label":"Close",className:x.close.base,type:"button",onClick:f,children:B.jsx(kI,{"aria-hidden":!0,className:x.close.icon})})]})});Dg.displayName="ModalHeader";const FP={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full appearance-none border bg-arrow-down-icon bg-[length:0.75em_0.75em] bg-[position:right_12px_center] bg-no-repeat pr-10 focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},LI=Z.forwardRef((n,e)=>{var A,I;const t=Nr(),r=Rr([FP,(A=t.theme)==null?void 0:A.select,n.theme],[ft(t.clearTheme,"select"),n.clearTheme],[ft(t.applyTheme,"select"),n.applyTheme]),{addon:s,className:o,color:f="gray",icon:p,shadow:y,sizing:x="md",...E}=Ir(n,(I=t.props)==null?void 0:I.select);return B.jsxs("div",{className:Yt(r.base,o),children:[s&&B.jsx("span",{className:r.addon,children:s}),B.jsxs("div",{className:r.field.base,children:[p&&B.jsx("div",{className:r.field.icon.base,children:B.jsx(p,{className:r.field.icon.svg})}),B.jsx("select",{ref:e,className:Yt(r.field.select.base,r.field.select.colors[f],r.field.select.sizes[x],r.field.select.withIcon[p?"on":"off"],r.field.select.withAddon[s?"on":"off"],r.field.select.withShadow[y?"on":"off"]),...E})]})]})});LI.displayName="Select";var PI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h_=dt.createContext&&dt.createContext(PI),zP=["attr","size","title"];function jP(n,e){if(n==null)return{};var t=HP(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function HP(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function O0(){return O0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},O0.apply(this,arguments)}function g_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function k0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(t),!0).forEach(function(r){GP(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function GP(n,e,t){return e=qP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qP(n){var e=YP(n,"string");return typeof e=="symbol"?e:e+""}function YP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function BI(n){return n&&n.map((e,t)=>dt.createElement(e.tag,k0({key:t},e.attr),BI(e.child)))}function Nu(n){return e=>dt.createElement(WP,O0({attr:k0({},n.attr)},e),BI(n.child))}function WP(n){var e=t=>{var{attr:r,size:s,title:o}=n,f=jP(n,zP),p=s||t.size||"1em",y;return t.className&&(y=t.className),n.className&&(y=(y?y+" ":"")+n.className),dt.createElement("svg",O0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,f,{className:y,style:k0(k0({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),o&&dt.createElement("title",null,o),n.children)};return h_!==void 0?dt.createElement(h_.Consumer,null,t=>e(t)):e(PI)}function XP(n){return Nu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},child:[]}]})(n)}function KP(n){return Nu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(n)}function QP(n){return Nu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},child:[]}]})(n)}function $P(n){return Nu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},child:[]}]})(n)}function ZP(n){return Nu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},child:[]}]})(n)}function VI(n){return Nu({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"},child:[]}]})(n)}var Kp={exports:{}},Qp,p_;function JP(){if(p_)return Qp;p_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qp=n,Qp}var $p,m_;function eB(){if(m_)return $p;m_=1;var n=JP();function e(){}function t(){}return t.resetWarningCache=e,$p=function(){function r(f,p,y,x,E,A){if(A!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},$p}var y_;function tB(){return y_||(y_=1,Kp.exports=eB()()),Kp.exports}var nB=tB();const Zp=j0(nB),x_={delete:B.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-red-500 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 7h14m-9 3v8m4-8v8M10 3h4a1 1 0 0 1 1 1v3H9V4a1 1 0 0 1 1-1ZM6 7h12v13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7Z"})}),edit:B.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-gray-400 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:B.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.779 17.779 4.36 19.918 6.5 13.5m4.279 4.279 8.364-8.643a3.027 3.027 0 0 0-2.14-5.165 3.03 3.03 0 0 0-2.14.886L6.5 13.5m4.279 4.279L6.499 13.5m2.14 2.14 6.213-6.504M12.75 7.04 17 11.28"})}),scan:B.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white hover:text-blue-500 cursor-pointer","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5v1.5a2.25 2.25 0 002.25 2.25h1.5m9-3.75h1.5a2.25 2.25 0 012.25 2.25v1.5m0 9v1.5a2.25 2.25 0 01-2.25 2.25h-1.5m-9 0h-1.5a2.25 2.25 0 01-2.25-2.25v-1.5"})})};function xi({action:n,onClick:e,children:t,label:r}){return n==="submit"?B.jsxs(aa,{type:"submit",onClick:s=>{s.stopPropagation(),e==null||e(s)},className:"",children:[t," ",r&&r]}):n==="add"?B.jsxs(aa,{className:"w-full shadow-lg cursor-pointer",color:"blue",onClick:s=>{s.stopPropagation(),e==null||e(s)},children:["Create ",r]}):n==="scan"?B.jsxs(aa,{className:"w-full shadow-lg cursor-pointer",color:"gray",onClick:s=>{s.stopPropagation(),e==null||e(s)},children:[x_[n]," ",r&&r]}):B.jsx("span",{type:"button",onClick:s=>{s.stopPropagation(),e==null||e(s)},"aria-label":n,className:"p-1 focus:outline-none",children:x_[n]})}xi.propTypes={variant:Zp.oneOf(["delete","edit","submit","scan"]).isRequired,onClick:Zp.func,children:Zp.node};xi.defaultProps={onClick:()=>{},children:null};function Kc({type:n,placeholder:e,value:t,onChange:r,required:s,minDate:o,children:f,label:p,id:y,error:x}){const E=Z.useId(),A=y||E,I=t??"",R=t||null;return B.jsxs(B.Fragment,{children:[B.jsx(AI,{htmlFor:A,className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-200",children:p}),n==="select"&&B.jsx(LI,{id:A,required:s,value:I,onChange:r,className:"w-full",children:f}),n==="file"&&B.jsx(TI,{id:A,onChange:r,required:s,className:"w-full"}),n==="date"&&B.jsx(_I,{id:A,value:R,onChange:M=>r({target:{value:M}}),required:s,minDate:o,className:"w-full"}),["select","file","date"].indexOf(n)<0&&B.jsx(Px,{id:A,type:n,placeholder:e,value:I,onChange:r,required:s,className:"w-full"}),x&&B.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x})]})}function Og({show:n,onClose:e,onSubmit:t,mode:r,title:s,fields:o=[],initialData:f={}}){const[p,y]=Z.useState({}),[x,E]=Z.useState(null),[A,I]=Z.useState({}),R=dt.useRef(!1);Z.useEffect(()=>{if(!n){R.current=!1;return}if(!R.current){if(R.current=!0,r==="edit"){const L={};let $=null;o.forEach(te=>{if(te.type==="file"){const ie=f[te.key];ie instanceof File?(L[te.key]=ie,$=URL.createObjectURL(ie)):typeof ie=="string"&&ie?(L[te.key]=null,$=ie):L[te.key]=null}else L[te.key]=f[te.key]??(te.required?"":null)}),y(L),E($)}else if(r==="add"){const L=o.reduce(($,te)=>($[te.key]="",$),{});y(L),E(null)}I({})}},[r,o,f,n]);const M=(L,$)=>{y(te=>({...te,[L]:$}))},k=()=>{const L={};return r!=="delete"&&o.forEach($=>{const te=p[$.key];$.required&&$.key!=="shelfId"&&(te===""||te==null)&&(L[$.key]=`${$.label||$.key} is required`),$.type==="number"&&te!==""&&te!=null&&(!isNaN(te)&&/^-?\d+(\.\d+)?$/.test(te.toString())||(L[$.key]=`${$.label||$.key} must be a valid number`))}),L},G=()=>{const L=k();if(Object.keys(L).length){I(L);return}if(r==="delete")t();else if(r==="edit"){console.log("payload",{...p,id:f.id});const $={...p,id:f.id};p.photoUrl==null&&delete $.photoUrl,t($)}else t(p);e()},F=r==="delete",K=F?`Delete ${s}`:`${r==="edit"?"Edit":"Add"} ${s}`;return B.jsx(rB,{show:n,onClose:e,header:K,footer:B.jsx(xi,{onClick:G,action:"submit",children:F?"Delete":r==="edit"?"Save":"Add"}),children:F?B.jsxs("p",{className:"text-center",children:["Are you sure you want to delete this ",s,"? This action cannot be undone."]}):o.map(L=>{const $=A[L.key];return B.jsxs("div",{className:"mb-4",children:[L.type==="file"&&B.jsxs(B.Fragment,{children:[B.jsx(Kc,{id:L.key,type:"file",accept:"image/*",onChange:te=>{const ie=te.target.files[0];M(L.key,ie),E(URL.createObjectURL(ie))},label:L.label,error:$}),x&&B.jsx("img",{src:x,alt:"Preview",className:"mt-2 h-32 w-full object-cover rounded-lg"})]}),L.type==="select"&&(()=>{var Y;const te=L.options||[],V={id:"",name:`-- No ${L.label||L.key} --`},P=((Y=L.value)==null?void 0:Y.id)??p[L.key]??"",O=te.find(q=>q.id===P)||null,W=te.filter(q=>q.id!==(O==null?void 0:O.id));let X=[];return r==="add"?P?X=[O,...W,V]:X=[V,...W]:P?X=[O,...W,V]:X=[V,...W],B.jsx(Kc,{id:L.key,type:"select",value:P,onChange:q=>M(L.key,q.target.value),label:L.label,error:$,children:X.map(q=>q?B.jsx("option",{value:q.id,children:q.name},q.id):null)})})(),L.type==="date"&&(()=>{const te=p[L.key]||null;let ie=null;if(te){if(typeof te=="string"){const P=te.includes(".")?te.split("."):te.split("/");if(P.length===3){const[O,W,X]=P.map(Number);ie=new Date(X,W-1,O)}else ie=new Date(te)}else te instanceof Date&&(ie=te);ie&&isNaN(ie.getTime())&&(ie=null)}let V;if(L.key==="freezingDate")V=new Date;else if(L.key==="expirationDate"){const P=p.freezingDate;if(P)if(typeof P=="string"){const O=P.includes(".")?P.split("."):P.split("/");if(O.length===3){const[W,X,Y]=O.map(Number);V=new Date(Y,X-1,W)}else V=new Date(P)}else P instanceof Date?V=P:V=new Date;else V=new Date}else V=new Date;return B.jsx(Kc,{id:L.key,type:L.type,required:L.required,value:ie,onChange:P=>M(L.key,P.target.value),label:L.label,error:$,minDate:V})})(),L.type!=="file"&&L.type!=="select"&&L.type!=="date"&&B.jsx(Kc,{id:L.key,type:L.type,placeholder:L.placeholder,required:L.required,value:p[L.key]||"",onChange:te=>M(L.key,te.target.value),label:L.label,error:$})]},L.key)})})}function rB({show:n,onClose:e,header:t,children:r,footer:s}){return B.jsxs(Ng,{show:n,onClose:e,children:[B.jsx(Dg,{children:t}),B.jsx(Mg,{children:r}),B.jsx(OI,{children:s})]})}function iB({show:n,onClose:e,scanError:t,scanResult:r,qrContainerId:s}){return B.jsxs(Ng,{show:n,size:"md",popup:!0,onClose:e,children:[B.jsx(Dg,{}),B.jsx(Mg,{children:B.jsxs("div",{className:"space-y-4 text-center",children:[B.jsx("h3",{className:"text-xl font-medium text-white-900",children:"Scan QR Code"}),t&&B.jsxs("p",{className:"text-sm text-red-600",children:["Error: ",t]}),B.jsx("div",{id:s,className:"w-full"}),r&&B.jsxs("p",{className:"text-sm text-green-700",children:["Scanned: ",B.jsx("strong",{children:r})]}),B.jsx(aa,{color:"gray",onClick:e,children:"Cancel"})]})})]})}const sB=async(n,e)=>{const r=(await E8(wg,n,e)).user;return await r9(ul(Ur,"users",r.uid),{email:r.email,uid:r.uid}),r},UI=async(n,e)=>(await _8(wg,n,e)).user,aB=async()=>{await C8(wg)};function kg(){const n=_f(),e=async()=>{try{await aB()}catch(t){console.error("Logout error:",t)}};return B.jsxs(CI,{fluid:!0,rounded:!0,className:"bg-white dark:bg-gray-900 shadow-md border-b border-gray-200 dark:border-0",children:[B.jsxs(II,{as:Mi,to:"/",children:[B.jsx(VI,{className:"mr-3 h-6 w-6 text-blue-600"}),B.jsx("span",{className:"self-center whitespace-nowrap text-xl font-semibold text-gray-900 dark:text-white",children:"Freezer Manager"})]}),B.jsxs("div",{className:"flex order-2 items-center gap-2",children:[B.jsx("div",{className:"hidden sm:flex gap-2",children:n?B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"text-sm text-gray-700 dark:text-white self-center",children:n.email}),B.jsx(aa,{color:"gray",size:"sm",onClick:e,children:"Log out"})]}):B.jsxs(B.Fragment,{children:[B.jsx(Mi,{to:"/login",children:B.jsx(aa,{color:"light",size:"sm",children:"Login"})}),B.jsx(Mi,{to:"/signup",children:B.jsx(aa,{color:"blue",size:"sm",children:"Sign Up"})})]})}),B.jsx(MI,{})]}),B.jsxs(RI,{children:[B.jsxs(Pl,{as:Mi,to:"/",className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[B.jsx(QP,{className:"h-4 w-4"}),"Home"]}),n&&B.jsxs(Pl,{as:Mi,to:"/dashboard",className:"flex items-center gap-2 text-gray-900 dark:text-white",children:[B.jsx(ZP,{className:"h-4 w-4"}),"Dashboard"]}),!n&&B.jsxs(B.Fragment,{children:[B.jsx(Pl,{as:Mi,to:"/login",className:"block mt-2 sm:hidden text-gray-900 dark:text-white",children:"Login"}),B.jsx(Pl,{as:Mi,to:"/signup",className:"block mt-2 sm:hidden text-gray-900 dark:text-white",children:"Sign Up"})]}),n&&B.jsxs(B.Fragment,{children:[B.jsx(Pl,{as:"span",className:"block mt-2 text-gray-700 dark:text-white sm:hidden",children:n.email}),B.jsx(Pl,{as:Mi,onClick:e,className:"block mt-2 text-left text-gray-900 dark:text-white sm:hidden",children:"Log out"})]})]})]})}function oB(){return B.jsxs(B.Fragment,{children:[B.jsx(kg,{}),B.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[B.jsx("section",{className:"pt-20 pb-16 w-full bg-gray-50 dark:bg-gray-900",children:B.jsx("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:B.jsxs("div",{className:"text-center",children:[B.jsx("div",{className:"flex justify-center mb-8",children:B.jsx(VI,{className:"h-20 w-20 text-blue-600"})}),B.jsx("h1",{className:"mb-6 text-4xl font-extrabold tracking-tight leading-none text-gray-900 dark:text-white md:text-5xl lg:text-6xl",children:"Freezer Manager"}),B.jsx("p",{className:"mb-10 text-lg font-medium text-gray-700 dark:text-gray-300 lg:text-xl max-w-3xl mx-auto leading-relaxed",children:"Keep track of your frozen inventory with ease. Manage stock, and never lose track of your frozen goods again."}),B.jsx("div",{className:"flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4",children:B.jsx(Mi,{to:"/signup",children:B.jsx(aa,{size:"xl",className:"px-8 py-3 justify-self-center text-white bg-blue-600 hover:bg-blue-700 transition",children:"Get Started"})})})]})})}),B.jsx("section",{className:"py-16 w-full bg-gray-50 dark:bg-gray-900",children:B.jsxs("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:[B.jsxs("div",{className:"text-center mb-16",children:[B.jsx("h2",{className:"mb-4 text-3xl font-extrabold text-gray-900 dark:text-white lg:text-4xl",children:"Why Choose Freezer Manager?"}),B.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-xl max-w-2xl mx-auto",children:"Everything you need to manage your freezer inventory efficiently"})]}),B.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[B.jsxs(Ud,{className:"text-center p-8 border-0 shadow-xl bg-white dark:bg-gray-800 transition-colors duration-300",children:[B.jsx("div",{className:"flex justify-center mb-6",children:B.jsx(XP,{className:"h-12 w-12 text-blue-600"})}),B.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-800 dark:text-white",children:"Real-time Monitoring"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Monitor expiration dates of all your products in real-time with alerts."})]}),B.jsxs(Ud,{className:"text-center p-8 border-0 shadow-xl bg-white dark:bg-gray-800 transition-colors duration-300",children:[B.jsx("div",{className:"flex justify-center mb-6",children:B.jsx($P,{className:"h-12 w-12 text-green-600"})}),B.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-800 dark:text-white",children:"Smart Alerts"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Use QR-Codes for easy and efficient product management."})]}),B.jsxs(Ud,{className:"text-center p-8 border-0 shadow-xl bg-white dark:bg-gray-800 transition-colors duration-300",children:[B.jsx("div",{className:"flex justify-center mb-6",children:B.jsx(KP,{className:"h-12 w-12 text-purple-600"})}),B.jsx("h3",{className:"mb-4 text-xl font-bold text-gray-800 dark:text-white",children:"Inventory Tracking"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Keep detailed records of what's in each freezer with expiration dates and stock levels."})]})]})]})}),B.jsx("section",{className:"py-16 w-full bg-gray-50 dark:bg-gray-900",children:B.jsx("div",{className:"px-4 mx-auto max-w-screen-xl w-full",children:B.jsxs("div",{className:"mx-auto max-w-screen-sm text-center",children:[B.jsx("h2",{className:"mb-6 text-3xl font-extrabold leading-tight text-gray-900 dark:text-white lg:text-4xl",children:"Start managing your freezers today"}),B.jsx("p",{className:"mb-8 font-light text-gray-700 dark:text-gray-300 text-lg leading-relaxed",children:"Join thousands of users who trust Freezer Manager to keep their inventory organized and safe."}),B.jsx(Mi,{to:"/signup",children:B.jsx(aa,{size:"xl",className:"px-10 py-3 justify-self-center text-white bg-blue-600 hover:bg-blue-700 transition",children:"Create Free Account"})})]})})})]})]})}function FI({text:n,onSubmit:e}){const[t,r]=Z.useState(""),[s,o]=Z.useState(""),[f,p]=Z.useState(!1),[y,x]=Z.useState({}),E=Ny(),A=()=>{const R={};return t?/\S+@\S+\.\S+/.test(t)||(R.email="Please enter a valid email"):R.email="Email is required",s?s.length<6&&(R.password="Password must be at least 6 characters"):R.password="Password is required",x(R),Object.keys(R).length===0},I=async R=>{if(R.preventDefault(),!!A()){p(!0),x({});try{await e(t,s)&&E("/dashboard")}catch(M){console.error("Error during authentication:",M),x({general:M.message||"Authentication failed. Please try again."})}finally{p(!1)}}};return B.jsxs("div",{className:"w-full",children:[B.jsxs("div",{className:"text-center mb-6",children:[B.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 dark:from-indigo-400 dark:to-purple-400 rounded-full mb-4",children:B.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),B.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n})]}),y.general&&B.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg",children:B.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:y.general})}),B.jsxs("form",{onSubmit:I,className:"space-y-5",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email address"}),B.jsxs("div",{className:"relative",children:[B.jsx(Kc,{id:"email",type:"email",placeholder:"Enter your email",value:t,onChange:R=>{r(R.target.value),y.email&&x(M=>({...M,email:null}))},className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ${y.email?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}`,required:!0}),B.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:B.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]}),y.email&&B.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.email})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),B.jsxs("div",{className:"relative",children:[B.jsx(Kc,{id:"password",type:"password",placeholder:"Create a password",value:s,onChange:R=>{o(R.target.value),y.password&&x(M=>({...M,password:null}))},className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all ${y.password?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}`,required:!0}),B.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:B.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]}),y.password&&B.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:y.password}),B.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Must be at least 6 characters long"})]}),B.jsx("div",{className:"pt-2",children:B.jsx("button",{type:"submit",disabled:f,className:`w-full py-3 px-4 rounded-xl font-medium text-white transition-all duration-200 ${f?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-indigo-500 dark:to-purple-500 hover:from-indigo-700 hover:to-purple-700 dark:hover:from-indigo-600 dark:hover:to-purple-600 focus:ring-4 focus:ring-indigo-500/50 dark:focus:ring-indigo-400/50 transform hover:scale-[1.02] active:scale-[0.98]"}`,children:f?B.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[B.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),B.jsx("span",{children:"Creating account..."})]}):B.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[B.jsx("span",{children:n}),B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})})]})]})}function lB(){const n=async(e,t)=>{const r=await UI(e,t);return fn.success(` : ${r.email}`),!0};return B.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 relative overflow-hidden",children:[B.jsx(kg,{}),B.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[B.jsx("div",{className:"absolute -top-40 -right-32 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 dark:from-blue-500/30 dark:to-purple-500/30 rounded-full blur-3xl"}),B.jsx("div",{className:"absolute -bottom-32 -left-32 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-pink-400/20 dark:from-indigo-500/30 dark:to-pink-500/30 rounded-full blur-3xl"})]}),B.jsx("div",{className:"relative flex items-center justify-center min-h-[calc(100vh-80px)] px-4 py-12",children:B.jsxs("div",{className:"w-full max-w-md",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome Back"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Log in to your account"})]}),B.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 dark:border-gray-700/30 p-8",children:[B.jsx(FI,{text:"Login",onSubmit:n}),B.jsx("div",{className:"mt-6 text-center",children:B.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",B.jsx(Mi,{to:"/signup",className:"font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 transition-colors",children:"Sign Up"})]})})]})]})})]})}function cB(){const n=async(e,t)=>{const r=await sB(e,t);return fn.success(` : ${r.email}`),await UI(e,t),!0};return B.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 relative overflow-hidden",children:[B.jsx(kg,{}),B.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[B.jsx("div",{className:"absolute -top-40 -right-32 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 dark:from-blue-500/30 dark:to-purple-500/30 rounded-full blur-3xl"}),B.jsx("div",{className:"absolute -bottom-32 -left-32 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-pink-400/20 dark:from-indigo-500/30 dark:to-pink-500/30 rounded-full blur-3xl"})]}),B.jsx("div",{className:"relative flex items-center justify-center min-h-[calc(100vh-80px)] px-4 py-12",children:B.jsxs("div",{className:"w-full max-w-md",children:[B.jsxs("div",{className:"text-center mb-8",children:[B.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Create your account"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Join us today and start your journey"})]}),B.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 dark:border-gray-700/30 p-8",children:[B.jsx(FI,{text:"Sign Up",onSubmit:n}),B.jsx("div",{className:"mt-6 text-center",children:B.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",B.jsx(Mi,{to:"/login",className:"font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300 transition-colors",children:"Log in"})]})})]})]})})]})}function Lg(){const[n,e]=Z.useState({mode:null}),t=Z.useCallback(s=>e({...s,mode:s.mode}),[]),r=Z.useCallback(()=>e({mode:null}),[]);return{config:n,open:t,close:r}}var Ze;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ze||(Ze={}));var w_=new Map([[Ze.QR_CODE,"QR_CODE"],[Ze.AZTEC,"AZTEC"],[Ze.CODABAR,"CODABAR"],[Ze.CODE_39,"CODE_39"],[Ze.CODE_93,"CODE_93"],[Ze.CODE_128,"CODE_128"],[Ze.DATA_MATRIX,"DATA_MATRIX"],[Ze.MAXICODE,"MAXICODE"],[Ze.ITF,"ITF"],[Ze.EAN_13,"EAN_13"],[Ze.EAN_8,"EAN_8"],[Ze.PDF_417,"PDF_417"],[Ze.RSS_14,"RSS_14"],[Ze.RSS_EXPANDED,"RSS_EXPANDED"],[Ze.UPC_A,"UPC_A"],[Ze.UPC_E,"UPC_E"],[Ze.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),v_;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(v_||(v_={}));function uB(n){return Object.values(Ze).includes(n)}var il;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(il||(il={}));var ks=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[il.SCAN_TYPE_CAMERA,il.SCAN_TYPE_FILE],n}(),zI=function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!w_.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,w_.get(e))},n}(),b_=function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n}(),by;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(by||(by={}));var jI=function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:by.UNKWOWN_ERROR}},n}(),HI=function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n}();function Js(n){return typeof n>"u"||n===null}function dB(n,e,t){return n>t?t:n<e?e:n}var Qc=function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),xn=function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(e){return"Last Match: ".concat(e)},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.torchOnButton=function(){return"Switch On Torch"},n.torchOffButton=function(){return"Switch Off Torch"},n.torchOnFailedMessage=function(){return"Failed to turn on torch"},n.torchOffFailedMessage=function(){return"Failed to turn off torch"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n.fileSelectionChooseImage=function(){return"Choose Image"},n.fileSelectionChooseAnother=function(){return"Choose Another"},n.fileSelectionNoImageSelected=function(){return"No image choosen"},n.anonymousCameraPrefix=function(){return"Anonymous Camera"},n.dragAndDropMessage=function(){return"Or drop an image to scan"},n.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},n.zoom=function(){return"zoom"},n.loadingImage=function(){return"Loading image..."},n.cameraScanAltText=function(){return"Camera based scan"},n.fileScanAltText=function(){return"Fule based scan"},n}(),E_=function(){function n(){}return n.poweredBy=function(){return"Powered by "},n.reportIssues=function(){return"Report issues"},n}(),GI=function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),f=Object.keys(e),p=0,y=f;p<y.length;p++){var x=y[p];if(o.has(x))return t.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},n}(),Dd={exports:{}},fB=Dd.exports,__;function hB(){return __||(__=1,function(n,e){(function(t,r){r(e)})(fB,function(t){function r(j){return j==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,a){j.__proto__=a}||function(j,a){for(var c in a)a.hasOwnProperty(c)&&(j[c]=a[c])};function o(j,a){s(j,a);function c(){this.constructor=j}j.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}function f(j,a){var c=Object.setPrototypeOf;c?c(j,a):j.__proto__=a}function p(j,a){a===void 0&&(a=j.constructor);var c=Error.captureStackTrace;c&&c(j,a)}var y=function(j){o(a,j);function a(c){var u=this.constructor,h=j.call(this,c)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),f(h,u.prototype),p(h),h}return a}(Error);class x extends y{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class I{constructor(a){if(this.binarizer=a,a===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,c){return this.binarizer.getBlackRow(a,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,c,u,h){const g=this.binarizer.getLuminanceSource().crop(a,c,u,h);return new I(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends x{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class M{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(a,c,u,h,g){for(;g--;)u[h++]=a[c++]}static currentTimeMillis(){return Date.now()}}class G extends x{}G.kind="IndexOutOfBoundsException";class F extends G{constructor(a=void 0,c=void 0){super(c),this.index=a,this.message=c}}F.kind="ArrayIndexOutOfBoundsException";class K{static fill(a,c){for(let u=0,h=a.length;u<h;u++)a[u]=c}static fillWithin(a,c,u,h){K.rangeCheck(a.length,c,u);for(let g=c;g<u;g++)a[g]=h}static rangeCheck(a,c,u){if(c>u)throw new A("fromIndex("+c+") > toIndex("+u+")");if(c<0)throw new F(c);if(u>a)throw new F(u)}static asList(...a){return a}static create(a,c,u){return Array.from({length:a}).map(g=>Array.from({length:c}).fill(u))}static createInt32Array(a,c,u){return Array.from({length:a}).map(g=>Int32Array.from({length:c}).fill(u))}static equals(a,c){if(!a||!c||!a.length||!c.length||a.length!==c.length)return!1;for(let u=0,h=a.length;u<h;u++)if(a[u]!==c[u])return!1;return!0}static hashCode(a){if(a===null)return 0;let c=1;for(const u of a)c=31*c+u;return c}static fillUint8Array(a,c){for(let u=0;u!==a.length;u++)a[u]=c}static copyOf(a,c){return a.slice(0,c)}static copyOfUint8Array(a,c){if(a.length<=c){const u=new Uint8Array(c);return u.set(a),u}return a.slice(0,c)}static copyOfRange(a,c,u){const h=u-c,g=new Int32Array(h);return k.arraycopy(a,c,g,0,h),g}static binarySearch(a,c,u){u===void 0&&(u=K.numberComparator);let h=0,g=a.length-1;for(;h<=g;){const w=g+h>>1,v=u(c,a[w]);if(v>0)h=w+1;else if(v<0)g=w-1;else return w}return-h-1}static numberComparator(a,c){return a-c}}class L{static numberOfTrailingZeros(a){let c;if(a===0)return 32;let u=31;return c=a<<16,c!==0&&(u-=16,a=c),c=a<<8,c!==0&&(u-=8,a=c),c=a<<4,c!==0&&(u-=4,a=c),c=a<<2,c!==0&&(u-=2,a=c),u-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let c=1;return a>>>16||(c+=16,a<<=16),a>>>24||(c+=8,a<<=8),a>>>28||(c+=4,a<<=4),a>>>30||(c+=2,a<<=2),c-=a>>>31,c}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,c){return Math.trunc(a/c)}static parseInt(a,c=void 0){return parseInt(a,c)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ${constructor(a,c){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,c==null?this.bits=$.makeArray(a):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const c=$.makeArray(a);k.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const c=this.size;if(a>=c)return c;const u=this.bits;let h=Math.floor(a/32),g=u[h];g&=~((1<<(a&31))-1);const w=u.length;for(;g===0;){if(++h===w)return c;g=u[h]}const v=h*32+L.numberOfTrailingZeros(g);return v>c?c:v}getNextUnset(a){const c=this.size;if(a>=c)return c;const u=this.bits;let h=Math.floor(a/32),g=~u[h];g&=~((1<<(a&31))-1);const w=u.length;for(;g===0;){if(++h===w)return c;g=~u[h]}const v=h*32+L.numberOfTrailingZeros(g);return v>c?c:v}setBulk(a,c){this.bits[Math.floor(a/32)]=c}setRange(a,c){if(c<a||a<0||c>this.size)throw new A;if(c===a)return;c--;const u=Math.floor(a/32),h=Math.floor(c/32),g=this.bits;for(let w=u;w<=h;w++){const v=w>u?0:a&31,C=(2<<(w<h?31:c&31))-(1<<v);g[w]|=C}}clear(){const a=this.bits.length,c=this.bits;for(let u=0;u<a;u++)c[u]=0}isRange(a,c,u){if(c<a||a<0||c>this.size)throw new A;if(c===a)return!0;c--;const h=Math.floor(a/32),g=Math.floor(c/32),w=this.bits;for(let v=h;v<=g;v++){const T=v>h?0:a&31,D=(2<<(v<g?31:c&31))-(1<<T)&4294967295;if((w[v]&D)!==(u?D:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,c){if(c<0||c>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let u=c;u>0;u--)this.appendBit((a>>u-1&1)===1)}appendBitArray(a){const c=a.size;this.ensureCapacity(this.size+c);for(let u=0;u<c;u++)this.appendBit(a.get(u))}xor(a){if(this.size!==a.size)throw new A("Sizes don't match");const c=this.bits;for(let u=0,h=c.length;u<h;u++)c[u]^=a.bits[u]}toBytes(a,c,u,h){for(let g=0;g<h;g++){let w=0;for(let v=0;v<8;v++)this.get(a)&&(w|=1<<7-v),a++;c[u+g]=w}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),u=c+1,h=this.bits;for(let g=0;g<u;g++){let w=h[g];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,a[c-g]=w}if(this.size!==u*32){const g=u*32-this.size;let w=a[0]>>>g;for(let v=1;v<u;v++){const T=a[v];w|=T<<32-g,a[v-1]=w,w=T>>>g}a[u-1]=w}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof $))return!1;const c=a;return this.size===c.size&&K.equals(this.bits,c.bits)}hashCode(){return 31*this.size+K.hashCode(this.bits)}toString(){let a="";for(let c=0,u=this.size;c<u;c++)(c&7)===0&&(a+=" "),a+=this.get(c)?"X":".";return a}clone(){return new $(this.size,this.bits.slice())}}var te;(function(j){j[j.OTHER=0]="OTHER",j[j.PURE_BARCODE=1]="PURE_BARCODE",j[j.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",j[j.TRY_HARDER=3]="TRY_HARDER",j[j.CHARACTER_SET=4]="CHARACTER_SET",j[j.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",j[j.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",j[j.ASSUME_GS1=7]="ASSUME_GS1",j[j.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",j[j.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",j[j.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(te||(te={}));var ie=te;class V extends x{static getFormatInstance(){return new V}}V.kind="FormatException";var P;(function(j){j[j.Cp437=0]="Cp437",j[j.ISO8859_1=1]="ISO8859_1",j[j.ISO8859_2=2]="ISO8859_2",j[j.ISO8859_3=3]="ISO8859_3",j[j.ISO8859_4=4]="ISO8859_4",j[j.ISO8859_5=5]="ISO8859_5",j[j.ISO8859_6=6]="ISO8859_6",j[j.ISO8859_7=7]="ISO8859_7",j[j.ISO8859_8=8]="ISO8859_8",j[j.ISO8859_9=9]="ISO8859_9",j[j.ISO8859_10=10]="ISO8859_10",j[j.ISO8859_11=11]="ISO8859_11",j[j.ISO8859_13=12]="ISO8859_13",j[j.ISO8859_14=13]="ISO8859_14",j[j.ISO8859_15=14]="ISO8859_15",j[j.ISO8859_16=15]="ISO8859_16",j[j.SJIS=16]="SJIS",j[j.Cp1250=17]="Cp1250",j[j.Cp1251=18]="Cp1251",j[j.Cp1252=19]="Cp1252",j[j.Cp1256=20]="Cp1256",j[j.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",j[j.UTF8=22]="UTF8",j[j.ASCII=23]="ASCII",j[j.Big5=24]="Big5",j[j.GB18030=25]="GB18030",j[j.EUC_KR=26]="EUC_KR"})(P||(P={}));class O{constructor(a,c,u,...h){this.valueIdentifier=a,this.name=u,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=h,O.VALUE_IDENTIFIER_TO_ECI.set(a,this),O.NAME_TO_ECI.set(u,this);const g=this.values;for(let w=0,v=g.length;w!==v;w++){const T=g[w];O.VALUES_TO_ECI.set(T,this)}for(const w of h)O.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new V("incorect value");const c=O.VALUES_TO_ECI.get(a);if(c===void 0)throw new V("incorect value");return c}static getCharacterSetECIByName(a){const c=O.NAME_TO_ECI.get(a);if(c===void 0)throw new V("incorect value");return c}equals(a){if(!(a instanceof O))return!1;const c=a;return this.getName()===c.getName()}}O.VALUE_IDENTIFIER_TO_ECI=new Map,O.VALUES_TO_ECI=new Map,O.NAME_TO_ECI=new Map,O.Cp437=new O(P.Cp437,Int32Array.from([0,2]),"Cp437"),O.ISO8859_1=new O(P.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),O.ISO8859_2=new O(P.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),O.ISO8859_3=new O(P.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),O.ISO8859_4=new O(P.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),O.ISO8859_5=new O(P.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),O.ISO8859_6=new O(P.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),O.ISO8859_7=new O(P.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),O.ISO8859_8=new O(P.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),O.ISO8859_9=new O(P.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),O.ISO8859_10=new O(P.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),O.ISO8859_11=new O(P.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),O.ISO8859_13=new O(P.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),O.ISO8859_14=new O(P.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),O.ISO8859_15=new O(P.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),O.ISO8859_16=new O(P.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),O.SJIS=new O(P.SJIS,20,"SJIS","Shift_JIS"),O.Cp1250=new O(P.Cp1250,21,"Cp1250","windows-1250"),O.Cp1251=new O(P.Cp1251,22,"Cp1251","windows-1251"),O.Cp1252=new O(P.Cp1252,23,"Cp1252","windows-1252"),O.Cp1256=new O(P.Cp1256,24,"Cp1256","windows-1256"),O.UnicodeBigUnmarked=new O(P.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),O.UTF8=new O(P.UTF8,26,"UTF8","UTF-8"),O.ASCII=new O(P.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),O.Big5=new O(P.Big5,28,"Big5"),O.GB18030=new O(P.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),O.EUC_KR=new O(P.EUC_KR,30,"EUC_KR","EUC-KR");class W extends x{}W.kind="UnsupportedOperationException";class X{static decode(a,c){const u=this.encodingName(c);return this.customDecoder?this.customDecoder(a,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(a,u):new TextDecoder(u).decode(a)}static shouldDecodeOnFallback(a){return!X.isBrowser()&&a==="ISO-8859-1"}static encode(a,c){const u=this.encodingName(c);return this.customEncoder?this.customEncoder(a,u):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof O?a:O.getCharacterSetECIByName(a)}static decodeFallback(a,c){const u=this.encodingCharacterSet(c);if(X.isDecodeFallbackSupported(u)){let h="";for(let g=0,w=a.length;g<w;g++){let v=a[g].toString(16);v.length<2&&(v="0"+v),h+="%"+v}return decodeURIComponent(h)}if(u.equals(O.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new W(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(O.UTF8)||a.equals(O.ISO8859_1)||a.equals(O.ASCII)}static encodeFallback(a){const u=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let g=0;g<u.length;g++)h.push(u[g].charCodeAt(0));return new Uint8Array(h)}}class Y{static castAsNonUtf8Char(a,c=null){const u=c?c.getName():this.ISO88591;return X.decode(new Uint8Array([a]),u)}static guessEncoding(a,c){if(c!=null&&c.get(ie.CHARACTER_SET)!==void 0)return c.get(ie.CHARACTER_SET).toString();const u=a.length;let h=!0,g=!0,w=!0,v=0,T=0,C=0,D=0,H=0,Q=0,se=0,ce=0,ue=0,me=0,_e=0;const Ve=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let Ue=0;Ue<u&&(h||g||w);Ue++){const Be=a[Ue]&255;w&&(v>0?(Be&128)===0?w=!1:v--:(Be&128)!==0&&((Be&64)===0?w=!1:(v++,(Be&32)===0?T++:(v++,(Be&16)===0?C++:(v++,(Be&8)===0?D++:w=!1))))),h&&(Be>127&&Be<160?h=!1:Be>159&&(Be<192||Be===215||Be===247)&&_e++),g&&(H>0?Be<64||Be===127||Be>252?g=!1:H--:Be===128||Be===160||Be>239?g=!1:Be>160&&Be<224?(Q++,ce=0,se++,se>ue&&(ue=se)):Be>127?(H++,se=0,ce++,ce>me&&(me=ce)):(se=0,ce=0))}return w&&v>0&&(w=!1),g&&H>0&&(g=!1),w&&(Ve||T+C+D>0)?Y.UTF8:g&&(Y.ASSUME_SHIFT_JIS||ue>=3||me>=3)?Y.SHIFT_JIS:h&&g?ue===2&&Q===2||_e*10>=u?Y.SHIFT_JIS:Y.ISO88591:h?Y.ISO88591:g?Y.SHIFT_JIS:w?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(a,...c){let u=-1;function h(w,v,T,C,D,H){if(w==="%%")return"%";if(c[++u]===void 0)return;w=C?parseInt(C.substr(1)):void 0;let Q=D?parseInt(D.substr(1)):void 0,se;switch(H){case"s":se=c[u];break;case"c":se=c[u][0];break;case"f":se=parseFloat(c[u]).toFixed(w);break;case"p":se=parseFloat(c[u]).toPrecision(w);break;case"e":se=parseFloat(c[u]).toExponential(w);break;case"x":se=parseInt(c[u]).toString(Q||16);break;case"d":se=parseFloat(parseInt(c[u],Q||10).toPrecision(w)).toFixed(0);break}se=typeof se=="object"?JSON.stringify(se):(+se).toString(Q);let ce=parseInt(T),ue=T&&T[0]+""=="0"?"0":" ";for(;se.length<ce;)se=v!==void 0?se+ue:ue+se;return se}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}static getBytes(a,c){return X.encode(a,c)}static getCharCode(a,c=0){return a.charCodeAt(c)}static getCharAt(a){return String.fromCharCode(a)}}Y.SHIFT_JIS=O.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=O.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=O.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class q{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,c,u){for(let h=c;c<c+u;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+1)}substring(a,c){return this.value.substring(a,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+c.length)}}class be{constructor(a,c,u,h){if(this.width=a,this.height=c,this.rowSize=u,this.bits=h,c==null&&(c=a),this.height=c,a<1||c<1)throw new A("Both dimensions must be greater than 0");u==null&&(u=Math.floor((a+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const c=a.length,u=a[0].length,h=new be(u,c);for(let g=0;g<c;g++){const w=a[g];for(let v=0;v<u;v++)w[v]&&h.set(v,g)}return h}static parseFromString(a,c,u){if(a===null)throw new A("stringRepresentation cannot be null");const h=new Array(a.length);let g=0,w=0,v=-1,T=0,C=0;for(;C<a.length;)if(a.charAt(C)===`
`||a.charAt(C)==="\r"){if(g>w){if(v===-1)v=g-w;else if(g-w!==v)throw new A("row lengths do not match");w=g,T++}C++}else if(a.substring(C,C+c.length)===c)C+=c.length,h[g]=!0,g++;else if(a.substring(C,C+u.length)===u)C+=u.length,h[g]=!1,g++;else throw new A("illegal character encountered: "+a.substring(C));if(g>w){if(v===-1)v=g-w;else if(g-w!==v)throw new A("row lengths do not match");T++}const D=new be(v,T);for(let H=0;H<g;H++)h[H]&&D.set(Math.floor(H%v),Math.floor(H/v));return D}get(a,c){const u=c*this.rowSize+Math.floor(a/32);return(this.bits[u]>>>(a&31)&1)!==0}set(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]|=1<<(a&31)&4294967295}unset(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]&=~(1<<(a&31)&4294967295)}flip(a,c){const u=c*this.rowSize+Math.floor(a/32);this.bits[u]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new A("input matrix dimensions do not match");const c=new $(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let g=0,w=this.height;g<w;g++){const v=g*u,T=a.getRow(g,c).getBitArray();for(let C=0;C<u;C++)h[v+C]^=T[C]}}clear(){const a=this.bits,c=a.length;for(let u=0;u<c;u++)a[u]=0}setRegion(a,c,u,h){if(c<0||a<0)throw new A("Left and top must be nonnegative");if(h<1||u<1)throw new A("Height and width must be at least 1");const g=a+u,w=c+h;if(w>this.height||g>this.width)throw new A("The region must fit inside the matrix");const v=this.rowSize,T=this.bits;for(let C=c;C<w;C++){const D=C*v;for(let H=a;H<g;H++)T[D+Math.floor(H/32)]|=1<<(H&31)&4294967295}}getRow(a,c){c==null||c.getSize()<this.width?c=new $(this.width):c.clear();const u=this.rowSize,h=this.bits,g=a*u;for(let w=0;w<u;w++)c.setBulk(w*32,h[g+w]);return c}setRow(a,c){k.arraycopy(c.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),c=this.getHeight();let u=new $(a),h=new $(a);for(let g=0,w=Math.floor((c+1)/2);g<w;g++)u=this.getRow(g,u),h=this.getRow(c-1-g,h),u.reverse(),h.reverse(),this.setRow(g,h),this.setRow(c-1-g,u)}getEnclosingRectangle(){const a=this.width,c=this.height,u=this.rowSize,h=this.bits;let g=a,w=c,v=-1,T=-1;for(let C=0;C<c;C++)for(let D=0;D<u;D++){const H=h[C*u+D];if(H!==0){if(C<w&&(w=C),C>T&&(T=C),D*32<g){let Q=0;for(;(H<<31-Q&4294967295)===0;)Q++;D*32+Q<g&&(g=D*32+Q)}if(D*32+31>v){let Q=31;for(;!(H>>>Q);)Q--;D*32+Q>v&&(v=D*32+Q)}}}return v<g||T<w?null:Int32Array.from([g,w,v-g+1,T-w+1])}getTopLeftOnBit(){const a=this.rowSize,c=this.bits;let u=0;for(;u<c.length&&c[u]===0;)u++;if(u===c.length)return null;const h=u/a;let g=u%a*32;const w=c[u];let v=0;for(;(w<<31-v&4294967295)===0;)v++;return g+=v,Int32Array.from([g,h])}getBottomRightOnBit(){const a=this.rowSize,c=this.bits;let u=c.length-1;for(;u>=0&&c[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/a);let g=Math.floor(u%a)*32;const w=c[u];let v=31;for(;!(w>>>v);)v--;return g+=v,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof be))return!1;const c=a;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&K.equals(this.bits,c.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+K.hashCode(this.bits),a}toString(a="X ",c="  ",u=`
`){return this.buildToString(a,c,u)}buildToString(a,c,u){let h=new q;for(let g=0,w=this.height;g<w;g++){for(let v=0,T=this.width;v<T;v++)h.append(this.get(v,g)?a:c);h.append(u)}return h.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class le extends x{static getNotFoundInstance(){return new le}}le.kind="NotFoundException";class ae extends M{constructor(a){super(a),this.luminances=ae.EMPTY,this.buckets=new Int32Array(ae.LUMINANCE_BUCKETS)}getBlackRow(a,c){const u=this.getLuminanceSource(),h=u.getWidth();c==null||c.getSize()<h?c=new $(h):c.clear(),this.initArrays(h);const g=u.getRow(a,this.luminances),w=this.buckets;for(let T=0;T<h;T++)w[(g[T]&255)>>ae.LUMINANCE_SHIFT]++;const v=ae.estimateBlackPoint(w);if(h<3)for(let T=0;T<h;T++)(g[T]&255)<v&&c.set(T);else{let T=g[0]&255,C=g[1]&255;for(let D=1;D<h-1;D++){const H=g[D+1]&255;(C*4-T-H)/2<v&&c.set(D),T=C,C=H}}return c}getBlackMatrix(){const a=this.getLuminanceSource(),c=a.getWidth(),u=a.getHeight(),h=new be(c,u);this.initArrays(c);const g=this.buckets;for(let T=1;T<5;T++){const C=Math.floor(u*T/5),D=a.getRow(C,this.luminances),H=Math.floor(c*4/5);for(let Q=Math.floor(c/5);Q<H;Q++){const se=D[Q]&255;g[se>>ae.LUMINANCE_SHIFT]++}}const w=ae.estimateBlackPoint(g),v=a.getMatrix();for(let T=0;T<u;T++){const C=T*c;for(let D=0;D<c;D++)(v[C+D]&255)<w&&h.set(D,T)}return h}createBinarizer(a){return new ae(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const c=this.buckets;for(let u=0;u<ae.LUMINANCE_BUCKETS;u++)c[u]=0}static estimateBlackPoint(a){const c=a.length;let u=0,h=0,g=0;for(let D=0;D<c;D++)a[D]>g&&(h=D,g=a[D]),a[D]>u&&(u=a[D]);let w=0,v=0;for(let D=0;D<c;D++){const H=D-h,Q=a[D]*H*H;Q>v&&(w=D,v=Q)}if(h>w){const D=h;h=w,w=D}if(w-h<=c/16)throw new le;let T=w-1,C=-1;for(let D=w-1;D>h;D--){const H=D-h,Q=H*H*(w-D)*(u-a[D]);Q>C&&(T=D,C=Q)}return T<<ae.LUMINANCE_SHIFT}}ae.LUMINANCE_BITS=5,ae.LUMINANCE_SHIFT=8-ae.LUMINANCE_BITS,ae.LUMINANCE_BUCKETS=1<<ae.LUMINANCE_BITS,ae.EMPTY=Uint8ClampedArray.from([0]);class fe extends ae{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),c=a.getWidth(),u=a.getHeight();if(c>=fe.MINIMUM_DIMENSION&&u>=fe.MINIMUM_DIMENSION){const h=a.getMatrix();let g=c>>fe.BLOCK_SIZE_POWER;(c&fe.BLOCK_SIZE_MASK)!==0&&g++;let w=u>>fe.BLOCK_SIZE_POWER;(u&fe.BLOCK_SIZE_MASK)!==0&&w++;const v=fe.calculateBlackPoints(h,g,w,c,u),T=new be(c,u);fe.calculateThresholdForBlock(h,g,w,c,u,v,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new fe(a)}static calculateThresholdForBlock(a,c,u,h,g,w,v){const T=g-fe.BLOCK_SIZE,C=h-fe.BLOCK_SIZE;for(let D=0;D<u;D++){let H=D<<fe.BLOCK_SIZE_POWER;H>T&&(H=T);const Q=fe.cap(D,2,u-3);for(let se=0;se<c;se++){let ce=se<<fe.BLOCK_SIZE_POWER;ce>C&&(ce=C);const ue=fe.cap(se,2,c-3);let me=0;for(let Ve=-2;Ve<=2;Ve++){const Ue=w[Q+Ve];me+=Ue[ue-2]+Ue[ue-1]+Ue[ue]+Ue[ue+1]+Ue[ue+2]}const _e=me/25;fe.thresholdBlock(a,ce,H,_e,h,v)}}}static cap(a,c,u){return a<c?c:a>u?u:a}static thresholdBlock(a,c,u,h,g,w){for(let v=0,T=u*g+c;v<fe.BLOCK_SIZE;v++,T+=g)for(let C=0;C<fe.BLOCK_SIZE;C++)(a[T+C]&255)<=h&&w.set(c+C,u+v)}static calculateBlackPoints(a,c,u,h,g){const w=g-fe.BLOCK_SIZE,v=h-fe.BLOCK_SIZE,T=new Array(u);for(let C=0;C<u;C++){T[C]=new Int32Array(c);let D=C<<fe.BLOCK_SIZE_POWER;D>w&&(D=w);for(let H=0;H<c;H++){let Q=H<<fe.BLOCK_SIZE_POWER;Q>v&&(Q=v);let se=0,ce=255,ue=0;for(let _e=0,Ve=D*h+Q;_e<fe.BLOCK_SIZE;_e++,Ve+=h){for(let Ue=0;Ue<fe.BLOCK_SIZE;Ue++){const Be=a[Ve+Ue]&255;se+=Be,Be<ce&&(ce=Be),Be>ue&&(ue=Be)}if(ue-ce>fe.MIN_DYNAMIC_RANGE)for(_e++,Ve+=h;_e<fe.BLOCK_SIZE;_e++,Ve+=h)for(let Ue=0;Ue<fe.BLOCK_SIZE;Ue++)se+=a[Ve+Ue]&255}let me=se>>fe.BLOCK_SIZE_POWER*2;if(ue-ce<=fe.MIN_DYNAMIC_RANGE&&(me=ce/2,C>0&&H>0)){const _e=(T[C-1][H]+2*T[C][H-1]+T[C-1][H-1])/4;ce<_e&&(me=_e)}T[C][H]=me}}return T}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class we{constructor(a,c){this.width=a,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,c,u,h){throw new W("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new W("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new W("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let c=new q;for(let u=0;u<this.height;u++){const h=this.getRow(u,a);for(let g=0;g<this.width;g++){const w=h[g]&255;let v;w<64?v="#":w<128?v="+":w<192?v=".":v=" ",c.append(v)}c.append(`
`)}return c.toString()}}class Re extends we{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,c){const u=this.delegate.getRow(a,c),h=this.getWidth();for(let g=0;g<h;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const a=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(c);for(let h=0;h<c;h++)u[h]=255-(a[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(a,c,u,h){return new Re(this.delegate.crop(a,c,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Re(this.delegate.rotateCounterClockwise45())}}class ne extends we{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=ne.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const c=a.getContext("2d").getImageData(0,0,a.width,a.height);return ne.toGrayscaleBuffer(c.data,a.width,a.height)}static toGrayscaleBuffer(a,c,u){const h=new Uint8ClampedArray(c*u);for(let g=0,w=0,v=a.length;g<v;g+=4,w++){let T;if(a[g+3]===0)T=255;else{const D=a[g],H=a[g+1],Q=a[g+2];T=306*D+601*H+117*Q+512>>10}h[w]=T}return h}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const u=this.getWidth(),h=a*u;return c===null?c=this.buffer.slice(h,h+u):(c.length<u&&(c=new Uint8ClampedArray(u)),c.set(this.buffer.slice(h,h+u))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,c,u,h){return super.crop(a,c,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const c=this.getTempCanvasElement(),u=c.getContext("2d"),h=a*ne.DEGREE_TO_RADIANS,g=this.canvas.width,w=this.canvas.height,v=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*w),T=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*w);return c.width=v,c.height=T,u.translate(v/2,T/2),u.rotate(h),u.drawImage(this.canvas,g/-2,w/-2),this.buffer=ne.makeBufferFromCanvasImageData(c),this}invert(){return new Re(this)}}ne.DEGREE_TO_RADIANS=Math.PI/180;class ye{constructor(a,c,u){this.deviceId=a,this.label=c,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ne=(globalThis||Ch||self||window||void 0)&&(globalThis||Ch||self||window||void 0).__awaiter||function(j,a,c,u){function h(g){return g instanceof c?g:new c(function(w){w(g)})}return new(c||(c=Promise))(function(g,w){function v(D){try{C(u.next(D))}catch(H){w(H)}}function T(D){try{C(u.throw(D))}catch(H){w(H)}}function C(D){D.done?g(D.value):h(D.value).then(v,T)}C((u=u.apply(j,a||[])).next())})};class Oe{constructor(a,c=500,u){this.reader=a,this.timeBetweenScansMillis=c,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return Ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const u of a){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const g=u.deviceId||u.id,w=u.label||`Video device ${c.length+1}`,v=u.groupId,T={deviceId:g,label:w,kind:h,groupId:v};c.push(T)}return c})}getVideoInputDevices(){return Ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new ye(c.deviceId,c.label))})}findDeviceById(a){return Ne(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(u=>u.deviceId===a):null})}decodeFromInputVideoDevice(a,c){return Ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,c)})}decodeOnceFromVideoDevice(a,c){return Ne(this,void 0,void 0,function*(){this.reset();let u;a?u={deviceId:{exact:a}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,c)})}decodeOnceFromConstraints(a,c){return Ne(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(u,c)})}decodeOnceFromStream(a,c){return Ne(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(a,c);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(a,c,u){return Ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,c,u)})}decodeFromVideoDevice(a,c,u){return Ne(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,c,u)})}decodeFromConstraints(a,c,u){return Ne(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,c,u)})}decodeFromStream(a,c,u){return Ne(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,c);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,c){return Ne(this,void 0,void 0,function*(){const u=this.prepareVideoElement(c);return this.addVideoSource(u,a),this.videoElement=u,this.stream=a,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(a){return new Promise((c,u)=>this.playVideoOnLoad(a,()=>c()))}playVideoOnLoad(a,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",c),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return Ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,c){const u=document.getElementById(a);if(!u)throw new E(`element with id '${a}' not found`);if(u.nodeName.toLowerCase()!==c.toLowerCase())throw new E(`element with id '${a}' must be an ${c} element`);return u}decodeFromImage(a,c){if(!a&&!c)throw new E("either imageElement with a src set or an url must be provided");return c&&!a?this.decodeFromImageUrl(c):this.decodeFromImageElement(a)}decodeFromVideo(a,c){if(!a&&!c)throw new E("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,c,u){if(a===void 0&&c===void 0)throw new E("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrlContinuously(c,u):this.decodeFromVideoElementContinuously(a,u)}decodeFromImageElement(a){if(!a)throw new E("An image element must be provided.");this.reset();const c=this.prepareImageElement(a);this.imageElement=c;let u;return this.isImageLoaded(c)?u=this.decodeOnce(c,!1,!0):u=this._decodeOnLoadImage(c),u}decodeFromVideoElement(a){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(a,c){const u=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(u,c)}_decodeFromVideoElementSetup(a){if(!a)throw new E("A video element must be provided.");this.reset();const c=this.prepareVideoElement(a);return this.videoElement=c,c}decodeFromImageUrl(a){if(!a)throw new E("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const u=this._decodeOnLoadImage(c);return c.src=a,u}decodeFromVideoUrl(a){if(!a)throw new E("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),u=this.decodeFromVideoElement(c);return c.src=a,u}decodeFromVideoUrlContinuously(a,c){if(!a)throw new E("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,c);return u.src=a,h}_decodeOnLoadImage(a){return new Promise((c,u)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(c,u),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return Ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,c){return Ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,c)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let c;return typeof a>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(c=a),c}prepareVideoElement(a){let c;return!a&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(c=a),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(a,c=!0,u=!0){this._stopAsyncDecode=!1;const h=(g,w)=>{if(this._stopAsyncDecode){w(new le("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const v=this.decode(a);g(v)}catch(v){const T=c&&v instanceof le,D=(v instanceof R||v instanceof V)&&u;if(T||D)return setTimeout(h,this._timeBetweenDecodingAttempts,g,w);w(v)}};return new Promise((g,w)=>h(g,w))}decodeContinuously(a,c){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);c(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){c(null,h);const g=h instanceof R||h instanceof V,w=h instanceof le;(g||w)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(a){const c=this.createBinaryBitmap(a);return this.decodeBitmap(c)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,c,u){c||(c={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(a,c,u=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const c=this.getCaptureCanvas(a),u=new ne(c),h=new fe(u);return new I(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const c=this.createCaptureCanvas(a);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let u,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(u=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(u=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),c.style.width=u+"px",c.style.height=h+"px",c.width=u,c.height=h,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,c){try{a.srcObject=c}catch{a.src=URL.createObjectURL(c)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Ge{constructor(a,c,u=c==null?0:8*c.length,h,g,w=k.currentTimeMillis()){this.text=a,this.rawBytes=c,this.numBits=u,this.resultPoints=h,this.format=g,this.timestamp=w,this.text=a,this.rawBytes=c,u==null?this.numBits=c==null?0:8*c.length:this.numBits=u,this.resultPoints=h,this.format=g,this.resultMetadata=null,w==null?this.timestamp=k.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,c)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const c=this.resultPoints;if(c===null)this.resultPoints=a;else if(a!==null&&a.length>0){const u=new Array(c.length+a.length);k.arraycopy(c,0,u,0,c.length),k.arraycopy(a,0,u,c.length,a.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(j){j[j.AZTEC=0]="AZTEC",j[j.CODABAR=1]="CODABAR",j[j.CODE_39=2]="CODE_39",j[j.CODE_93=3]="CODE_93",j[j.CODE_128=4]="CODE_128",j[j.DATA_MATRIX=5]="DATA_MATRIX",j[j.EAN_8=6]="EAN_8",j[j.EAN_13=7]="EAN_13",j[j.ITF=8]="ITF",j[j.MAXICODE=9]="MAXICODE",j[j.PDF_417=10]="PDF_417",j[j.QR_CODE=11]="QR_CODE",j[j.RSS_14=12]="RSS_14",j[j.RSS_EXPANDED=13]="RSS_EXPANDED",j[j.UPC_A=14]="UPC_A",j[j.UPC_E=15]="UPC_E",j[j.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var Ce=it,We;(function(j){j[j.OTHER=0]="OTHER",j[j.ORIENTATION=1]="ORIENTATION",j[j.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",j[j.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",j[j.ISSUE_NUMBER=4]="ISSUE_NUMBER",j[j.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",j[j.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",j[j.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",j[j.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",j[j.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",j[j.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(We||(We={}));var He=We;class Ye{constructor(a,c,u,h,g=-1,w=-1){this.rawBytes=a,this.text=c,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=w,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class lt{exp(a){return this.expTable[a]}log(a){if(a===0)throw new A;return this.logTable[a]}static addOrSubtract(a,c){return a^c}}class et{constructor(a,c){if(c.length===0)throw new A;this.field=a;const u=c.length;if(u>1&&c[0]===0){let h=1;for(;h<u&&c[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),k.arraycopy(c,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const c=this.coefficients;let u;if(a===1){u=0;for(let w=0,v=c.length;w!==v;w++){const T=c[w];u=lt.addOrSubtract(u,T)}return u}u=c[0];const h=c.length,g=this.field;for(let w=1;w<h;w++)u=lt.addOrSubtract(g.multiply(a,u),c[w]);return u}addOrSubtract(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,u=a.coefficients;if(c.length>u.length){const w=c;c=u,u=w}let h=new Int32Array(u.length);const g=u.length-c.length;k.arraycopy(u,0,h,0,g);for(let w=g;w<u.length;w++)h[w]=lt.addOrSubtract(c[w-g],u[w]);return new et(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const c=this.coefficients,u=c.length,h=a.coefficients,g=h.length,w=new Int32Array(u+g-1),v=this.field;for(let T=0;T<u;T++){const C=c[T];for(let D=0;D<g;D++)w[T+D]=lt.addOrSubtract(w[T+D],v.multiply(C,h[D]))}return new et(v,w)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const c=this.coefficients.length,u=this.field,h=new Int32Array(c),g=this.coefficients;for(let w=0;w<c;w++)h[w]=u.multiply(g[w],a);return new et(u,h)}multiplyByMonomial(a,c){if(a<0)throw new A;if(c===0)return this.field.getZero();const u=this.coefficients,h=u.length,g=new Int32Array(h+a),w=this.field;for(let v=0;v<h;v++)g[v]=w.multiply(u[v],c);return new et(w,g)}divide(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new A("Divide by 0");const c=this.field;let u=c.getZero(),h=this;const g=a.getCoefficient(a.getDegree()),w=c.inverse(g);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const v=h.getDegree()-a.getDegree(),T=c.multiply(h.getCoefficient(h.getDegree()),w),C=a.multiplyByMonomial(v,T),D=c.buildMonomial(v,T);u=u.addOrSubtract(D),h=h.addOrSubtract(C)}return[u,h]}toString(){let a="";for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);if(u!==0){if(u<0?(a+=" - ",u=-u):a.length>0&&(a+=" + "),c===0||u!==1){const h=this.field.log(u);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}c!==0&&(c===1?a+="x":(a+="x^",a+=c))}}return a}}class xt extends x{}xt.kind="ArithmeticException";class nt extends lt{constructor(a,c,u){super(),this.primitive=a,this.size=c,this.generatorBase=u;const h=new Int32Array(c);let g=1;for(let v=0;v<c;v++)h[v]=g,g*=2,g>=c&&(g^=a,g&=c-1);this.expTable=h;const w=new Int32Array(c);for(let v=0;v<c-1;v++)w[h[v]]=v;this.logTable=w,this.zero=new et(this,Int32Array.from([0])),this.one=new et(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new A;if(c===0)return this.zero;const u=new Int32Array(a+1);return u[0]=c,new et(this,u)}inverse(a){if(a===0)throw new xt;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}nt.AZTEC_DATA_12=new nt(4201,4096,1),nt.AZTEC_DATA_10=new nt(1033,1024,1),nt.AZTEC_DATA_6=new nt(67,64,1),nt.AZTEC_PARAM=new nt(19,16,1),nt.QR_CODE_FIELD_256=new nt(285,256,0),nt.DATA_MATRIX_FIELD_256=new nt(301,256,1),nt.AZTEC_DATA_8=nt.DATA_MATRIX_FIELD_256,nt.MAXICODE_FIELD_64=nt.AZTEC_DATA_6;class on extends x{}on.kind="ReedSolomonException";class Lt extends x{}Lt.kind="IllegalStateException";class Jn{constructor(a){this.field=a}decode(a,c){const u=this.field,h=new et(u,a),g=new Int32Array(c);let w=!0;for(let se=0;se<c;se++){const ce=h.evaluateAt(u.exp(se+u.getGeneratorBase()));g[g.length-1-se]=ce,ce!==0&&(w=!1)}if(w)return;const v=new et(u,g),T=this.runEuclideanAlgorithm(u.buildMonomial(c,1),v,c),C=T[0],D=T[1],H=this.findErrorLocations(C),Q=this.findErrorMagnitudes(D,H);for(let se=0;se<H.length;se++){const ce=a.length-1-u.log(H[se]);if(ce<0)throw new on("Bad error location");a[ce]=nt.addOrSubtract(a[ce],Q[se])}}runEuclideanAlgorithm(a,c,u){if(a.getDegree()<c.getDegree()){const se=a;a=c,c=se}const h=this.field;let g=a,w=c,v=h.getZero(),T=h.getOne();for(;w.getDegree()>=(u/2|0);){let se=g,ce=v;if(g=w,v=T,g.isZero())throw new on("r_{i-1} was zero");w=se;let ue=h.getZero();const me=g.getCoefficient(g.getDegree()),_e=h.inverse(me);for(;w.getDegree()>=g.getDegree()&&!w.isZero();){const Ve=w.getDegree()-g.getDegree(),Ue=h.multiply(w.getCoefficient(w.getDegree()),_e);ue=ue.addOrSubtract(h.buildMonomial(Ve,Ue)),w=w.addOrSubtract(g.multiplyByMonomial(Ve,Ue))}if(T=ue.multiply(v).addOrSubtract(ce),w.getDegree()>=g.getDegree())throw new Lt("Division algorithm failed to reduce polynomial?")}const C=T.getCoefficient(0);if(C===0)throw new on("sigmaTilde(0) was zero");const D=h.inverse(C),H=T.multiplyScalar(D),Q=w.multiplyScalar(D);return[H,Q]}findErrorLocations(a){const c=a.getDegree();if(c===1)return Int32Array.from([a.getCoefficient(1)]);const u=new Int32Array(c);let h=0;const g=this.field;for(let w=1;w<g.getSize()&&h<c;w++)a.evaluateAt(w)===0&&(u[h]=g.inverse(w),h++);if(h!==c)throw new on("Error locator degree does not match number of roots");return u}findErrorMagnitudes(a,c){const u=c.length,h=new Int32Array(u),g=this.field;for(let w=0;w<u;w++){const v=g.inverse(c[w]);let T=1;for(let C=0;C<u;C++)if(w!==C){const D=g.multiply(c[C],v),H=(D&1)===0?D|1:D&-2;T=g.multiply(T,H)}h[w]=g.multiply(a.evaluateAt(v),g.inverse(T)),g.getGeneratorBase()!==0&&(h[w]=g.multiply(h[w],v))}return h}}var wt;(function(j){j[j.UPPER=0]="UPPER",j[j.LOWER=1]="LOWER",j[j.MIXED=2]="MIXED",j[j.DIGIT=3]="DIGIT",j[j.PUNCT=4]="PUNCT",j[j.BINARY=5]="BINARY"})(wt||(wt={}));class Pt{decode(a){this.ddata=a;let c=a.getBits(),u=this.extractBits(c),h=this.correctBits(u),g=Pt.convertBoolArrayToByteArray(h),w=Pt.getEncodedData(h),v=new Ye(g,w,null,null);return v.setNumBits(h.length),v}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let c=a.length,u=wt.UPPER,h=wt.UPPER,g="",w=0;for(;w<c;)if(h===wt.BINARY){if(c-w<5)break;let v=Pt.readCode(a,w,5);if(w+=5,v===0){if(c-w<11)break;v=Pt.readCode(a,w,11)+31,w+=11}for(let T=0;T<v;T++){if(c-w<8){w=c;break}const C=Pt.readCode(a,w,8);g+=Y.castAsNonUtf8Char(C),w+=8}h=u}else{let v=h===wt.DIGIT?4:5;if(c-w<v)break;let T=Pt.readCode(a,w,v);w+=v;let C=Pt.getCharacter(h,T);C.startsWith("CTRL_")?(u=h,h=Pt.getTable(C.charAt(5)),C.charAt(6)==="L"&&(u=h)):(g+=C,h=u)}return g}static getTable(a){switch(a){case"L":return wt.LOWER;case"P":return wt.PUNCT;case"M":return wt.MIXED;case"D":return wt.DIGIT;case"B":return wt.BINARY;case"U":default:return wt.UPPER}}static getCharacter(a,c){switch(a){case wt.UPPER:return Pt.UPPER_TABLE[c];case wt.LOWER:return Pt.LOWER_TABLE[c];case wt.MIXED:return Pt.MIXED_TABLE[c];case wt.PUNCT:return Pt.PUNCT_TABLE[c];case wt.DIGIT:return Pt.DIGIT_TABLE[c];default:throw new Lt("Bad table")}}correctBits(a){let c,u;this.ddata.getNbLayers()<=2?(u=6,c=nt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,c=nt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,c=nt.AZTEC_DATA_10):(u=12,c=nt.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=a.length/u;if(g<h)throw new V;let w=a.length%u,v=new Int32Array(g);for(let Q=0;Q<g;Q++,w+=u)v[Q]=Pt.readCode(a,w,u);try{new Jn(c).decode(v,g-h)}catch(Q){throw new V(Q)}let T=(1<<u)-1,C=0;for(let Q=0;Q<h;Q++){let se=v[Q];if(se===0||se===T)throw new V;(se===1||se===T-1)&&C++}let D=new Array(h*u-C),H=0;for(let Q=0;Q<h;Q++){let se=v[Q];if(se===1||se===T-1)D.fill(se>1,H,H+u-1),H+=u-1;else for(let ce=u-1;ce>=0;--ce)D[H++]=(se&1<<ce)!==0}return D}extractBits(a){let c=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(c?11:14)+u*4,g=new Int32Array(h),w=new Array(this.totalBitsInLayer(u,c));if(c)for(let v=0;v<g.length;v++)g[v]=v;else{let v=h+1+2*L.truncDivision(L.truncDivision(h,2)-1,15),T=h/2,C=L.truncDivision(v,2);for(let D=0;D<T;D++){let H=D+L.truncDivision(D,15);g[T-D-1]=C-H-1,g[T+D]=C+H+1}}for(let v=0,T=0;v<u;v++){let C=(u-v)*4+(c?9:12),D=v*2,H=h-1-D;for(let Q=0;Q<C;Q++){let se=Q*2;for(let ce=0;ce<2;ce++)w[T+se+ce]=a.get(g[D+ce],g[D+Q]),w[T+2*C+se+ce]=a.get(g[D+Q],g[H-ce]),w[T+4*C+se+ce]=a.get(g[H-ce],g[H-Q]),w[T+6*C+se+ce]=a.get(g[H-Q],g[D+ce])}T+=C*8}return w}static readCode(a,c,u){let h=0;for(let g=c;g<c+u;g++)h<<=1,a[g]&&(h|=1);return h}static readByte(a,c){let u=a.length-c;return u>=8?Pt.readCode(a,c,8):Pt.readCode(a,c,u)<<8-u}static convertBoolArrayToByteArray(a){let c=new Uint8Array((a.length+7)/8);for(let u=0;u<c.length;u++)c[u]=Pt.readByte(a,8*u);return c}totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}Pt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Pt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Pt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Pt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Pt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _t{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,c,u,h){const g=a-u,w=c-h;return Math.sqrt(g*g+w*w)}static sum(a){let c=0;for(let u=0,h=a.length;u!==h;u++){const g=a[u];c+=g}return c}}class Mr{static floatToIntBits(a){return a}}Mr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class qe{constructor(a,c){this.x=a,this.y=c}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof qe){const c=a;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Mr.floatToIntBits(this.x)+Mr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const c=this.distance(a[0],a[1]),u=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let g,w,v;if(u>=c&&u>=h?(w=a[0],g=a[1],v=a[2]):h>=u&&h>=c?(w=a[1],g=a[0],v=a[2]):(w=a[2],g=a[0],v=a[1]),this.crossProductZ(g,w,v)<0){const T=g;g=v,v=T}a[0]=g,a[1]=w,a[2]=v}static distance(a,c){return _t.distance(a.x,a.y,c.x,c.y)}static crossProductZ(a,c,u){const h=c.x,g=c.y;return(u.x-h)*(a.y-g)-(u.y-g)*(a.x-h)}}class Ts{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class ua extends Ts{constructor(a,c,u,h,g){super(a,c),this.compact=u,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class fi{constructor(a,c,u,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),c==null&&(c=fi.INIT_SIZE),u==null&&(u=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const g=c/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new le}detect(){let a=this.leftInit,c=this.rightInit,u=this.upInit,h=this.downInit,g=!1,w=!0,v=!1,T=!1,C=!1,D=!1,H=!1;const Q=this.width,se=this.height;for(;w;){w=!1;let ce=!0;for(;(ce||!T)&&c<Q;)ce=this.containsBlackPoint(u,h,c,!1),ce?(c++,w=!0,T=!0):T||c++;if(c>=Q){g=!0;break}let ue=!0;for(;(ue||!C)&&h<se;)ue=this.containsBlackPoint(a,c,h,!0),ue?(h++,w=!0,C=!0):C||h++;if(h>=se){g=!0;break}let me=!0;for(;(me||!D)&&a>=0;)me=this.containsBlackPoint(u,h,a,!1),me?(a--,w=!0,D=!0):D||a--;if(a<0){g=!0;break}let _e=!0;for(;(_e||!H)&&u>=0;)_e=this.containsBlackPoint(a,c,u,!0),_e?(u--,w=!0,H=!0):H||u--;if(u<0){g=!0;break}w&&(v=!0)}if(!g&&v){const ce=c-a;let ue=null;for(let Ue=1;ue===null&&Ue<ce;Ue++)ue=this.getBlackPointOnSegment(a,h-Ue,a+Ue,h);if(ue==null)throw new le;let me=null;for(let Ue=1;me===null&&Ue<ce;Ue++)me=this.getBlackPointOnSegment(a,u+Ue,a+Ue,u);if(me==null)throw new le;let _e=null;for(let Ue=1;_e===null&&Ue<ce;Ue++)_e=this.getBlackPointOnSegment(c,u+Ue,c-Ue,u);if(_e==null)throw new le;let Ve=null;for(let Ue=1;Ve===null&&Ue<ce;Ue++)Ve=this.getBlackPointOnSegment(c,h-Ue,c-Ue,h);if(Ve==null)throw new le;return this.centerEdges(Ve,ue,_e,me)}else throw new le}getBlackPointOnSegment(a,c,u,h){const g=_t.round(_t.distance(a,c,u,h)),w=(u-a)/g,v=(h-c)/g,T=this.image;for(let C=0;C<g;C++){const D=_t.round(a+C*w),H=_t.round(c+C*v);if(T.get(D,H))return new qe(D,H)}return null}centerEdges(a,c,u,h){const g=a.getX(),w=a.getY(),v=c.getX(),T=c.getY(),C=u.getX(),D=u.getY(),H=h.getX(),Q=h.getY(),se=fi.CORR;return g<this.width/2?[new qe(H-se,Q+se),new qe(v+se,T+se),new qe(C-se,D-se),new qe(g+se,w-se)]:[new qe(H+se,Q+se),new qe(v+se,T-se),new qe(C-se,D+se),new qe(g-se,w-se)]}containsBlackPoint(a,c,u,h){const g=this.image;if(h){for(let w=a;w<=c;w++)if(g.get(w,u))return!0}else for(let w=a;w<=c;w++)if(g.get(u,w))return!0;return!1}}fi.INIT_SIZE=10,fi.CORR=1;class eo{static checkAndNudgePoints(a,c){const u=a.getWidth(),h=a.getHeight();let g=!0;for(let w=0;w<c.length&&g;w+=2){const v=Math.floor(c[w]),T=Math.floor(c[w+1]);if(v<-1||v>u||T<-1||T>h)throw new le;g=!1,v===-1?(c[w]=0,g=!0):v===u&&(c[w]=u-1,g=!0),T===-1?(c[w+1]=0,g=!0):T===h&&(c[w+1]=h-1,g=!0)}g=!0;for(let w=c.length-2;w>=0&&g;w-=2){const v=Math.floor(c[w]),T=Math.floor(c[w+1]);if(v<-1||v>u||T<-1||T>h)throw new le;g=!1,v===-1?(c[w]=0,g=!0):v===u&&(c[w]=u-1,g=!0),T===-1?(c[w+1]=0,g=!0):T===h&&(c[w+1]=h-1,g=!0)}}}class Kt{constructor(a,c,u,h,g,w,v,T,C){this.a11=a,this.a21=c,this.a31=u,this.a12=h,this.a22=g,this.a32=w,this.a13=v,this.a23=T,this.a33=C}static quadrilateralToQuadrilateral(a,c,u,h,g,w,v,T,C,D,H,Q,se,ce,ue,me){const _e=Kt.quadrilateralToSquare(a,c,u,h,g,w,v,T);return Kt.squareToQuadrilateral(C,D,H,Q,se,ce,ue,me).times(_e)}transformPoints(a){const c=a.length,u=this.a11,h=this.a12,g=this.a13,w=this.a21,v=this.a22,T=this.a23,C=this.a31,D=this.a32,H=this.a33;for(let Q=0;Q<c;Q+=2){const se=a[Q],ce=a[Q+1],ue=g*se+T*ce+H;a[Q]=(u*se+w*ce+C)/ue,a[Q+1]=(h*se+v*ce+D)/ue}}transformPointsWithValues(a,c){const u=this.a11,h=this.a12,g=this.a13,w=this.a21,v=this.a22,T=this.a23,C=this.a31,D=this.a32,H=this.a33,Q=a.length;for(let se=0;se<Q;se++){const ce=a[se],ue=c[se],me=g*ce+T*ue+H;a[se]=(u*ce+w*ue+C)/me,c[se]=(h*ce+v*ue+D)/me}}static squareToQuadrilateral(a,c,u,h,g,w,v,T){const C=a-u+g-v,D=c-h+w-T;if(C===0&&D===0)return new Kt(u-a,g-u,a,h-c,w-h,c,0,0,1);{const H=u-g,Q=v-g,se=h-w,ce=T-w,ue=H*ce-Q*se,me=(C*ce-Q*D)/ue,_e=(H*D-C*se)/ue;return new Kt(u-a+me*u,v-a+_e*v,a,h-c+me*h,T-c+_e*T,c,me,_e,1)}}static quadrilateralToSquare(a,c,u,h,g,w,v,T){return Kt.squareToQuadrilateral(a,c,u,h,g,w,v,T).buildAdjoint()}buildAdjoint(){return new Kt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Kt(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class en extends eo{sampleGrid(a,c,u,h,g,w,v,T,C,D,H,Q,se,ce,ue,me,_e,Ve,Ue){const Be=Kt.quadrilateralToQuadrilateral(h,g,w,v,T,C,D,H,Q,se,ce,ue,me,_e,Ve,Ue);return this.sampleGridWithTransform(a,c,u,Be)}sampleGridWithTransform(a,c,u,h){if(c<=0||u<=0)throw new le;const g=new be(c,u),w=new Float32Array(2*c);for(let v=0;v<u;v++){const T=w.length,C=v+.5;for(let D=0;D<T;D+=2)w[D]=D/2+.5,w[D+1]=C;h.transformPoints(w),eo.checkAndNudgePoints(a,w);try{for(let D=0;D<T;D+=2)a.get(Math.floor(w[D]),Math.floor(w[D+1]))&&g.set(D/2,v)}catch{throw new le}}return g}}class er{static setGridSampler(a){er.gridSampler=a}static getInstance(){return er.gridSampler}}er.gridSampler=new en;class tn{constructor(a,c){this.x=a,this.y=c}toResultPoint(){return new qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class hl{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let c=this.getMatrixCenter(),u=this.getBullsEyeCorners(c);if(a){let w=u[0];u[0]=u[2],u[2]=w}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new ua(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new le;let c=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(a[0],a[1],c),this.sampleLine(a[1],a[2],c),this.sampleLine(a[2],a[3],c),this.sampleLine(a[3],a[0],c)]);this.shift=this.getRotation(u,c);let h=0;for(let w=0;w<4;w++){let v=u[(this.shift+w)%4];this.compact?(h<<=7,h+=v>>1&127):(h<<=10,h+=(v>>2&992)+(v>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(a,c){let u=0;a.forEach((h,g,w)=>{let v=(h>>c-2<<1)+(h&1);u=(u<<3)+v}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(L.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new le}getCorrectedParameterData(a,c){let u,h;c?(u=7,h=2):(u=10,h=4);let g=u-h,w=new Int32Array(u);for(let T=u-1;T>=0;--T)w[T]=a&15,a>>=4;try{new Jn(nt.AZTEC_PARAM).decode(w,g)}catch{throw new le}let v=0;for(let T=0;T<h;T++)v=(v<<4)+w[T];return v}getBullsEyeCorners(a){let c=a,u=a,h=a,g=a,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let H=this.getFirstDifferent(c,w,1,-1),Q=this.getFirstDifferent(u,w,1,1),se=this.getFirstDifferent(h,w,-1,1),ce=this.getFirstDifferent(g,w,-1,-1);if(this.nbCenterLayers>2){let ue=this.distancePoint(ce,H)*this.nbCenterLayers/(this.distancePoint(g,c)*(this.nbCenterLayers+2));if(ue<.75||ue>1.25||!this.isWhiteOrBlackRectangle(H,Q,se,ce))break}c=H,u=Q,h=se,g=ce,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new le;this.compact=this.nbCenterLayers===5;let v=new qe(c.getX()+.5,c.getY()-.5),T=new qe(u.getX()+.5,u.getY()+.5),C=new qe(h.getX()-.5,h.getY()+.5),D=new qe(g.getX()-.5,g.getY()-.5);return this.expandSquare([v,T,C,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,c,u,h;try{let v=new fi(this.image).detect();a=v[0],c=v[1],u=v[2],h=v[3]}catch{let T=this.image.getWidth()/2,C=this.image.getHeight()/2;a=this.getFirstDifferent(new tn(T+7,C-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new tn(T+7,C+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new tn(T-7,C+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new tn(T-7,C-7),!1,-1,-1).toResultPoint()}let g=_t.round((a.getX()+h.getX()+c.getX()+u.getX())/4),w=_t.round((a.getY()+h.getY()+c.getY()+u.getY())/4);try{let v=new fi(this.image,15,g,w).detect();a=v[0],c=v[1],u=v[2],h=v[3]}catch{a=this.getFirstDifferent(new tn(g+7,w-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new tn(g+7,w+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new tn(g-7,w+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new tn(g-7,w-7),!1,-1,-1).toResultPoint()}return g=_t.round((a.getX()+h.getX()+c.getX()+u.getX())/4),w=_t.round((a.getY()+h.getY()+c.getY()+u.getY())/4),new tn(g,w)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,c,u,h,g){let w=er.getInstance(),v=this.getDimension(),T=v/2-this.nbCenterLayers,C=v/2+this.nbCenterLayers;return w.sampleGrid(a,v,v,T,T,C,T,C,C,T,C,c.getX(),c.getY(),u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(a,c,u){let h=0,g=this.distanceResultPoint(a,c),w=g/u,v=a.getX(),T=a.getY(),C=w*(c.getX()-a.getX())/g,D=w*(c.getY()-a.getY())/g;for(let H=0;H<u;H++)this.image.get(_t.round(v+H*C),_t.round(T+H*D))&&(h|=1<<u-H-1);return h}isWhiteOrBlackRectangle(a,c,u,h){let g=3;a=new tn(a.getX()-g,a.getY()+g),c=new tn(c.getX()-g,c.getY()-g),u=new tn(u.getX()+g,u.getY()-g),h=new tn(h.getX()+g,h.getY()+g);let w=this.getColor(h,a);if(w===0)return!1;let v=this.getColor(a,c);return v!==w||(v=this.getColor(c,u),v!==w)?!1:(v=this.getColor(u,h),v===w)}getColor(a,c){let u=this.distancePoint(a,c),h=(c.getX()-a.getX())/u,g=(c.getY()-a.getY())/u,w=0,v=a.getX(),T=a.getY(),C=this.image.get(a.getX(),a.getY()),D=Math.ceil(u);for(let Q=0;Q<D;Q++)v+=h,T+=g,this.image.get(_t.round(v),_t.round(T))!==C&&w++;let H=w/u;return H>.1&&H<.9?0:H<=.1===C?1:-1}getFirstDifferent(a,c,u,h){let g=a.getX()+u,w=a.getY()+h;for(;this.isValid(g,w)&&this.image.get(g,w)===c;)g+=u,w+=h;for(g-=u,w-=h;this.isValid(g,w)&&this.image.get(g,w)===c;)g+=u;for(g-=u;this.isValid(g,w)&&this.image.get(g,w)===c;)w+=h;return w-=h,new tn(g,w)}expandSquare(a,c,u){let h=u/(2*c),g=a[0].getX()-a[2].getX(),w=a[0].getY()-a[2].getY(),v=(a[0].getX()+a[2].getX())/2,T=(a[0].getY()+a[2].getY())/2,C=new qe(v+h*g,T+h*w),D=new qe(v-h*g,T-h*w);g=a[1].getX()-a[3].getX(),w=a[1].getY()-a[3].getY(),v=(a[1].getX()+a[3].getX())/2,T=(a[1].getY()+a[3].getY())/2;let H=new qe(v+h*g,T+h*w),Q=new qe(v-h*g,T-h*w);return[C,H,D,Q]}isValid(a,c){return a>=0&&a<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(a){let c=_t.round(a.getX()),u=_t.round(a.getY());return this.isValid(c,u)}distancePoint(a,c){return _t.distance(a.getX(),a.getY(),c.getX(),c.getY())}distanceResultPoint(a,c){return _t.distance(a.getX(),a.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class to{decode(a,c=null){let u=null,h=new hl(a.getBlackMatrix()),g=null,w=null;try{let D=h.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(c,g),w=new Pt().decode(D)}catch(D){u=D}if(w==null)try{let D=h.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(c,g),w=new Pt().decode(D)}catch(D){throw u??D}let v=new Ge(w.getText(),w.getRawBytes(),w.getNumBits(),g,Ce.AZTEC,k.currentTimeMillis()),T=w.getByteSegments();T!=null&&v.putMetadata(He.BYTE_SEGMENTS,T);let C=w.getECLevel();return C!=null&&v.putMetadata(He.ERROR_CORRECTION_LEVEL,C),v}reportFoundResultPoints(a,c){if(a!=null){let u=a.get(ie.NEED_RESULT_POINT_CALLBACK);u!=null&&c.forEach((h,g,w)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class da extends Oe{constructor(a=500){super(new to,a)}}class wn{decode(a,c){try{return this.doDecode(a,c)}catch{if(c&&c.get(ie.TRY_HARDER)===!0&&a.isRotateSupported()){const g=a.rotateCounterClockwise(),w=this.doDecode(g,c),v=w.getResultMetadata();let T=270;v!==null&&v.get(He.ORIENTATION)===!0&&(T=T+v.get(He.ORIENTATION)%360),w.putMetadata(He.ORIENTATION,T);const C=w.getResultPoints();if(C!==null){const D=g.getHeight();for(let H=0;H<C.length;H++)C[H]=new qe(D-C[H].getY()-1,C[H].getX())}return w}else throw new le}}reset(){}doDecode(a,c){const u=a.getWidth(),h=a.getHeight();let g=new $(u);const w=c&&c.get(ie.TRY_HARDER)===!0,v=Math.max(1,h>>(w?8:5));let T;w?T=h:T=15;const C=Math.trunc(h/2);for(let D=0;D<T;D++){const H=Math.trunc((D+1)/2),Q=(D&1)===0,se=C+v*(Q?H:-H);if(se<0||se>=h)break;try{g=a.getBlackRow(se,g)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(g.reverse(),c&&c.get(ie.NEED_RESULT_POINT_CALLBACK)===!0)){const ue=new Map;c.forEach((me,_e)=>ue.set(_e,me)),ue.delete(ie.NEED_RESULT_POINT_CALLBACK),c=ue}try{const ue=this.decodeRow(se,g,c);if(ce===1){ue.putMetadata(He.ORIENTATION,180);const me=ue.getResultPoints();me!==null&&(me[0]=new qe(u-me[0].getX()-1,me[0].getY()),me[1]=new qe(u-me[1].getX()-1,me[1].getY()))}return ue}catch{}}}throw new le}static recordPattern(a,c,u){const h=u.length;for(let C=0;C<h;C++)u[C]=0;const g=a.getSize();if(c>=g)throw new le;let w=!a.get(c),v=0,T=c;for(;T<g;){if(a.get(T)!==w)u[v]++;else{if(++v===h)break;u[v]=1,w=!w}T++}if(!(v===h||v===h-1&&T===g))throw new le}static recordPatternInReverse(a,c,u){let h=u.length,g=a.get(c);for(;c>0&&h>=0;)a.get(--c)!==g&&(h--,g=!g);if(h>=0)throw new le;wn.recordPattern(a,c+1,u)}static patternMatchVariance(a,c,u){const h=a.length;let g=0,w=0;for(let C=0;C<h;C++)g+=a[C],w+=c[C];if(g<w)return Number.POSITIVE_INFINITY;const v=g/w;u*=v;let T=0;for(let C=0;C<h;C++){const D=a[C],H=c[C]*v,Q=D>H?D-H:H-D;if(Q>u)return Number.POSITIVE_INFINITY;T+=Q}return T/g}}class Fe extends wn{static findStartPattern(a){const c=a.getSize(),u=a.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),w=u,v=!1;const T=6;for(let C=u;C<c;C++)if(a.get(C)!==v)g[h]++;else{if(h===T-1){let D=Fe.MAX_AVG_VARIANCE,H=-1;for(let Q=Fe.CODE_START_A;Q<=Fe.CODE_START_C;Q++){const se=wn.patternMatchVariance(g,Fe.CODE_PATTERNS[Q],Fe.MAX_INDIVIDUAL_VARIANCE);se<D&&(D=se,H=Q)}if(H>=0&&a.isRange(Math.max(0,w-(C-w)/2),w,!1))return Int32Array.from([w,C,H]);w+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,v=!v}throw new le}static decodeCode(a,c,u){wn.recordPattern(a,u,c);let h=Fe.MAX_AVG_VARIANCE,g=-1;for(let w=0;w<Fe.CODE_PATTERNS.length;w++){const v=Fe.CODE_PATTERNS[w],T=this.patternMatchVariance(c,v,Fe.MAX_INDIVIDUAL_VARIANCE);T<h&&(h=T,g=w)}if(g>=0)return g;throw new le}decodeRow(a,c,u){const h=u&&u.get(ie.ASSUME_GS1)===!0,g=Fe.findStartPattern(c),w=g[2];let v=0;const T=new Uint8Array(20);T[v++]=w;let C;switch(w){case Fe.CODE_START_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_START_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_START_C:C=Fe.CODE_CODE_C;break;default:throw new V}let D=!1,H=!1,Q="",se=g[0],ce=g[1];const ue=Int32Array.from([0,0,0,0,0,0]);let me=0,_e=0,Ve=w,Ue=0,Be=!0,Tt=!1,bt=!1;for(;!D;){const Ys=H;switch(H=!1,me=_e,_e=Fe.decodeCode(c,ue,ce),T[v++]=_e,_e!==Fe.CODE_STOP&&(Be=!0),_e!==Fe.CODE_STOP&&(Ue++,Ve+=Ue*_e),se=ce,ce+=ue.reduce((Hi,Cf)=>Hi+Cf,0),_e){case Fe.CODE_START_A:case Fe.CODE_START_B:case Fe.CODE_START_C:throw new V}switch(C){case Fe.CODE_CODE_A:if(_e<64)bt===Tt?Q+=String.fromCharCode(32+_e):Q+=String.fromCharCode(32+_e+128),bt=!1;else if(_e<96)bt===Tt?Q+=String.fromCharCode(_e-64):Q+=String.fromCharCode(_e+64),bt=!1;else switch(_e!==Fe.CODE_STOP&&(Be=!1),_e){case Fe.CODE_FNC_1:h&&(Q.length===0?Q+="]C1":Q+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_A:!Tt&&bt?(Tt=!0,bt=!1):Tt&&bt?(Tt=!1,bt=!1):bt=!0;break;case Fe.CODE_SHIFT:H=!0,C=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_CODE_C:C=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:D=!0;break}break;case Fe.CODE_CODE_B:if(_e<96)bt===Tt?Q+=String.fromCharCode(32+_e):Q+=String.fromCharCode(32+_e+128),bt=!1;else switch(_e!==Fe.CODE_STOP&&(Be=!1),_e){case Fe.CODE_FNC_1:h&&(Q.length===0?Q+="]C1":Q+="");break;case Fe.CODE_FNC_2:case Fe.CODE_FNC_3:break;case Fe.CODE_FNC_4_B:!Tt&&bt?(Tt=!0,bt=!1):Tt&&bt?(Tt=!1,bt=!1):bt=!0;break;case Fe.CODE_SHIFT:H=!0,C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_C:C=Fe.CODE_CODE_C;break;case Fe.CODE_STOP:D=!0;break}break;case Fe.CODE_CODE_C:if(_e<100)_e<10&&(Q+="0"),Q+=_e;else switch(_e!==Fe.CODE_STOP&&(Be=!1),_e){case Fe.CODE_FNC_1:h&&(Q.length===0?Q+="]C1":Q+="");break;case Fe.CODE_CODE_A:C=Fe.CODE_CODE_A;break;case Fe.CODE_CODE_B:C=Fe.CODE_CODE_B;break;case Fe.CODE_STOP:D=!0;break}break}Ys&&(C=C===Fe.CODE_CODE_A?Fe.CODE_CODE_B:Fe.CODE_CODE_A)}const Yr=ce-se;if(ce=c.getNextUnset(ce),!c.isRange(ce,Math.min(c.getSize(),ce+(ce-se)/2),!1))throw new le;if(Ve-=Ue*me,Ve%103!==me)throw new R;const Ci=Q.length;if(Ci===0)throw new le;Ci>0&&Be&&(C===Fe.CODE_CODE_C?Q=Q.substring(0,Ci-2):Q=Q.substring(0,Ci-1));const ii=(g[1]+g[0])/2,pn=se+Yr/2,Tr=T.length,si=new Uint8Array(Tr);for(let Ys=0;Ys<Tr;Ys++)si[Ys]=T[Ys];const wa=[new qe(ii,a),new qe(pn,a)];return new Ge(Q,si,0,wa,Ce.CODE_128,new Date().getTime())}}Fe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Fe.MAX_AVG_VARIANCE=.25,Fe.MAX_INDIVIDUAL_VARIANCE=.7,Fe.CODE_SHIFT=98,Fe.CODE_CODE_C=99,Fe.CODE_CODE_B=100,Fe.CODE_CODE_A=101,Fe.CODE_FNC_1=102,Fe.CODE_FNC_2=97,Fe.CODE_FNC_3=96,Fe.CODE_FNC_4_A=101,Fe.CODE_FNC_4_B=100,Fe.CODE_START_A=103,Fe.CODE_START_B=104,Fe.CODE_START_C=105,Fe.CODE_STOP=106;class ln extends wn{constructor(a=!1,c=!1){super(),this.usingCheckDigit=a,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,c,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=ln.findAsteriskPattern(c,h),w=c.getNextSet(g[1]),v=c.getSize(),T,C;do{ln.recordPattern(c,w,h);let ue=ln.toNarrowWidePattern(h);if(ue<0)throw new le;T=ln.patternToChar(ue),this.decodeRowResult+=T,C=w;for(let me of h)w+=me;w=c.getNextSet(w)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let ue of h)D+=ue;let H=w-C-D;if(w!==v&&H*2<D)throw new le;if(this.usingCheckDigit){let ue=this.decodeRowResult.length-1,me=0;for(let _e=0;_e<ue;_e++)me+=ln.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_e));if(this.decodeRowResult.charAt(ue)!==ln.ALPHABET_STRING.charAt(me%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,ue)}if(this.decodeRowResult.length===0)throw new le;let Q;this.extendedMode?Q=ln.decodeExtended(this.decodeRowResult):Q=this.decodeRowResult;let se=(g[1]+g[0])/2,ce=C+D/2;return new Ge(Q,null,0,[new qe(se,a),new qe(ce,a)],Ce.CODE_39,new Date().getTime())}static findAsteriskPattern(a,c){let u=a.getSize(),h=a.getNextSet(0),g=0,w=h,v=!1,T=c.length;for(let C=h;C<u;C++)if(a.get(C)!==v)c[g]++;else{if(g===T-1){if(this.toNarrowWidePattern(c)===ln.ASTERISK_ENCODING&&a.isRange(Math.max(0,w-Math.floor((C-w)/2)),w,!1))return[w,C];w+=c[0]+c[1],c.copyWithin(0,2,2+g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,v=!v}throw new le}static toNarrowWidePattern(a){let c=a.length,u=0,h;do{let g=2147483647;for(let T of a)T<g&&T>u&&(g=T);u=g,h=0;let w=0,v=0;for(let T=0;T<c;T++){let C=a[T];C>u&&(v|=1<<c-1-T,h++,w+=C)}if(h===3){for(let T=0;T<c&&h>0;T++){let C=a[T];if(C>u&&(h--,C*2>=w))return-1}return v}}while(h>3);return-1}static patternToChar(a){for(let c=0;c<ln.CHARACTER_ENCODINGS.length;c++)if(ln.CHARACTER_ENCODINGS[c]===a)return ln.ALPHABET_STRING.charAt(c);if(a===ln.ASTERISK_ENCODING)return"*";throw new le}static decodeExtended(a){let c=a.length,u="";for(let h=0;h<c;h++){let g=a.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let w=a.charAt(h+1),v="\0";switch(g){case"+":if(w>="A"&&w<="Z")v=String.fromCharCode(w.charCodeAt(0)+32);else throw new V;break;case"$":if(w>="A"&&w<="Z")v=String.fromCharCode(w.charCodeAt(0)-64);else throw new V;break;case"%":if(w>="A"&&w<="E")v=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")v=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")v=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")v=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")v="\0";else if(w==="V")v="@";else if(w==="W")v="`";else if(w==="X"||w==="Y"||w==="Z")v="";else throw new V;break;case"/":if(w>="A"&&w<="O")v=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")v=":";else throw new V;break}u+=v,h++}else u+=g}return u}}ln.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ln.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ln.ASTERISK_ENCODING=148;class Qt extends wn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,c,u){let h=this.decodeStart(c),g=this.decodeEnd(c),w=new q;Qt.decodeMiddle(c,h[1],g[0],w);let v=w.toString(),T=null;u!=null&&(T=u.get(ie.ALLOWED_LENGTHS)),T==null&&(T=Qt.DEFAULT_ALLOWED_LENGTHS);let C=v.length,D=!1,H=0;for(let ce of T){if(C===ce){D=!0;break}ce>H&&(H=ce)}if(!D&&C>H&&(D=!0),!D)throw new V;const Q=[new qe(h[1],a),new qe(g[0],a)];return new Ge(v,null,0,Q,Ce.ITF,new Date().getTime())}static decodeMiddle(a,c,u,h){let g=new Int32Array(10),w=new Int32Array(5),v=new Int32Array(5);for(g.fill(0),w.fill(0),v.fill(0);c<u;){wn.recordPattern(a,c,g);for(let C=0;C<5;C++){let D=2*C;w[C]=g[D],v[C]=g[D+1]}let T=Qt.decodeDigit(w);h.append(T.toString()),T=this.decodeDigit(v),h.append(T.toString()),g.forEach(function(C){c+=C})}}decodeStart(a){let c=Qt.skipWhiteSpace(a),u=Qt.findGuardPattern(a,c,Qt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(a,u[0]),u}validateQuietZone(a,c){let u=this.narrowLineWidth*10;u=u<c?u:c;for(let h=c-1;u>0&&h>=0&&!a.get(h);h--)u--;if(u!==0)throw new le}static skipWhiteSpace(a){const c=a.getSize(),u=a.getNextSet(0);if(u===c)throw new le;return u}decodeEnd(a){a.reverse();try{let c=Qt.skipWhiteSpace(a),u;try{u=Qt.findGuardPattern(a,c,Qt.END_PATTERN_REVERSED[0])}catch(g){g instanceof le&&(u=Qt.findGuardPattern(a,c,Qt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,u[0]);let h=u[0];return u[0]=a.getSize()-u[1],u[1]=a.getSize()-h,u}finally{a.reverse()}}static findGuardPattern(a,c,u){let h=u.length,g=new Int32Array(h),w=a.getSize(),v=!1,T=0,C=c;g.fill(0);for(let D=c;D<w;D++)if(a.get(D)!==v)g[T]++;else{if(T===h-1){if(wn.patternMatchVariance(g,u,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return[C,D];C+=g[0]+g[1],k.arraycopy(g,2,g,0,T-1),g[T-1]=0,g[T]=0,T--}else T++;g[T]=1,v=!v}throw new le}static decodeDigit(a){let c=Qt.MAX_AVG_VARIANCE,u=-1,h=Qt.PATTERNS.length;for(let g=0;g<h;g++){let w=Qt.PATTERNS[g],v=wn.patternMatchVariance(a,w,Qt.MAX_INDIVIDUAL_VARIANCE);v<c?(c=v,u=g):v===c&&(u=-1)}if(u>=0)return u%10;throw new le}}Qt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Qt.MAX_AVG_VARIANCE=.38,Qt.MAX_INDIVIDUAL_VARIANCE=.5,Qt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Qt.START_PATTERN=Int32Array.from([1,1,1,1]),Qt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class un extends wn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let c=!1,u,h=0,g=Int32Array.from([0,0,0]);for(;!c;){g=Int32Array.from([0,0,0]),u=un.findGuardPattern(a,h,!1,this.START_END_PATTERN,g);let w=u[0];h=u[1];let v=w-(h-w);v>=0&&(c=a.isRange(v,w,!1))}return u}static checkChecksum(a){return un.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let u=parseInt(a.charAt(c-1),10);return un.getStandardUPCEANChecksum(a.substring(0,c-1))===u}static getStandardUPCEANChecksum(a){let c=a.length,u=0;for(let h=c-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}u*=3;for(let h=c-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}return(1e3-u)%10}static decodeEnd(a,c){return un.findGuardPattern(a,c,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,c,u,h){return this.findGuardPattern(a,c,u,h,new Int32Array(h.length))}static findGuardPattern(a,c,u,h,g){let w=a.getSize();c=u?a.getNextUnset(c):a.getNextSet(c);let v=0,T=c,C=h.length,D=u;for(let H=c;H<w;H++)if(a.get(H)!==D)g[v]++;else{if(v===C-1){if(wn.patternMatchVariance(g,h,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return Int32Array.from([T,H]);T+=g[0]+g[1];let Q=g.slice(2,g.length-1);for(let se=0;se<v-1;se++)g[se]=Q[se];g[v-1]=0,g[v]=0,v--}else v++;g[v]=1,D=!D}throw new le}static decodeDigit(a,c,u,h){this.recordPattern(a,u,c);let g=this.MAX_AVG_VARIANCE,w=-1,v=h.length;for(let T=0;T<v;T++){let C=h[T],D=wn.patternMatchVariance(c,C,un.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,w=T)}if(w>=0)return w;throw new le}}un.MAX_AVG_VARIANCE=.48,un.MAX_INDIVIDUAL_VARIANCE=.7,un.START_END_PATTERN=Int32Array.from([1,1,1]),un.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),un.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class As{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(c,u,h),w=h.toString(),v=As.parseExtensionString(w),T=[new qe((u[0]+u[1])/2,a),new qe(g,a)],C=new Ge(w,null,0,T,Ce.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&C.putAllMetadata(v),C}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),w=c[1],v=0;for(let C=0;C<5&&w<g;C++){let D=un.decodeDigit(a,h,w,un.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let H of h)w+=H;D>=10&&(v|=1<<4-C),C!==4&&(w=a.getNextSet(w),w=a.getNextUnset(w))}if(u.length!==5)throw new le;let T=this.determineCheckDigit(v);if(As.extensionChecksum(u.toString())!==T)throw new le;return w}static extensionChecksum(a){let c=a.length,u=0;for(let h=c-2;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;u*=3;for(let h=c-1;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(a){for(let c=0;c<10;c++)if(a===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new le}static parseExtensionString(a){if(a.length!==5)return null;let c=As.parseExtension5String(a);return c==null?null:new Map([[He.SUGGESTED_PRICE,c]])}static parseExtension5String(a){let c;switch(a.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let u=parseInt(a.substring(1)),h=(u/100).toString(),g=u%100,w=g<10?"0"+g:g.toString();return c+h+"."+w}}class fa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(c,u,h),w=h.toString(),v=fa.parseExtensionString(w),T=[new qe((u[0]+u[1])/2,a),new qe(g,a)],C=new Ge(w,null,0,T,Ce.UPC_EAN_EXTENSION,new Date().getTime());return v!=null&&C.putAllMetadata(v),C}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),w=c[1],v=0;for(let T=0;T<2&&w<g;T++){let C=un.decodeDigit(a,h,w,un.L_AND_G_PATTERNS);u+=String.fromCharCode(48+C%10);for(let D of h)w+=D;C>=10&&(v|=1<<1-T),T!==1&&(w=a.getNextSet(w),w=a.getNextUnset(w))}if(u.length!==2)throw new le;if(parseInt(u.toString())%4!==v)throw new le;return w}static parseExtensionString(a){return a.length!==2?null:new Map([[He.ISSUE_NUMBER,parseInt(a)]])}}class no{static decodeRow(a,c,u){let h=un.findGuardPattern(c,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new As().decodeRow(a,c,h)}catch{return new fa().decodeRow(a,c,h)}}}no.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ct extends un{constructor(){super(),this.decodeRowStringBuffer="",Ct.L_AND_G_PATTERNS=Ct.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let c=Ct.L_PATTERNS[a-10],u=new Int32Array(c.length);for(let h=0;h<c.length;h++)u[h]=c[c.length-h-1];Ct.L_AND_G_PATTERNS[a]=u}}decodeRow(a,c,u){let h=Ct.findStartGuardPattern(c),g=u==null?null:u.get(ie.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Be=new qe((h[0]+h[1])/2,a);g.foundPossibleResultPoint(Be)}let w=this.decodeMiddle(c,h,this.decodeRowStringBuffer),v=w.rowOffset,T=w.resultString;if(g!=null){const Be=new qe(v,a);g.foundPossibleResultPoint(Be)}let C=this.decodeEnd(c,v);if(g!=null){const Be=new qe((C[0]+C[1])/2,a);g.foundPossibleResultPoint(Be)}let D=C[1],H=D+(D-C[0]);if(H>=c.getSize()||!c.isRange(D,H,!1))throw new le;let Q=T.toString();if(Q.length<8)throw new V;if(!Ct.checkChecksum(Q))throw new R;let se=(h[1]+h[0])/2,ce=(C[1]+C[0])/2,ue=this.getBarcodeFormat(),me=[new qe(se,a),new qe(ce,a)],_e=new Ge(Q,null,0,me,ue,new Date().getTime()),Ve=0;try{let Be=no.decodeRow(a,c,C[1]);_e.putMetadata(He.UPC_EAN_EXTENSION,Be.getText()),_e.putAllMetadata(Be.getResultMetadata()),_e.addResultPoints(Be.getResultPoints()),Ve=Be.getText().length}catch{}let Ue=u==null?null:u.get(ie.ALLOWED_EAN_EXTENSIONS);if(Ue!=null){let Be=!1;for(let Tt in Ue)if(Ve.toString()===Tt){Be=!0;break}if(!Be)throw new le}return _e}decodeEnd(a,c){return Ct.findGuardPattern(a,c,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return Ct.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let u=parseInt(a.charAt(c-1),10);return Ct.getStandardUPCEANChecksum(a.substring(0,c-1))===u}static getStandardUPCEANChecksum(a){let c=a.length,u=0;for(let h=c-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}u*=3;for(let h=c-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}return(1e3-u)%10}}class zr extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),w=c[1],v=0;for(let C=0;C<6&&w<g;C++){let D=Ct.decodeDigit(a,h,w,Ct.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let H of h)w+=H;D>=10&&(v|=1<<5-C)}u=zr.determineFirstDigit(u,v),w=Ct.findGuardPattern(a,w,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&w<g;C++){let D=Ct.decodeDigit(a,h,w,Ct.L_PATTERNS);u+=String.fromCharCode(48+D);for(let H of h)w+=H}return{rowOffset:w,resultString:u}}getBarcodeFormat(){return Ce.EAN_13}static determineFirstDigit(a,c){for(let u=0;u<10;u++)if(c===this.FIRST_DIGIT_ENCODINGS[u])return a=String.fromCharCode(48+u)+a,a;throw new le}}zr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ro extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),w=c[1];for(let T=0;T<4&&w<g;T++){let C=Ct.decodeDigit(a,h,w,Ct.L_PATTERNS);u+=String.fromCharCode(48+C);for(let D of h)w+=D}w=Ct.findGuardPattern(a,w,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&w<g;T++){let C=Ct.decodeDigit(a,h,w,Ct.L_PATTERNS);u+=String.fromCharCode(48+C);for(let D of h)w+=D}return{rowOffset:w,resultString:u}}getBarcodeFormat(){return Ce.EAN_8}}class Li extends Ct{constructor(){super(...arguments),this.ean13Reader=new zr}getBarcodeFormat(){return Ce.UPC_A}decode(a,c){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,c,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,c,u))}decodeMiddle(a,c,u){return this.ean13Reader.decodeMiddle(a,c,u)}maybeReturnResult(a){let c=a.getText();if(c.charAt(0)==="0"){let u=new Ge(c.substring(1),null,null,a.getResultPoints(),Ce.UPC_A);return a.getResultMetadata()!=null&&u.putAllMetadata(a.getResultMetadata()),u}else throw new le}reset(){this.ean13Reader.reset()}}class jr extends Ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,c,u){const h=this.decodeMiddleCounters.map(C=>C);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=a.getSize();let w=c[1],v=0;for(let C=0;C<6&&w<g;C++){const D=jr.decodeDigit(a,h,w,jr.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let H of h)w+=H;D>=10&&(v|=1<<5-C)}let T=jr.determineNumSysAndCheckDigit(u,v);return{rowOffset:w,resultString:T}}decodeEnd(a,c){return jr.findGuardPatternWithoutCounters(a,c,!0,jr.MIDDLE_END_PATTERN)}checkChecksum(a){return Ct.checkChecksum(jr.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,c){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let g=String.fromCharCode(48+u),w=String.fromCharCode(48+h);return g+a+w}throw le.getNotFoundInstance()}getBarcodeFormat(){return Ce.UPC_E}static convertUPCEtoUPCA(a){const c=a.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new q;u.append(a.charAt(0));let h=c[5];switch(h){case 0:case 1:case 2:u.appendChars(c,0,2),u.append(h),u.append("0000"),u.appendChars(c,2,3);break;case 3:u.appendChars(c,0,3),u.append("00000"),u.appendChars(c,3,2);break;case 4:u.appendChars(c,0,4),u.append("00000"),u.append(c[4]);break;default:u.appendChars(c,0,5),u.append("0000"),u.append(h);break}return a.length>=8&&u.append(a.charAt(7)),u.toString()}}jr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),jr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class is extends wn{constructor(a){super();let c=a==null?null:a.get(ie.POSSIBLE_FORMATS),u=[];r(c)?(u.push(new zr),u.push(new Li),u.push(new ro),u.push(new jr)):(c.indexOf(Ce.EAN_13)>-1&&u.push(new zr),c.indexOf(Ce.UPC_A)>-1&&u.push(new Li),c.indexOf(Ce.EAN_8)>-1&&u.push(new ro),c.indexOf(Ce.UPC_E)>-1&&u.push(new jr)),this.readers=u}decodeRow(a,c,u){for(let h of this.readers)try{const g=h.decodeRow(a,c,u),w=g.getBarcodeFormat()===Ce.EAN_13&&g.getText().charAt(0)==="0",v=u==null?null:u.get(ie.POSSIBLE_FORMATS),T=v==null||v.includes(Ce.UPC_A);if(w&&T){const C=g.getRawBytes(),D=new Ge(g.getText().substring(1),C,C?C.length:null,g.getResultPoints(),Ce.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new le}reset(){for(let a of this.readers)a.reset()}}class Qn extends wn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,c){for(let u=0;u<c.length;u++)if(wn.patternMatchVariance(a,c[u],Qn.MAX_INDIVIDUAL_VARIANCE)<Qn.MAX_AVG_VARIANCE)return u;throw new le}static count(a){return _t.sum(new Int32Array(a))}static increment(a,c){let u=0,h=c[0];for(let g=1;g<a.length;g++)c[g]>h&&(h=c[g],u=g);a[u]++}static decrement(a,c){let u=0,h=c[0];for(let g=1;g<a.length;g++)c[g]<h&&(h=c[g],u=g);a[u]--}static isFinderPattern(a){let c=a[0]+a[1],u=c+a[2]+a[3],h=c/u;if(h>=Qn.MIN_FINDER_PATTERN_RATIO&&h<=Qn.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let v of a)v>w&&(w=v),v<g&&(g=v);return w<10*g}return!1}}Qn.MAX_AVG_VARIANCE=.2,Qn.MAX_INDIVIDUAL_VARIANCE=.45,Qn.MIN_FINDER_PATTERN_RATIO=9.5/12,Qn.MAX_FINDER_PATTERN_RATIO=12.5/14;class hi{constructor(a,c){this.value=a,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof hi))return!1;const c=a;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ha{constructor(a,c,u,h,g){this.value=a,this.startEnd=c,this.value=a,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new qe(u,g)),this.resultPoints.push(new qe(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof ha))return!1;const c=a;return this.value===c.value}hashCode(){return this.value}}class Xt{constructor(){}static getRSSvalue(a,c,u){let h=0;for(let T of a)h+=T;let g=0,w=0,v=a.length;for(let T=0;T<v-1;T++){let C;for(C=1,w|=1<<T;C<a[T];C++,w&=~(1<<T)){let D=Xt.combins(h-C-1,v-T-2);if(u&&w===0&&h-C-(v-T-1)>=v-T-1&&(D-=Xt.combins(h-C-(v-T),v-T-2)),v-T-1>1){let H=0;for(let Q=h-C-(v-T-2);Q>c;Q--)H+=Xt.combins(h-C-Q-1,v-T-3);D-=H*(v-1-T)}else h-C>c&&D--;g+=D}h-=C}return g}static combins(a,c){let u,h;a-c>c?(h=c,u=a-c):(h=a-c,u=c);let g=1,w=1;for(let v=a;v>u;v--)g*=v,w<=h&&(g/=w,w++);for(;w<=h;)g/=w,w++;return g}}class lr{static buildBitArray(a){let c=a.length*2-1;a[a.length-1].getRightChar()==null&&(c-=1);let u=12*c,h=new $(u),g=0,v=a[0].getRightChar().getValue();for(let T=11;T>=0;--T)(v&1<<T)!=0&&h.set(g),g++;for(let T=1;T<a.length;++T){let C=a[T],D=C.getLeftChar().getValue();for(let H=11;H>=0;--H)(D&1<<H)!=0&&h.set(g),g++;if(C.getRightChar()!=null){let H=C.getRightChar().getValue();for(let Q=11;Q>=0;--Q)(H&1<<Q)!=0&&h.set(g),g++}}return h}}class vn{constructor(a,c){c?this.decodedInformation=null:(this.finished=a,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Jr{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class pr extends Jr{constructor(a,c){super(a),this.value=c}getValue(){return this.value}isFNC1(){return this.value===pr.FNC1}}pr.FNC1="$";class Ss extends Jr{constructor(a,c,u){super(a),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class cr extends Jr{constructor(a,c,u){if(super(a),c<0||c>10||u<0||u>10)throw new V;this.firstDigit=c,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===cr.FNC1}isSecondDigitFNC1(){return this.secondDigit===cr.FNC1}isAnyFNC1(){return this.firstDigit===cr.FNC1||this.secondDigit===cr.FNC1}}cr.FNC1=10;class Xe{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new le;let c=a.substring(0,2);for(let g of Xe.TWO_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(2,g[2],a):Xe.processFixedAI(2,g[1],a);if(a.length<3)throw new le;let u=a.substring(0,3);for(let g of Xe.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(3,g[2],a):Xe.processFixedAI(3,g[1],a);for(let g of Xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(4,g[2],a):Xe.processFixedAI(4,g[1],a);if(a.length<4)throw new le;let h=a.substring(0,4);for(let g of Xe.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===Xe.VARIABLE_LENGTH?Xe.processVariableAI(4,g[2],a):Xe.processFixedAI(4,g[1],a);throw new le}static processFixedAI(a,c,u){if(u.length<a)throw new le;let h=u.substring(0,a);if(u.length<a+c)throw new le;let g=u.substring(a,a+c),w=u.substring(a+c),v="("+h+")"+g,T=Xe.parseFieldsInGeneralPurpose(w);return T==null?v:v+T}static processVariableAI(a,c,u){let h=u.substring(0,a),g;u.length<a+c?g=u.length:g=a+c;let w=u.substring(a,g),v=u.substring(g),T="("+h+")"+w,C=Xe.parseFieldsInGeneralPurpose(v);return C==null?T:T+C}}Xe.VARIABLE_LENGTH=[],Xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Xe.VARIABLE_LENGTH,20],["22",Xe.VARIABLE_LENGTH,29],["30",Xe.VARIABLE_LENGTH,8],["37",Xe.VARIABLE_LENGTH,8],["90",Xe.VARIABLE_LENGTH,30],["91",Xe.VARIABLE_LENGTH,30],["92",Xe.VARIABLE_LENGTH,30],["93",Xe.VARIABLE_LENGTH,30],["94",Xe.VARIABLE_LENGTH,30],["95",Xe.VARIABLE_LENGTH,30],["96",Xe.VARIABLE_LENGTH,30],["97",Xe.VARIABLE_LENGTH,3],["98",Xe.VARIABLE_LENGTH,30],["99",Xe.VARIABLE_LENGTH,30]],Xe.THREE_DIGIT_DATA_LENGTH=[["240",Xe.VARIABLE_LENGTH,30],["241",Xe.VARIABLE_LENGTH,30],["242",Xe.VARIABLE_LENGTH,6],["250",Xe.VARIABLE_LENGTH,30],["251",Xe.VARIABLE_LENGTH,30],["253",Xe.VARIABLE_LENGTH,17],["254",Xe.VARIABLE_LENGTH,20],["400",Xe.VARIABLE_LENGTH,30],["401",Xe.VARIABLE_LENGTH,30],["402",17],["403",Xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Xe.VARIABLE_LENGTH,20],["421",Xe.VARIABLE_LENGTH,15],["422",3],["423",Xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Xe.VARIABLE_LENGTH,15],["391",Xe.VARIABLE_LENGTH,18],["392",Xe.VARIABLE_LENGTH,15],["393",Xe.VARIABLE_LENGTH,18],["703",Xe.VARIABLE_LENGTH,30]],Xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Xe.VARIABLE_LENGTH,20],["8003",Xe.VARIABLE_LENGTH,30],["8004",Xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Xe.VARIABLE_LENGTH,30],["8008",Xe.VARIABLE_LENGTH,12],["8018",18],["8020",Xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Xe.VARIABLE_LENGTH,70],["8200",Xe.VARIABLE_LENGTH,70]];class vi{constructor(a){this.buffer=new q,this.information=a}decodeAllCodes(a,c){let u=c,h=null;do{let g=this.decodeGeneralPurposeField(u,h),w=Xe.parseFieldsInGeneralPurpose(g.getNewString());if(w!=null&&a.append(w),g.isRemaining()?h=""+g.getRemainingValue():h=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let c=a;c<a+3;++c)if(this.information.get(c))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(a,4);return g===0?new cr(this.information.getSize(),cr.FNC1,cr.FNC1):new cr(this.information.getSize(),g-1,cr.FNC1)}let c=this.extractNumericValueFromBitArray(a,7),u=(c-8)/11,h=(c-8)%11;return new cr(a+7,u,h)}extractNumericValueFromBitArray(a,c){return vi.extractNumericValueFromBitArray(this.information,a,c)}static extractNumericValueFromBitArray(a,c,u){let h=0;for(let g=0;g<u;++g)a.get(c+g)&&(h|=1<<u-g-1);return h}decodeGeneralPurposeField(a,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(a);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Ss(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Ss(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,c;do{let u=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),a=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),a=c.isFinished()):(c=this.parseNumericBlock(),a=c.isFinished()),!(u!==this.current.getPosition())&&!a)break}while(!a);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let c;return a.isSecondDigitFNC1()?c=new Ss(this.current.getPosition(),this.buffer.toString()):c=new Ss(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new vn(!0,c)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let c=new Ss(this.current.getPosition(),this.buffer.toString());return new vn(!0,c)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Ss(this.current.getPosition(),this.buffer.toString());return new vn(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Ss(this.current.getPosition(),this.buffer.toString());return new vn(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vn(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new pr(a+5,pr.FNC1);if(c>=5&&c<15)return new pr(a+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<90)return new pr(a+7,""+(u+1));if(u>=90&&u<116)return new pr(a+7,""+(u+7));let h=this.extractNumericValueFromBitArray(a,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new V}return new pr(a+8,g)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,6);return u>=16&&u<63}decodeAlphanumeric(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new pr(a+5,pr.FNC1);if(c>=5&&c<15)return new pr(a+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(a,6);if(u>=32&&u<58)return new pr(a+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Lt("Decoding invalid alphanumeric value: "+u)}return new pr(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<5&&c+a<this.information.getSize();++c)if(c===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+c))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let c=a;c<a+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<4&&c+a<this.information.getSize();++c)if(this.information.get(a+c))return!1;return!0}}class ss{constructor(a){this.information=a,this.generalDecoder=new vi(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class zn extends ss{constructor(a){super(a)}encodeCompressedGtin(a,c){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,c,u)}encodeCompressedGtinWithoutAI(a,c,u){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*h,10);g/100===0&&a.append("0"),g/10===0&&a.append("0"),a.append(g)}zn.appendCheckDigit(a,u)}static appendCheckDigit(a,c){let u=0;for(let h=0;h<13;h++){let g=a.charAt(h+c).charCodeAt(0)-48;u+=(h&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),a.append(u)}}zn.GTIN_SIZE=40;class Hr extends zn{constructor(a){super(a)}parseInformation(){let a=new q;a.append("(01)");let c=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Hr.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,Hr.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(a,Hr.HEADER_SIZE+44)}}Hr.HEADER_SIZE=4;class gi extends ss{constructor(a){super(a)}parseInformation(){let a=new q;return this.getGeneralDecoder().decodeAllCodes(a,gi.HEADER_SIZE)}}gi.HEADER_SIZE=5;class mr extends zn{constructor(a){super(a)}encodeCompressedWeight(a,c,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(c,u);this.addWeightCode(a,h);let g=this.checkWeight(h),w=1e5;for(let v=0;v<5;++v)g/w===0&&a.append("0"),w/=10;a.append(g)}}class nn extends mr{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=nn.HEADER_SIZE+mr.GTIN_SIZE+nn.WEIGHT_SIZE)throw new le;let a=new q;return this.encodeCompressedGtin(a,nn.HEADER_SIZE),this.encodeCompressedWeight(a,nn.HEADER_SIZE+mr.GTIN_SIZE,nn.WEIGHT_SIZE),a.toString()}}nn.HEADER_SIZE=5,nn.WEIGHT_SIZE=15;class gl extends nn{constructor(a){super(a)}addWeightCode(a,c){a.append("(3103)")}checkWeight(a){return a}}class io extends nn{constructor(a){super(a)}addWeightCode(a,c){c<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class tr extends zn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<tr.HEADER_SIZE+zn.GTIN_SIZE)throw new le;let a=new q;this.encodeCompressedGtin(a,tr.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(tr.HEADER_SIZE+zn.GTIN_SIZE,tr.LAST_DIGIT_SIZE);a.append("(392"),a.append(c),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(tr.HEADER_SIZE+zn.GTIN_SIZE+tr.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}tr.HEADER_SIZE=8,tr.LAST_DIGIT_SIZE=2;class Dn extends zn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Dn.HEADER_SIZE+zn.GTIN_SIZE)throw new le;let a=new q;this.encodeCompressedGtin(a,Dn.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+zn.GTIN_SIZE,Dn.LAST_DIGIT_SIZE);a.append("(393"),a.append(c),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+zn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE,Dn.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(Dn.HEADER_SIZE+zn.GTIN_SIZE+Dn.LAST_DIGIT_SIZE+Dn.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}Dn.HEADER_SIZE=8,Dn.LAST_DIGIT_SIZE=2,Dn.FIRST_THREE_DIGITS_SIZE=10;class gn extends mr{constructor(a,c,u){super(a),this.dateCode=u,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=gn.HEADER_SIZE+gn.GTIN_SIZE+gn.WEIGHT_SIZE+gn.DATE_SIZE)throw new le;let a=new q;return this.encodeCompressedGtin(a,gn.HEADER_SIZE),this.encodeCompressedWeight(a,gn.HEADER_SIZE+gn.GTIN_SIZE,gn.WEIGHT_SIZE),this.encodeCompressedDate(a,gn.HEADER_SIZE+gn.GTIN_SIZE+gn.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(c,gn.DATE_SIZE);if(u==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=u%32;u/=32;let g=u%12+1;u/=12;let w=u;w/10==0&&a.append("0"),a.append(w),g/10==0&&a.append("0"),a.append(g),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,c){a.append("("),a.append(this.firstAIdigits),a.append(c/1e5),a.append(")")}checkWeight(a){return a%1e5}}gn.HEADER_SIZE=8,gn.WEIGHT_SIZE=20,gn.DATE_SIZE=16;function pl(j){try{if(j.get(1))return new Hr(j);if(!j.get(2))return new gi(j);switch(vi.extractNumericValueFromBitArray(j,1,4)){case 4:return new gl(j);case 5:return new io(j)}switch(vi.extractNumericValueFromBitArray(j,1,5)){case 12:return new tr(j);case 13:return new Dn(j)}switch(vi.extractNumericValueFromBitArray(j,1,7)){case 56:return new gn(j,"310","11");case 57:return new gn(j,"320","11");case 58:return new gn(j,"310","13");case 59:return new gn(j,"320","13");case 60:return new gn(j,"310","15");case 61:return new gn(j,"320","15");case 62:return new gn(j,"310","17");case 63:return new gn(j,"320","17")}}catch(a){throw console.log(a),new Lt("unknown decoder: "+j)}}class ei{constructor(a,c,u,h){this.leftchar=a,this.rightchar=c,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,c){return a instanceof ei?ei.equalsOrNull(a.leftchar,c.leftchar)&&ei.equalsOrNull(a.rightchar,c.rightchar)&&ei.equalsOrNull(a.finderpattern,c.finderpattern):!1}static equalsOrNull(a,c){return a===null?c===null:ei.equals(a,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class so{constructor(a,c,u){this.pairs=a,this.rowNumber=c,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,c){return a instanceof so?this.checkEqualitity(a,c)&&a.wasReversed===c.wasReversed:!1}checkEqualitity(a,c){if(!a||!c)return;let u;return a.forEach((h,g)=>{c.forEach(w=>{h.getLeftChar().getValue()===w.getLeftChar().getValue()&&h.getRightChar().getValue()===w.getRightChar().getValue()&&h.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(u=!0)})}),u}}class De extends Qn{constructor(a){super(...arguments),this.pairs=new Array(De.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,c,u){this.pairs.length=0,this.startFromEven=!1;try{return De.constructResult(this.decodeRow2pairs(a,c))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,De.constructResult(this.decodeRow2pairs(a,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,c){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,a))}catch(g){if(g instanceof le){if(!this.pairs.length)throw new le;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new le}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return a&&(this.rows=this.rows.reverse()),c}checkRows(a,c){for(let u=c;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let w of a)this.pairs.push(w.getPairs());if(this.pairs.push(h.getPairs()),!De.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(a);g.push(h);try{return this.checkRows(g,u+1)}catch(w){this.verbose&&console.log(w)}}throw new le}static isValidSequence(a){for(let c of De.FINDER_PATTERN_SEQUENCES){if(a.length>c.length)continue;let u=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=c[h]){u=!1;break}if(u)return!0}return!1}storeRow(a,c){let u=0,h=!1,g=!1;for(;u<this.rows.length;){let w=this.rows[u];if(w.getRowNumber()>a){g=w.isEquivalent(this.pairs);break}h=w.isEquivalent(this.pairs),u++}g||h||De.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new so(this.pairs,a,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,c){for(let u of c)if(u.getPairs().length!==a.length){for(let h of u.getPairs())for(let g of a)if(ei.equals(h,g))break}}static isPartialRow(a,c){for(let u of c){let h=!0;for(let g of a){let w=!1;for(let v of u.getPairs())if(g.equals(v)){w=!0;break}if(!w){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let c=lr.buildBitArray(a),h=pl(c).parseInformation(),g=a[0].getFinderPattern().getResultPoints(),w=a[a.length-1].getFinderPattern().getResultPoints(),v=[g[0],g[1],w[0],w[1]];return new Ge(h,null,null,v,Ce.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),c=a.getLeftChar(),u=a.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),g=2;for(let v=1;v<this.pairs.size();++v){let T=this.pairs.get(v);h+=T.getLeftChar().getChecksumPortion(),g++;let C=T.getRightChar();C!=null&&(h+=C.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==c.getValue()}static getNextSecondBar(a,c){let u;return a.get(c)?(u=a.getNextUnset(c),u=a.getNextSet(u)):(u=a.getNextSet(c),u=a.getNextUnset(u)),u}retrieveNextPair(a,c,u){let h=c.length%2==0;this.startFromEven&&(h=!h);let g,w=!0,v=-1;do this.findNextPair(a,c,v),g=this.parseFoundFinderPattern(a,u,h),g==null?v=De.getNextSecondBar(a,this.startEnd[0]):w=!1;while(w);let T=this.decodeDataCharacter(a,g,h,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new le;let C;try{C=this.decodeDataCharacter(a,g,h,!1)}catch(D){C=null,this.verbose&&console.log(D)}return new ei(T,C,g,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,c,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),w;u>=0?w=u:this.isEmptyPair(c)?w=0:w=c[c.length-1].getFinderPattern().getStartEnd()[1];let v=c.length%2!=0;this.startFromEven&&(v=!v);let T=!1;for(;w<g&&(T=!a.get(w),!!T);)w++;let C=0,D=w;for(let H=w;H<g;H++)if(a.get(H)!=T)h[C]++;else{if(C==3){if(v&&De.reverseCounters(h),De.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=H;return}v&&De.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,C--}else C++;h[C]=1,T=!T}throw new le}static reverseCounters(a){let c=a.length;for(let u=0;u<c/2;++u){let h=a[u];a[u]=a[c-u-1],a[c-u-1]=h}}parseFoundFinderPattern(a,c,u){let h,g,w;if(u){let C=this.startEnd[0]-1;for(;C>=0&&!a.get(C);)C--;C++,h=this.startEnd[0]-C,g=C,w=this.startEnd[1]}else g=this.startEnd[0],w=a.getNextUnset(this.startEnd[1]+1),h=w-this.startEnd[1];let v=this.getDecodeFinderCounters();k.arraycopy(v,0,v,1,v.length-1),v[0]=h;let T;try{T=this.parseFinderValue(v,De.FINDER_PATTERNS)}catch{return null}return new ha(T,[g,w],g,w,c)}decodeDataCharacter(a,c,u,h){let g=this.getDataCharacterCounters();for(let pn=0;pn<g.length;pn++)g[pn]=0;if(h)De.recordPatternInReverse(a,c.getStartEnd()[0],g);else{De.recordPattern(a,c.getStartEnd()[1],g);for(let pn=0,Tr=g.length-1;pn<Tr;pn++,Tr--){let si=g[pn];g[pn]=g[Tr],g[Tr]=si}}let w=17,v=_t.sum(new Int32Array(g))/w,T=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(v-T)/T>.3)throw new le;let C=this.getOddCounts(),D=this.getEvenCounts(),H=this.getOddRoundingErrors(),Q=this.getEvenRoundingErrors();for(let pn=0;pn<g.length;pn++){let Tr=1*g[pn]/v,si=Tr+.5;if(si<1){if(Tr<.3)throw new le;si=1}else if(si>8){if(Tr>8.7)throw new le;si=8}let wa=pn/2;(pn&1)==0?(C[wa]=si,H[wa]=Tr-si):(D[wa]=si,Q[wa]=Tr-si)}this.adjustOddEvenCounts(w);let se=4*c.getValue()+(u?0:2)+(h?0:1)-1,ce=0,ue=0;for(let pn=C.length-1;pn>=0;pn--){if(De.isNotA1left(c,u,h)){let Tr=De.WEIGHTS[se][2*pn];ue+=C[pn]*Tr}ce+=C[pn]}let me=0;for(let pn=D.length-1;pn>=0;pn--)if(De.isNotA1left(c,u,h)){let Tr=De.WEIGHTS[se][2*pn+1];me+=D[pn]*Tr}let _e=ue+me;if((ce&1)!=0||ce>13||ce<4)throw new le;let Ve=(13-ce)/2,Ue=De.SYMBOL_WIDEST[Ve],Be=9-Ue,Tt=Xt.getRSSvalue(C,Ue,!0),bt=Xt.getRSSvalue(D,Be,!1),Yr=De.EVEN_TOTAL_SUBSET[Ve],Ci=De.GSUM[Ve],ii=Tt*Yr+bt+Ci;return new hi(ii,_e)}static isNotA1left(a,c,u){return!(a.getValue()==0&&c&&u)}adjustOddEvenCounts(a){let c=_t.sum(new Int32Array(this.getOddCounts())),u=_t.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;c>13?g=!0:c<4&&(h=!0);let w=!1,v=!1;u>13?v=!0:u<4&&(w=!0);let T=c+u-a,C=(c&1)==1,D=(u&1)==0;if(T==1)if(C){if(D)throw new le;g=!0}else{if(!D)throw new le;v=!0}else if(T==-1)if(C){if(D)throw new le;h=!0}else{if(!D)throw new le;w=!0}else if(T==0){if(C){if(!D)throw new le;c<u?(h=!0,v=!0):(g=!0,w=!0)}else if(D)throw new le}else throw new le;if(h){if(g)throw new le;De.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&De.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(v)throw new le;De.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&De.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}De.SYMBOL_WIDEST=[7,5,4,3,1],De.EVEN_TOTAL_SUBSET=[4,20,52,104,204],De.GSUM=[0,348,1388,2948,3988],De.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],De.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],De.FINDER_PAT_A=0,De.FINDER_PAT_B=1,De.FINDER_PAT_C=2,De.FINDER_PAT_D=3,De.FINDER_PAT_E=4,De.FINDER_PAT_F=5,De.FINDER_PATTERN_SEQUENCES=[[De.FINDER_PAT_A,De.FINDER_PAT_A],[De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B],[De.FINDER_PAT_A,De.FINDER_PAT_C,De.FINDER_PAT_B,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_C],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F]],De.MAX_PAIRS=11;class as extends hi{constructor(a,c,u){super(a,c),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Nt extends Qn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,c,u){const h=this.decodePair(c,!1,a,u);Nt.addOrTally(this.possibleLeftPairs,h),c.reverse();let g=this.decodePair(c,!0,a,u);Nt.addOrTally(this.possibleRightPairs,g),c.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let v of this.possibleRightPairs)if(v.getCount()>1&&Nt.checkChecksum(w,v))return Nt.constructResult(w,v)}throw new le}static addOrTally(a,c){if(c==null)return;let u=!1;for(let h of a)if(h.getValue()===c.getValue()){h.incrementCount(),u=!0;break}u||a.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,c){let u=4537077*a.getValue()+c.getValue(),h=new String(u).toString(),g=new q;for(let C=13-h.length;C>0;C--)g.append("0");g.append(h);let w=0;for(let C=0;C<13;C++){let D=g.charAt(C).charCodeAt(0)-48;w+=(C&1)===0?3*D:D}w=10-w%10,w===10&&(w=0),g.append(w.toString());let v=a.getFinderPattern().getResultPoints(),T=c.getFinderPattern().getResultPoints();return new Ge(g.toString(),null,0,[v[0],v[1],T[0],T[1]],Ce.RSS_14,new Date().getTime())}static checkChecksum(a,c){let u=(a.getChecksumPortion()+16*c.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+c.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(a,c,u,h){try{let g=this.findFinderPattern(a,c),w=this.parseFoundFinderPattern(a,u,c,g),v=h==null?null:h.get(ie.NEED_RESULT_POINT_CALLBACK);if(v!=null){let D=(g[0]+g[1])/2;c&&(D=a.getSize()-1-D),v.foundPossibleResultPoint(new qe(D,u))}let T=this.decodeDataCharacter(a,w,!0),C=this.decodeDataCharacter(a,w,!1);return new as(1597*T.getValue()+C.getValue(),T.getChecksumPortion()+4*C.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(a,c,u){let h=this.getDataCharacterCounters();for(let me=0;me<h.length;me++)h[me]=0;if(u)wn.recordPatternInReverse(a,c.getStartEnd()[0],h);else{wn.recordPattern(a,c.getStartEnd()[1]+1,h);for(let me=0,_e=h.length-1;me<_e;me++,_e--){let Ve=h[me];h[me]=h[_e],h[_e]=Ve}}let g=u?16:15,w=_t.sum(new Int32Array(h))/g,v=this.getOddCounts(),T=this.getEvenCounts(),C=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let me=0;me<h.length;me++){let _e=h[me]/w,Ve=Math.floor(_e+.5);Ve<1?Ve=1:Ve>8&&(Ve=8);let Ue=Math.floor(me/2);(me&1)===0?(v[Ue]=Ve,C[Ue]=_e-Ve):(T[Ue]=Ve,D[Ue]=_e-Ve)}this.adjustOddEvenCounts(u,g);let H=0,Q=0;for(let me=v.length-1;me>=0;me--)Q*=9,Q+=v[me],H+=v[me];let se=0,ce=0;for(let me=T.length-1;me>=0;me--)se*=9,se+=T[me],ce+=T[me];let ue=Q+3*se;if(u){if((H&1)!==0||H>12||H<4)throw new le;let me=(12-H)/2,_e=Nt.OUTSIDE_ODD_WIDEST[me],Ve=9-_e,Ue=Xt.getRSSvalue(v,_e,!1),Be=Xt.getRSSvalue(T,Ve,!0),Tt=Nt.OUTSIDE_EVEN_TOTAL_SUBSET[me],bt=Nt.OUTSIDE_GSUM[me];return new hi(Ue*Tt+Be+bt,ue)}else{if((ce&1)!==0||ce>10||ce<4)throw new le;let me=(10-ce)/2,_e=Nt.INSIDE_ODD_WIDEST[me],Ve=9-_e,Ue=Xt.getRSSvalue(v,_e,!0),Be=Xt.getRSSvalue(T,Ve,!1),Tt=Nt.INSIDE_ODD_TOTAL_SUBSET[me],bt=Nt.INSIDE_GSUM[me];return new hi(Be*Tt+Ue+bt,ue)}}findFinderPattern(a,c){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=a.getSize(),g=!1,w=0;for(;w<h&&(g=!a.get(w),c!==g);)w++;let v=0,T=w;for(let C=w;C<h;C++)if(a.get(C)!==g)u[v]++;else{if(v===3){if(Qn.isFinderPattern(u))return[T,C];T+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,g=!g}throw new le}parseFoundFinderPattern(a,c,u,h){let g=a.get(h[0]),w=h[0]-1;for(;w>=0&&g!==a.get(w);)w--;w++;const v=h[0]-w,T=this.getDecodeFinderCounters(),C=new Int32Array(T.length);k.arraycopy(T,0,C,1,T.length-1),C[0]=v;const D=this.parseFinderValue(C,Nt.FINDER_PATTERNS);let H=w,Q=h[1];return u&&(H=a.getSize()-1-H,Q=a.getSize()-1-Q),new ha(D,[w,h[1]],H,Q,c)}adjustOddEvenCounts(a,c){let u=_t.sum(new Int32Array(this.getOddCounts())),h=_t.sum(new Int32Array(this.getEvenCounts())),g=!1,w=!1,v=!1,T=!1;a?(u>12?w=!0:u<4&&(g=!0),h>12?T=!0:h<4&&(v=!0)):(u>11?w=!0:u<5&&(g=!0),h>10?T=!0:h<4&&(v=!0));let C=u+h-c,D=(u&1)===(a?1:0),H=(h&1)===1;if(C===1)if(D){if(H)throw new le;w=!0}else{if(!H)throw new le;T=!0}else if(C===-1)if(D){if(H)throw new le;g=!0}else{if(!H)throw new le;v=!0}else if(C===0){if(D){if(!H)throw new le;u<h?(g=!0,T=!0):(w=!0,v=!0)}else if(H)throw new le}else throw new le;if(g){if(w)throw new le;Qn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Qn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(T)throw new le;Qn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Qn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Nt.OUTSIDE_GSUM=[0,161,961,2015,2715],Nt.INSIDE_GSUM=[0,336,1036,1516],Nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Nt.INSIDE_ODD_WIDEST=[2,4,6,8],Nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class bi extends wn{constructor(a,c){super(),this.readers=[],this.verbose=c===!0;const u=a?a.get(ie.POSSIBLE_FORMATS):null,h=a&&a.get(ie.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ce.EAN_13)||u.includes(Ce.UPC_A)||u.includes(Ce.EAN_8)||u.includes(Ce.UPC_E))&&this.readers.push(new is(a)),u.includes(Ce.CODE_39)&&this.readers.push(new ln(h)),u.includes(Ce.CODE_128)&&this.readers.push(new Fe),u.includes(Ce.ITF)&&this.readers.push(new Qt),u.includes(Ce.RSS_14)&&this.readers.push(new Nt),u.includes(Ce.RSS_EXPANDED)&&this.readers.push(new De(this.verbose))):(this.readers.push(new is(a)),this.readers.push(new ln),this.readers.push(new is(a)),this.readers.push(new Fe),this.readers.push(new Qt),this.readers.push(new Nt),this.readers.push(new De(this.verbose)))}decodeRow(a,c,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,c,u)}catch{}throw new le}reset(){this.readers.forEach(a=>a.reset())}}class nc extends Oe{constructor(a=500,c){super(new bi(c),a,c)}}class Mt{constructor(a,c,u){this.ecCodewords=a,this.ecBlocks=[c],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Bt{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class St{constructor(a,c,u,h,g,w){this.versionNumber=a,this.symbolSizeRows=c,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=w;let v=0;const T=w.getECCodewords(),C=w.getECBlocks();for(let D of C)v+=D.getCount()*(D.getDataCodewords()+T);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,c){if((a&1)!==0||(c&1)!==0)throw new V;for(let u of St.VERSIONS)if(u.symbolSizeRows===a&&u.symbolSizeColumns===c)return u;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new St(1,10,10,8,8,new Mt(5,new Bt(1,3))),new St(2,12,12,10,10,new Mt(7,new Bt(1,5))),new St(3,14,14,12,12,new Mt(10,new Bt(1,8))),new St(4,16,16,14,14,new Mt(12,new Bt(1,12))),new St(5,18,18,16,16,new Mt(14,new Bt(1,18))),new St(6,20,20,18,18,new Mt(18,new Bt(1,22))),new St(7,22,22,20,20,new Mt(20,new Bt(1,30))),new St(8,24,24,22,22,new Mt(24,new Bt(1,36))),new St(9,26,26,24,24,new Mt(28,new Bt(1,44))),new St(10,32,32,14,14,new Mt(36,new Bt(1,62))),new St(11,36,36,16,16,new Mt(42,new Bt(1,86))),new St(12,40,40,18,18,new Mt(48,new Bt(1,114))),new St(13,44,44,20,20,new Mt(56,new Bt(1,144))),new St(14,48,48,22,22,new Mt(68,new Bt(1,174))),new St(15,52,52,24,24,new Mt(42,new Bt(2,102))),new St(16,64,64,14,14,new Mt(56,new Bt(2,140))),new St(17,72,72,16,16,new Mt(36,new Bt(4,92))),new St(18,80,80,18,18,new Mt(48,new Bt(4,114))),new St(19,88,88,20,20,new Mt(56,new Bt(4,144))),new St(20,96,96,22,22,new Mt(68,new Bt(4,174))),new St(21,104,104,24,24,new Mt(56,new Bt(6,136))),new St(22,120,120,18,18,new Mt(68,new Bt(6,175))),new St(23,132,132,20,20,new Mt(62,new Bt(8,163))),new St(24,144,144,22,22,new Mt(62,new Bt(8,156),new Bt(2,155))),new St(25,8,18,6,16,new Mt(7,new Bt(1,5))),new St(26,8,32,6,14,new Mt(11,new Bt(1,10))),new St(27,12,26,10,24,new Mt(14,new Bt(1,16))),new St(28,12,36,10,16,new Mt(18,new Bt(1,22))),new St(29,16,36,14,16,new Mt(24,new Bt(1,32))),new St(30,16,48,14,22,new Mt(28,new Bt(1,49)))]}}St.VERSIONS=St.buildVersions();class ga{constructor(a){const c=a.getHeight();if(c<8||c>144||(c&1)!==0)throw new V;this.version=ga.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const c=a.getHeight(),u=a.getWidth();return St.getVersionForDimensions(c,u)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let c=0,u=4,h=0;const g=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let v=!1,T=!1,C=!1,D=!1;do if(u===g&&h===0&&!v)a[c++]=this.readCorner1(g,w)&255,u-=2,h+=2,v=!0;else if(u===g-2&&h===0&&(w&3)!==0&&!T)a[c++]=this.readCorner2(g,w)&255,u-=2,h+=2,T=!0;else if(u===g+4&&h===2&&(w&7)===0&&!C)a[c++]=this.readCorner3(g,w)&255,u-=2,h+=2,C=!0;else if(u===g-2&&h===0&&(w&7)===4&&!D)a[c++]=this.readCorner4(g,w)&255,u-=2,h+=2,D=!0;else{do u<g&&h>=0&&!this.readMappingMatrix.get(h,u)&&(a[c++]=this.readUtah(u,h,g,w)&255),u-=2,h+=2;while(u>=0&&h<w);u+=1,h+=3;do u>=0&&h<w&&!this.readMappingMatrix.get(h,u)&&(a[c++]=this.readUtah(u,h,g,w)&255),u+=2,h-=2;while(u<g&&h>=0);u+=3,h+=1}while(u<g||h<w);if(c!==this.version.getTotalCodewords())throw new V;return a}readModule(a,c,u,h){return a<0&&(a+=u,c+=4-(u+4&7)),c<0&&(c+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(c,a),this.mappingBitMatrix.get(c,a)}readUtah(a,c,u,h){let g=0;return this.readModule(a-2,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a-2,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,c,u,h)&&(g|=1),g<<=1,this.readModule(a,c-2,u,h)&&(g|=1),g<<=1,this.readModule(a,c-1,u,h)&&(g|=1),g<<=1,this.readModule(a,c,u,h)&&(g|=1),g}readCorner1(a,c){let u=0;return this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,1,a,c)&&(u|=1),u<<=1,this.readModule(a-1,2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(2,c-1,a,c)&&(u|=1),u<<=1,this.readModule(3,c-1,a,c)&&(u|=1),u}readCorner2(a,c){let u=0;return this.readModule(a-3,0,a,c)&&(u|=1),u<<=1,this.readModule(a-2,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(0,c-4,a,c)&&(u|=1),u<<=1,this.readModule(0,c-3,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u}readCorner3(a,c){let u=0;return this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(0,c-3,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-3,a,c)&&(u|=1),u<<=1,this.readModule(1,c-2,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u}readCorner4(a,c){let u=0;return this.readModule(a-3,0,a,c)&&(u|=1),u<<=1,this.readModule(a-2,0,a,c)&&(u|=1),u<<=1,this.readModule(a-1,0,a,c)&&(u|=1),u<<=1,this.readModule(0,c-2,a,c)&&(u|=1),u<<=1,this.readModule(0,c-1,a,c)&&(u|=1),u<<=1,this.readModule(1,c-1,a,c)&&(u|=1),u<<=1,this.readModule(2,c-1,a,c)&&(u|=1),u<<=1,this.readModule(3,c-1,a,c)&&(u|=1),u}extractDataRegion(a){const c=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(a.getHeight()!==c)throw new A("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),w=c/h|0,v=u/g|0,T=w*h,C=v*g,D=new be(C,T);for(let H=0;H<w;++H){const Q=H*h;for(let se=0;se<v;++se){const ce=se*g;for(let ue=0;ue<h;++ue){const me=H*(h+2)+1+ue,_e=Q+ue;for(let Ve=0;Ve<g;++Ve){const Ue=se*(g+2)+1+Ve;if(a.get(Ue,me)){const Be=ce+Ve;D.set(Be,_e)}}}}}return D}}class Fs{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c){const u=c.getECBlocks();let h=0;const g=u.getECBlocks();for(let ue of g)h+=ue.getCount();const w=new Array(h);let v=0;for(let ue of g)for(let me=0;me<ue.getCount();me++){const _e=ue.getDataCodewords(),Ve=u.getECCodewords()+_e;w[v++]=new Fs(_e,new Uint8Array(Ve))}const C=w[0].codewords.length-u.getECCodewords(),D=C-1;let H=0;for(let ue=0;ue<D;ue++)for(let me=0;me<v;me++)w[me].codewords[ue]=a[H++];const Q=c.getVersionNumber()===24,se=Q?8:v;for(let ue=0;ue<se;ue++)w[ue].codewords[C-1]=a[H++];const ce=w[0].codewords.length;for(let ue=C;ue<ce;ue++)for(let me=0;me<v;me++){const _e=Q?(me+8)%v:me,Ve=Q&&_e>7?ue-1:ue;w[_e].codewords[Ve]=a[H++]}if(H!==a.length)throw new A;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Er{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new A(""+a);let c=0,u=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(u>0){const w=8-u,v=a<w?a:w,T=w-v,C=255>>8-v<<T;c=(g[h]&C)>>T,a-=v,u+=v,u===8&&(u=0,h++)}if(a>0){for(;a>=8;)c=c<<8|g[h]&255,h++,a-=8;if(a>0){const w=8-a,v=255>>w<<w;c=c<<a|(g[h]&v)>>w,u+=a}}return this.bitOffset=u,this.byteOffset=h,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var On;(function(j){j[j.PAD_ENCODE=0]="PAD_ENCODE",j[j.ASCII_ENCODE=1]="ASCII_ENCODE",j[j.C40_ENCODE=2]="C40_ENCODE",j[j.TEXT_ENCODE=3]="TEXT_ENCODE",j[j.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",j[j.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",j[j.BASE256_ENCODE=6]="BASE256_ENCODE"})(On||(On={}));class os{static decode(a){const c=new Er(a),u=new q,h=new q,g=new Array;let w=On.ASCII_ENCODE;do if(w===On.ASCII_ENCODE)w=this.decodeAsciiSegment(c,u,h);else{switch(w){case On.C40_ENCODE:this.decodeC40Segment(c,u);break;case On.TEXT_ENCODE:this.decodeTextSegment(c,u);break;case On.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,u);break;case On.EDIFACT_ENCODE:this.decodeEdifactSegment(c,u);break;case On.BASE256_ENCODE:this.decodeBase256Segment(c,u,g);break;default:throw new V}w=On.ASCII_ENCODE}while(w!==On.PAD_ENCODE&&c.available()>0);return h.length()>0&&u.append(h.toString()),new Ye(a,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(a,c,u){let h=!1;do{let g=a.readBits(8);if(g===0)throw new V;if(g<=128)return h&&(g+=128),c.append(String.fromCharCode(g-1)),On.ASCII_ENCODE;if(g===129)return On.PAD_ENCODE;if(g<=229){const w=g-130;w<10&&c.append("0"),c.append(""+w)}else switch(g){case 230:return On.C40_ENCODE;case 231:return On.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:c.append("[)>05"),u.insert(0,"");break;case 237:c.append("[)>06"),u.insert(0,"");break;case 238:return On.ANSIX12_ENCODE;case 239:return On.TEXT_ENCODE;case 240:return On.EDIFACT_ENCODE;case 241:break;default:if(g!==254||a.available()!==0)throw new V;break}}while(a.available()>0);return On.ASCII_ENCODE}static decodeC40Segment(a,c){let u=!1;const h=[];let g=0;do{if(a.available()===8)return;const w=a.readBits(8);if(w===254)return;this.parseTwoBytes(w,a.readBits(8),h);for(let v=0;v<3;v++){const T=h[v];switch(g){case 0:if(T<3)g=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else throw new V;break;case 1:u?(c.append(String.fromCharCode(T+128)),u=!1):c.append(String.fromCharCode(T)),g=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else switch(T){case 27:c.append("");break;case 30:u=!0;break;default:throw new V}g=0;break;case 3:u?(c.append(String.fromCharCode(T+224)),u=!1):c.append(String.fromCharCode(T+96)),g=0;break;default:throw new V}}}while(a.available()>0)}static decodeTextSegment(a,c){let u=!1,h=[],g=0;do{if(a.available()===8)return;const w=a.readBits(8);if(w===254)return;this.parseTwoBytes(w,a.readBits(8),h);for(let v=0;v<3;v++){const T=h[v];switch(g){case 0:if(T<3)g=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else throw new V;break;case 1:u?(c.append(String.fromCharCode(T+128)),u=!1):c.append(String.fromCharCode(T)),g=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C)}else switch(T){case 27:c.append("");break;case 30:u=!0;break;default:throw new V}g=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[T];u?(c.append(String.fromCharCode(C.charCodeAt(0)+128)),u=!1):c.append(C),g=0}else throw new V;break;default:throw new V}}}while(a.available()>0)}static decodeAnsiX12Segment(a,c){const u=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),u);for(let g=0;g<3;g++){const w=u[g];switch(w){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(w<14)c.append(String.fromCharCode(w+44));else if(w<40)c.append(String.fromCharCode(w+51));else throw new V;break}}}while(a.available()>0)}static parseTwoBytes(a,c,u){let h=(a<<8)+c-1,g=Math.floor(h/1600);u[0]=g,h-=g*1600,g=Math.floor(h/40),u[1]=g,u[2]=h-g*40}static decodeEdifactSegment(a,c){do{if(a.available()<=16)return;for(let u=0;u<4;u++){let h=a.readBits(6);if(h===31){const g=8-a.getBitOffset();g!==8&&a.readBits(g);return}(h&32)===0&&(h|=64),c.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,c,u){let h=1+a.getByteOffset();const g=this.unrandomize255State(a.readBits(8),h++);let w;if(g===0?w=a.available()/8|0:g<250?w=g:w=250*(g-249)+this.unrandomize255State(a.readBits(8),h++),w<0)throw new V;const v=new Uint8Array(w);for(let T=0;T<w;T++){if(a.available()<8)throw new V;v[T]=this.unrandomize255State(a.readBits(8),h++)}u.push(v);try{c.append(X.decode(v,Y.ISO88591))}catch(T){throw new Lt("Platform does not support required encoding: "+T.message)}}static unrandomize255State(a,c){const u=149*c%255+1,h=a-u;return h>=0?h:h+256}}os.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],os.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],os.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],os.TEXT_SHIFT2_SET_CHARS=os.C40_SHIFT2_SET_CHARS,os.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ao{constructor(){this.rsDecoder=new Jn(nt.DATA_MATRIX_FIELD_256)}decode(a){const c=new ga(a),u=c.getVersion(),h=c.readCodewords(),g=Fs.getDataBlocks(h,u);let w=0;for(let C of g)w+=C.getNumDataCodewords();const v=new Uint8Array(w),T=g.length;for(let C=0;C<T;C++){const D=g[C],H=D.getCodewords(),Q=D.getNumDataCodewords();this.correctErrors(H,Q);for(let se=0;se<Q;se++)v[se*T+C]=H[se]}return os.decode(v)}correctErrors(a,c){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-c)}catch{throw new R}for(let h=0;h<c;h++)a[h]=u[h]}}class Tn{constructor(a){this.image=a,this.rectangleDetector=new fi(this.image)}detect(){const a=this.rectangleDetector.detect();let c=this.detectSolid1(a);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new le;c=this.shiftToModuleCenter(c);const u=c[0],h=c[1],g=c[2],w=c[3];let v=this.transitionsBetween(u,w)+1,T=this.transitionsBetween(g,w)+1;(v&1)===1&&(v+=1),(T&1)===1&&(T+=1),4*v<7*T&&4*T<7*v&&(v=T=Math.max(v,T));let C=Tn.sampleGrid(this.image,u,h,g,w,v,T);return new Ts(C,[u,h,g,w])}static shiftPoint(a,c,u){let h=(c.getX()-a.getX())/(u+1),g=(c.getY()-a.getY())/(u+1);return new qe(a.getX()+h,a.getY()+g)}static moveAway(a,c,u){let h=a.getX(),g=a.getY();return h<c?h-=1:h+=1,g<u?g-=1:g+=1,new qe(h,g)}detectSolid1(a){let c=a[0],u=a[1],h=a[3],g=a[2],w=this.transitionsBetween(c,u),v=this.transitionsBetween(u,h),T=this.transitionsBetween(h,g),C=this.transitionsBetween(g,c),D=w,H=[g,c,u,h];return D>v&&(D=v,H[0]=c,H[1]=u,H[2]=h,H[3]=g),D>T&&(D=T,H[0]=u,H[1]=h,H[2]=g,H[3]=c),D>C&&(H[0]=h,H[1]=g,H[2]=c,H[3]=u),H}detectSolid2(a){let c=a[0],u=a[1],h=a[2],g=a[3],w=this.transitionsBetween(c,g),v=Tn.shiftPoint(u,h,(w+1)*4),T=Tn.shiftPoint(h,u,(w+1)*4),C=this.transitionsBetween(v,c),D=this.transitionsBetween(T,g);return C<D?(a[0]=c,a[1]=u,a[2]=h,a[3]=g):(a[0]=u,a[1]=h,a[2]=g,a[3]=c),a}correctTopRight(a){let c=a[0],u=a[1],h=a[2],g=a[3],w=this.transitionsBetween(c,g),v=this.transitionsBetween(u,g),T=Tn.shiftPoint(c,u,(v+1)*4),C=Tn.shiftPoint(h,u,(w+1)*4);w=this.transitionsBetween(T,g),v=this.transitionsBetween(C,g);let D=new qe(g.getX()+(h.getX()-u.getX())/(w+1),g.getY()+(h.getY()-u.getY())/(w+1)),H=new qe(g.getX()+(c.getX()-u.getX())/(v+1),g.getY()+(c.getY()-u.getY())/(v+1));if(!this.isValid(D))return this.isValid(H)?H:null;if(!this.isValid(H))return D;let Q=this.transitionsBetween(T,D)+this.transitionsBetween(C,D),se=this.transitionsBetween(T,H)+this.transitionsBetween(C,H);return Q>se?D:H}shiftToModuleCenter(a){let c=a[0],u=a[1],h=a[2],g=a[3],w=this.transitionsBetween(c,g)+1,v=this.transitionsBetween(h,g)+1,T=Tn.shiftPoint(c,u,v*4),C=Tn.shiftPoint(h,u,w*4);w=this.transitionsBetween(T,g)+1,v=this.transitionsBetween(C,g)+1,(w&1)===1&&(w+=1),(v&1)===1&&(v+=1);let D=(c.getX()+u.getX()+h.getX()+g.getX())/4,H=(c.getY()+u.getY()+h.getY()+g.getY())/4;c=Tn.moveAway(c,D,H),u=Tn.moveAway(u,D,H),h=Tn.moveAway(h,D,H),g=Tn.moveAway(g,D,H);let Q,se;return T=Tn.shiftPoint(c,u,v*4),T=Tn.shiftPoint(T,g,w*4),Q=Tn.shiftPoint(u,c,v*4),Q=Tn.shiftPoint(Q,h,w*4),C=Tn.shiftPoint(h,g,v*4),C=Tn.shiftPoint(C,u,w*4),se=Tn.shiftPoint(g,h,v*4),se=Tn.shiftPoint(se,c,w*4),[T,Q,C,se]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,c,u,h,g,w,v){return er.getInstance().sampleGrid(a,w,v,.5,.5,w-.5,.5,w-.5,v-.5,.5,v-.5,c.getX(),c.getY(),g.getX(),g.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(a,c){let u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.trunc(c.getX()),w=Math.trunc(c.getY()),v=Math.abs(w-h)>Math.abs(g-u);if(v){let ue=u;u=h,h=ue,ue=g,g=w,w=ue}let T=Math.abs(g-u),C=Math.abs(w-h),D=-T/2,H=h<w?1:-1,Q=u<g?1:-1,se=0,ce=this.image.get(v?h:u,v?u:h);for(let ue=u,me=h;ue!==g;ue+=Q){let _e=this.image.get(v?me:ue,v?ue:me);if(_e!==ce&&(se++,ce=_e),D+=C,D>0){if(me===w)break;me+=H,D-=T}}return se}}class ti{constructor(){this.decoder=new ao}decode(a,c=null){let u,h;if(c!=null&&c.has(ie.PURE_BARCODE)){const C=ti.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(C),h=ti.NO_POINTS}else{const C=new Tn(a.getBlackMatrix()).detect();u=this.decoder.decode(C.getBits()),h=C.getPoints()}const g=u.getRawBytes(),w=new Ge(u.getText(),g,8*g.length,h,Ce.DATA_MATRIX,k.currentTimeMillis()),v=u.getByteSegments();v!=null&&w.putMetadata(He.BYTE_SEGMENTS,v);const T=u.getECLevel();return T!=null&&w.putMetadata(He.ERROR_CORRECTION_LEVEL,T),w}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(c==null||u==null)throw new le;const h=this.moduleSize(c,a);let g=c[1];const w=u[1];let v=c[0];const C=(u[0]-v+1)/h,D=(w-g+1)/h;if(C<=0||D<=0)throw new le;const H=h/2;g+=H,v+=H;const Q=new be(C,D);for(let se=0;se<D;se++){const ce=g+se*h;for(let ue=0;ue<C;ue++)a.get(v+ue*h,ce)&&Q.set(ue,se)}return Q}static moduleSize(a,c){const u=c.getWidth();let h=a[0];const g=a[1];for(;h<u&&c.get(h,g);)h++;if(h===u)throw new le;const w=h-a[0];if(w===0)throw new le;return w}}ti.NO_POINTS=[];class Mu extends Oe{constructor(a=500){super(new ti,a)}}var An;(function(j){j[j.L=0]="L",j[j.M=1]="M",j[j.Q=2]="Q",j[j.H=3]="H"})(An||(An={}));class Dt{constructor(a,c,u){this.value=a,this.stringValue=c,this.bits=u,Dt.FOR_BITS.set(u,this),Dt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Dt.L;case"M":return Dt.M;case"Q":return Dt.Q;case"H":return Dt.H;default:throw new E(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Dt))return!1;const c=a;return this.value===c.value}static forBits(a){if(a<0||a>=Dt.FOR_BITS.size)throw new A;return Dt.FOR_BITS.get(a)}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.L=new Dt(An.L,"L",1),Dt.M=new Dt(An.M,"M",0),Dt.Q=new Dt(An.Q,"Q",3),Dt.H=new Dt(An.H,"H",2);class jn{constructor(a){this.errorCorrectionLevel=Dt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,c){return L.bitCount(a^c)}static decodeFormatInformation(a,c){const u=jn.doDecodeFormatInformation(a,c);return u!==null?u:jn.doDecodeFormatInformation(a^jn.FORMAT_INFO_MASK_QR,c^jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,c){let u=Number.MAX_SAFE_INTEGER,h=0;for(const g of jn.FORMAT_INFO_DECODE_LOOKUP){const w=g[0];if(w===a||w===c)return new jn(g[1]);let v=jn.numBitsDiffering(a,w);v<u&&(h=g[1],u=v),a!==c&&(v=jn.numBitsDiffering(c,w),v<u&&(h=g[1],u=v))}return u<=3?new jn(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof jn))return!1;const c=a;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}jn.FORMAT_INFO_MASK_QR=21522,jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ge{constructor(a,...c){this.ecCodewordsPerBlock=a,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const c=this.ecBlocks;for(const u of c)a+=u.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class re{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class je{constructor(a,c,...u){this.versionNumber=a,this.alignmentPatternCenters=c,this.ecBlocks=u;let h=0;const g=u[0].getECCodewordsPerBlock(),w=u[0].getECBlocks();for(const v of w)h+=v.getCount()*(v.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new V;try{return this.getVersionForNumber((a-17)/4)}catch{throw new V}}static getVersionForNumber(a){if(a<1||a>40)throw new A;return je.VERSIONS[a-1]}static decodeVersionInformation(a){let c=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<je.VERSION_DECODE_INFO.length;h++){const g=je.VERSION_DECODE_INFO[h];if(g===a)return je.getVersionForNumber(h+7);const w=jn.numBitsDiffering(a,g);w<c&&(u=h+7,c=w)}return c<=3?je.getVersionForNumber(u):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),c=new be(a);c.setRegion(0,0,9,9),c.setRegion(a-8,0,8,9),c.setRegion(0,a-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const g=this.alignmentPatternCenters[h]-2;for(let w=0;w<u;w++)h===0&&(w===0||w===u-1)||h===u-1&&w===0||c.setRegion(this.alignmentPatternCenters[w]-2,g,5,5)}return c.setRegion(6,9,1,a-17),c.setRegion(9,6,a-17,1),this.versionNumber>6&&(c.setRegion(a-11,0,3,6),c.setRegion(0,a-11,6,3)),c}toString(){return""+this.versionNumber}}je.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),je.VERSIONS=[new je(1,new Int32Array(0),new ge(7,new re(1,19)),new ge(10,new re(1,16)),new ge(13,new re(1,13)),new ge(17,new re(1,9))),new je(2,Int32Array.from([6,18]),new ge(10,new re(1,34)),new ge(16,new re(1,28)),new ge(22,new re(1,22)),new ge(28,new re(1,16))),new je(3,Int32Array.from([6,22]),new ge(15,new re(1,55)),new ge(26,new re(1,44)),new ge(18,new re(2,17)),new ge(22,new re(2,13))),new je(4,Int32Array.from([6,26]),new ge(20,new re(1,80)),new ge(18,new re(2,32)),new ge(26,new re(2,24)),new ge(16,new re(4,9))),new je(5,Int32Array.from([6,30]),new ge(26,new re(1,108)),new ge(24,new re(2,43)),new ge(18,new re(2,15),new re(2,16)),new ge(22,new re(2,11),new re(2,12))),new je(6,Int32Array.from([6,34]),new ge(18,new re(2,68)),new ge(16,new re(4,27)),new ge(24,new re(4,19)),new ge(28,new re(4,15))),new je(7,Int32Array.from([6,22,38]),new ge(20,new re(2,78)),new ge(18,new re(4,31)),new ge(18,new re(2,14),new re(4,15)),new ge(26,new re(4,13),new re(1,14))),new je(8,Int32Array.from([6,24,42]),new ge(24,new re(2,97)),new ge(22,new re(2,38),new re(2,39)),new ge(22,new re(4,18),new re(2,19)),new ge(26,new re(4,14),new re(2,15))),new je(9,Int32Array.from([6,26,46]),new ge(30,new re(2,116)),new ge(22,new re(3,36),new re(2,37)),new ge(20,new re(4,16),new re(4,17)),new ge(24,new re(4,12),new re(4,13))),new je(10,Int32Array.from([6,28,50]),new ge(18,new re(2,68),new re(2,69)),new ge(26,new re(4,43),new re(1,44)),new ge(24,new re(6,19),new re(2,20)),new ge(28,new re(6,15),new re(2,16))),new je(11,Int32Array.from([6,30,54]),new ge(20,new re(4,81)),new ge(30,new re(1,50),new re(4,51)),new ge(28,new re(4,22),new re(4,23)),new ge(24,new re(3,12),new re(8,13))),new je(12,Int32Array.from([6,32,58]),new ge(24,new re(2,92),new re(2,93)),new ge(22,new re(6,36),new re(2,37)),new ge(26,new re(4,20),new re(6,21)),new ge(28,new re(7,14),new re(4,15))),new je(13,Int32Array.from([6,34,62]),new ge(26,new re(4,107)),new ge(22,new re(8,37),new re(1,38)),new ge(24,new re(8,20),new re(4,21)),new ge(22,new re(12,11),new re(4,12))),new je(14,Int32Array.from([6,26,46,66]),new ge(30,new re(3,115),new re(1,116)),new ge(24,new re(4,40),new re(5,41)),new ge(20,new re(11,16),new re(5,17)),new ge(24,new re(11,12),new re(5,13))),new je(15,Int32Array.from([6,26,48,70]),new ge(22,new re(5,87),new re(1,88)),new ge(24,new re(5,41),new re(5,42)),new ge(30,new re(5,24),new re(7,25)),new ge(24,new re(11,12),new re(7,13))),new je(16,Int32Array.from([6,26,50,74]),new ge(24,new re(5,98),new re(1,99)),new ge(28,new re(7,45),new re(3,46)),new ge(24,new re(15,19),new re(2,20)),new ge(30,new re(3,15),new re(13,16))),new je(17,Int32Array.from([6,30,54,78]),new ge(28,new re(1,107),new re(5,108)),new ge(28,new re(10,46),new re(1,47)),new ge(28,new re(1,22),new re(15,23)),new ge(28,new re(2,14),new re(17,15))),new je(18,Int32Array.from([6,30,56,82]),new ge(30,new re(5,120),new re(1,121)),new ge(26,new re(9,43),new re(4,44)),new ge(28,new re(17,22),new re(1,23)),new ge(28,new re(2,14),new re(19,15))),new je(19,Int32Array.from([6,30,58,86]),new ge(28,new re(3,113),new re(4,114)),new ge(26,new re(3,44),new re(11,45)),new ge(26,new re(17,21),new re(4,22)),new ge(26,new re(9,13),new re(16,14))),new je(20,Int32Array.from([6,34,62,90]),new ge(28,new re(3,107),new re(5,108)),new ge(26,new re(3,41),new re(13,42)),new ge(30,new re(15,24),new re(5,25)),new ge(28,new re(15,15),new re(10,16))),new je(21,Int32Array.from([6,28,50,72,94]),new ge(28,new re(4,116),new re(4,117)),new ge(26,new re(17,42)),new ge(28,new re(17,22),new re(6,23)),new ge(30,new re(19,16),new re(6,17))),new je(22,Int32Array.from([6,26,50,74,98]),new ge(28,new re(2,111),new re(7,112)),new ge(28,new re(17,46)),new ge(30,new re(7,24),new re(16,25)),new ge(24,new re(34,13))),new je(23,Int32Array.from([6,30,54,78,102]),new ge(30,new re(4,121),new re(5,122)),new ge(28,new re(4,47),new re(14,48)),new ge(30,new re(11,24),new re(14,25)),new ge(30,new re(16,15),new re(14,16))),new je(24,Int32Array.from([6,28,54,80,106]),new ge(30,new re(6,117),new re(4,118)),new ge(28,new re(6,45),new re(14,46)),new ge(30,new re(11,24),new re(16,25)),new ge(30,new re(30,16),new re(2,17))),new je(25,Int32Array.from([6,32,58,84,110]),new ge(26,new re(8,106),new re(4,107)),new ge(28,new re(8,47),new re(13,48)),new ge(30,new re(7,24),new re(22,25)),new ge(30,new re(22,15),new re(13,16))),new je(26,Int32Array.from([6,30,58,86,114]),new ge(28,new re(10,114),new re(2,115)),new ge(28,new re(19,46),new re(4,47)),new ge(28,new re(28,22),new re(6,23)),new ge(30,new re(33,16),new re(4,17))),new je(27,Int32Array.from([6,34,62,90,118]),new ge(30,new re(8,122),new re(4,123)),new ge(28,new re(22,45),new re(3,46)),new ge(30,new re(8,23),new re(26,24)),new ge(30,new re(12,15),new re(28,16))),new je(28,Int32Array.from([6,26,50,74,98,122]),new ge(30,new re(3,117),new re(10,118)),new ge(28,new re(3,45),new re(23,46)),new ge(30,new re(4,24),new re(31,25)),new ge(30,new re(11,15),new re(31,16))),new je(29,Int32Array.from([6,30,54,78,102,126]),new ge(30,new re(7,116),new re(7,117)),new ge(28,new re(21,45),new re(7,46)),new ge(30,new re(1,23),new re(37,24)),new ge(30,new re(19,15),new re(26,16))),new je(30,Int32Array.from([6,26,52,78,104,130]),new ge(30,new re(5,115),new re(10,116)),new ge(28,new re(19,47),new re(10,48)),new ge(30,new re(15,24),new re(25,25)),new ge(30,new re(23,15),new re(25,16))),new je(31,Int32Array.from([6,30,56,82,108,134]),new ge(30,new re(13,115),new re(3,116)),new ge(28,new re(2,46),new re(29,47)),new ge(30,new re(42,24),new re(1,25)),new ge(30,new re(23,15),new re(28,16))),new je(32,Int32Array.from([6,34,60,86,112,138]),new ge(30,new re(17,115)),new ge(28,new re(10,46),new re(23,47)),new ge(30,new re(10,24),new re(35,25)),new ge(30,new re(19,15),new re(35,16))),new je(33,Int32Array.from([6,30,58,86,114,142]),new ge(30,new re(17,115),new re(1,116)),new ge(28,new re(14,46),new re(21,47)),new ge(30,new re(29,24),new re(19,25)),new ge(30,new re(11,15),new re(46,16))),new je(34,Int32Array.from([6,34,62,90,118,146]),new ge(30,new re(13,115),new re(6,116)),new ge(28,new re(14,46),new re(23,47)),new ge(30,new re(44,24),new re(7,25)),new ge(30,new re(59,16),new re(1,17))),new je(35,Int32Array.from([6,30,54,78,102,126,150]),new ge(30,new re(12,121),new re(7,122)),new ge(28,new re(12,47),new re(26,48)),new ge(30,new re(39,24),new re(14,25)),new ge(30,new re(22,15),new re(41,16))),new je(36,Int32Array.from([6,24,50,76,102,128,154]),new ge(30,new re(6,121),new re(14,122)),new ge(28,new re(6,47),new re(34,48)),new ge(30,new re(46,24),new re(10,25)),new ge(30,new re(2,15),new re(64,16))),new je(37,Int32Array.from([6,28,54,80,106,132,158]),new ge(30,new re(17,122),new re(4,123)),new ge(28,new re(29,46),new re(14,47)),new ge(30,new re(49,24),new re(10,25)),new ge(30,new re(24,15),new re(46,16))),new je(38,Int32Array.from([6,32,58,84,110,136,162]),new ge(30,new re(4,122),new re(18,123)),new ge(28,new re(13,46),new re(32,47)),new ge(30,new re(48,24),new re(14,25)),new ge(30,new re(42,15),new re(32,16))),new je(39,Int32Array.from([6,26,54,82,110,138,166]),new ge(30,new re(20,117),new re(4,118)),new ge(28,new re(40,47),new re(7,48)),new ge(30,new re(43,24),new re(22,25)),new ge(30,new re(10,15),new re(67,16))),new je(40,Int32Array.from([6,30,58,86,114,142,170]),new ge(30,new re(19,118),new re(6,119)),new ge(28,new re(18,47),new re(31,48)),new ge(30,new re(34,24),new re(34,25)),new ge(30,new re(20,15),new re(61,16)))];var Nn;(function(j){j[j.DATA_MASK_000=0]="DATA_MASK_000",j[j.DATA_MASK_001=1]="DATA_MASK_001",j[j.DATA_MASK_010=2]="DATA_MASK_010",j[j.DATA_MASK_011=3]="DATA_MASK_011",j[j.DATA_MASK_100=4]="DATA_MASK_100",j[j.DATA_MASK_101=5]="DATA_MASK_101",j[j.DATA_MASK_110=6]="DATA_MASK_110",j[j.DATA_MASK_111=7]="DATA_MASK_111"})(Nn||(Nn={}));class kn{constructor(a,c){this.value=a,this.isMasked=c}unmaskBitMatrix(a,c){for(let u=0;u<c;u++)for(let h=0;h<c;h++)this.isMasked(u,h)&&a.flip(h,u)}}kn.values=new Map([[Nn.DATA_MASK_000,new kn(Nn.DATA_MASK_000,(j,a)=>(j+a&1)===0)],[Nn.DATA_MASK_001,new kn(Nn.DATA_MASK_001,(j,a)=>(j&1)===0)],[Nn.DATA_MASK_010,new kn(Nn.DATA_MASK_010,(j,a)=>a%3===0)],[Nn.DATA_MASK_011,new kn(Nn.DATA_MASK_011,(j,a)=>(j+a)%3===0)],[Nn.DATA_MASK_100,new kn(Nn.DATA_MASK_100,(j,a)=>(Math.floor(j/2)+Math.floor(a/3)&1)===0)],[Nn.DATA_MASK_101,new kn(Nn.DATA_MASK_101,(j,a)=>j*a%6===0)],[Nn.DATA_MASK_110,new kn(Nn.DATA_MASK_110,(j,a)=>j*a%6<3)],[Nn.DATA_MASK_111,new kn(Nn.DATA_MASK_111,(j,a)=>(j+a+j*a%3&1)===0)]]);class pa{constructor(a){const c=a.getHeight();if(c<21||(c&3)!==1)throw new V;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let g=0;g<6;g++)a=this.copyBit(g,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let g=5;g>=0;g--)a=this.copyBit(8,g,a);const c=this.bitMatrix.getHeight();let u=0;const h=c-7;for(let g=c-1;g>=h;g--)u=this.copyBit(8,g,u);for(let g=c-8;g<c;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=jn.decodeFormatInformation(a,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),c=Math.floor((a-17)/4);if(c<=6)return je.getVersionForNumber(c);let u=0;const h=a-11;for(let w=5;w>=0;w--)for(let v=a-9;v>=h;v--)u=this.copyBit(v,w,u);let g=je.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;u=0;for(let w=5;w>=0;w--)for(let v=a-9;v>=h;v--)u=this.copyBit(w,v,u);if(g=je.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new V}copyBit(a,c,u){return(this.isMirror?this.bitMatrix.get(c,a):this.bitMatrix.get(a,c))?u<<1|1:u<<1}readCodewords(){const a=this.readFormatInformation(),c=this.readVersion(),u=kn.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const g=c.buildFunctionPattern();let w=!0;const v=new Uint8Array(c.getTotalCodewords());let T=0,C=0,D=0;for(let H=h-1;H>0;H-=2){H===6&&H--;for(let Q=0;Q<h;Q++){const se=w?h-1-Q:Q;for(let ce=0;ce<2;ce++)g.get(H-ce,se)||(D++,C<<=1,this.bitMatrix.get(H-ce,se)&&(C|=1),D===8&&(v[T++]=C,D=0,C=0))}w=!w}if(T!==c.getTotalCodewords())throw new V;return v}remask(){if(this.parsedFormatInfo===null)return;const a=kn.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let c=0,u=a.getWidth();c<u;c++)for(let h=c+1,g=a.getHeight();h<g;h++)a.get(c,h)!==a.get(h,c)&&(a.flip(h,c),a.flip(c,h))}}class oo{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c,u){if(a.length!==c.getTotalCodewords())throw new A;const h=c.getECBlocksForLevel(u);let g=0;const w=h.getECBlocks();for(const ce of w)g+=ce.getCount();const v=new Array(g);let T=0;for(const ce of w)for(let ue=0;ue<ce.getCount();ue++){const me=ce.getDataCodewords(),_e=h.getECCodewordsPerBlock()+me;v[T++]=new oo(me,new Uint8Array(_e))}const C=v[0].codewords.length;let D=v.length-1;for(;D>=0&&v[D].codewords.length!==C;)D--;D++;const H=C-h.getECCodewordsPerBlock();let Q=0;for(let ce=0;ce<H;ce++)for(let ue=0;ue<T;ue++)v[ue].codewords[ce]=a[Q++];for(let ce=D;ce<T;ce++)v[ce].codewords[H]=a[Q++];const se=v[0].codewords.length;for(let ce=H;ce<se;ce++)for(let ue=0;ue<T;ue++){const me=ue<D?ce:ce+1;v[ue].codewords[me]=a[Q++]}return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Dr;(function(j){j[j.TERMINATOR=0]="TERMINATOR",j[j.NUMERIC=1]="NUMERIC",j[j.ALPHANUMERIC=2]="ALPHANUMERIC",j[j.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",j[j.BYTE=4]="BYTE",j[j.ECI=5]="ECI",j[j.KANJI=6]="KANJI",j[j.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",j[j.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",j[j.HANZI=9]="HANZI"})(Dr||(Dr={}));class rt{constructor(a,c,u,h){this.value=a,this.stringValue=c,this.characterCountBitsForVersions=u,this.bits=h,rt.FOR_BITS.set(h,this),rt.FOR_VALUE.set(a,this)}static forBits(a){const c=rt.FOR_BITS.get(a);if(c===void 0)throw new A;return c}getCharacterCountBits(a){const c=a.getVersionNumber();let u;return c<=9?u=0:c<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof rt))return!1;const c=a;return this.value===c.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(Dr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(Dr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(Dr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(Dr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(Dr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(Dr.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(Dr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(Dr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(Dr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(Dr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Sn{static decode(a,c,u,h){const g=new Er(a);let w=new q;const v=new Array;let T=-1,C=-1;try{let D=null,H=!1,Q;do{if(g.available()<4)Q=rt.TERMINATOR;else{const se=g.readBits(4);Q=rt.forBits(se)}switch(Q){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:H=!0;break;case rt.STRUCTURED_APPEND:if(g.available()<16)throw new V;T=g.readBits(8),C=g.readBits(8);break;case rt.ECI:const se=Sn.parseECIValue(g);if(D=O.getCharacterSetECIByValue(se),D===null)throw new V;break;case rt.HANZI:const ce=g.readBits(4),ue=g.readBits(Q.getCharacterCountBits(c));ce===Sn.GB2312_SUBSET&&Sn.decodeHanziSegment(g,w,ue);break;default:const me=g.readBits(Q.getCharacterCountBits(c));switch(Q){case rt.NUMERIC:Sn.decodeNumericSegment(g,w,me);break;case rt.ALPHANUMERIC:Sn.decodeAlphanumericSegment(g,w,me,H);break;case rt.BYTE:Sn.decodeByteSegment(g,w,me,D,v,h);break;case rt.KANJI:Sn.decodeKanjiSegment(g,w,me);break;default:throw new V}break}}while(Q!==rt.TERMINATOR)}catch{throw new V}return new Ye(a,w.toString(),v.length===0?null:v,u===null?null:u.toString(),T,C)}static decodeHanziSegment(a,c,u){if(u*13>a.available())throw new V;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const w=a.readBits(13);let v=w/96<<8&4294967295|w%96;v<959?v+=41377:v+=42657,h[g]=v>>8&255,h[g+1]=v&255,g+=2,u--}try{c.append(X.decode(h,Y.GB2312))}catch(w){throw new V(w)}}static decodeKanjiSegment(a,c,u){if(u*13>a.available())throw new V;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const w=a.readBits(13);let v=w/192<<8&4294967295|w%192;v<7936?v+=33088:v+=49472,h[g]=v>>8,h[g+1]=v,g+=2,u--}try{c.append(X.decode(h,Y.SHIFT_JIS))}catch(w){throw new V(w)}}static decodeByteSegment(a,c,u,h,g,w){if(8*u>a.available())throw new V;const v=new Uint8Array(u);for(let C=0;C<u;C++)v[C]=a.readBits(8);let T;h===null?T=Y.guessEncoding(v,w):T=h.getName();try{c.append(X.decode(v,T))}catch(C){throw new V(C)}g.push(v)}static toAlphaNumericChar(a){if(a>=Sn.ALPHANUMERIC_CHARS.length)throw new V;return Sn.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,c,u,h){const g=c.length();for(;u>1;){if(a.available()<11)throw new V;const w=a.readBits(11);c.append(Sn.toAlphaNumericChar(Math.floor(w/45))),c.append(Sn.toAlphaNumericChar(w%45)),u-=2}if(u===1){if(a.available()<6)throw new V;c.append(Sn.toAlphaNumericChar(a.readBits(6)))}if(h)for(let w=g;w<c.length();w++)c.charAt(w)==="%"&&(w<c.length()-1&&c.charAt(w+1)==="%"?c.deleteCharAt(w+1):c.setCharAt(w,""))}static decodeNumericSegment(a,c,u){for(;u>=3;){if(a.available()<10)throw new V;const h=a.readBits(10);if(h>=1e3)throw new V;c.append(Sn.toAlphaNumericChar(Math.floor(h/100))),c.append(Sn.toAlphaNumericChar(Math.floor(h/10)%10)),c.append(Sn.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(a.available()<7)throw new V;const h=a.readBits(7);if(h>=100)throw new V;c.append(Sn.toAlphaNumericChar(Math.floor(h/10))),c.append(Sn.toAlphaNumericChar(h%10))}else if(u===1){if(a.available()<4)throw new V;const h=a.readBits(4);if(h>=10)throw new V;c.append(Sn.toAlphaNumericChar(h))}}static parseECIValue(a){const c=a.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const u=a.readBits(8);return(c&63)<<8&4294967295|u}if((c&224)===192){const u=a.readBits(16);return(c&31)<<16&4294967295|u}throw new V}}Sn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Sn.GB2312_SUBSET=1;class rc{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const c=a[0];a[0]=a[2],a[2]=c}}class lo{constructor(){this.rsDecoder=new Jn(nt.QR_CODE_FIELD_256)}decodeBooleanArray(a,c){return this.decodeBitMatrix(be.parseFromBooleanArray(a),c)}decodeBitMatrix(a,c){const u=new pa(a);let h=null;try{return this.decodeBitMatrixParser(u,c)}catch(g){h=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,c);return g.setOther(new rc(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(a,c){const u=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),g=a.readCodewords(),w=oo.getDataBlocks(g,u,h);let v=0;for(const D of w)v+=D.getNumDataCodewords();const T=new Uint8Array(v);let C=0;for(const D of w){const H=D.getCodewords(),Q=D.getNumDataCodewords();this.correctErrors(H,Q);for(let se=0;se<Q;se++)T[C++]=H[se]}return Sn.decode(T,u,h,c)}correctErrors(a,c){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-c)}catch{throw new R}for(let h=0;h<c;h++)a[h]=u[h]}}class Pi extends qe{constructor(a,c,u){super(a,c),this.estimatedModuleSize=u}aboutEquals(a,c,u){if(Math.abs(c-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,c,u){const h=(this.getX()+c)/2,g=(this.getY()+a)/2,w=(this.estimatedModuleSize+u)/2;return new Pi(h,g,w)}}class Gr{constructor(a,c,u,h,g,w,v){this.image=a,this.startX=c,this.startY=u,this.width=h,this.height=g,this.moduleSize=w,this.resultPointCallback=v,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,c=this.height,u=this.width,h=a+u,g=this.startY+c/2,w=new Int32Array(3),v=this.image;for(let T=0;T<c;T++){const C=g+((T&1)===0?Math.floor((T+1)/2):-Math.floor((T+1)/2));w[0]=0,w[1]=0,w[2]=0;let D=a;for(;D<h&&!v.get(D,C);)D++;let H=0;for(;D<h;){if(v.get(D,C))if(H===1)w[1]++;else if(H===2){if(this.foundPatternCross(w)){const Q=this.handlePossibleCenter(w,C,D);if(Q!==null)return Q}w[0]=w[2],w[1]=1,w[2]=0,H=1}else w[++H]++;else H===1&&H++,w[H]++;D++}if(this.foundPatternCross(w)){const Q=this.handlePossibleCenter(w,C,h);if(Q!==null)return Q}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new le}static centerFromEnd(a,c){return c-a[2]-a[1]/2}foundPatternCross(a){const c=this.moduleSize,u=c/2;for(let h=0;h<3;h++)if(Math.abs(c-a[h])>=u)return!1;return!0}crossCheckVertical(a,c,u,h){const g=this.image,w=g.getHeight(),v=this.crossCheckStateCount;v[0]=0,v[1]=0,v[2]=0;let T=a;for(;T>=0&&g.get(c,T)&&v[1]<=u;)v[1]++,T--;if(T<0||v[1]>u)return NaN;for(;T>=0&&!g.get(c,T)&&v[0]<=u;)v[0]++,T--;if(v[0]>u)return NaN;for(T=a+1;T<w&&g.get(c,T)&&v[1]<=u;)v[1]++,T++;if(T===w||v[1]>u)return NaN;for(;T<w&&!g.get(c,T)&&v[2]<=u;)v[2]++,T++;if(v[2]>u)return NaN;const C=v[0]+v[1]+v[2];return 5*Math.abs(C-h)>=2*h?NaN:this.foundPatternCross(v)?Gr.centerFromEnd(v,T):NaN}handlePossibleCenter(a,c,u){const h=a[0]+a[1]+a[2],g=Gr.centerFromEnd(a,u),w=this.crossCheckVertical(c,g,2*a[1],h);if(!isNaN(w)){const v=(a[0]+a[1]+a[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(v,w,g))return C.combineEstimate(w,g,v);const T=new Pi(g,w,v);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class Bi extends qe{constructor(a,c,u,h){super(a,c),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,c,u){if(Math.abs(c-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,c,u){const h=this.count+1,g=(this.count*this.getX()+c)/h,w=(this.count*this.getY()+a)/h,v=(this.count*this.estimatedModuleSize+u)/h;return new Bi(g,w,v,h)}}class Cs{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Hn{constructor(a,c){this.image=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const c=a!=null&&a.get(ie.TRY_HARDER)!==void 0,u=a!=null&&a.get(ie.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),w=h.getWidth();let v=Math.floor(3*g/(4*Hn.MAX_MODULES));(v<Hn.MIN_SKIP||c)&&(v=Hn.MIN_SKIP);let T=!1;const C=new Int32Array(5);for(let H=v-1;H<g&&!T;H+=v){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let Q=0;for(let se=0;se<w;se++)if(h.get(se,H))(Q&1)===1&&Q++,C[Q]++;else if((Q&1)===0)if(Q===4)if(Hn.foundPatternCross(C)){if(this.handlePossibleCenter(C,H,se,u)===!0)if(v=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const ue=this.findRowSkip();ue>C[2]&&(H+=ue-C[2]-v,se=w-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Q=3;continue}Q=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,Q=3;else C[++Q]++;else C[Q]++;Hn.foundPatternCross(C)&&this.handlePossibleCenter(C,H,w,u)===!0&&(v=C[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return qe.orderBestPatterns(D),new Cs(D)}static centerFromEnd(a,c){return c-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let c=0;for(let g=0;g<5;g++){const w=a[g];if(w===0)return!1;c+=w}if(c<7)return!1;const u=c/7,h=u/2;return Math.abs(u-a[0])<h&&Math.abs(u-a[1])<h&&Math.abs(3*u-a[2])<3*h&&Math.abs(u-a[3])<h&&Math.abs(u-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,c,u,h){const g=this.getCrossCheckStateCount();let w=0;const v=this.image;for(;a>=w&&c>=w&&v.get(c-w,a-w);)g[2]++,w++;if(a<w||c<w)return!1;for(;a>=w&&c>=w&&!v.get(c-w,a-w)&&g[1]<=u;)g[1]++,w++;if(a<w||c<w||g[1]>u)return!1;for(;a>=w&&c>=w&&v.get(c-w,a-w)&&g[0]<=u;)g[0]++,w++;if(g[0]>u)return!1;const T=v.getHeight(),C=v.getWidth();for(w=1;a+w<T&&c+w<C&&v.get(c+w,a+w);)g[2]++,w++;if(a+w>=T||c+w>=C)return!1;for(;a+w<T&&c+w<C&&!v.get(c+w,a+w)&&g[3]<u;)g[3]++,w++;if(a+w>=T||c+w>=C||g[3]>=u)return!1;for(;a+w<T&&c+w<C&&v.get(c+w,a+w)&&g[4]<u;)g[4]++,w++;if(g[4]>=u)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-h)<2*h&&Hn.foundPatternCross(g)}crossCheckVertical(a,c,u,h){const g=this.image,w=g.getHeight(),v=this.getCrossCheckStateCount();let T=a;for(;T>=0&&g.get(c,T);)v[2]++,T--;if(T<0)return NaN;for(;T>=0&&!g.get(c,T)&&v[1]<=u;)v[1]++,T--;if(T<0||v[1]>u)return NaN;for(;T>=0&&g.get(c,T)&&v[0]<=u;)v[0]++,T--;if(v[0]>u)return NaN;for(T=a+1;T<w&&g.get(c,T);)v[2]++,T++;if(T===w)return NaN;for(;T<w&&!g.get(c,T)&&v[3]<u;)v[3]++,T++;if(T===w||v[3]>=u)return NaN;for(;T<w&&g.get(c,T)&&v[4]<u;)v[4]++,T++;if(v[4]>=u)return NaN;const C=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(C-h)>=2*h?NaN:Hn.foundPatternCross(v)?Hn.centerFromEnd(v,T):NaN}crossCheckHorizontal(a,c,u,h){const g=this.image,w=g.getWidth(),v=this.getCrossCheckStateCount();let T=a;for(;T>=0&&g.get(T,c);)v[2]++,T--;if(T<0)return NaN;for(;T>=0&&!g.get(T,c)&&v[1]<=u;)v[1]++,T--;if(T<0||v[1]>u)return NaN;for(;T>=0&&g.get(T,c)&&v[0]<=u;)v[0]++,T--;if(v[0]>u)return NaN;for(T=a+1;T<w&&g.get(T,c);)v[2]++,T++;if(T===w)return NaN;for(;T<w&&!g.get(T,c)&&v[3]<u;)v[3]++,T++;if(T===w||v[3]>=u)return NaN;for(;T<w&&g.get(T,c)&&v[4]<u;)v[4]++,T++;if(v[4]>=u)return NaN;const C=v[0]+v[1]+v[2]+v[3]+v[4];return 5*Math.abs(C-h)>=h?NaN:Hn.foundPatternCross(v)?Hn.centerFromEnd(v,T):NaN}handlePossibleCenter(a,c,u,h){const g=a[0]+a[1]+a[2]+a[3]+a[4];let w=Hn.centerFromEnd(a,u),v=this.crossCheckVertical(c,Math.floor(w),a[2],g);if(!isNaN(v)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(v),a[2],g),!isNaN(w)&&(!h||this.crossCheckDiagonal(Math.floor(v),Math.floor(w),a[2],g)))){const T=g/7;let C=!1;const D=this.possibleCenters;for(let H=0,Q=D.length;H<Q;H++){const se=D[H];if(se.aboutEquals(T,v,w)){D[H]=se.combineEstimate(v,w,T),C=!0;break}}if(!C){const H=new Bi(w,v,T);D.push(H),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(H)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const u of this.possibleCenters)if(u.getCount()>=Hn.CENTER_QUORUM)if(c==null)c=u;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-u.getX())-Math.abs(c.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,c=0;const u=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=Hn.CENTER_QUORUM&&(a++,c+=w.getEstimatedModuleSize());if(a<3)return!1;const h=c/u;let g=0;for(const w of this.possibleCenters)g+=Math.abs(w.getEstimatedModuleSize()-h);return g<=.05*c}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new le;const c=this.possibleCenters;let u;if(a>3){let h=0,g=0;for(const T of this.possibleCenters){const C=T.getEstimatedModuleSize();h+=C,g+=C*C}u=h/a;let w=Math.sqrt(g/a-u*u);c.sort((T,C)=>{const D=Math.abs(C.getEstimatedModuleSize()-u),H=Math.abs(T.getEstimatedModuleSize()-u);return D<H?-1:D>H?1:0});const v=Math.max(.2*u,w);for(let T=0;T<c.length&&c.length>3;T++){const C=c[T];Math.abs(C.getEstimatedModuleSize()-u)>v&&(c.splice(T,1),T--)}}if(c.length>3){let h=0;for(const g of c)h+=g.getEstimatedModuleSize();u=h/c.length,c.sort((g,w)=>{if(w.getCount()===g.getCount()){const v=Math.abs(w.getEstimatedModuleSize()-u),T=Math.abs(g.getEstimatedModuleSize()-u);return v<T?1:v>T?-1:0}else return w.getCount()-g.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}Hn.CENTER_QUORUM=2,Hn.MIN_SKIP=3,Hn.MAX_MODULES=57;class ni{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(ie.NEED_RESULT_POINT_CALLBACK);const u=new Hn(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(u)}processFinderPatternInfo(a){const c=a.getTopLeft(),u=a.getTopRight(),h=a.getBottomLeft(),g=this.calculateModuleSize(c,u,h);if(g<1)throw new le("No pattern found in proccess finder.");const w=ni.computeDimension(c,u,h,g),v=je.getProvisionalVersionForDimension(w),T=v.getDimensionForVersion()-7;let C=null;if(v.getAlignmentPatternCenters().length>0){const se=u.getX()-c.getX()+h.getX(),ce=u.getY()-c.getY()+h.getY(),ue=1-3/T,me=Math.floor(c.getX()+ue*(se-c.getX())),_e=Math.floor(c.getY()+ue*(ce-c.getY()));for(let Ve=4;Ve<=16;Ve<<=1)try{C=this.findAlignmentInRegion(g,me,_e,Ve);break}catch(Ue){if(!(Ue instanceof le))throw Ue}}const D=ni.createTransform(c,u,h,C,w),H=ni.sampleGrid(this.image,D,w);let Q;return C===null?Q=[h,c,u]:Q=[h,c,u,C],new Ts(H,Q)}static createTransform(a,c,u,h,g){const w=g-3.5;let v,T,C,D;return h!==null?(v=h.getX(),T=h.getY(),C=w-3,D=C):(v=c.getX()-a.getX()+u.getX(),T=c.getY()-a.getY()+u.getY(),C=w,D=w),Kt.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,C,D,3.5,w,a.getX(),a.getY(),c.getX(),c.getY(),v,T,u.getX(),u.getY())}static sampleGrid(a,c,u){return er.getInstance().sampleGridWithTransform(a,u,u,c)}static computeDimension(a,c,u,h){const g=_t.round(qe.distance(a,c)/h),w=_t.round(qe.distance(a,u)/h);let v=Math.floor((g+w)/2)+7;switch(v&3){case 0:v++;break;case 2:v--;break;case 3:throw new le("Dimensions could be not found.")}return v}calculateModuleSize(a,c,u){return(this.calculateModuleSizeOneWay(a,c)+this.calculateModuleSizeOneWay(a,u))/2}calculateModuleSizeOneWay(a,c){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(c.getX()),Math.floor(c.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,c,u,h){let g=this.sizeOfBlackWhiteBlackRun(a,c,u,h),w=1,v=a-(u-a);v<0?(w=a/(a-v),v=0):v>=this.image.getWidth()&&(w=(this.image.getWidth()-1-a)/(v-a),v=this.image.getWidth()-1);let T=Math.floor(c-(h-c)*w);return w=1,T<0?(w=c/(c-T),T=0):T>=this.image.getHeight()&&(w=(this.image.getHeight()-1-c)/(T-c),T=this.image.getHeight()-1),v=Math.floor(a+(v-a)*w),g+=this.sizeOfBlackWhiteBlackRun(a,c,v,T),g-1}sizeOfBlackWhiteBlackRun(a,c,u,h){const g=Math.abs(h-c)>Math.abs(u-a);if(g){let se=a;a=c,c=se,se=u,u=h,h=se}const w=Math.abs(u-a),v=Math.abs(h-c);let T=-w/2;const C=a<u?1:-1,D=c<h?1:-1;let H=0;const Q=u+C;for(let se=a,ce=c;se!==Q;se+=C){const ue=g?ce:se,me=g?se:ce;if(H===1===this.image.get(ue,me)){if(H===2)return _t.distance(se,ce,a,c);H++}if(T+=v,T>0){if(ce===h)break;ce+=D,T-=w}}return H===2?_t.distance(u+C,h,a,c):NaN}findAlignmentInRegion(a,c,u,h){const g=Math.floor(h*a),w=Math.max(0,c-g),v=Math.min(this.image.getWidth()-1,c+g);if(v-w<a*3)throw new le("Alignment top exceeds estimated module size.");const T=Math.max(0,u-g),C=Math.min(this.image.getHeight()-1,u+g);if(C-T<a*3)throw new le("Alignment bottom exceeds estimated module size.");return new Gr(this.image,w,T,v-w,C-T,a,this.resultPointCallback).find()}}class Vi{constructor(){this.decoder=new lo}getDecoder(){return this.decoder}decode(a,c){let u,h;if(c!=null&&c.get(ie.PURE_BARCODE)!==void 0){const T=Vi.extractPureBits(a.getBlackMatrix());u=this.decoder.decodeBitMatrix(T,c),h=Vi.NO_POINTS}else{const T=new ni(a.getBlackMatrix()).detect(c);u=this.decoder.decodeBitMatrix(T.getBits(),c),h=T.getPoints()}u.getOther()instanceof rc&&u.getOther().applyMirroredCorrection(h);const g=new Ge(u.getText(),u.getRawBytes(),void 0,h,Ce.QR_CODE,void 0),w=u.getByteSegments();w!==null&&g.putMetadata(He.BYTE_SEGMENTS,w);const v=u.getECLevel();return v!==null&&g.putMetadata(He.ERROR_CORRECTION_LEVEL,v),u.hasStructuredAppend()&&(g.putMetadata(He.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(He.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(c===null||u===null)throw new le;const h=this.moduleSize(c,a);let g=c[1],w=u[1],v=c[0],T=u[0];if(v>=T||g>=w)throw new le;if(w-g!==T-v&&(T=v+(w-g),T>=a.getWidth()))throw new le;const C=Math.round((T-v+1)/h),D=Math.round((w-g+1)/h);if(C<=0||D<=0)throw new le;if(D!==C)throw new le;const H=Math.floor(h/2);g+=H,v+=H;const Q=v+Math.floor((C-1)*h)-T;if(Q>0){if(Q>H)throw new le;v-=Q}const se=g+Math.floor((D-1)*h)-w;if(se>0){if(se>H)throw new le;g-=se}const ce=new be(C,D);for(let ue=0;ue<D;ue++){const me=g+Math.floor(ue*h);for(let _e=0;_e<C;_e++)a.get(v+Math.floor(_e*h),me)&&ce.set(_e,ue)}return ce}static moduleSize(a,c){const u=c.getHeight(),h=c.getWidth();let g=a[0],w=a[1],v=!0,T=0;for(;g<h&&w<u;){if(v!==c.get(g,w)){if(++T===5)break;v=!v}g++,w++}if(g===h||w===u)throw new le;return(g-a[0])/7}}Vi.NO_POINTS=new Array;class st{PDF417Common(){}static getBitCountSum(a){return _t.sum(a)}static toIntArray(a){if(a==null||!a.length)return st.EMPTY_INT_ARRAY;const c=new Int32Array(a.length);let u=0;for(const h of a)c[u++]=h;return c}static getCodeword(a){const c=K.binarySearch(st.SYMBOL_TABLE,a&262143);return c<0?-1:(st.CODEWORD_TABLE[c]-1)%st.NUMBER_OF_CODEWORDS}}st.NUMBER_OF_CODEWORDS=929,st.MAX_CODEWORDS_IN_BARCODE=st.NUMBER_OF_CODEWORDS-1,st.MIN_ROWS_IN_BARCODE=3,st.MAX_ROWS_IN_BARCODE=90,st.MODULES_IN_CODEWORD=17,st.MODULES_IN_STOP_PATTERN=18,st.BARS_IN_MODULE=8,st.EMPTY_INT_ARRAY=new Int32Array([]),st.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),st.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ui{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class ut{static detectMultiple(a,c,u){let h=a.getBlackMatrix(),g=ut.detect(u,h);return g.length||(h=h.clone(),h.rotate180(),g=ut.detect(u,h)),new Ui(h,g)}static detect(a,c){const u=new Array;let h=0,g=0,w=!1;for(;h<c.getHeight();){const v=ut.findVertices(c,h,g);if(v[0]==null&&v[3]==null){if(!w)break;w=!1,g=0;for(const T of u)T[1]!=null&&(h=Math.trunc(Math.max(h,T[1].getY()))),T[3]!=null&&(h=Math.max(h,Math.trunc(T[3].getY())));h+=ut.ROW_STEP;continue}if(w=!0,u.push(v),!a)break;v[2]!=null?(g=Math.trunc(v[2].getX()),h=Math.trunc(v[2].getY())):(g=Math.trunc(v[4].getX()),h=Math.trunc(v[4].getY()))}return u}static findVertices(a,c,u){const h=a.getHeight(),g=a.getWidth(),w=new Array(8);return ut.copyToResult(w,ut.findRowsWithPattern(a,h,g,c,u,ut.START_PATTERN),ut.INDEXES_START_PATTERN),w[4]!=null&&(u=Math.trunc(w[4].getX()),c=Math.trunc(w[4].getY())),ut.copyToResult(w,ut.findRowsWithPattern(a,h,g,c,u,ut.STOP_PATTERN),ut.INDEXES_STOP_PATTERN),w}static copyToResult(a,c,u){for(let h=0;h<u.length;h++)a[u[h]]=c[h]}static findRowsWithPattern(a,c,u,h,g,w){const v=new Array(4);let T=!1;const C=new Int32Array(w.length);for(;h<c;h+=ut.ROW_STEP){let H=ut.findGuardPattern(a,g,h,u,!1,w,C);if(H!=null){for(;h>0;){const Q=ut.findGuardPattern(a,g,--h,u,!1,w,C);if(Q!=null)H=Q;else{h++;break}}v[0]=new qe(H[0],h),v[1]=new qe(H[1],h),T=!0;break}}let D=h+1;if(T){let H=0,Q=Int32Array.from([Math.trunc(v[0].getX()),Math.trunc(v[1].getX())]);for(;D<c;D++){const se=ut.findGuardPattern(a,Q[0],D,u,!1,w,C);if(se!=null&&Math.abs(Q[0]-se[0])<ut.MAX_PATTERN_DRIFT&&Math.abs(Q[1]-se[1])<ut.MAX_PATTERN_DRIFT)Q=se,H=0;else{if(H>ut.SKIPPED_ROW_COUNT_MAX)break;H++}}D-=H+1,v[2]=new qe(Q[0],D),v[3]=new qe(Q[1],D)}return D-h<ut.BARCODE_MIN_HEIGHT&&K.fill(v,null),v}static findGuardPattern(a,c,u,h,g,w,v){K.fillWithin(v,0,v.length,0);let T=c,C=0;for(;a.get(T,u)&&T>0&&C++<ut.MAX_PIXEL_DRIFT;)T--;let D=T,H=0,Q=w.length;for(let se=g;D<h;D++)if(a.get(D,u)!==se)v[H]++;else{if(H===Q-1){if(ut.patternMatchVariance(v,w,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return new Int32Array([T,D]);T+=v[0]+v[1],k.arraycopy(v,2,v,0,H-1),v[H-1]=0,v[H]=0,H--}else H++;v[H]=1,se=!se}return H===Q-1&&ut.patternMatchVariance(v,w,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE?new Int32Array([T,D-1]):null}static patternMatchVariance(a,c,u){let h=a.length,g=0,w=0;for(let C=0;C<h;C++)g+=a[C],w+=c[C];if(g<w)return 1/0;let v=g/w;u*=v;let T=0;for(let C=0;C<h;C++){let D=a[C],H=c[C]*v,Q=D>H?D-H:H-D;if(Q>u)return 1/0;T+=Q}return T/g}}ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ut.MAX_AVG_VARIANCE=.42,ut.MAX_INDIVIDUAL_VARIANCE=.8,ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ut.MAX_PIXEL_DRIFT=3,ut.MAX_PATTERN_DRIFT=5,ut.SKIPPED_ROW_COUNT_MAX=25,ut.ROW_STEP=5,ut.BARCODE_MIN_HEIGHT=10;class Ln{constructor(a,c){if(c.length===0)throw new A;this.field=a;let u=c.length;if(u>1&&c[0]===0){let h=1;for(;h<u&&c[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),k.arraycopy(c,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let c=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)c=this.field.add(this.field.multiply(a,c),this.coefficients[h]);return c}add(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,u=a.coefficients;if(c.length>u.length){let w=c;c=u,u=w}let h=new Int32Array(u.length),g=u.length-c.length;k.arraycopy(u,0,h,0,g);for(let w=g;w<u.length;w++)h[w]=this.field.add(c[w-g],u[w]);return new Ln(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof Ln?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new Ln(this.field,new Int32Array([0]));let c=this.coefficients,u=c.length,h=a.coefficients,g=h.length,w=new Int32Array(u+g-1);for(let v=0;v<u;v++){let T=c[v];for(let C=0;C<g;C++)w[v+C]=this.field.add(w[v+C],this.field.multiply(T,h[C]))}return new Ln(this.field,w)}negative(){let a=this.coefficients.length,c=new Int32Array(a);for(let u=0;u<a;u++)c[u]=this.field.subtract(0,this.coefficients[u]);return new Ln(this.field,c)}multiplyScalar(a){if(a===0)return new Ln(this.field,new Int32Array([0]));if(a===1)return this;let c=this.coefficients.length,u=new Int32Array(c);for(let h=0;h<c;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new Ln(this.field,u)}multiplyByMonomial(a,c){if(a<0)throw new A;if(c===0)return new Ln(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+a);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],c);return new Ln(this.field,h)}toString(){let a=new q;for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);u!==0&&(u<0?(a.append(" - "),u=-u):a.length()>0&&a.append(" + "),(c===0||u!==1)&&a.append(u),c!==0&&(c===1?a.append("x"):(a.append("x^"),a.append(c))))}return a.toString()}}class ls{add(a,c){return(a+c)%this.modulus}subtract(a,c){return(this.modulus+a-c)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new A;return this.logTable[a]}inverse(a){if(a===0)throw new xt;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class cs extends ls{constructor(a,c){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let u=1;for(let h=0;h<a;h++)this.expTable[h]=u,u=u*c%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Ln(this,new Int32Array([0])),this.one=new Ln(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new A;if(c===0)return this.zero;let u=new Int32Array(a+1);return u[0]=c,new Ln(this,u)}}cs.PDF417_GF=new cs(st.NUMBER_OF_CODEWORDS,3);class us{constructor(){this.field=cs.PDF417_GF}decode(a,c,u){let h=new Ln(this.field,a),g=new Int32Array(c),w=!1;for(let ce=c;ce>0;ce--){let ue=h.evaluateAt(this.field.exp(ce));g[c-ce]=ue,ue!==0&&(w=!0)}if(!w)return 0;let v=this.field.getOne();if(u!=null)for(const ce of u){let ue=this.field.exp(a.length-1-ce),me=new Ln(this.field,new Int32Array([this.field.subtract(0,ue),1]));v=v.multiply(me)}let T=new Ln(this.field,g),C=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),T,c),D=C[0],H=C[1],Q=this.findErrorLocations(D),se=this.findErrorMagnitudes(H,D,Q);for(let ce=0;ce<Q.length;ce++){let ue=a.length-1-this.field.log(Q[ce]);if(ue<0)throw R.getChecksumInstance();a[ue]=this.field.subtract(a[ue],se[ce])}return Q.length}runEuclideanAlgorithm(a,c,u){if(a.getDegree()<c.getDegree()){let Q=a;a=c,c=Q}let h=a,g=c,w=this.field.getZero(),v=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let Q=h,se=w;if(h=g,w=v,h.isZero())throw R.getChecksumInstance();g=Q;let ce=this.field.getZero(),ue=h.getCoefficient(h.getDegree()),me=this.field.inverse(ue);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let _e=g.getDegree()-h.getDegree(),Ve=this.field.multiply(g.getCoefficient(g.getDegree()),me);ce=ce.add(this.field.buildMonomial(_e,Ve)),g=g.subtract(h.multiplyByMonomial(_e,Ve))}v=ce.multiply(w).subtract(se).negative()}let T=v.getCoefficient(0);if(T===0)throw R.getChecksumInstance();let C=this.field.inverse(T),D=v.multiply(C),H=g.multiply(C);return[D,H]}findErrorLocations(a){let c=a.getDegree(),u=new Int32Array(c),h=0;for(let g=1;g<this.field.getSize()&&h<c;g++)a.evaluateAt(g)===0&&(u[h]=this.field.inverse(g),h++);if(h!==c)throw R.getChecksumInstance();return u}findErrorMagnitudes(a,c,u){let h=c.getDegree(),g=new Int32Array(h);for(let C=1;C<=h;C++)g[h-C]=this.field.multiply(C,c.getCoefficient(C));let w=new Ln(this.field,g),v=u.length,T=new Int32Array(v);for(let C=0;C<v;C++){let D=this.field.inverse(u[C]),H=this.field.subtract(0,a.evaluateAt(D)),Q=this.field.inverse(w.evaluateAt(D));T[C]=this.field.multiply(H,Q)}return T}}class Fi{constructor(a,c,u,h,g){a instanceof Fi?this.constructor_2(a):this.constructor_1(a,c,u,h,g)}constructor_1(a,c,u,h,g){const w=c==null||u==null,v=h==null||g==null;if(w&&v)throw new le;w?(c=new qe(0,h.getY()),u=new qe(0,g.getY())):v&&(h=new qe(a.getWidth()-1,c.getY()),g=new qe(a.getWidth()-1,u.getY())),this.image=a,this.topLeft=c,this.bottomLeft=u,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(c.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(c.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,c){return a==null?c:c==null?a:new Fi(a.image,a.topLeft,a.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(a,c,u){let h=this.topLeft,g=this.bottomLeft,w=this.topRight,v=this.bottomRight;if(a>0){let T=u?this.topLeft:this.topRight,C=Math.trunc(T.getY()-a);C<0&&(C=0);let D=new qe(T.getX(),C);u?h=D:w=D}if(c>0){let T=u?this.bottomLeft:this.bottomRight,C=Math.trunc(T.getY()+c);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let D=new qe(T.getX(),C);u?g=D:v=D}return new Fi(this.image,h,g,w,v)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ds{constructor(a,c,u,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=c,this.rowCountLowerPart=u,this.rowCount=c+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ri{constructor(){this.buffer=""}static form(a,c){let u=-1;function h(w,v,T,C,D,H){if(w==="%%")return"%";if(c[++u]===void 0)return;w=C?parseInt(C.substr(1)):void 0;let Q=D?parseInt(D.substr(1)):void 0,se;switch(H){case"s":se=c[u];break;case"c":se=c[u][0];break;case"f":se=parseFloat(c[u]).toFixed(w);break;case"p":se=parseFloat(c[u]).toPrecision(w);break;case"e":se=parseFloat(c[u]).toExponential(w);break;case"x":se=parseInt(c[u]).toString(Q||16);break;case"d":se=parseFloat(parseInt(c[u],Q||10).toPrecision(w)).toFixed(0);break}se=typeof se=="object"?JSON.stringify(se):(+se).toString(Q);let ce=parseInt(T),ue=T&&T[0]+""=="0"?"0":" ";for(;se.length<ce;)se=v!==void 0?se+ue:ue+se;return se}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}format(a,...c){this.buffer+=ri.form(a,c)}toString(){return this.buffer}}class Is{constructor(a){this.boundingBox=new Fi(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let c=this.getCodeword(a);if(c!=null)return c;for(let u=1;u<Is.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(a)-u;if(h>=0&&(c=this.codewords[h],c!=null)||(h=this.imageRowToCodewordIndex(a)+u,h<this.codewords.length&&(c=this.codewords[h],c!=null)))return c}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,c){this.codewords[this.imageRowToCodewordIndex(a)]=c}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ri;let c=0;for(const u of this.codewords){if(u==null){a.format("%3d:    |   %n",c++);continue}a.format("%3d: %3d|%3d%n",c++,u.getRowNumber(),u.getValue())}return a.toString()}}Is.MAX_NEARBY_DISTANCE=5;class Gn{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let c=this.values.get(a);c==null&&(c=0),c++,this.values.set(a,c)}getValue(){let a=-1,c=new Array;for(const[u,h]of this.values.entries()){const g={getKey:()=>u,getValue:()=>h};g.getValue()>a?(a=g.getValue(),c=[],c.push(g.getKey())):g.getValue()===a&&c.push(g.getKey())}return st.toIntArray(c)}getConfidence(a){return this.values.get(a)}}class Jt extends Is{constructor(a,c){super(a),this._isLeft=c}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,a);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),T=-1,C=1,D=0;for(let H=w;H<v;H++){if(c[H]==null)continue;let Q=c[H],se=Q.getRowNumber()-T;if(se===0)D++;else if(se===1)C=Math.max(C,D),D=1,T=Q.getRowNumber();else if(se<0||Q.getRowNumber()>=a.getRowCount()||se>H)c[H]=null;else{let ce;C>2?ce=(C-2)*se:ce=se;let ue=ce>=H;for(let me=1;me<=ce&&!ue;me++)ue=c[H-me]!=null;ue?c[H]=null:(T=Q.getRowNumber(),D=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let c=new Int32Array(a.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=c.length)continue;c[h]++}return c}adjustIncompleteIndicatorColumnRowNumbers(a){let c=this.getBoundingBox(),u=this._isLeft?c.getTopLeft():c.getTopRight(),h=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=this.getCodewords(),T=-1;for(let C=g;C<w;C++){if(v[C]==null)continue;let D=v[C];D.setRowNumberAsRowIndicatorColumn();let H=D.getRowNumber()-T;H===0||(H===1?T=D.getRowNumber():D.getRowNumber()>=a.getRowCount()?v[C]=null:T=D.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),c=new Gn,u=new Gn,h=new Gn,g=new Gn;for(let v of a){if(v==null)continue;v.setRowNumberAsRowIndicatorColumn();let T=v.getValue()%30,C=v.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:u.setValue(T*3+1);break;case 1:g.setValue(T/3),h.setValue(T%3);break;case 2:c.setValue(T+1);break}}if(c.getValue().length===0||u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||c.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<st.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>st.MAX_ROWS_IN_BARCODE)return null;let w=new ds(c.getValue()[0],u.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(a,w),w}removeIncorrectCodewords(a,c){for(let u=0;u<a.length;u++){let h=a[u];if(a[u]==null)continue;let g=h.getValue()%30,w=h.getRowNumber();if(w>c.getRowCount()){a[u]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:g*3+1!==c.getRowCountUpperPart()&&(a[u]=null);break;case 1:(Math.trunc(g/3)!==c.getErrorCorrectionLevel()||g%3!==c.getRowCountLowerPart())&&(a[u]=null);break;case 2:g+1!==c.getColumnCount()&&(a[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class fs{constructor(a,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=st.MAX_CODEWORDS_IN_BARCODE,c;do c=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let u=this.detectionResultColumns[c].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(c,h,u))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++)if(a[u]!=null&&c[u]!=null&&a[u].getRowNumber()===c[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[u];g!=null&&(g.setRowNumber(a[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let h=c[u].getRowNumber(),g=0;for(let w=this.barcodeColumnCount+1;w>0&&g<this.ADJUST_ROW_NUMBER_SKIP;w--){let v=this.detectionResultColumns[w].getCodewords()[u];v!=null&&(g=fs.adjustRowNumberIfValid(h,g,v),v.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,c=this.detectionResultColumns[0].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let h=c[u].getRowNumber(),g=0;for(let w=1;w<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;w++){let v=this.detectionResultColumns[w].getCodewords()[u];v!=null&&(g=fs.adjustRowNumberIfValid(h,g,v),v.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,c,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(a)?(u.setRowNumber(a),c=0):++c),c}adjustRowNumbers(a,c,u){if(!this.detectionResultColumns[a-1])return;let h=u[c],g=this.detectionResultColumns[a-1].getCodewords(),w=g;this.detectionResultColumns[a+1]!=null&&(w=this.detectionResultColumns[a+1].getCodewords());let v=new Array(14);v[2]=g[c],v[3]=w[c],c>0&&(v[0]=u[c-1],v[4]=g[c-1],v[5]=w[c-1]),c>1&&(v[8]=u[c-2],v[10]=g[c-2],v[11]=w[c-2]),c<u.length-1&&(v[1]=u[c+1],v[6]=g[c+1],v[7]=w[c+1]),c<u.length-2&&(v[9]=u[c+2],v[12]=g[c+2],v[13]=w[c+2]);for(let T of v)if(fs.adjustRowNumber(h,T))return}static adjustRowNumber(a,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===a.getBucket()?(a.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,c){this.detectionResultColumns[a]=c}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new ri;for(let u=0;u<a.getCodewords().length;u++){c.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){c.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[u];if(g==null){c.format("    |   ");continue}c.format(" %3d|%3d",g.getRowNumber(),g.getValue())}c.format("%n")}return c.toString()}}class zi{constructor(a,c,u,h){this.rowNumber=zi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(c),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==zi.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}zi.BARCODE_ROW_UNKNOWN=-1;class _r{static initialize(){for(let a=0;a<st.SYMBOL_TABLE.length;a++){let c=st.SYMBOL_TABLE[a],u=c&1;for(let h=0;h<st.BARS_IN_MODULE;h++){let g=0;for(;(c&1)===u;)g+=1,c>>=1;u=c&1,_r.RATIOS_TABLE[a]||(_r.RATIOS_TABLE[a]=new Array(st.BARS_IN_MODULE)),_r.RATIOS_TABLE[a][st.BARS_IN_MODULE-h-1]=Math.fround(g/st.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let c=_r.getDecodedCodewordValue(_r.sampleBitCounts(a));return c!==-1?c:_r.getClosestDecodedValue(a)}static sampleBitCounts(a){let c=_t.sum(a),u=new Int32Array(st.BARS_IN_MODULE),h=0,g=0;for(let w=0;w<st.MODULES_IN_CODEWORD;w++){let v=c/(2*st.MODULES_IN_CODEWORD)+w*c/st.MODULES_IN_CODEWORD;g+a[h]<=v&&(g+=a[h],h++),u[h]++}return u}static getDecodedCodewordValue(a){let c=_r.getBitValue(a);return st.getCodeword(c)===-1?-1:c}static getBitValue(a){let c=0;for(let u=0;u<a.length;u++)for(let h=0;h<a[u];h++)c=c<<1|(u%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(a){let c=_t.sum(a),u=new Array(st.BARS_IN_MODULE);if(c>1)for(let w=0;w<u.length;w++)u[w]=Math.fround(a[w]/c);let h=Mr.MAX_VALUE,g=-1;this.bSymbolTableReady||_r.initialize();for(let w=0;w<_r.RATIOS_TABLE.length;w++){let v=0,T=_r.RATIOS_TABLE[w];for(let C=0;C<st.BARS_IN_MODULE;C++){let D=Math.fround(T[C]-u[C]);if(v+=Math.fround(D*D),v>=h)break}v<h&&(h=v,g=st.SYMBOL_TABLE[w])}return g}}_r.bSymbolTableReady=!1,_r.RATIOS_TABLE=new Array(st.SYMBOL_TABLE.length).map(j=>new Array(st.BARS_IN_MODULE));class ma{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class ya{static parseLong(a,c=void 0){return parseInt(a,c)}}class ji extends x{}ji.kind="NullPointerException";class xa{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,c,u){if(a==null)throw new ji;if(c<0||c>a.length||u<0||c+u>a.length||c+u<0)throw new G;if(u===0)return;for(let h=0;h<u;h++)this.write(a[c+h])}flush(){}close(){}}class Ei extends x{}class ic extends xa{constructor(a=32){if(super(),this.count=0,a<0)throw new A("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let u=this.buf.length<<1;if(u-a<0&&(u=a),u<0){if(a<0)throw new Ei;u=L.MAX_VALUE}this.buf=K.copyOfUint8Array(this.buf,u)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,c,u){if(c<0||c>a.length||u<0||c+u-a.length>0)throw new G;this.ensureCapacity(this.count+u),k.arraycopy(a,c,this.buf,this.count,u),this.count+=u}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return K.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var rn;(function(j){j[j.ALPHA=0]="ALPHA",j[j.LOWER=1]="LOWER",j[j.MIXED=2]="MIXED",j[j.PUNCT=3]="PUNCT",j[j.ALPHA_SHIFT=4]="ALPHA_SHIFT",j[j.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(rn||(rn={}));function zs(){if(typeof window<"u")return window.BigInt||null;if(typeof Ch<"u")return Ch.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Rs;function _i(j){if(typeof Rs>"u"&&(Rs=zs()),Rs===null)throw new Error("BigInt is not supported!");return Rs(j)}function co(){let j=[];j[0]=_i(1);let a=_i(900);j[1]=a;for(let c=2;c<16;c++)j[c]=j[c-1]*a;return j}class Te{static decode(a,c){let u=new q(""),h=O.ISO8859_1;u.enableDecoding(h);let g=1,w=a[g++],v=new ma;for(;g<a[0];){switch(w){case Te.TEXT_COMPACTION_MODE_LATCH:g=Te.textCompaction(a,g,u);break;case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:g=Te.byteCompaction(w,a,h,g,u);break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g++]);break;case Te.NUMERIC_COMPACTION_MODE_LATCH:g=Te.numericCompaction(a,g,u);break;case Te.ECI_CHARSET:O.getCharacterSetECIByValue(a[g++]);break;case Te.ECI_GENERAL_PURPOSE:g+=2;break;case Te.ECI_USER_DEFINED:g++;break;case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=Te.decodeMacroBlock(a,g,v);break;case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:throw new V;default:g--,g=Te.textCompaction(a,g,u);break}if(g<a.length)w=a[g++];else throw V.getFormatInstance()}if(u.length()===0)throw V.getFormatInstance();let T=new Ye(null,u.toString(),null,c);return T.setOther(v),T}static decodeMacroBlock(a,c,u){if(c+Te.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw V.getFormatInstance();let h=new Int32Array(Te.NUMBER_OF_SEQUENCE_CODEWORDS);for(let v=0;v<Te.NUMBER_OF_SEQUENCE_CODEWORDS;v++,c++)h[v]=a[c];u.setSegmentIndex(L.parseInt(Te.decodeBase900toBase10(h,Te.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new q;c=Te.textCompaction(a,c,g),u.setFileId(g.toString());let w=-1;for(a[c]===Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=c+1);c<a[0];)switch(a[c]){case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,a[c]){case Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let v=new q;c=Te.textCompaction(a,c+1,v),u.setFileName(v.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new q;c=Te.textCompaction(a,c+1,T),u.setSender(T.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new q;c=Te.textCompaction(a,c+1,C),u.setAddressee(C.toString());break;case Te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new q;c=Te.numericCompaction(a,c+1,D),u.setSegmentCount(L.parseInt(D.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let H=new q;c=Te.numericCompaction(a,c+1,H),u.setTimestamp(ya.parseLong(H.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Q=new q;c=Te.numericCompaction(a,c+1,Q),u.setChecksum(L.parseInt(Q.toString()));break;case Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let se=new q;c=Te.numericCompaction(a,c+1,se),u.setFileSize(ya.parseLong(se.toString()));break;default:throw V.getFormatInstance()}break;case Te.MACRO_PDF417_TERMINATOR:c++,u.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(w!==-1){let v=c-w;u.isLastSegment()&&v--,u.setOptionalData(K.copyOfRange(a,w,w+v))}return c}static textCompaction(a,c,u){let h=new Int32Array((a[0]-c)*2),g=new Int32Array((a[0]-c)*2),w=0,v=!1;for(;c<a[0]&&!v;){let T=a[c++];if(T<Te.TEXT_COMPACTION_MODE_LATCH)h[w]=T/30,h[w+1]=T%30,w+=2;else switch(T){case Te.TEXT_COMPACTION_MODE_LATCH:h[w++]=Te.TEXT_COMPACTION_MODE_LATCH;break;case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:c--,v=!0;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[w]=Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=a[c++],g[w]=T,w++;break}}return Te.decodeTextCompaction(h,g,w,u),c}static decodeTextCompaction(a,c,u,h){let g=rn.ALPHA,w=rn.ALPHA,v=0;for(;v<u;){let T=a[v],C="";switch(g){case rn.ALPHA:if(T<26)C=String.fromCharCode(65+T);else switch(T){case 26:C=" ";break;case Te.LL:g=rn.LOWER;break;case Te.ML:g=rn.MIXED;break;case Te.PS:w=g,g=rn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.LOWER:if(T<26)C=String.fromCharCode(97+T);else switch(T){case 26:C=" ";break;case Te.AS:w=g,g=rn.ALPHA_SHIFT;break;case Te.ML:g=rn.MIXED;break;case Te.PS:w=g,g=rn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.MIXED:if(T<Te.PL)C=Te.MIXED_CHARS[T];else switch(T){case Te.PL:g=rn.PUNCT;break;case 26:C=" ";break;case Te.LL:g=rn.LOWER;break;case Te.AL:g=rn.ALPHA;break;case Te.PS:w=g,g=rn.PUNCT_SHIFT;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.PUNCT:if(T<Te.PAL)C=Te.PUNCT_CHARS[T];else switch(T){case Te.PAL:g=rn.ALPHA;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.ALPHA_SHIFT:if(g=w,T<26)C=String.fromCharCode(65+T);else switch(T){case 26:C=" ";break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break;case rn.PUNCT_SHIFT:if(g=w,T<Te.PAL)C=Te.PUNCT_CHARS[T];else switch(T){case Te.PAL:g=rn.ALPHA;break;case Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[v]);break;case Te.TEXT_COMPACTION_MODE_LATCH:g=rn.ALPHA;break}break}C!==""&&h.append(C),v++}}static byteCompaction(a,c,u,h,g){let w=new ic,v=0,T=0,C=!1;switch(a){case Te.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),H=c[h++];for(;h<c[0]&&!C;)switch(D[v++]=H,T=900*T+H,H=c[h++],H){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:h--,C=!0;break;default:if(v%5===0&&v>0){for(let Q=0;Q<6;++Q)w.write(Number(_i(T)>>_i(8*(5-Q))));T=0,v=0}break}h===c[0]&&H<Te.TEXT_COMPACTION_MODE_LATCH&&(D[v++]=H);for(let Q=0;Q<v;Q++)w.write(D[Q]);break;case Te.BYTE_COMPACTION_MODE_LATCH_6:for(;h<c[0]&&!C;){let Q=c[h++];if(Q<Te.TEXT_COMPACTION_MODE_LATCH)v++,T=900*T+Q;else switch(Q){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.NUMERIC_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:h--,C=!0;break}if(v%5===0&&v>0){for(let se=0;se<6;++se)w.write(Number(_i(T)>>_i(8*(5-se))));T=0,v=0}}break}return g.append(X.decode(w.toByteArray(),u)),h}static numericCompaction(a,c,u){let h=0,g=!1,w=new Int32Array(Te.MAX_NUMERIC_CODEWORDS);for(;c<a[0]&&!g;){let v=a[c++];if(c===a[0]&&(g=!0),v<Te.TEXT_COMPACTION_MODE_LATCH)w[h]=v,h++;else switch(v){case Te.TEXT_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH:case Te.BYTE_COMPACTION_MODE_LATCH_6:case Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Te.MACRO_PDF417_TERMINATOR:c--,g=!0;break}(h%Te.MAX_NUMERIC_CODEWORDS===0||v===Te.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(u.append(Te.decodeBase900toBase10(w,h)),h=0)}return c}static decodeBase900toBase10(a,c){let u=_i(0);for(let g=0;g<c;g++)u+=Te.EXP900[c-g-1]*_i(a[g]);let h=u.toString();if(h.charAt(0)!=="1")throw new V;return h.substring(1)}}Te.TEXT_COMPACTION_MODE_LATCH=900,Te.BYTE_COMPACTION_MODE_LATCH=901,Te.NUMERIC_COMPACTION_MODE_LATCH=902,Te.BYTE_COMPACTION_MODE_LATCH_6=924,Te.ECI_USER_DEFINED=925,Te.ECI_GENERAL_PURPOSE=926,Te.ECI_CHARSET=927,Te.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Te.MACRO_PDF417_TERMINATOR=922,Te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Te.MAX_NUMERIC_CODEWORDS=15,Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Te.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Te.PL=25,Te.LL=27,Te.AS=27,Te.ML=28,Te.AL=28,Te.PS=29,Te.PAL=29,Te.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Te.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Te.EXP900=zs()?co():[],Te.NUMBER_OF_SEQUENCE_CODEWORDS=2;class vt{constructor(){}static decode(a,c,u,h,g,w,v){let T=new Fi(a,c,u,h,g),C=null,D=null,H;for(let ce=!0;;ce=!1){if(c!=null&&(C=vt.getRowIndicatorColumn(a,T,c,!0,w,v)),h!=null&&(D=vt.getRowIndicatorColumn(a,T,h,!1,w,v)),H=vt.merge(C,D),H==null)throw le.getNotFoundInstance();let ue=H.getBoundingBox();if(ce&&ue!=null&&(ue.getMinY()<T.getMinY()||ue.getMaxY()>T.getMaxY()))T=ue;else break}H.setBoundingBox(T);let Q=H.getBarcodeColumnCount()+1;H.setDetectionResultColumn(0,C),H.setDetectionResultColumn(Q,D);let se=C!=null;for(let ce=1;ce<=Q;ce++){let ue=se?ce:Q-ce;if(H.getDetectionResultColumn(ue)!==void 0)continue;let me;ue===0||ue===Q?me=new Jt(T,ue===0):me=new Is(T),H.setDetectionResultColumn(ue,me);let _e=-1,Ve=_e;for(let Ue=T.getMinY();Ue<=T.getMaxY();Ue++){if(_e=vt.getStartColumn(H,ue,Ue,se),_e<0||_e>T.getMaxX()){if(Ve===-1)continue;_e=Ve}let Be=vt.detectCodeword(a,T.getMinX(),T.getMaxX(),se,_e,Ue,w,v);Be!=null&&(me.setCodeword(Ue,Be),Ve=_e,w=Math.min(w,Be.getWidth()),v=Math.max(v,Be.getWidth()))}}return vt.createDecoderResult(H)}static merge(a,c){if(a==null&&c==null)return null;let u=vt.getBarcodeMetadata(a,c);if(u==null)return null;let h=Fi.merge(vt.adjustBoundingBox(a),vt.adjustBoundingBox(c));return new fs(u,h)}static adjustBoundingBox(a){if(a==null)return null;let c=a.getRowHeights();if(c==null)return null;let u=vt.getMax(c),h=0;for(let v of c)if(h+=u-v,v>0)break;let g=a.getCodewords();for(let v=0;h>0&&g[v]==null;v++)h--;let w=0;for(let v=c.length-1;v>=0&&(w+=u-c[v],!(c[v]>0));v--);for(let v=g.length-1;w>0&&g[v]==null;v--)w--;return a.getBoundingBox().addMissingRows(h,w,a.isLeft())}static getMax(a){let c=-1;for(let u of a)c=Math.max(c,u);return c}static getBarcodeMetadata(a,c){let u;if(a==null||(u=a.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let h;return c==null||(h=c.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(a,c,u,h,g,w){let v=new Jt(c,h);for(let T=0;T<2;T++){let C=T===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let H=Math.trunc(Math.trunc(u.getY()));H<=c.getMaxY()&&H>=c.getMinY();H+=C){let Q=vt.detectCodeword(a,0,a.getWidth(),h,D,H,g,w);Q!=null&&(v.setCodeword(H,Q),h?D=Q.getStartX():D=Q.getEndX())}}return v}static adjustCodewordCount(a,c){let u=c[0][1],h=u.getValue(),g=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-vt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(g<1||g>st.MAX_CODEWORDS_IN_BARCODE)throw le.getNotFoundInstance();u.setValue(g)}else h[0]!==g&&u.setValue(g)}static createDecoderResult(a){let c=vt.createBarcodeMatrix(a);vt.adjustCodewordCount(a,c);let u=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),g=[],w=new Array;for(let T=0;T<a.getBarcodeRowCount();T++)for(let C=0;C<a.getBarcodeColumnCount();C++){let D=c[T][C+1].getValue(),H=T*a.getBarcodeColumnCount()+C;D.length===0?u.push(H):D.length===1?h[H]=D[0]:(w.push(H),g.push(D))}let v=new Array(g.length);for(let T=0;T<v.length;T++)v[T]=g[T];return vt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,st.toIntArray(u),st.toIntArray(w),v)}static createDecoderResultFromAmbiguousValues(a,c,u,h,g){let w=new Int32Array(h.length),v=100;for(;v-- >0;){for(let T=0;T<w.length;T++)c[h[T]]=g[T][w[T]];try{return vt.decodeCodewords(c,a,u)}catch(T){if(!(T instanceof R))throw T}if(w.length===0)throw R.getChecksumInstance();for(let T=0;T<w.length;T++)if(w[T]<g[T].length-1){w[T]++;break}else if(w[T]=0,T===w.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(a){let c=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<c.length;h++)for(let g=0;g<c[h].length;g++)c[h][g]=new Gn;let u=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let w=g.getRowNumber();if(w>=0){if(w>=c.length)continue;c[w][u].setValue(g.getValue())}}}u++}return c}static isValidBarcodeColumn(a,c){return c>=0&&c<=a.getBarcodeColumnCount()+1}static getStartColumn(a,c,u,h){let g=h?1:-1,w=null;if(vt.isValidBarcodeColumn(a,c-g)&&(w=a.getDetectionResultColumn(c-g).getCodeword(u)),w!=null)return h?w.getEndX():w.getStartX();if(w=a.getDetectionResultColumn(c).getCodewordNearby(u),w!=null)return h?w.getStartX():w.getEndX();if(vt.isValidBarcodeColumn(a,c-g)&&(w=a.getDetectionResultColumn(c-g).getCodewordNearby(u)),w!=null)return h?w.getEndX():w.getStartX();let v=0;for(;vt.isValidBarcodeColumn(a,c-g);){c-=g;for(let T of a.getDetectionResultColumn(c).getCodewords())if(T!=null)return(h?T.getEndX():T.getStartX())+g*v*(T.getEndX()-T.getStartX());v++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,c,u,h,g,w,v,T){g=vt.adjustCodewordStartColumn(a,c,u,h,g,w);let C=vt.getModuleBitCount(a,c,u,h,g,w);if(C==null)return null;let D,H=_t.sum(C);if(h)D=g+H;else{for(let ce=0;ce<C.length/2;ce++){let ue=C[ce];C[ce]=C[C.length-1-ce],C[C.length-1-ce]=ue}D=g,g=D-H}if(!vt.checkCodewordSkew(H,v,T))return null;let Q=_r.getDecodedValue(C),se=st.getCodeword(Q);return se===-1?null:new zi(g,D,vt.getCodewordBucketNumber(Q),se)}static getModuleBitCount(a,c,u,h,g,w){let v=g,T=new Int32Array(8),C=0,D=h?1:-1,H=h;for(;(h?v<u:v>=c)&&C<T.length;)a.get(v,w)===H?(T[C]++,v+=D):(C++,H=!H);return C===T.length||v===(h?u:c)&&C===T.length-1?T:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,c,u,h,g,w){let v=g,T=h?-1:1;for(let C=0;C<2;C++){for(;(h?v>=c:v<u)&&h===a.get(v,w);){if(Math.abs(g-v)>vt.CODEWORD_SKEW_SIZE)return g;v+=T}T=-T,h=!h}return v}static checkCodewordSkew(a,c,u){return c-vt.CODEWORD_SKEW_SIZE<=a&&a<=u+vt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,c,u){if(a.length===0)throw V.getFormatInstance();let h=1<<c+1,g=vt.correctErrors(a,u,h);vt.verifyCodewordCount(a,h);let w=Te.decode(a,""+c);return w.setErrorsCorrected(g),w.setErasures(u.length),w}static correctErrors(a,c,u){if(c!=null&&c.length>u/2+vt.MAX_ERRORS||u<0||u>vt.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return vt.errorCorrection.decode(a,u,c)}static verifyCodewordCount(a,c){if(a.length<4)throw V.getFormatInstance();let u=a[0];if(u>a.length)throw V.getFormatInstance();if(u===0)if(c<a.length)a[0]=a.length-c;else throw V.getFormatInstance()}static getBitCountForCodeword(a){let c=new Int32Array(8),u=0,h=c.length-1;for(;!((a&1)!==u&&(u=a&1,h--,h<0));)c[h]++,a>>=1;return c}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return vt.getCodewordBucketNumber(vt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let c=new ri;for(let u=0;u<a.length;u++){c.format("Row %2d: ",u);for(let h=0;h<a[u].length;h++){let g=a[u][h];g.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}c.format("%n")}return c.toString()}}vt.CODEWORD_SKEW_SIZE=2,vt.MAX_ERRORS=3,vt.MAX_EC_CODEWORDS=512,vt.errorCorrection=new us;class ur{decode(a,c=null){let u=ur.decode(a,c,!1);if(u==null||u.length===0||u[0]==null)throw le.getNotFoundInstance();return u[0]}decodeMultiple(a,c=null){try{return ur.decode(a,c,!0)}catch(u){throw u instanceof V||u instanceof R?le.getNotFoundInstance():u}}static decode(a,c,u){const h=new Array,g=ut.detectMultiple(a,c,u);for(const w of g.getPoints()){const v=vt.decode(g.getBits(),w[4],w[5],w[6],w[7],ur.getMinCodewordWidth(w),ur.getMaxCodewordWidth(w)),T=new Ge(v.getText(),v.getRawBytes(),void 0,w,Ce.PDF_417);T.putMetadata(He.ERROR_CORRECTION_LEVEL,v.getECLevel());const C=v.getOther();C!=null&&T.putMetadata(He.PDF417_EXTRA_METADATA,C),h.push(T)}return h.map(w=>w)}static getMaxWidth(a,c){return a==null||c==null?0:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMinWidth(a,c){return a==null||c==null?L.MAX_VALUE:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(ur.getMaxWidth(a[0],a[4]),ur.getMaxWidth(a[6],a[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.max(ur.getMaxWidth(a[1],a[5]),ur.getMaxWidth(a[7],a[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(ur.getMinWidth(a[0],a[4]),ur.getMinWidth(a[6],a[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.min(ur.getMinWidth(a[1],a[5]),ur.getMinWidth(a[7],a[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}reset(){}}class js extends x{}js.kind="ReaderException";class Hs{constructor(a,c){this.verbose=a===!0,c&&this.setHints(c)}decode(a,c){return c&&this.setHints(c),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const c=!r(a)&&a.get(ie.TRY_HARDER)===!0,u=r(a)?null:a.get(ie.POSSIBLE_FORMATS),h=new Array;if(!r(u)){const g=u.some(w=>w===Ce.UPC_A||w===Ce.UPC_E||w===Ce.EAN_13||w===Ce.EAN_8||w===Ce.CODABAR||w===Ce.CODE_39||w===Ce.CODE_93||w===Ce.CODE_128||w===Ce.ITF||w===Ce.RSS_14||w===Ce.RSS_EXPANDED);g&&!c&&h.push(new bi(a,this.verbose)),u.includes(Ce.QR_CODE)&&h.push(new Vi),u.includes(Ce.DATA_MATRIX)&&h.push(new ti),u.includes(Ce.AZTEC)&&h.push(new to),u.includes(Ce.PDF_417)&&h.push(new ur),g&&c&&h.push(new bi(a,this.verbose))}h.length===0&&(c||h.push(new bi(a,this.verbose)),h.push(new Vi),h.push(new ti),h.push(new to),h.push(new ur),c&&h.push(new bi(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new js("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(a,this.hints)}catch(u){if(u instanceof js)continue}throw new le("No MultiFormat Readers were able to detect the code.")}}class sc extends Oe{constructor(a=null,c=500){const u=new Hs;u.setHints(a),super(u,c)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class ac extends Oe{constructor(a=500){super(new ur,a)}}class ml extends Oe{constructor(a=500){super(new Vi,a)}}var Ns;(function(j){j[j.ERROR_CORRECTION=0]="ERROR_CORRECTION",j[j.CHARACTER_SET=1]="CHARACTER_SET",j[j.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",j[j.MIN_SIZE=3]="MIN_SIZE",j[j.MAX_SIZE=4]="MAX_SIZE",j[j.MARGIN=5]="MARGIN",j[j.PDF417_COMPACT=6]="PDF417_COMPACT",j[j.PDF417_COMPACTION=7]="PDF417_COMPACTION",j[j.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",j[j.AZTEC_LAYERS=9]="AZTEC_LAYERS",j[j.QR_VERSION=10]="QR_VERSION"})(Ns||(Ns={}));var qn=Ns;class Gs{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new et(a,Int32Array.from([1])))}buildGenerator(a){const c=this.cachedGenerators;if(a>=c.length){let u=c[c.length-1];const h=this.field;for(let g=c.length;g<=a;g++){const w=u.multiply(new et(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));c.push(w),u=w}}return c[a]}encode(a,c){if(c===0)throw new A("No error correction bytes");const u=a.length-c;if(u<=0)throw new A("No data bytes provided");const h=this.buildGenerator(c),g=new Int32Array(u);k.arraycopy(a,0,g,0,u);let w=new et(this.field,g);w=w.multiplyByMonomial(c,1);const T=w.divide(h)[1].getCoefficients(),C=c-T.length;for(let D=0;D<C;D++)a[u+D]=0;k.arraycopy(T,0,a,u+C,T.length)}}class Cn{constructor(){}static applyMaskPenaltyRule1(a){return Cn.applyMaskPenaltyRule1Internal(a,!0)+Cn.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let w=0;w<g-1;w++){const v=u[w];for(let T=0;T<h-1;T++){const C=v[T];C===v[T+1]&&C===u[w+1][T]&&C===u[w+1][T+1]&&c++}}return Cn.N2*c}static applyMaskPenaltyRule3(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let w=0;w<g;w++)for(let v=0;v<h;v++){const T=u[w];v+6<h&&T[v]===1&&T[v+1]===0&&T[v+2]===1&&T[v+3]===1&&T[v+4]===1&&T[v+5]===0&&T[v+6]===1&&(Cn.isWhiteHorizontal(T,v-4,v)||Cn.isWhiteHorizontal(T,v+7,v+11))&&c++,w+6<g&&u[w][v]===1&&u[w+1][v]===0&&u[w+2][v]===1&&u[w+3][v]===1&&u[w+4][v]===1&&u[w+5][v]===0&&u[w+6][v]===1&&(Cn.isWhiteVertical(u,v,w-4,w)||Cn.isWhiteVertical(u,v,w+7,w+11))&&c++}return c*Cn.N3}static isWhiteHorizontal(a,c,u){c=Math.max(c,0),u=Math.min(u,a.length);for(let h=c;h<u;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,c,u,h){u=Math.max(u,0),h=Math.min(h,a.length);for(let g=u;g<h;g++)if(a[g][c]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let c=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let T=0;T<g;T++){const C=u[T];for(let D=0;D<h;D++)C[D]===1&&c++}const w=a.getHeight()*a.getWidth();return Math.floor(Math.abs(c*2-w)*10/w)*Cn.N4}static getDataMaskBit(a,c,u){let h,g;switch(a){case 0:h=u+c&1;break;case 1:h=u&1;break;case 2:h=c%3;break;case 3:h=(u+c)%3;break;case 4:h=Math.floor(u/2)+Math.floor(c/3)&1;break;case 5:g=u*c,h=(g&1)+g%3;break;case 6:g=u*c,h=(g&1)+g%3&1;break;case 7:g=u*c,h=g%3+(u+c&1)&1;break;default:throw new A("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,c){let u=0;const h=c?a.getHeight():a.getWidth(),g=c?a.getWidth():a.getHeight(),w=a.getArray();for(let v=0;v<h;v++){let T=0,C=-1;for(let D=0;D<g;D++){const H=c?w[v][D]:w[D][v];H===C?T++:(T>=5&&(u+=Cn.N1+(T-5)),T=1,C=H)}T>=5&&(u+=Cn.N1+(T-5))}return u}}Cn.N1=3,Cn.N2=3,Cn.N3=40,Cn.N4=10;class qs{constructor(a,c){this.width=a,this.height=c;const u=new Array(c);for(let h=0;h!==c;h++)u[h]=new Uint8Array(a);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(a,c){return this.bytes[c][a]}getArray(){return this.bytes}setNumber(a,c,u){this.bytes[c][a]=u}setBoolean(a,c,u){this.bytes[c][a]=u?1:0}clear(a){for(const c of this.bytes)K.fill(c,a)}equals(a){if(!(a instanceof qs))return!1;const c=a;if(this.width!==c.width||this.height!==c.height)return!1;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u],w=c.bytes[u];for(let v=0,T=this.width;v<T;++v)if(g[v]!==w[v])return!1}return!0}toString(){const a=new q;for(let c=0,u=this.height;c<u;++c){const h=this.bytes[c];for(let g=0,w=this.width;g<w;++g)switch(h[g]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class qr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new q;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<qr.NUM_MASK_PATTERNS}}qr.NUM_MASK_PATTERNS=8;class sn extends x{}sn.kind="WriterException";class ot{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,c,u,h,g){ot.clearMatrix(g),ot.embedBasicPatterns(u,g),ot.embedTypeInfo(c,h,g),ot.maybeEmbedVersionInfo(u,g),ot.embedDataBits(a,h,g)}static embedBasicPatterns(a,c){ot.embedPositionDetectionPatternsAndSeparators(c),ot.embedDarkDotAtLeftBottomCorner(c),ot.maybeEmbedPositionAdjustmentPatterns(a,c),ot.embedTimingPatterns(c)}static embedTypeInfo(a,c,u){const h=new $;ot.makeTypeInfoBits(a,c,h);for(let g=0,w=h.getSize();g<w;++g){const v=h.get(h.getSize()-1-g),T=ot.TYPE_INFO_COORDINATES[g],C=T[0],D=T[1];if(u.setBoolean(C,D,v),g<8){const H=u.getWidth()-g-1;u.setBoolean(H,8,v)}else{const Q=u.getHeight()-7+(g-8);u.setBoolean(8,Q,v)}}}static maybeEmbedVersionInfo(a,c){if(a.getVersionNumber()<7)return;const u=new $;ot.makeVersionInfoBits(a,u);let h=6*3-1;for(let g=0;g<6;++g)for(let w=0;w<3;++w){const v=u.get(h);h--,c.setBoolean(g,c.getHeight()-11+w,v),c.setBoolean(c.getHeight()-11+w,g,v)}}static embedDataBits(a,c,u){let h=0,g=-1,w=u.getWidth()-1,v=u.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);v>=0&&v<u.getHeight();){for(let T=0;T<2;++T){const C=w-T;if(!ot.isEmpty(u.get(C,v)))continue;let D;h<a.getSize()?(D=a.get(h),++h):D=!1,c!==255&&Cn.getDataMaskBit(c,C,v)&&(D=!D),u.setBoolean(C,v,D)}v+=g}g=-g,v+=g,w-=2}if(h!==a.getSize())throw new sn("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-L.numberOfLeadingZeros(a)}static calculateBCHCode(a,c){if(c===0)throw new A("0 polynomial");const u=ot.findMSBSet(c);for(a<<=u-1;ot.findMSBSet(a)>=u;)a^=c<<ot.findMSBSet(a)-u;return a}static makeTypeInfoBits(a,c,u){if(!qr.isValidMaskPattern(c))throw new sn("Invalid mask pattern");const h=a.getBits()<<3|c;u.appendBits(h,5);const g=ot.calculateBCHCode(h,ot.TYPE_INFO_POLY);u.appendBits(g,10);const w=new $;if(w.appendBits(ot.TYPE_INFO_MASK_PATTERN,15),u.xor(w),u.getSize()!==15)throw new sn("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(a,c){c.appendBits(a.getVersionNumber(),6);const u=ot.calculateBCHCode(a.getVersionNumber(),ot.VERSION_INFO_POLY);if(c.appendBits(u,12),c.getSize()!==18)throw new sn("should not happen but we got: "+c.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let c=8;c<a.getWidth()-8;++c){const u=(c+1)%2;ot.isEmpty(a.get(c,6))&&a.setNumber(c,6,u),ot.isEmpty(a.get(6,c))&&a.setNumber(6,c,u)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new sn;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,c,u){for(let h=0;h<8;++h){if(!ot.isEmpty(u.get(a+h,c)))throw new sn;u.setNumber(a+h,c,0)}}static embedVerticalSeparationPattern(a,c,u){for(let h=0;h<7;++h){if(!ot.isEmpty(u.get(a,c+h)))throw new sn;u.setNumber(a,c+h,0)}}static embedPositionAdjustmentPattern(a,c,u){for(let h=0;h<5;++h){const g=ot.POSITION_ADJUSTMENT_PATTERN[h];for(let w=0;w<5;++w)u.setNumber(a+w,c+h,g[w])}}static embedPositionDetectionPattern(a,c,u){for(let h=0;h<7;++h){const g=ot.POSITION_DETECTION_PATTERN[h];for(let w=0;w<7;++w)u.setNumber(a+w,c+h,g[w])}}static embedPositionDetectionPatternsAndSeparators(a){const c=ot.POSITION_DETECTION_PATTERN[0].length;ot.embedPositionDetectionPattern(0,0,a),ot.embedPositionDetectionPattern(a.getWidth()-c,0,a),ot.embedPositionDetectionPattern(0,a.getWidth()-c,a);const u=8;ot.embedHorizontalSeparationPattern(0,u-1,a),ot.embedHorizontalSeparationPattern(a.getWidth()-u,u-1,a),ot.embedHorizontalSeparationPattern(0,a.getWidth()-u,a);const h=7;ot.embedVerticalSeparationPattern(h,0,a),ot.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),ot.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,c){if(a.getVersionNumber()<2)return;const u=a.getVersionNumber()-1,h=ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,w=h.length;g!==w;g++){const v=h[g];if(v>=0)for(let T=0;T!==w;T++){const C=h[T];C>=0&&ot.isEmpty(c.get(C,v))&&ot.embedPositionAdjustmentPattern(C-2,v-2,c)}}}}ot.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ot.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ot.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ot.VERSION_INFO_POLY=7973,ot.TYPE_INFO_POLY=1335,ot.TYPE_INFO_MASK_PATTERN=21522;class oc{constructor(a,c){this.dataBytes=a,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class dn{constructor(){}static calculateMaskPenalty(a){return Cn.applyMaskPenaltyRule1(a)+Cn.applyMaskPenaltyRule2(a)+Cn.applyMaskPenaltyRule3(a)+Cn.applyMaskPenaltyRule4(a)}static encode(a,c,u=null){let h=dn.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(qn.CHARACTER_SET)!==void 0;g&&(h=u.get(qn.CHARACTER_SET).toString());const w=this.chooseMode(a,h),v=new $;if(w===rt.BYTE&&(g||dn.DEFAULT_BYTE_MODE_ENCODING!==h)){const Ue=O.getCharacterSetECIByName(h);Ue!==void 0&&this.appendECI(Ue,v)}this.appendModeInfo(w,v);const T=new $;this.appendBytes(a,w,T,h);let C;if(u!==null&&u.get(qn.QR_VERSION)!==void 0){const Ue=Number.parseInt(u.get(qn.QR_VERSION).toString(),10);C=je.getVersionForNumber(Ue);const Be=this.calculateBitsNeeded(w,v,T,C);if(!this.willFit(Be,C,c))throw new sn("Data too big for requested version")}else C=this.recommendVersion(c,w,v,T);const D=new $;D.appendBitArray(v);const H=w===rt.BYTE?T.getSizeInBytes():a.length;this.appendLengthInfo(H,C,w,D),D.appendBitArray(T);const Q=C.getECBlocksForLevel(c),se=C.getTotalCodewords()-Q.getTotalECCodewords();this.terminateBits(se,D);const ce=this.interleaveWithECBytes(D,C.getTotalCodewords(),se,Q.getNumBlocks()),ue=new qr;ue.setECLevel(c),ue.setMode(w),ue.setVersion(C);const me=C.getDimensionForVersion(),_e=new qs(me,me),Ve=this.chooseMaskPattern(ce,c,C,_e);return ue.setMaskPattern(Ve),ot.buildMatrix(ce,c,C,Ve,_e),ue.setMatrix(_e),ue}static recommendVersion(a,c,u,h){const g=this.calculateBitsNeeded(c,u,h,je.getVersionForNumber(1)),w=this.chooseVersion(g,a),v=this.calculateBitsNeeded(c,u,h,w);return this.chooseVersion(v,a)}static calculateBitsNeeded(a,c,u,h){return c.getSize()+a.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(a){return a<dn.ALPHANUMERIC_TABLE.length?dn.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,c=null){if(O.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(a))return rt.KANJI;let u=!1,h=!1;for(let g=0,w=a.length;g<w;++g){const v=a.charAt(g);if(dn.isDigit(v))u=!0;else if(this.getAlphanumericCode(v.charCodeAt(0))!==-1)h=!0;else return rt.BYTE}return h?rt.ALPHANUMERIC:u?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(a){let c;try{c=X.encode(a,O.SJIS)}catch{return!1}const u=c.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const g=c[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(a,c,u,h){let g=Number.MAX_SAFE_INTEGER,w=-1;for(let v=0;v<qr.NUM_MASK_PATTERNS;v++){ot.buildMatrix(a,c,u,v,h);let T=this.calculateMaskPenalty(h);T<g&&(g=T,w=v)}return w}static chooseVersion(a,c){for(let u=1;u<=40;u++){const h=je.getVersionForNumber(u);if(dn.willFit(a,h,c))return h}throw new sn("Data too big")}static willFit(a,c,u){const h=c.getTotalCodewords(),w=c.getECBlocksForLevel(u).getTotalECCodewords(),v=h-w,T=(a+7)/8;return v>=T}static terminateBits(a,c){const u=a*8;if(c.getSize()>u)throw new sn("data bits cannot fit in the QR Code"+c.getSize()+" > "+u);for(let w=0;w<4&&c.getSize()<u;++w)c.appendBit(!1);const h=c.getSize()&7;if(h>0)for(let w=h;w<8;w++)c.appendBit(!1);const g=a-c.getSizeInBytes();for(let w=0;w<g;++w)c.appendBits((w&1)===0?236:17,8);if(c.getSize()!==u)throw new sn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,c,u,h,g,w){if(h>=u)throw new sn("Block ID too large");const v=a%u,T=u-v,C=Math.floor(a/u),D=C+1,H=Math.floor(c/u),Q=H+1,se=C-H,ce=D-Q;if(se!==ce)throw new sn("EC bytes mismatch");if(u!==T+v)throw new sn("RS blocks mismatch");if(a!==(H+se)*T+(Q+ce)*v)throw new sn("Total bytes mismatch");h<T?(g[0]=H,w[0]=se):(g[0]=Q,w[0]=ce)}static interleaveWithECBytes(a,c,u,h){if(a.getSizeInBytes()!==u)throw new sn("Number of bits and data bytes does not match");let g=0,w=0,v=0;const T=new Array;for(let D=0;D<h;++D){const H=new Int32Array(1),Q=new Int32Array(1);dn.getNumDataBytesAndNumECBytesForBlockID(c,u,h,D,H,Q);const se=H[0],ce=new Uint8Array(se);a.toBytes(8*g,ce,0,se);const ue=dn.generateECBytes(ce,Q[0]);T.push(new oc(ce,ue)),w=Math.max(w,se),v=Math.max(v,ue.length),g+=H[0]}if(u!==g)throw new sn("Data bytes does not match offset");const C=new $;for(let D=0;D<w;++D)for(const H of T){const Q=H.getDataBytes();D<Q.length&&C.appendBits(Q[D],8)}for(let D=0;D<v;++D)for(const H of T){const Q=H.getErrorCorrectionBytes();D<Q.length&&C.appendBits(Q[D],8)}if(c!==C.getSizeInBytes())throw new sn("Interleaving error: "+c+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(a,c){const u=a.length,h=new Int32Array(u+c);for(let w=0;w<u;w++)h[w]=a[w]&255;new Gs(nt.QR_CODE_FIELD_256).encode(h,c);const g=new Uint8Array(c);for(let w=0;w<c;w++)g[w]=h[u+w];return g}static appendModeInfo(a,c){c.appendBits(a.getBits(),4)}static appendLengthInfo(a,c,u,h){const g=u.getCharacterCountBits(c);if(a>=1<<g)throw new sn(a+" is bigger than "+((1<<g)-1));h.appendBits(a,g)}static appendBytes(a,c,u,h){switch(c){case rt.NUMERIC:dn.appendNumericBytes(a,u);break;case rt.ALPHANUMERIC:dn.appendAlphanumericBytes(a,u);break;case rt.BYTE:dn.append8BitBytes(a,u,h);break;case rt.KANJI:dn.appendKanjiBytes(a,u);break;default:throw new sn("Invalid mode: "+c)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const c=dn.getDigit(a);return c>=0&&c<=9}static appendNumericBytes(a,c){const u=a.length;let h=0;for(;h<u;){const g=dn.getDigit(a.charAt(h));if(h+2<u){const w=dn.getDigit(a.charAt(h+1)),v=dn.getDigit(a.charAt(h+2));c.appendBits(g*100+w*10+v,10),h+=3}else if(h+1<u){const w=dn.getDigit(a.charAt(h+1));c.appendBits(g*10+w,7),h+=2}else c.appendBits(g,4),h++}}static appendAlphanumericBytes(a,c){const u=a.length;let h=0;for(;h<u;){const g=dn.getAlphanumericCode(a.charCodeAt(h));if(g===-1)throw new sn;if(h+1<u){const w=dn.getAlphanumericCode(a.charCodeAt(h+1));if(w===-1)throw new sn;c.appendBits(g*45+w,11),h+=2}else c.appendBits(g,6),h++}}static append8BitBytes(a,c,u){let h;try{h=X.encode(a,u)}catch(g){throw new sn(g)}for(let g=0,w=h.length;g!==w;g++){const v=h[g];c.appendBits(v,8)}}static appendKanjiBytes(a,c){let u;try{u=X.encode(a,O.SJIS)}catch(g){throw new sn(g)}const h=u.length;for(let g=0;g<h;g+=2){const w=u[g]&255,v=u[g+1]&255,T=w<<8&4294967295|v;let C=-1;if(T>=33088&&T<=40956?C=T-33088:T>=57408&&T<=60351&&(C=T-49472),C===-1)throw new sn("Invalid byte sequence");const D=(C>>8)*192+(C&255);c.appendBits(D,13)}}static appendECI(a,c){c.appendBits(rt.ECI.getBits(),4),c.appendBits(a.getValue(),8)}}dn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),dn.DEFAULT_BYTE_MODE_ENCODING=O.UTF8.getName();class Ti{write(a,c,u,h=null){if(a.length===0)throw new A("Found empty contents");if(c<0||u<0)throw new A("Requested dimensions are too small: "+c+"x"+u);let g=Dt.L,w=Ti.QUIET_ZONE_SIZE;h!==null&&(h.get(qn.ERROR_CORRECTION)!==void 0&&(g=Dt.fromString(h.get(qn.ERROR_CORRECTION).toString())),h.get(qn.MARGIN)!==void 0&&(w=Number.parseInt(h.get(qn.MARGIN).toString(),10)));const v=dn.encode(a,g,h);return this.renderResult(v,c,u,w)}writeToDom(a,c,u,h,g=null){typeof a=="string"&&(a=document.querySelector(a));const w=this.write(c,u,h,g);a&&a.appendChild(w)}renderResult(a,c,u,h){const g=a.getMatrix();if(g===null)throw new Lt;const w=g.getWidth(),v=g.getHeight(),T=w+h*2,C=v+h*2,D=Math.max(c,T),H=Math.max(u,C),Q=Math.min(Math.floor(D/T),Math.floor(H/C)),se=Math.floor((D-w*Q)/2),ce=Math.floor((H-v*Q)/2),ue=this.createSVGElement(D,H);for(let me=0,_e=ce;me<v;me++,_e+=Q)for(let Ve=0,Ue=se;Ve<w;Ve++,Ue+=Q)if(g.get(Ve,me)===1){const Be=this.createSvgRectElement(Ue,_e,Q,Q);ue.appendChild(Be)}return ue}createSVGElement(a,c){const u=document.createElementNS(Ti.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u}createSvgRectElement(a,c,u,h){const g=document.createElementNS(Ti.SVG_NS,"rect");return g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",c.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}Ti.QUIET_ZONE_SIZE=4,Ti.SVG_NS="http://www.w3.org/2000/svg";class nr{encode(a,c,u,h,g){if(a.length===0)throw new A("Found empty contents");if(c!==Ce.QR_CODE)throw new A("Can only encode QR_CODE, but got "+c);if(u<0||h<0)throw new A(`Requested dimensions are too small: ${u}x${h}`);let w=Dt.L,v=nr.QUIET_ZONE_SIZE;g!==null&&(g.get(qn.ERROR_CORRECTION)!==void 0&&(w=Dt.fromString(g.get(qn.ERROR_CORRECTION).toString())),g.get(qn.MARGIN)!==void 0&&(v=Number.parseInt(g.get(qn.MARGIN).toString(),10)));const T=dn.encode(a,w,g);return nr.renderResult(T,u,h,v)}static renderResult(a,c,u,h){const g=a.getMatrix();if(g===null)throw new Lt;const w=g.getWidth(),v=g.getHeight(),T=w+h*2,C=v+h*2,D=Math.max(c,T),H=Math.max(u,C),Q=Math.min(Math.floor(D/T),Math.floor(H/C)),se=Math.floor((D-w*Q)/2),ce=Math.floor((H-v*Q)/2),ue=new be(D,H);for(let me=0,_e=ce;me<v;me++,_e+=Q)for(let Ve=0,Ue=se;Ve<w;Ve++,Ue+=Q)g.get(Ve,me)===1&&ue.setRegion(Ue,_e,Q,Q);return ue}}nr.QUIET_ZONE_SIZE=4;class lc{encode(a,c,u,h,g){let w;switch(c){case Ce.QR_CODE:w=new nr;break;default:throw new A("No encoder available for format "+c)}return w.encode(a,c,u,h,g)}}class pi extends we{constructor(a,c,u,h,g,w,v,T){if(super(w,v),this.yuvData=a,this.dataWidth=c,this.dataHeight=u,this.left=h,this.top=g,h+w>c||g+v>u)throw new A("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(w,v)}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,h,c,0,u),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.yuvData;const u=a*c,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return k.arraycopy(this.yuvData,g,h,0,u),h;for(let w=0;w<c;w++){const v=w*a;k.arraycopy(this.yuvData,g,h,v,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,c,u,h){return new pi(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+c,u,h,!1)}renderThumbnail(){const a=this.getWidth()/pi.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/pi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*c),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let w=0;w<c;w++){const v=w*a;for(let T=0;T<a;T++){const C=h[g+T*pi.THUMBNAIL_SCALE_FACTOR]&255;u[v+T]=4278190080|C*65793}g+=this.dataWidth*pi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/pi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,c){const u=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<c;h++,g+=this.dataWidth){const w=g+a/2;for(let v=g,T=g+a-1;v<w;v++,T--){const C=u[v];u[v]=u[T],u[T]=C}}}invert(){return new Re(this)}}pi.THUMBNAIL_SCALE_FACTOR=2;class Ai extends we{constructor(a,c,u,h,g,w,v){if(super(c,u),this.dataWidth=h,this.dataHeight=g,this.left=w,this.top=v,a.BYTES_PER_ELEMENT===4){const T=c*u,C=new Uint8ClampedArray(T);for(let D=0;D<T;D++){const H=a[D],Q=H>>16&255,se=H>>7&510,ce=H&255;C[D]=(Q+se+ce)/4&255}this.luminances=C}else this.luminances=a;if(h===void 0&&(this.dataWidth=c),g===void 0&&(this.dataHeight=u),w===void 0&&(this.left=0),v===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+u>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,h,c,0,u),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.luminances;const u=a*c,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return k.arraycopy(this.luminances,g,h,0,u),h;for(let w=0;w<c;w++){const v=w*a;k.arraycopy(this.luminances,g,h,v,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,c,u,h){return new Ai(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+a,this.top+c)}invert(){return new Re(this)}}class b extends O{static forName(a){return this.getCharacterSetECIByName(a)}}class N{}N.ISO_8859_1=O.ISO8859_1;class U{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class ee{static singletonList(a){return[a]}static min(a,c){return a.sort(c)[0]}}class pe{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Se extends pe{constructor(a,c,u){super(a),this.value=c,this.bitCount=u}appendTo(a,c){a.appendBits(this.value,this.bitCount)}add(a,c){return new Se(this,a,c)}addBinaryShift(a,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Se(this,a,c)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+L.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class ze extends Se{constructor(a,c,u){super(a,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=u}appendTo(a,c){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):u===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(c[this.binaryShiftStart+u],8)}addBinaryShift(a,c){return new ze(this,a,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function zt(j,a,c){return new ze(j,a,c)}function Pn(j,a,c){return new Se(j,a,c)}const jt=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],In=0,Yn=1,rr=2,yr=3,dr=4,yl=new Se(null,0,0),uo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Sf(j){for(let a of j)K.fill(a,-1);return j[In][dr]=0,j[Yn][dr]=0,j[Yn][In]=28,j[yr][dr]=0,j[rr][dr]=0,j[rr][In]=15,j}const Du=Sf(K.createInt32Array(6,6));class Si{constructor(a,c,u,h){this.token=a,this.mode=c,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,c){let u=this.bitCount,h=this.token;if(a!==this.mode){let w=uo[this.mode][a];h=Pn(h,w&65535,w>>16),u+=w>>16}let g=a===rr?4:5;return h=Pn(h,c,g),new Si(h,a,0,u+g)}shiftAndAppend(a,c){let u=this.token,h=this.mode===rr?4:5;return u=Pn(u,Du[this.mode][a],h),u=Pn(u,c,5),new Si(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let c=this.token,u=this.mode,h=this.bitCount;if(this.mode===dr||this.mode===rr){let v=uo[u][In];c=Pn(c,v&65535,v>>16),h+=v>>16,u=In}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new Si(c,u,this.binaryShiftByteCount+1,h+g);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(a+1)),w}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=zt(c,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Si(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let c=this.bitCount+(uo[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?c+=Si.calculateBinaryShiftCost(a)-Si.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(c+=10),c<=a.bitCount}toBitArray(a){let c=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())c.unshift(h);let u=new $;for(const h of c)h.appendTo(u,a);return u}toString(){return Y.format("%s bits=%d bytes=%d",jt[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Si.INITIAL_STATE=new Si(yl,In,0,0);function Ou(j){const a=Y.getCharCode(" "),c=Y.getCharCode("."),u=Y.getCharCode(",");j[In][a]=1;const h=Y.getCharCode("Z"),g=Y.getCharCode("A");for(let Q=g;Q<=h;Q++)j[In][Q]=Q-g+2;j[Yn][a]=1;const w=Y.getCharCode("z"),v=Y.getCharCode("a");for(let Q=v;Q<=w;Q++)j[Yn][Q]=Q-v+2;j[rr][a]=1;const T=Y.getCharCode("9"),C=Y.getCharCode("0");for(let Q=C;Q<=T;Q++)j[rr][Q]=Q-C+2;j[rr][u]=12,j[rr][c]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Q=0;Q<D.length;Q++)j[yr][Y.getCharCode(D[Q])]=Q;const H=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Q=0;Q<H.length;Q++)Y.getCharCode(H[Q])>0&&(j[dr][Y.getCharCode(H[Q])]=Q);return j}const cc=Ou(K.createInt32Array(5,256));class fo{constructor(a){this.text=a}encode(){const a=Y.getCharCode(" "),c=Y.getCharCode(`
`);let u=ee.singletonList(Si.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let w,v=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case Y.getCharCode("\r"):w=v===c?2:0;break;case Y.getCharCode("."):w=v===a?3:0;break;case Y.getCharCode(","):w=v===a?4:0;break;case Y.getCharCode(":"):w=v===a?5:0;break;default:w=0}w>0?(u=fo.updateStateListForPair(u,g,w),g++):u=this.updateStateListForChar(u,g)}return ee.min(u,(g,w)=>g.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,c){const u=[];for(let h of a)this.updateStateForChar(h,c,u);return fo.simplifyStates(u)}updateStateForChar(a,c,u){let h=this.text[c]&255,g=cc[a.getMode()][h]>0,w=null;for(let v=0;v<=dr;v++){let T=cc[v][h];if(T>0){if(w==null&&(w=a.endBinaryShift(c)),!g||v===a.getMode()||v===rr){const C=w.latchAndAppend(v,T);u.push(C)}if(!g&&Du[a.getMode()][v]>=0){const C=w.shiftAndAppend(v,T);u.push(C)}}}if(a.getBinaryShiftByteCount()>0||cc[a.getMode()][h]===0){let v=a.addBinaryShiftChar(c);u.push(v)}}static updateStateListForPair(a,c,u){const h=[];for(let g of a)this.updateStateForPair(g,c,u,h);return this.simplifyStates(h)}static updateStateForPair(a,c,u,h){let g=a.endBinaryShift(c);if(h.push(g.latchAndAppend(dr,u)),a.getMode()!==dr&&h.push(g.shiftAndAppend(dr,u)),u===3||u===4){let w=g.latchAndAppend(rr,16-u).latchAndAppend(rr,1);h.push(w)}if(a.getBinaryShiftByteCount()>0){let w=a.addBinaryShiftChar(c).addBinaryShiftChar(c+1);h.push(w)}}static simplifyStates(a){let c=[];for(const u of a){let h=!0;for(const g of c){if(g.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(g)&&(c=c.filter(w=>w!==g))}h&&c.push(u)}return c}}class Ht{constructor(){}static encodeBytes(a){return Ht.encode(a,Ht.DEFAULT_EC_PERCENT,Ht.DEFAULT_AZTEC_LAYERS)}static encode(a,c,u){let h=new fo(a).encode(),g=L.truncDivision(h.getSize()*c,100)+11,w=h.getSize()+g,v,T,C,D,H;if(u!==Ht.DEFAULT_AZTEC_LAYERS){if(v=u<0,T=Math.abs(u),T>(v?Ht.MAX_NB_BITS_COMPACT:Ht.MAX_NB_BITS))throw new A(Y.format("Illegal value %s for layers",u));C=Ht.totalBitsInLayer(T,v),D=Ht.WORD_SIZE[T];let Be=C-C%D;if(H=Ht.stuffBits(h,D),H.getSize()+g>Be)throw new A("Data to large for user specified layer");if(v&&H.getSize()>D*64)throw new A("Data to large for user specified layer")}else{D=0,H=null;for(let Be=0;;Be++){if(Be>Ht.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(v=Be<=3,T=v?Be+1:Be,C=Ht.totalBitsInLayer(T,v),w>C)continue;(H==null||D!==Ht.WORD_SIZE[T])&&(D=Ht.WORD_SIZE[T],H=Ht.stuffBits(h,D));let Tt=C-C%D;if(!(v&&H.getSize()>D*64)&&H.getSize()+g<=Tt)break}}let Q=Ht.generateCheckWords(H,C,D),se=H.getSize()/D,ce=Ht.generateModeMessage(v,T,se),ue=(v?11:14)+T*4,me=new Int32Array(ue),_e;if(v){_e=ue;for(let Be=0;Be<me.length;Be++)me[Be]=Be}else{_e=ue+1+2*L.truncDivision(L.truncDivision(ue,2)-1,15);let Be=L.truncDivision(ue,2),Tt=L.truncDivision(_e,2);for(let bt=0;bt<Be;bt++){let Yr=bt+L.truncDivision(bt,15);me[Be-bt-1]=Tt-Yr-1,me[Be+bt]=Tt+Yr+1}}let Ve=new be(_e);for(let Be=0,Tt=0;Be<T;Be++){let bt=(T-Be)*4+(v?9:12);for(let Yr=0;Yr<bt;Yr++){let Ci=Yr*2;for(let ii=0;ii<2;ii++)Q.get(Tt+Ci+ii)&&Ve.set(me[Be*2+ii],me[Be*2+Yr]),Q.get(Tt+bt*2+Ci+ii)&&Ve.set(me[Be*2+Yr],me[ue-1-Be*2-ii]),Q.get(Tt+bt*4+Ci+ii)&&Ve.set(me[ue-1-Be*2-ii],me[ue-1-Be*2-Yr]),Q.get(Tt+bt*6+Ci+ii)&&Ve.set(me[ue-1-Be*2-Yr],me[Be*2+ii])}Tt+=bt*8}if(Ht.drawModeMessage(Ve,v,_e,ce),v)Ht.drawBullsEye(Ve,L.truncDivision(_e,2),5);else{Ht.drawBullsEye(Ve,L.truncDivision(_e,2),7);for(let Be=0,Tt=0;Be<L.truncDivision(ue,2)-1;Be+=15,Tt+=16)for(let bt=L.truncDivision(_e,2)&1;bt<_e;bt+=2)Ve.set(L.truncDivision(_e,2)-Tt,bt),Ve.set(L.truncDivision(_e,2)+Tt,bt),Ve.set(bt,L.truncDivision(_e,2)-Tt),Ve.set(bt,L.truncDivision(_e,2)+Tt)}let Ue=new U;return Ue.setCompact(v),Ue.setSize(_e),Ue.setLayers(T),Ue.setCodeWords(se),Ue.setMatrix(Ve),Ue}static drawBullsEye(a,c,u){for(let h=0;h<u;h+=2)for(let g=c-h;g<=c+h;g++)a.set(g,c-h),a.set(g,c+h),a.set(c-h,g),a.set(c+h,g);a.set(c-u,c-u),a.set(c-u+1,c-u),a.set(c-u,c-u+1),a.set(c+u,c-u),a.set(c+u,c-u+1),a.set(c+u,c+u-1)}static generateModeMessage(a,c,u){let h=new $;return a?(h.appendBits(c-1,2),h.appendBits(u-1,6),h=Ht.generateCheckWords(h,28,4)):(h.appendBits(c-1,5),h.appendBits(u-1,11),h=Ht.generateCheckWords(h,40,4)),h}static drawModeMessage(a,c,u,h){let g=L.truncDivision(u,2);if(c)for(let w=0;w<7;w++){let v=g-3+w;h.get(w)&&a.set(v,g-5),h.get(w+7)&&a.set(g+5,v),h.get(20-w)&&a.set(v,g+5),h.get(27-w)&&a.set(g-5,v)}else for(let w=0;w<10;w++){let v=g-5+w+L.truncDivision(w,5);h.get(w)&&a.set(v,g-7),h.get(w+10)&&a.set(g+7,v),h.get(29-w)&&a.set(v,g+7),h.get(39-w)&&a.set(g-7,v)}}static generateCheckWords(a,c,u){let h=a.getSize()/u,g=new Gs(Ht.getGF(u)),w=L.truncDivision(c,u),v=Ht.bitsToWords(a,u,w);g.encode(v,w-h);let T=c%u,C=new $;C.appendBits(0,T);for(const D of Array.from(v))C.appendBits(D,u);return C}static bitsToWords(a,c,u){let h=new Int32Array(u),g,w;for(g=0,w=a.getSize()/c;g<w;g++){let v=0;for(let T=0;T<c;T++)v|=a.get(g*c+T)?1<<c-T-1:0;h[g]=v}return h}static getGF(a){switch(a){case 4:return nt.AZTEC_PARAM;case 6:return nt.AZTEC_DATA_6;case 8:return nt.AZTEC_DATA_8;case 10:return nt.AZTEC_DATA_10;case 12:return nt.AZTEC_DATA_12;default:throw new A("Unsupported word size "+a)}}static stuffBits(a,c){let u=new $,h=a.getSize(),g=(1<<c)-2;for(let w=0;w<h;w+=c){let v=0;for(let T=0;T<c;T++)(w+T>=h||a.get(w+T))&&(v|=1<<c-1-T);(v&g)===g?(u.appendBits(v&g,c),w--):(v&g)===0?(u.appendBits(v|1,c),w--):u.appendBits(v,c)}return u}static totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}Ht.DEFAULT_EC_PERCENT=33,Ht.DEFAULT_AZTEC_LAYERS=0,Ht.MAX_NB_BITS=32,Ht.MAX_NB_BITS_COMPACT=4,Ht.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class uc{encode(a,c,u,h){return this.encodeWithHints(a,c,u,h,null)}encodeWithHints(a,c,u,h,g){let w=N.ISO_8859_1,v=Ht.DEFAULT_EC_PERCENT,T=Ht.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(qn.CHARACTER_SET)&&(w=b.forName(g.get(qn.CHARACTER_SET).toString())),g.has(qn.ERROR_CORRECTION)&&(v=L.parseInt(g.get(qn.ERROR_CORRECTION).toString())),g.has(qn.AZTEC_LAYERS)&&(T=L.parseInt(g.get(qn.AZTEC_LAYERS).toString()))),uc.encodeLayers(a,c,u,h,w,v,T)}static encodeLayers(a,c,u,h,g,w,v){if(c!==Ce.AZTEC)throw new A("Can only encode AZTEC, but got "+c);let T=Ht.encode(Y.getBytes(a,g),w,v);return uc.renderResult(T,u,h)}static renderResult(a,c,u){let h=a.getMatrix();if(h==null)throw new Lt;let g=h.getWidth(),w=h.getHeight(),v=Math.max(c,g),T=Math.max(u,w),C=Math.min(v/g,T/w),D=(v-g*C)/2,H=(T-w*C)/2,Q=new be(v,T);for(let se=0,ce=H;se<w;se++,ce+=C)for(let ue=0,me=D;ue<g;ue++,me+=C)h.get(ue,se)&&Q.setRegion(me,ce,C,C);return Q}}t.AbstractExpandedDecoder=ss,t.ArgumentException=E,t.ArithmeticException=xt,t.AztecCode=U,t.AztecCodeReader=to,t.AztecCodeWriter=uc,t.AztecDecoder=Pt,t.AztecDetector=hl,t.AztecDetectorResult=ua,t.AztecEncoder=Ht,t.AztecHighLevelEncoder=fo,t.AztecPoint=tn,t.BarcodeFormat=Ce,t.Binarizer=M,t.BinaryBitmap=I,t.BitArray=$,t.BitMatrix=be,t.BitSource=Er,t.BrowserAztecCodeReader=da,t.BrowserBarcodeReader=nc,t.BrowserCodeReader=Oe,t.BrowserDatamatrixCodeReader=Mu,t.BrowserMultiFormatReader=sc,t.BrowserPDF417Reader=ac,t.BrowserQRCodeReader=ml,t.BrowserQRCodeSvgWriter=Ti,t.CharacterSetECI=O,t.ChecksumException=R,t.Code128Reader=Fe,t.Code39Reader=ln,t.DataMatrixDecodedBitStreamParser=os,t.DataMatrixReader=ti,t.DecodeHintType=ie,t.DecoderResult=Ye,t.DefaultGridSampler=en,t.DetectorResult=Ts,t.EAN13Reader=zr,t.EncodeHintType=qn,t.Exception=x,t.FormatException=V,t.GenericGF=nt,t.GenericGFPoly=et,t.GlobalHistogramBinarizer=ae,t.GridSampler=eo,t.GridSamplerInstance=er,t.HTMLCanvasElementLuminanceSource=ne,t.HybridBinarizer=fe,t.ITFReader=Qt,t.IllegalArgumentException=A,t.IllegalStateException=Lt,t.InvertedLuminanceSource=Re,t.LuminanceSource=we,t.MathUtils=_t,t.MultiFormatOneDReader=bi,t.MultiFormatReader=Hs,t.MultiFormatWriter=lc,t.NotFoundException=le,t.OneDReader=wn,t.PDF417DecodedBitStreamParser=Te,t.PDF417DecoderErrorCorrection=us,t.PDF417Reader=ur,t.PDF417ResultMetadata=ma,t.PerspectiveTransform=Kt,t.PlanarYUVLuminanceSource=pi,t.QRCodeByteMatrix=qs,t.QRCodeDataMask=kn,t.QRCodeDecodedBitStreamParser=Sn,t.QRCodeDecoderErrorCorrectionLevel=Dt,t.QRCodeDecoderFormatInformation=jn,t.QRCodeEncoder=dn,t.QRCodeEncoderQRCode=qr,t.QRCodeMaskUtil=Cn,t.QRCodeMatrixUtil=ot,t.QRCodeMode=rt,t.QRCodeReader=Vi,t.QRCodeVersion=je,t.QRCodeWriter=nr,t.RGBLuminanceSource=Ai,t.RSS14Reader=Nt,t.RSSExpandedReader=De,t.ReaderException=js,t.ReedSolomonDecoder=Jn,t.ReedSolomonEncoder=Gs,t.ReedSolomonException=on,t.Result=Ge,t.ResultMetadataType=He,t.ResultPoint=qe,t.StringUtils=Y,t.UnsupportedOperationException=W,t.VideoInputDevice=ye,t.WhiteRectangleDetector=fi,t.WriterException=sn,t.ZXingArrays=K,t.ZXingCharset=b,t.ZXingInteger=L,t.ZXingStandardCharsets=N,t.ZXingStringBuilder=q,t.ZXingStringEncoding=X,t.ZXingSystem=k,t.createAbstractExpandedDecoder=pl,Object.defineProperty(t,"__esModule",{value:!0})})}(Dd,Dd.exports)),Dd.exports}var Vn=hB();const gB=j0(Vn),pB=wT({__proto__:null,default:gB},[Vn]);var T_=function(){function n(e,t,r){if(this.formatMap=new Map([[Ze.QR_CODE,Vn.BarcodeFormat.QR_CODE],[Ze.AZTEC,Vn.BarcodeFormat.AZTEC],[Ze.CODABAR,Vn.BarcodeFormat.CODABAR],[Ze.CODE_39,Vn.BarcodeFormat.CODE_39],[Ze.CODE_93,Vn.BarcodeFormat.CODE_93],[Ze.CODE_128,Vn.BarcodeFormat.CODE_128],[Ze.DATA_MATRIX,Vn.BarcodeFormat.DATA_MATRIX],[Ze.MAXICODE,Vn.BarcodeFormat.MAXICODE],[Ze.ITF,Vn.BarcodeFormat.ITF],[Ze.EAN_13,Vn.BarcodeFormat.EAN_13],[Ze.EAN_8,Vn.BarcodeFormat.EAN_8],[Ze.PDF_417,Vn.BarcodeFormat.PDF_417],[Ze.RSS_14,Vn.BarcodeFormat.RSS_14],[Ze.RSS_EXPANDED,Vn.BarcodeFormat.RSS_EXPANDED],[Ze.UPC_A,Vn.BarcodeFormat.UPC_A],[Ze.UPC_E,Vn.BarcodeFormat.UPC_E],[Ze.UPC_EAN_EXTENSION,Vn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!pB)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var s=this.createZXingFormats(e),o=new Map;o.set(Vn.DecodeHintType.POSSIBLE_FORMATS,s),o.set(Vn.DecodeHintType.TRY_HARDER,!1),this.hints=o}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,s){try{r(t.decode(e))}catch(o){s(o)}})},n.prototype.decode=function(e){var t=new Vn.MultiFormatReader(this.verbose,this.hints),r=new Vn.HTMLCanvasElementLuminanceSource(e),s=new Vn.BinaryBitmap(new Vn.HybridBinarizer(r)),o=t.decode(s);return{text:o.text,format:zI.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,s){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?t.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),mB=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function p(E){try{x(r.next(E))}catch(A){f(A)}}function y(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?o(E.value):s(E.value).then(p,y)}x((r=r.apply(n,e||[])).next())})},yB=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(E){return y([x,E])}}function y(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){t.label=x[1];break}if(x[0]===6&&t.label<o[1]){t.label=o[1],o=x;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(x);break}o[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(n,t)}catch(E){x=[6,E],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},A_=function(){function n(e,t,r){if(this.formatMap=new Map([[Ze.QR_CODE,"qr_code"],[Ze.AZTEC,"aztec"],[Ze.CODABAR,"codabar"],[Ze.CODE_39,"code_39"],[Ze.CODE_93,"code_93"],[Ze.CODE_128,"code_128"],[Ze.DATA_MATRIX,"data_matrix"],[Ze.ITF,"itf"],[Ze.EAN_13,"ean_13"],[Ze.EAN_8,"ean_8"],[Ze.PDF_417,"pdf417"],[Ze.UPC_A,"upc_a"],[Ze.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var s=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return mB(this,void 0,void 0,function(){var t,r;return yB(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=s.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:zI.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,s=0,o=e;s<o.length;s++){var f=o[s],p=f.boundingBox.width*f.boundingBox.height;p>r&&(r=p,t=f)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?t.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,s){e.set(t,r)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),S_=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function p(E){try{x(r.next(E))}catch(A){f(A)}}function y(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?o(E.value):s(E.value).then(p,y)}x((r=r.apply(n,e||[])).next())})},C_=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(E){return y([x,E])}}function y(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){t.label=x[1];break}if(x[0]===6&&t.label<o[1]){t.label=o[1],o=x;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(x);break}o[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(n,t)}catch(E){x=[6,E],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},xB=function(){function n(e,t,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&A_.isSupported()?(this.primaryDecoder=new A_(e,r,s),this.secondaryDecoder=new T_(e,r,s)):this.primaryDecoder=new T_(e,r,s)}return n.prototype.decodeAsync=function(e){return S_(this,void 0,void 0,function(){var t;return C_(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return S_(this,void 0,void 0,function(){var t,r;return C_(this,function(s){switch(s.label){case 0:t=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){var s=r[t];e+=s}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),Ux=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L0=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function p(E){try{x(r.next(E))}catch(A){f(A)}}function y(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?o(E.value):s(E.value).then(p,y)}x((r=r.apply(n,e||[])).next())})},P0=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(E){return y([x,E])}}function y(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){t.label=x[1];break}if(x[0]===6&&t.label<o[1]){t.label=o[1],o=x;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(x);break}o[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(n,t)}catch(E){x=[6,E],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},qI=function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n}(),wB=function(n){Ux(e,n);function e(t,r){return n.call(this,t,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(qI),vB=function(n){Ux(e,n);function e(t){return n.call(this,"zoom",t)||this}return e}(wB),bB=function(n){Ux(e,n);function e(t){return n.call(this,"torch",t)||this}return e}(qI),EB=function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new vB(this.track)},n.prototype.torchFeature=function(){return new bB(this.track)},n}(),_B=function(){function n(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,s=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,s),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,r,s){return L0(this,void 0,void 0,function(){var o,f;return P0(this,function(p){switch(p.label){case 0:return o=new n(e,t,s),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:p.sent(),p.label=2;case 2:return o.setupSurface(),[2,o]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return L0(this,void 0,void 0,function(){return P0(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var s=e.mediaStream.getVideoTracks(),o=s.length,f=0;e.mediaStream.getVideoTracks().forEach(function(p){e.mediaStream.removeTrack(p),p.stop(),++f,f>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new EB(this.getFirstTrackOrFail())},n}(),TB=function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,r){return L0(this,void 0,void 0,function(){return P0(this,function(s){return[2,_B.create(e,this.mediaStream,t,r)]})})},n.create=function(e){return L0(this,void 0,void 0,function(){var t,r;return P0(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=s.sent(),[2,new n(r)]}})})},n}(),I_=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function p(E){try{x(r.next(E))}catch(A){f(A)}}function y(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?o(E.value):s(E.value).then(p,y)}x((r=r.apply(n,e||[])).next())})},R_=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(E){return y([x,E])}}function y(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){t.label=x[1];break}if(x[0]===6&&t.label<o[1]){t.label=o[1],o=x;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(x);break}o[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(n,t)}catch(E){x=[6,E],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},AB=function(){function n(){}return n.failIfNotSupported=function(){return I_(this,void 0,void 0,function(){return R_(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return I_(this,void 0,void 0,function(){return R_(this,function(t){return[2,TB.create(e)]})})},n}(),SB=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function p(E){try{x(r.next(E))}catch(A){f(A)}}function y(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?o(E.value):s(E.value).then(p,y)}x((r=r.apply(n,e||[])).next())})},CB=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(E){return y([x,E])}}function y(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){t.label=x[1];break}if(x[0]===6&&t.label<o[1]){t.label=o[1],o=x;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(x);break}o[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(n,t)}catch(E){x=[6,E],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},IB=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=Qc.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=Qc.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return SB(this,void 0,void 0,function(){var e,t,r,s,o,f,p;return CB(this,function(y){switch(y.label){case 0:return e=function(x){for(var E=x.getVideoTracks(),A=0,I=E;A<I.length;A++){var R=I[A];R.enabled=!1,R.stop(),x.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=y.sent(),s=[],o=0,f=r;o<f.length;o++)p=f[o],p.kind==="videoinput"&&s.push({id:p.deviceId,label:p.label});return e(t),[2,s]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var r=function(o){for(var f=[],p=0,y=o;p<y.length;p++){var x=y[p];x.kind==="video"&&f.push({id:x.id,label:x.label})}e(f)},s=MediaStreamTrack;s.getSources(r)})},n}(),ar;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(ar||(ar={}));var RB=function(){function n(){this.state=ar.NOT_STARTED,this.onGoingTransactionNewState=ar.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===ar.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ar.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===ar.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ar.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ar.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case ar.UNKNOWN:throw"Transition from unknown is not allowed";case ar.NOT_STARTED:this.failIfNewStateIs(e,[ar.PAUSED]);break;case ar.SCANNING:break;case ar.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,s=t;r<s.length;r++){var o=s[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n}(),NB=function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===ar.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==ar.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ar.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===ar.PAUSED},n}(),MB=function(){function n(){}return n.create=function(){return new NB(new RB)},n}(),DB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qi=function(n){DB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(ks),OB=function(){function n(e,t){this.logger=t,this.fps=Qi.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Qi.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?GI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!Js(this.qrbox)},n.create=function(e,t){return new n(e,t)},n}(),N_=function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new HI(this.verbose),this.qrcode=new xB(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=MB.create()}return n.prototype.start=function(e,t,r,s){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;s?f=s:f=this.verbose?this.logger.log:function(){};var p=OB.create(t,this.logger);this.clearElement();var y=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=y,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:Qi.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var A=this,I=this.stateManagerProxy.startTransition(ar.SCANNING);return new Promise(function(R,M){var k=x?p.videoConstraints:A.createVideoConstraints(e);if(!k){I.cancel(),M("videoConstraints should be defined");return}var G={};(!x||p.aspectRatio)&&(G.aspectRatio=p.aspectRatio);var F={onRenderSurfaceReady:function(K,L){A.setupUi(K,L,p),A.isScanning=!0,A.foreverScan(p,r,f)}};AB.failIfNotSupported().then(function(K){K.create(k).then(function(L){return L.render(o.element,G,F).then(function($){A.renderedCamera=$,I.execute(),R(null)}).catch(function($){I.cancel(),M($)})}).catch(function(L){I.cancel(),M(Qc.errorGettingUserMedia(L))})}).catch(function(K){I.cancel(),M(Qc.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ar.PAUSED),this.showPausedState(),(Js(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(ar.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(ar.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(Qi.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),t.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Js(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var f=new Image;f.onload=function(){var p=f.width,y=f.height,x=document.getElementById(r.elementId),E=x.clientWidth?x.clientWidth:Qi.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:y,Qi.FILE_SCAN_MIN_HEIGHT),I=r.computeCanvasDrawConfig(p,y,E,A);if(t){var R=r.createCanvasElement(E,A,"qr-canvas-visible");R.style.display="inline-block",x.appendChild(R);var M=R.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=E,M.canvas.height=A,M.drawImage(f,0,0,p,y,I.x,I.y,I.width,I.height)}var k=Qi.FILE_SCAN_HIDDEN_CANVAS_PADDING,G=Math.max(f.width,I.width),F=Math.max(f.height,I.height),K=G+2*k,L=F+2*k,$=r.createCanvasElement(K,L);x.appendChild($);var te=$.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=K,te.canvas.height=L,te.drawImage(f,0,0,p,y,k,k,G,F);try{r.qrcode.decodeRobustlyAsync($).then(function(ie){s(b_.createFromQrcodeResult(ie))}).catch(o)}catch(ie){o("QR code parse error, error = ".concat(ie))}},f.onerror=o,f.onabort=o,f.onstalled=o,f.onsuspend=o,f.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return IB.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!GI.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[Ze.QR_CODE,Ze.AZTEC,Ze.CODABAR,Ze.CODE_39,Ze.CODE_93,Ze.CODE_128,Ze.DATA_MATRIX,Ze.MAXICODE,Ze.ITF,Ze.EAN_13,Ze.EAN_8,Ze.PDF_417,Ze.RSS_14,Ze.RSS_EXPANDED,Ze.UPC_A,Ze.UPC_E,Ze.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=e.formatsToSupport;s<o.length;s++){var f=o[s];uB(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Js(e))return!0;if(!Js(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Js(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Js(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var f=this.toQrdimensions(e,t,o),p=function(x){if(x<Qi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Qi.MIN_QR_BOX_SIZE,"px.")},y=function(x){return x>e&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=e),x};p(f.width),p(f.height),f.width=y(f.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,t)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},n.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var s=Js(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,t,s);o.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&o.height<=t,p={x:0,y:0,width:e,height:t},y=f?this.getShadedRegionBounds(e,t,o):p,x=this.createCanvasElement(y.width,y.height),E={willReadFrequently:!0},A=x.getContext("2d",E);A.canvas.width=y.width,A.canvas.height=y.height,this.element.append(x),f&&this.possiblyInsertShadingElement(this.element,e,t,o),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=A,this.canvasElement=x},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Qc.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return e(s.text,b_.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=Qc.codeParseError(s);return t(o,jI.createFrom(o)),!1})},n.prototype.foreverScan=function(e,t,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),f=o.videoWidth/o.clientWidth,p=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*f,x=this.qrRegion.height*p,E=this.qrRegion.x*f,A=this.qrRegion.y*p;this.context.drawImage(o,E,A,y,x,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(e,t,r)},s.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(R){!R&&e.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(t,r).finally(function(){I()})):I()}).catch(function(R){s.logger.logError("Error happend while scanning context",R),I()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",r="deviceId",s={user:!0,environment:!0},o="exact",f=function(M){if(M in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},p=Object.keys(e);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var y=Object.keys(e)[0];if(y!==t&&y!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(y===t){var x=e.facingMode;if(typeof x=="string"){if(f(x))return{facingMode:x}}else if(typeof x=="object")if(o in x){if(f(x["".concat(o)]))return{facingMode:{exact:x["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(o in A)return{deviceId:{exact:A["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var I=typeof A;throw"Invalid type of 'deviceId' = ".concat(I)}}}var R=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},n.prototype.computeCanvasDrawConfig=function(e,t,r,s){if(e<=r&&t<=s){var o=(r-e)/2,f=(s-t)/2;return{x:o,y:f,width:e,height:t}}else{var p=e,y=t;return e>r&&(t=r/e*t,e=r),t>s&&(e=s/t*e,t=s),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(y)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,s)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?Qi.BORDER_SHADER_MATCH_COLOR:Qi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var s=e,o=t,f=document.createElement("canvas");return f.style.width="".concat(s,"px"),f.style.height="".concat(o,"px"),f.style.display="none",f.id=Js(r)?"qr-canvas":r,f},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,s){if(!(t-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var f=(t-s.width)/2,p=(r-s.height)/2;if(o.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Qi.SHADED_REGION_ELEMENT_ID),t-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var y=5,x=40;this.insertShaderBorders(o,x,y,-y,null,0,!0),this.insertShaderBorders(o,x,y,-y,null,0,!1),this.insertShaderBorders(o,x,y,null,-y,0,!0),this.insertShaderBorders(o,x,y,null,-y,0,!1),this.insertShaderBorders(o,y,x+y,-y,null,-y,!0),this.insertShaderBorders(o,y,x+y,null,-y,-y,!0),this.insertShaderBorders(o,y,x+y,-y,null,-y,!1),this.insertShaderBorders(o,y,x+y,null,-y,-y,!1),this.hasBorderShaders=!0}e.append(o)}},n.prototype.insertShaderBorders=function(e,t,r,s,o,f,p){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=Qi.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(t,"px"),y.style.height="".concat(r,"px"),s!==null&&(y.style.top="".concat(s,"px")),o!==null&&(y.style.bottom="".concat(o,"px")),p?y.style.left="".concat(f,"px"):y.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),e.appendChild(y)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n}(),Fx="data:image/svg+xml;base64,",kB=Fx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",LB=Fx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",M_=Fx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",PB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",D_=function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n}(),BB=function(){function n(){this.data=D_.createDefault();var e=localStorage.getItem(n.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},n.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=D_.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n}(),VB=function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=E_.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=E_.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n}(),UB=function(){function n(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=M_,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return t.onHoverIn()},this.infoIcon.onmouseout=function(r){return t.onHoverOut()},this.infoIcon.onclick=function(r){return t.onClick()},e.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=PB,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=M_,this.infoIcon.style.opacity="0.6")},n}(),FB=function(){function n(){var e=this;this.infoDiv=new VB,this.infoIcon=new UB(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return n.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},n}(),zB=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function p(E){try{x(r.next(E))}catch(A){f(A)}}function y(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?o(E.value):s(E.value).then(p,y)}x((r=r.apply(n,e||[])).next())})},jB=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(E){return y([x,E])}}function y(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){t.label=x[1];break}if(x[0]===6&&t.label<o[1]){t.label=o[1],o=x;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(x);break}o[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(n,t)}catch(E){x=[6,E],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},O_=function(){function n(){}return n.hasPermissions=function(){return zB(this,void 0,void 0,function(){var e,t,r,s;return jB(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=o.sent(),t=0,r=e;t<r.length;t++)if(s=r[t],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},n}(),Vo=function(){function n(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return n.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},n.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},n.prototype.isCameraScanRequired=function(){for(var e=0,t=this.supportedScanTypes;e<t.length;e++){var r=t[e];if(n.isCameraScanType(r))return!0}return!1},n.isCameraScanType=function(e){return e===il.SCAN_TYPE_CAMERA},n.isFileScanType=function(e){return e===il.SCAN_TYPE_FILE},n.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return ks.DEFAULT_SUPPORTED_SCAN_TYPE;var t=ks.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,s=e;r<s.length;r++){var o=s[r];if(!ks.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return e},n}(),es=function(){function n(){}return n.ALL_ELEMENT_CLASS="html5-qrcode-element",n.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",n.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",n.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",n.TORCH_BUTTON_ID="html5-qrcode-button-torch",n.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",n.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",n.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",n.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",n.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",n.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",n}(),Ua=function(){function n(){}return n.createElement=function(e,t){var r=document.createElement(e);return r.id=t,r.classList.add(es.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},n}(),YI=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(f){f(o)})}return new(t||(t=Promise))(function(o,f){function p(E){try{x(r.next(E))}catch(A){f(A)}}function y(E){try{x(r.throw(E))}catch(A){f(A)}}function x(E){E.done?o(E.value):s(E.value).then(p,y)}x((r=r.apply(n,e||[])).next())})},WI=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(x){return function(E){return y([x,E])}}function y(x){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,x[0]&&(t=0)),t;)try{if(r=1,s&&(o=x[0]&2?s.return:x[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,x[1])).done)return o;switch(s=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,s=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){t.label=x[1];break}if(x[0]===6&&t.label<o[1]){t.label=o[1],o=x;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(x);break}o[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(n,t)}catch(E){x=[6,E],s=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},k_=function(){function n(e,t,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=r}return n.prototype.isTorchEnabled=function(){return this.isTorchOn},n.prototype.flipState=function(){return YI(this,void 0,void 0,function(){var e,t;return WI(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=r.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},n.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?xn.torchOffButton():xn.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},n.prototype.propagateFailure=function(e,t){var r=e?xn.torchOnFailedMessage():xn.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},n.prototype.reset=function(){this.isTorchOn=!1},n}(),HB=function(){function n(e,t){this.onTorchActionFailureCallback=t,this.torchButton=Ua.createElement("button",es.TORCH_BUTTON_ID),this.torchController=new k_(e,this,t)}return n.prototype.render=function(e,t){var r=this;this.torchButton.innerText=xn.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return YI(r,void 0,void 0,function(){return WI(this,function(f){switch(f.label){case 0:return[4,s.torchController.flipState()];case 1:return f.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(es.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(es.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(es.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(es.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},n.prototype.updateTorchCapability=function(e){this.torchController=new k_(e,this,this.onTorchActionFailureCallback)},n.prototype.getTorchButton=function(){return this.torchButton},n.prototype.hide=function(){this.torchButton.style.display="none"},n.prototype.show=function(){this.torchButton.style.display="inline-block"},n.prototype.disable=function(){this.torchButton.disabled=!0},n.prototype.enable=function(){this.torchButton.disabled=!1},n.prototype.setText=function(e){this.torchButton.innerText=e},n.prototype.reset=function(){this.torchButton.innerText=xn.torchOnButton(),this.torchController.reset()},n.create=function(e,t,r,s){var o=new n(t,s);return o.render(e,r),o},n}(),GB=function(){function n(e,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Ua.createElement("button",es.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Ua.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var y=p.target;if(!(y.files&&y.files.length===0)){var x=y.files,E=x[0],A=E.name;o.setImageNameToButton(A),r(E)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var y=p.dataTransfer;if(y){var x=y.files;if(!x||x.length===0)return;for(var E=!1,A=0;A<x.length;++A){var I=x.item(A);if(I){var R=/image.*/;if(I.type.match(R)){E=!0;var M=I.name;o.setImageNameToButton(M),r(I),f.innerText=xn.dragAndDropMessage();break}}}E||(f.innerText=xn.dragAndDropMessageOnlyImages())}})}return n.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},n.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},n.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},n.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},n.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},n.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},n.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},n.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=xn.dragAndDropMessage(),e.style.fontWeight="400",e},n.prototype.setImageNameToButton=function(e){var t=20;if(e.length>t){var r=e.substring(0,8),s=e.length,o=e.substring(s-8,s);e="".concat(r,"....").concat(o)}var f=xn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=f},n.prototype.setInitialValueToButton=function(){var e=xn.fileSelectionChooseImage()+" - "+xn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},n.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},n.create=function(e,t,r){var s=new n(e,t,r);return s},n}(),qB=function(){function n(e){this.selectElement=Ua.createElement("select",es.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return n.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)t.style.display="none";else{var s=xn.selectCamera();t.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,f=0,p=this.cameras;f<p.length;f++){var y=p[f],x=y.id,E=y.label==null?x:y.label;(!E||E==="")&&(E=[xn.anonymousCameraPrefix(),o++].join(" "));var A=document.createElement("option");A.value=x,A.innerText=E,this.options.push(A),this.selectElement.appendChild(A)}t.appendChild(this.selectElement),e.appendChild(t)},n.prototype.disable=function(){this.selectElement.disabled=!0},n.prototype.isDisabled=function(){return this.selectElement.disabled===!0},n.prototype.enable=function(){this.selectElement.disabled=!1},n.prototype.getValue=function(){return this.selectElement.value},n.prototype.hasValue=function(e){for(var t=0,r=this.options;t<r.length;t++){var s=r[t];if(s.value===e)return!0}return!1},n.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},n.prototype.hasSingleItem=function(){return this.cameras.length===1},n.prototype.numCameras=function(){return this.cameras.length},n.create=function(e,t){var r=new n(t);return r.render(e),r},n}(),YB=function(){function n(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ua.createElement("input",es.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return n.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=xn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},n.prototype.onValueChange=function(){var e=xn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},n.prototype.setValues=function(e,t,r,s){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},n.prototype.show=function(){this.zoomElementContainer.style.display="block"},n.prototype.hide=function(){this.zoomElementContainer.style.display="none"},n.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},n.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},n.create=function(e,t){var r=new n;return r.render(e,t),r},n}(),$i;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})($i||($i={}));function WB(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}function XB(n,e){return{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:e}}var KB=function(){function n(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Vo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new HI(this.verbose),this.persistedDataManager=new BB,t.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return n.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,f){if(e)e(o,f);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(xn.lastMatch(o),$i.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,f){t&&t(o,f)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new N_(this.getScanRegionId(),XB(this.config,this.verbose))},n.prototype.pause=function(e){(Js(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},n.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},n.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},n.prototype.clear=function(){var e=this,t=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(o){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),t(),r()}).catch(function(o){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(e.html5Qrcode.clear(),t(),r())}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},n.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},n.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},n.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ks.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ks.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ks.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ks.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ks.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ks.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ks.DEFAULT_SUPPORTED_SCAN_TYPE}},n.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),Vo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",e.appendChild(s),this.setupInitialDashboard(s)},n.prototype.resetBasicLayout=function(e){e.style.border="none"},n.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},n.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t);var r=new FB;r.renderInto(t);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",t.appendChild(s)},n.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},n.prototype.createCameraListUi=function(e,t,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(xn.cameraPermissionRequesting());var o=function(){r||s.createPermissionButton(e,t)};N_.getCameras().then(function(f){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),f&&f.length>0?(e.removeChild(t),s.renderCameraSelection(f)):(s.setHeaderMessage(xn.noCameraFound(),$i.STATUS_WARNING),o())}).catch(function(f){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),s.setHeaderMessage(f,$i.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},n.prototype.createPermissionButton=function(e,t){var r=this,s=Ua.createElement("button",this.getCameraPermissionButtonId());s.innerText=xn.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(e,t,s)}),t.appendChild(s)},n.prototype.createPermissionsUi=function(e,t){var r=this;if(Vo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){O_.hasPermissions().then(function(s){s?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},n.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Vo.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(t)},n.prototype.renderFileScanUi=function(e){var t=Vo.isFileScanType(this.currentScanType),r=this,s=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";Vo.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(xn.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(f){r.resetHeaderMessage(),r.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){r.setHeaderMessage(f,$i.STATUS_WARNING),r.qrCodeErrorCallback(f,jI.createFrom(f))}))};this.fileSelectionUi=GB.create(e,t,s)},n.prototype.renderCameraSelection=function(e){var t=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=YB.create(s,!1),f=function(k){var G=k.zoomFeature();if(G.isSupported()){o.setOnCameraZoomValueChangeCallback(function(K){G.apply(K)});var F=1;t.config.defaultZoomValueIfSupported&&(F=t.config.defaultZoomValueIfSupported),F=dB(F,G.min(),G.max()),o.setValues(G.min(),G.max(),F,G.step()),o.show()}},p=qB.create(s,e),y=document.createElement("span"),x=Ua.createElement("button",es.CAMERA_START_BUTTON_ID);x.innerText=xn.scanButtonStartScanningText(),y.appendChild(x);var E=Ua.createElement("button",es.CAMERA_STOP_BUTTON_ID);E.innerText=xn.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,y.appendChild(E);var A,I=function(k){if(!k.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(k.torchFeature()):A=HB.create(y,k.torchFeature(),{display:"none",marginLeft:"5px"},function(G){r.setHeaderMessage(G,$i.STATUS_WARNING)}),A.show()};s.appendChild(y);var R=function(k){k||(x.style.display="none"),x.innerText=xn.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,k&&(x.style.display="inline-block")};if(x.addEventListener("click",function(k){x.innerText=xn.scanButtonScanningStarting(),p.disable(),x.disabled=!0,x.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var G=p.getValue();r.persistedDataManager.setLastUsedCameraId(G),r.html5Qrcode.start(G,WB(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(F){E.disabled=!1,E.style.display="inline-block",R(!1);var K=r.html5Qrcode.getRunningTrackCameraCapabilities();t.config.showTorchButtonIfSupported===!0&&I(K),t.config.showZoomSliderIfSupported===!0&&f(K)}).catch(function(F){r.showHideScanTypeSwapLink(!0),p.enable(),R(!0),r.setHeaderMessage(F,$i.STATUS_WARNING)})}),p.hasSingleItem()&&x.click(),E.addEventListener("click",function(k){if(!r.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,r.html5Qrcode.stop().then(function(G){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),p.enable(),x.disabled=!1,E.style.display="none",x.style.display="inline-block",A&&(A.reset(),A.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(G){E.disabled=!1,r.setHeaderMessage(G,$i.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var M=r.persistedDataManager.getLastUsedCameraId();p.hasValue(M)?(p.setValue(M),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var e=this,t=xn.textIfCameraScanSelected(),r=xn.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var f=Ua.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=Vo.isCameraScanType(this.currentScanType)?t:r,f.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Vo.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),f.innerText=r,e.currentScanType=il.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),f.innerText=t,e.currentScanType=il.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(f),s.appendChild(o)},n.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){O_.hasPermissions().then(function(r){if(r){var s=document.getElementById(t.getCameraPermissionButtonId());if(!s)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(r){t.persistedDataManager.setHasPermission(!1)});return}},n.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},n.prototype.setHeaderMessage=function(e,t){t||(t=$i.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case $i.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case $i.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case $i.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},n.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},n.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML="<br>",t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=kB,this.cameraScanImage.alt=xn.cameraScanAltText()},n.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML="<br>",t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=LB,this.fileScanImage.alt=xn.fileScanAltText()},n.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},n.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},n.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},n.prototype.getDashboardSectionSwapLinkId=function(){return es.SCAN_TYPE_CHANGE_ANCHOR_ID},n.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},n.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},n.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},n.prototype.getCameraPermissionButtonId=function(){return es.CAMERA_PERMISSION_BUTTON_ID},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},n}();function QB({onScanSuccess:n,onScanError:e}){const[t,r]=Z.useState(!1),[s,o]=Z.useState(null),[f,p]=Z.useState(null),y=Z.useRef(null),x="qr-reader-container",E=Z.useCallback(M=>{M&&(o(M),n==null||n(M))},[n]),A=Z.useCallback(M=>{M.includes("NotFoundException")||M.includes("IndexSizeError")||(p(M),e&&e(M))},[e]);return Z.useEffect(()=>{if(!t){y.current&&(y.current.clear().catch(k=>{console.warn("Failed to clear QR scanner:",k)}),y.current=null);return}const M=setTimeout(()=>{if(!document.getElementById(x)){p("QR container not found");return}if(!y.current){const G={fps:10,qrbox:{width:250,height:250}},F=!1,K=new KB(x,G,F);K.render(E,A),y.current=K}},300);return()=>{clearTimeout(M),y.current&&(y.current.clear().catch(k=>{console.warn("Cleanup: Failed to clear QR scanner:",k)}),y.current=null)}},[t,E,A]),{showScanner:t,openScanner:()=>{p(null),o(""),r(!0)},closeScanner:()=>{r(!1),p(null),o("")},scanResult:s,scanError:f,qrContainerId:x}}function $B({freezerData:n,onDeleteFreezer:e,onEditFreezer:t,onAddShelf:r,onUpdateShelf:s,onRemoveShelf:o,onAddProduct:f,onUpdateProduct:p,onRemoveProduct:y}){var M,k;const{config:x,open:E,close:A}=Lg(),[I,R]=Z.useState(!1);return B.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[B.jsxs("div",{className:"relative mb-4",children:[B.jsxs("div",{className:"flex items-center justify-center mb-3 group",children:[B.jsx("div",{className:"relative",children:B.jsx("h1",{className:"text-2xl font-bold text-center white px-3 pr-1",children:n.name})}),B.jsxs("div",{className:"flex items-center",children:[B.jsx(xi,{onClick:()=>E({mode:"edit",title:"Edit Freezer",onSubmit:G=>{t(G.name)},fields:[{key:"name",label:"Freezer Name",type:"text",placeholder:"Enter freezer name",required:!0}],initialData:{name:n.name}}),action:"edit",className:"p-1.5 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/30 transition-all duration-200 hover:scale-110"}),B.jsx(xi,{onClick:()=>E({mode:"delete",title:"Delete Freezer",onSubmit:G=>{e(G)}}),action:"delete",className:"p-1.5 rounded-full hover:bg-red-50 dark:hover:bg-red-900/30 transition-all duration-200 hover:scale-110"})]})]}),B.jsx("div",{className:"flex justify-center mb-4",children:B.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-full px-4 py-2 shadow-md border border-gray-200 dark:border-gray-700",children:B.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[B.jsxs("div",{className:"flex items-center gap-1.5",children:[B.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),B.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[((M=n.shelves)==null?void 0:M.length)||0," Shelves"]})]}),B.jsx("div",{className:"w-px h-3 bg-gray-300 dark:bg-gray-600"}),B.jsxs("div",{className:"flex items-center gap-1.5",children:[B.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),B.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[((k=n.products)==null?void 0:k.length)||0," Products"]})]})]})})})]}),B.jsx(Ud,{className:"max-w-3xl mx-auto dark:bg-gradient-to-br dark:from-gray-800 dark:to-blue-900/20 bg-gradient-to-br from-white to-blue-50/50 shadow-xl border-0 backdrop-blur-sm",onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:B.jsxs("div",{className:"relative",children:[B.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-blue-500 rounded-t-lg"}),B.jsx("div",{className:"p-4",children:B.jsxs("div",{className:"flex flex-col gap-3 max-h-[380px] overflow-y-auto scrollbar-thin scrollbar-track-blue-100 scrollbar-thumb-blue-300 dark:scrollbar-track-blue-900 dark:scrollbar-thumb-blue-700 pr-2",children:[n.shelves&&n.shelves.map((G,F)=>B.jsx(xT,{shelf:G,freezerId:n.id,freezerData:n,onRemoveShelf:o,onUpdateShelf:s,onAddProduct:f,onUpdateProduct:p,onRemoveProduct:y,className:"bg-white dark:bg-gray-800/50 rounded-lg p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-gray-100 dark:border-gray-700/50 backdrop-blur-sm"})),B.jsx(xT,{shelf:{id:"",name:"Unassigned Products"},freezerId:n.id,freezerData:n,onRemoveShelf:o,onUpdateShelf:s,onAddProduct:f,onUpdateProduct:p,onRemoveProduct:y,className:"bg-gradient-to-r from-gray-50 to-blue-50 dark:from-gray-800/30 dark:to-blue-900/20 rounded-lg p-4 shadow-md hover:shadow-lg transition-all duration-200 border border-dashed border-gray-300 dark:border-gray-600 backdrop-blur-sm"},"unassigned"),B.jsx("div",{className:"flex justify-center mt-3",children:B.jsx(xi,{onClick:()=>E({mode:"add",title:"Add New Shelf",onSubmit:({name:G})=>{r(G)},fields:[{key:"name",label:"Shelf Name",type:"text",placeholder:"Enter shelf name",required:!0}]}),label:"Add New Shelf",action:"submit",className:"px-6 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-medium rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center gap-2 text-sm"})})]})})]})}),B.jsx(Og,{show:x.mode!==null,mode:x.mode,title:x.title,fields:x.fields,initialData:x.initialData,onSubmit:x.onSubmit,onClose:A}),B.jsx("style",{jsx:!0,children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}function L_(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function zx(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:L_(e[r])&&L_(n[r])&&Object.keys(e[r]).length>0&&zx(n[r],e[r])})}const XI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jl(){const n=typeof document<"u"?document:{};return zx(n,XI),n}const ZB={document:XI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function wi(){const n=typeof window<"u"?window:{};return zx(n,ZB),n}function JB(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function eV(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Ey(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function B0(){return Date.now()}function tV(n){const e=wi();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function nV(n,e){e===void 0&&(e="x");const t=wi();let r,s,o;const f=tV(n);return t.WebKitCSSMatrix?(s=f.transform||f.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(p=>p.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=f.MozTransform||f.OTransform||f.MsTransform||f.msTransform||f.transform||f.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Gh(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function rV(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Ji(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!rV(r)){const s=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,f=s.length;o<f;o+=1){const p=s[o],y=Object.getOwnPropertyDescriptor(r,p);y!==void 0&&y.enumerable&&(Gh(n[p])&&Gh(r[p])?r[p].__swiper__?n[p]=r[p]:Ji(n[p],r[p]):!Gh(n[p])&&Gh(r[p])?(n[p]={},r[p].__swiper__?n[p]=r[p]:Ji(n[p],r[p])):n[p]=r[p])}}}return n}function qh(n,e,t){n.style.setProperty(e,t)}function KI(n){let{swiper:e,targetPosition:t,side:r}=n;const s=wi(),o=-e.translate;let f=null,p;const y=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const x=t>o?"next":"prev",E=(I,R)=>x==="next"&&I>=R||x==="prev"&&I<=R,A=()=>{p=new Date().getTime(),f===null&&(f=p);const I=Math.max(Math.min((p-f)/y,1),0),R=.5-Math.cos(I*Math.PI)/2;let M=o+R*(t-o);if(E(M,t)&&(M=t),e.wrapperEl.scrollTo({[r]:M}),E(M,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:M})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(A)};A()}function jx(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function ta(n,e){e===void 0&&(e="");const t=wi(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function iV(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function sV(n,e){const t=wi();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=iV(n,e))),r}function V0(n){try{console.warn(n);return}catch{}}function of(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:JB(e)),t}function aV(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function oV(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function qo(n,e){return wi().getComputedStyle(n,null).getPropertyValue(e)}function P_(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function lV(n,e){const t=[];let r=n.parentElement;for(;r;)t.push(r),r=r.parentElement;return t}function B_(n,e,t){const r=wi();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function ka(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function cV(n){return e=>Math.abs(e)>0&&n.browser&&n.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}let Jp;function uV(){const n=wi(),e=Jl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function QI(){return Jp||(Jp=uV()),Jp}let em;function dV(n){let{userAgent:e}=n===void 0?{}:n;const t=QI(),r=wi(),s=r.navigator.platform,o=e||r.navigator.userAgent,f={ios:!1,android:!1},p=r.screen.width,y=r.screen.height,x=o.match(/(Android);?[\s\/]+([\d.]+)?/);let E=o.match(/(iPad).*OS\s([\d_]+)/);const A=o.match(/(iPod)(.*OS\s([\d_]+))?/),I=!E&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),R=s==="Win32";let M=s==="MacIntel";const k=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!E&&M&&t.touch&&k.indexOf(`${p}x${y}`)>=0&&(E=o.match(/(Version)\/([\d.]+)/),E||(E=[0,1,"13_0_0"]),M=!1),x&&!R&&(f.os="android",f.android=!0),(E||I||A)&&(f.os="ios",f.ios=!0),f}function $I(n){return n===void 0&&(n={}),em||(em=dV(n)),em}let tm;function fV(){const n=wi(),e=$I();let t=!1;function r(){const p=n.navigator.userAgent.toLowerCase();return p.indexOf("safari")>=0&&p.indexOf("chrome")<0&&p.indexOf("android")<0}if(r()){const p=String(n.navigator.userAgent);if(p.includes("Version/")){const[y,x]=p.split("Version/")[1].split(" ")[0].split(".").map(E=>Number(E));t=y<16||y===16&&x<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),f=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:f,isWebView:s}}function ZI(){return tm||(tm=fV()),tm}function hV(n){let{swiper:e,on:t,emit:r}=n;const s=wi();let o=null,f=null;const p=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},y=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(A=>{f=s.requestAnimationFrame(()=>{const{width:I,height:R}=e;let M=I,k=R;A.forEach(G=>{let{contentBoxSize:F,contentRect:K,target:L}=G;L&&L!==e.el||(M=K?K.width:(F[0]||F).inlineSize,k=K?K.height:(F[0]||F).blockSize)}),(M!==I||k!==R)&&p()})}),o.observe(e.el))},x=()=>{f&&s.cancelAnimationFrame(f),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},E=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){y();return}s.addEventListener("resize",p),s.addEventListener("orientationchange",E)}),t("destroy",()=>{x(),s.removeEventListener("resize",p),s.removeEventListener("orientationchange",E)})}function gV(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o=[],f=wi(),p=function(E,A){A===void 0&&(A={});const I=f.MutationObserver||f.WebkitMutationObserver,R=new I(M=>{if(e.__preventObserver__)return;if(M.length===1){s("observerUpdate",M[0]);return}const k=function(){s("observerUpdate",M[0])};f.requestAnimationFrame?f.requestAnimationFrame(k):f.setTimeout(k,0)});R.observe(E,{attributes:typeof A.attributes>"u"?!0:A.attributes,childList:e.isElement||(typeof A.childList>"u"?!0:A).childList,characterData:typeof A.characterData>"u"?!0:A.characterData}),o.push(R)},y=()=>{if(e.params.observer){if(e.params.observeParents){const E=lV(e.hostEl);for(let A=0;A<E.length;A+=1)p(E[A])}p(e.hostEl,{childList:e.params.observeSlideChildren}),p(e.wrapperEl,{attributes:!1})}},x=()=>{o.forEach(E=>{E.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",y),r("destroy",x)}var pV={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,f=new Array(o),p=0;p<o;p++)f[p]=arguments[p];e.apply(r,f)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,o=new Array(s),f=0;f<s;f++)o[f]=arguments[f];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(y=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(x=>{x.apply(r,[y,...t])}),n.eventsListeners&&n.eventsListeners[y]&&n.eventsListeners[y].forEach(x=>{x.apply(r,t)})}),n}};function mV(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(qo(r,"padding-left")||0,10)-parseInt(qo(r,"padding-right")||0,10),t=t-parseInt(qo(r,"padding-top")||0,10)-parseInt(qo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function yV(){const n=this;function e(W,X){return parseFloat(W.getPropertyValue(n.getDirectionLabel(X))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:f,wrongRTL:p}=n,y=n.virtual&&t.virtual.enabled,x=y?n.virtual.slides.length:n.slides.length,E=ta(s,`.${n.params.slideClass}, swiper-slide`),A=y?n.virtual.slides.length:E.length;let I=[];const R=[],M=[];let k=t.slidesOffsetBefore;typeof k=="function"&&(k=t.slidesOffsetBefore.call(n));let G=t.slidesOffsetAfter;typeof G=="function"&&(G=t.slidesOffsetAfter.call(n));const F=n.snapGrid.length,K=n.slidesGrid.length;let L=t.spaceBetween,$=-k,te=0,ie=0;if(typeof o>"u")return;typeof L=="string"&&L.indexOf("%")>=0?L=parseFloat(L.replace("%",""))/100*o:typeof L=="string"&&(L=parseFloat(L)),n.virtualSize=-L,E.forEach(W=>{f?W.style.marginLeft="":W.style.marginRight="",W.style.marginBottom="",W.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(qh(r,"--swiper-centered-offset-before",""),qh(r,"--swiper-centered-offset-after",""));const V=t.grid&&t.grid.rows>1&&n.grid;V?n.grid.initSlides(E):n.grid&&n.grid.unsetSlides();let P;const O=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(W=>typeof t.breakpoints[W].slidesPerView<"u").length>0;for(let W=0;W<A;W+=1){P=0;let X;if(E[W]&&(X=E[W]),V&&n.grid.updateSlide(W,X,E),!(E[W]&&qo(X,"display")==="none")){if(t.slidesPerView==="auto"){O&&(E[W].style[n.getDirectionLabel("width")]="");const Y=getComputedStyle(X),q=X.style.transform,be=X.style.webkitTransform;if(q&&(X.style.transform="none"),be&&(X.style.webkitTransform="none"),t.roundLengths)P=n.isHorizontal()?B_(X,"width"):B_(X,"height");else{const le=e(Y,"width"),ae=e(Y,"padding-left"),fe=e(Y,"padding-right"),we=e(Y,"margin-left"),Re=e(Y,"margin-right"),ne=Y.getPropertyValue("box-sizing");if(ne&&ne==="border-box")P=le+we+Re;else{const{clientWidth:ye,offsetWidth:Ne}=X;P=le+ae+fe+we+Re+(Ne-ye)}}q&&(X.style.transform=q),be&&(X.style.webkitTransform=be),t.roundLengths&&(P=Math.floor(P))}else P=(o-(t.slidesPerView-1)*L)/t.slidesPerView,t.roundLengths&&(P=Math.floor(P)),E[W]&&(E[W].style[n.getDirectionLabel("width")]=`${P}px`);E[W]&&(E[W].swiperSlideSize=P),M.push(P),t.centeredSlides?($=$+P/2+te/2+L,te===0&&W!==0&&($=$-o/2-L),W===0&&($=$-o/2-L),Math.abs($)<1/1e3&&($=0),t.roundLengths&&($=Math.floor($)),ie%t.slidesPerGroup===0&&I.push($),R.push($)):(t.roundLengths&&($=Math.floor($)),(ie-Math.min(n.params.slidesPerGroupSkip,ie))%n.params.slidesPerGroup===0&&I.push($),R.push($),$=$+P+L),n.virtualSize+=P+L,te=P,ie+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+G,f&&p&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+L}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+L}px`),V&&n.grid.updateWrapperSize(P,I),!t.centeredSlides){const W=[];for(let X=0;X<I.length;X+=1){let Y=I[X];t.roundLengths&&(Y=Math.floor(Y)),I[X]<=n.virtualSize-o&&W.push(Y)}I=W,Math.floor(n.virtualSize-o)-Math.floor(I[I.length-1])>1&&I.push(n.virtualSize-o)}if(y&&t.loop){const W=M[0]+L;if(t.slidesPerGroup>1){const X=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),Y=W*t.slidesPerGroup;for(let q=0;q<X;q+=1)I.push(I[I.length-1]+Y)}for(let X=0;X<n.virtual.slidesBefore+n.virtual.slidesAfter;X+=1)t.slidesPerGroup===1&&I.push(I[I.length-1]+W),R.push(R[R.length-1]+W),n.virtualSize+=W}if(I.length===0&&(I=[0]),L!==0){const W=n.isHorizontal()&&f?"marginLeft":n.getDirectionLabel("marginRight");E.filter((X,Y)=>!t.cssMode||t.loop?!0:Y!==E.length-1).forEach(X=>{X.style[W]=`${L}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let W=0;M.forEach(Y=>{W+=Y+(L||0)}),W-=L;const X=W>o?W-o:0;I=I.map(Y=>Y<=0?-k:Y>X?X+G:Y)}if(t.centerInsufficientSlides){let W=0;M.forEach(Y=>{W+=Y+(L||0)}),W-=L;const X=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(W+X<o){const Y=(o-W-X)/2;I.forEach((q,be)=>{I[be]=q-Y}),R.forEach((q,be)=>{R[be]=q+Y})}}if(Object.assign(n,{slides:E,snapGrid:I,slidesGrid:R,slidesSizesGrid:M}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){qh(r,"--swiper-centered-offset-before",`${-I[0]}px`),qh(r,"--swiper-centered-offset-after",`${n.size/2-M[M.length-1]/2}px`);const W=-n.snapGrid[0],X=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(Y=>Y+W),n.slidesGrid=n.slidesGrid.map(Y=>Y+X)}if(A!==x&&n.emit("slidesLengthChange"),I.length!==F&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),R.length!==K&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!y&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const W=`${t.containerModifierClass}backface-hidden`,X=n.el.classList.contains(W);A<=t.maxBackfaceHiddenSlides?X||n.el.classList.add(W):X&&n.el.classList.remove(W)}}function xV(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const f=p=>r?e.slides[e.getSlideIndexByData(p)]:e.slides[p];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(p=>{t.push(p)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const p=e.activeIndex+o;if(p>e.slides.length&&!r)break;t.push(f(p))}else t.push(f(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const p=t[o].offsetHeight;s=p>s?p:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function wV(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const V_=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function vV(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let f=-n;s&&(f=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let p=t.spaceBetween;typeof p=="string"&&p.indexOf("%")>=0?p=parseFloat(p.replace("%",""))/100*e.size:typeof p=="string"&&(p=parseFloat(p));for(let y=0;y<r.length;y+=1){const x=r[y];let E=x.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(E-=r[0].swiperSlideOffset);const A=(f+(t.centeredSlides?e.minTranslate():0)-E)/(x.swiperSlideSize+p),I=(f-o[0]+(t.centeredSlides?e.minTranslate():0)-E)/(x.swiperSlideSize+p),R=-(f-E),M=R+e.slidesSizesGrid[y],k=R>=0&&R<=e.size-e.slidesSizesGrid[y],G=R>=0&&R<e.size-1||M>1&&M<=e.size||R<=0&&M>=e.size;G&&(e.visibleSlides.push(x),e.visibleSlidesIndexes.push(y)),V_(x,G,t.slideVisibleClass),V_(x,k,t.slideFullyVisibleClass),x.progress=s?-A:A,x.originalProgress=s?-I:I}}function bV(n){const e=this;if(typeof n>"u"){const E=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*E||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:f,progressLoop:p}=e;const y=o,x=f;if(r===0)s=0,o=!0,f=!0;else{s=(n-e.minTranslate())/r;const E=Math.abs(n-e.minTranslate())<1,A=Math.abs(n-e.maxTranslate())<1;o=E||s<=0,f=A||s>=1,E&&(s=0),A&&(s=1)}if(t.loop){const E=e.getSlideIndexByData(0),A=e.getSlideIndexByData(e.slides.length-1),I=e.slidesGrid[E],R=e.slidesGrid[A],M=e.slidesGrid[e.slidesGrid.length-1],k=Math.abs(n);k>=I?p=(k-I)/M:p=(k+M-R)/M,p>1&&(p-=1)}Object.assign(e,{progress:s,progressLoop:p,isBeginning:o,isEnd:f}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!y&&e.emit("reachBeginning toEdge"),f&&!x&&e.emit("reachEnd toEdge"),(y&&!o||x&&!f)&&e.emit("fromEdge"),e.emit("progress",s)}const nm=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function EV(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,f=n.grid&&t.grid&&t.grid.rows>1,p=A=>ta(r,`.${t.slideClass}${A}, swiper-slide${A}`)[0];let y,x,E;if(o)if(t.loop){let A=s-n.virtual.slidesBefore;A<0&&(A=n.virtual.slides.length+A),A>=n.virtual.slides.length&&(A-=n.virtual.slides.length),y=p(`[data-swiper-slide-index="${A}"]`)}else y=p(`[data-swiper-slide-index="${s}"]`);else f?(y=e.find(A=>A.column===s),E=e.find(A=>A.column===s+1),x=e.find(A=>A.column===s-1)):y=e[s];y&&(f||(E=oV(y,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!E&&(E=e[0]),x=aV(y,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!x===0&&(x=e[e.length-1]))),e.forEach(A=>{nm(A,A===y,t.slideActiveClass),nm(A,A===E,t.slideNextClass),nm(A,A===x,t.slidePrevClass)}),n.emitSlidesClasses()}const o0=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},rm=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},_y=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const f=s,p=[f-e];p.push(...Array.from({length:e}).map((y,x)=>f+r+x)),n.slides.forEach((y,x)=>{p.includes(y.column)&&rm(n,x)});return}const o=s+r-1;if(n.params.rewind||n.params.loop)for(let f=s-e;f<=o+e;f+=1){const p=(f%t+t)%t;(p<s||p>o)&&rm(n,p)}else for(let f=Math.max(s-e,0);f<=Math.min(o+e,t-1);f+=1)f!==s&&(f>o||f<s)&&rm(n,f)};function _V(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?s=o:r>=e[o]&&r<e[o+1]&&(s=o+1):r>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function TV(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:o,realIndex:f,snapIndex:p}=e;let y=n,x;const E=R=>{let M=R-e.virtual.slidesBefore;return M<0&&(M=e.virtual.slides.length+M),M>=e.virtual.slides.length&&(M-=e.virtual.slides.length),M};if(typeof y>"u"&&(y=_V(e)),r.indexOf(t)>=0)x=r.indexOf(t);else{const R=Math.min(s.slidesPerGroupSkip,y);x=R+Math.floor((y-R)/s.slidesPerGroup)}if(x>=r.length&&(x=r.length-1),y===o&&!e.params.loop){x!==p&&(e.snapIndex=x,e.emit("snapIndexChange"));return}if(y===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=E(y);return}const A=e.grid&&s.grid&&s.grid.rows>1;let I;if(e.virtual&&s.virtual.enabled&&s.loop)I=E(y);else if(A){const R=e.slides.find(k=>k.column===y);let M=parseInt(R.getAttribute("data-swiper-slide-index"),10);Number.isNaN(M)&&(M=Math.max(e.slides.indexOf(R),0)),I=Math.floor(M/s.grid.rows)}else if(e.slides[y]){const R=e.slides[y].getAttribute("data-swiper-slide-index");R?I=parseInt(R,10):I=y}else I=y;Object.assign(e,{previousSnapIndex:p,snapIndex:x,previousRealIndex:f,realIndex:I,previousIndex:o,activeIndex:y}),e.initialized&&_y(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(f!==I&&e.emit("realIndexChange"),e.emit("slideChange"))}function AV(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(p=>{!s&&p.matches&&p.matches(`.${r.slideClass}, swiper-slide`)&&(s=p)});let o=!1,f;if(s){for(let p=0;p<t.slides.length;p+=1)if(t.slides[p]===s){o=!0,f=p;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=f;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var SV={updateSize:mV,updateSlides:yV,updateAutoHeight:xV,updateSlidesOffset:wV,updateSlidesProgress:vV,updateProgress:bV,updateSlidesClasses:EV,updateActiveIndex:TV,updateClickedSlide:AV};function CV(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let f=nV(o,n);return f+=e.cssOverflowAdjustment(),r&&(f=-f),f||0}function IV(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:o,progress:f}=t;let p=0,y=0;const x=0;t.isHorizontal()?p=r?-n:n:y=n,s.roundLengths&&(p=Math.floor(p),y=Math.floor(y)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?p:y,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-p:-y:s.virtualTranslate||(t.isHorizontal()?p-=t.cssOverflowAdjustment():y-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${p}px, ${y}px, ${x}px)`);let E;const A=t.maxTranslate()-t.minTranslate();A===0?E=0:E=(n-t.minTranslate())/A,E!==f&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function RV(){return-this.snapGrid[0]}function NV(){return-this.snapGrid[this.snapGrid.length-1]}function MV(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:f,wrapperEl:p}=o;if(o.animating&&f.preventInteractionOnTransition)return!1;const y=o.minTranslate(),x=o.maxTranslate();let E;if(r&&n>y?E=y:r&&n<x?E=x:E=n,o.updateProgress(E),f.cssMode){const A=o.isHorizontal();if(e===0)p[A?"scrollLeft":"scrollTop"]=-E;else{if(!o.support.smoothScroll)return KI({swiper:o,targetPosition:-E,side:A?"left":"top"}),!0;p.scrollTo({[A?"left":"top"]:-E,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(E),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(E),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(I){!o||o.destroyed||I.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var DV={getTranslate:CV,setTranslate:IV,minTranslate:RV,maxTranslate:NV,translateTo:MV};function OV(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function JI(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:o,previousIndex:f}=e;let p=r;if(p||(o>f?p="next":o<f?p="prev":p="reset"),e.emit(`transition${s}`),t&&o!==f){if(p==="reset"){e.emit(`slideResetTransition${s}`);return}e.emit(`slideChangeTransition${s}`),p==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`)}}function kV(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),JI({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function LV(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),JI({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var PV={setTransition:OV,transitionStart:kV,transitionEnd:LV};function BV(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let f=n;f<0&&(f=0);const{params:p,snapGrid:y,slidesGrid:x,previousIndex:E,activeIndex:A,rtlTranslate:I,wrapperEl:R,enabled:M}=o;if(!M&&!r&&!s||o.destroyed||o.animating&&p.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const k=Math.min(o.params.slidesPerGroupSkip,f);let G=k+Math.floor((f-k)/o.params.slidesPerGroup);G>=y.length&&(G=y.length-1);const F=-y[G];if(p.normalizeSlideIndex)for(let V=0;V<x.length;V+=1){const P=-Math.floor(F*100),O=Math.floor(x[V]*100),W=Math.floor(x[V+1]*100);typeof x[V+1]<"u"?P>=O&&P<W-(W-O)/2?f=V:P>=O&&P<W&&(f=V+1):P>=O&&(f=V)}if(o.initialized&&f!==A&&(!o.allowSlideNext&&(I?F>o.translate&&F>o.minTranslate():F<o.translate&&F<o.minTranslate())||!o.allowSlidePrev&&F>o.translate&&F>o.maxTranslate()&&(A||0)!==f))return!1;f!==(E||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(F);let K;f>A?K="next":f<A?K="prev":K="reset";const L=o.virtual&&o.params.virtual.enabled;if(!(L&&s)&&(I&&-F===o.translate||!I&&F===o.translate))return o.updateActiveIndex(f),p.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),p.effect!=="slide"&&o.setTranslate(F),K!=="reset"&&(o.transitionStart(t,K),o.transitionEnd(t,K)),!1;if(p.cssMode){const V=o.isHorizontal(),P=I?F:-F;if(e===0)L&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),L&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{R[V?"scrollLeft":"scrollTop"]=P})):R[V?"scrollLeft":"scrollTop"]=P,L&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return KI({swiper:o,targetPosition:P,side:V?"left":"top"}),!0;R.scrollTo({[V?"left":"top"]:P,behavior:"smooth"})}return!0}const ie=ZI().isSafari;return L&&!s&&ie&&o.isElement&&o.virtual.update(!1,!1,f),o.setTransition(e),o.setTranslate(F),o.updateActiveIndex(f),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,K),e===0?o.transitionEnd(t,K):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(P){!o||o.destroyed||P.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,K))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function VV(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let f=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)f=f+s.virtual.slidesBefore;else{let p;if(o){const I=f*s.params.grid.rows;p=s.slides.find(R=>R.getAttribute("data-swiper-slide-index")*1===I).column}else p=s.getSlideIndexByData(f);const y=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:x}=s.params;let E=s.params.slidesPerView;E==="auto"?E=s.slidesPerViewDynamic():(E=Math.ceil(parseFloat(s.params.slidesPerView,10)),x&&E%2===0&&(E=E+1));let A=y-p<E;if(x&&(A=A||p<Math.ceil(E/2)),r&&x&&s.params.slidesPerView!=="auto"&&!o&&(A=!1),A){const I=x?p<s.activeIndex?"prev":"next":p-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:I,slideTo:!0,activeSlideIndex:I==="next"?p+1:p-y+1,slideRealIndex:I==="next"?s.realIndex:void 0})}if(o){const I=f*s.params.grid.rows;f=s.slides.find(R=>R.getAttribute("data-swiper-slide-index")*1===I).column}else f=s.getSlideIndexByData(f)}return requestAnimationFrame(()=>{s.slideTo(f,e,t,r)}),s}function UV(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:o,animating:f}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let p=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(p=Math.max(r.slidesPerViewDynamic("current",!0),1));const y=r.activeIndex<o.slidesPerGroupSkip?1:p,x=r.virtual&&o.virtual.enabled;if(o.loop){if(f&&!x&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+y,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+y,n,e,t)}function FV(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:o,slidesGrid:f,rtlTranslate:p,enabled:y,animating:x}=r;if(!y||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const E=r.virtual&&s.virtual.enabled;if(s.loop){if(x&&!E&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const A=p?r.translate:-r.translate;function I(K){return K<0?-Math.floor(Math.abs(K)):Math.floor(K)}const R=I(A),M=o.map(K=>I(K)),k=s.freeMode&&s.freeMode.enabled;let G=o[M.indexOf(R)-1];if(typeof G>"u"&&(s.cssMode||k)){let K;o.forEach((L,$)=>{R>=L&&(K=$)}),typeof K<"u"&&(G=k?o[K]:o[K>0?K-1:K])}let F=0;if(typeof G<"u"&&(F=f.indexOf(G),F<0&&(F=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(F=F-r.slidesPerViewDynamic("previous",!0)+1,F=Math.max(F,0))),s.rewind&&r.isBeginning){const K=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(K,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(F,n,e,t)}),!0;return r.slideTo(F,n,e,t)}function zV(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function jV(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const f=Math.min(s.params.slidesPerGroupSkip,o),p=f+Math.floor((o-f)/s.params.slidesPerGroup),y=s.rtlTranslate?s.translate:-s.translate;if(y>=s.snapGrid[p]){const x=s.snapGrid[p],E=s.snapGrid[p+1];y-x>(E-x)*r&&(o+=s.params.slidesPerGroup)}else{const x=s.snapGrid[p-1],E=s.snapGrid[p];y-x<=(E-x)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function HV(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const f=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(ta(t,`${f}[data-swiper-slide-index="${o}"]`)[0]),Ey(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(ta(t,`${f}[data-swiper-slide-index="${o}"]`)[0]),Ey(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var GV={slideTo:BV,slideToLoop:VV,slideNext:UV,slidePrev:FV,slideReset:zV,slideToClosest:jV,slideToClickedSlide:HV};function qV(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{ta(s,`.${r.slideClass}, swiper-slide`).forEach((I,R)=>{I.setAttribute("data-swiper-slide-index",R)})},f=t.grid&&r.grid&&r.grid.rows>1,p=r.slidesPerGroup*(f?r.grid.rows:1),y=t.slides.length%p!==0,x=f&&t.slides.length%r.grid.rows!==0,E=A=>{for(let I=0;I<A;I+=1){const R=t.isElement?of("swiper-slide",[r.slideBlankClass]):of("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(R)}};if(y){if(r.loopAddBlankSlides){const A=p-t.slides.length%p;E(A),t.recalcSlides(),t.updateSlides()}else V0("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(x){if(r.loopAddBlankSlides){const A=r.grid.rows-t.slides.length%r.grid.rows;E(A),t.recalcSlides(),t.updateSlides()}else V0("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function YV(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:o,initial:f,byController:p,byMousewheel:y}=n===void 0?{}:n;const x=this;if(!x.params.loop)return;x.emit("beforeLoopFix");const{slides:E,allowSlidePrev:A,allowSlideNext:I,slidesEl:R,params:M}=x,{centeredSlides:k,initialSlide:G}=M;if(x.allowSlidePrev=!0,x.allowSlideNext=!0,x.virtual&&M.virtual.enabled){t&&(!M.centeredSlides&&x.snapIndex===0?x.slideTo(x.virtual.slides.length,0,!1,!0):M.centeredSlides&&x.snapIndex<M.slidesPerView?x.slideTo(x.virtual.slides.length+x.snapIndex,0,!1,!0):x.snapIndex===x.snapGrid.length-1&&x.slideTo(x.virtual.slidesBefore,0,!1,!0)),x.allowSlidePrev=A,x.allowSlideNext=I,x.emit("loopFix");return}let F=M.slidesPerView;F==="auto"?F=x.slidesPerViewDynamic():(F=Math.ceil(parseFloat(M.slidesPerView,10)),k&&F%2===0&&(F=F+1));const K=M.slidesPerGroupAuto?F:M.slidesPerGroup;let L=K;L%K!==0&&(L+=K-L%K),L+=M.loopAdditionalSlides,x.loopedSlides=L;const $=x.grid&&M.grid&&M.grid.rows>1;E.length<F+L||x.params.effect==="cards"&&E.length<F+L*2?V0("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):$&&M.grid.fill==="row"&&V0("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const te=[],ie=[],V=$?Math.ceil(E.length/M.grid.rows):E.length,P=f&&V-G<F&&!k;let O=P?G:x.activeIndex;typeof o>"u"?o=x.getSlideIndex(E.find(ae=>ae.classList.contains(M.slideActiveClass))):O=o;const W=r==="next"||!r,X=r==="prev"||!r;let Y=0,q=0;const le=($?E[o].column:o)+(k&&typeof s>"u"?-F/2+.5:0);if(le<L){Y=Math.max(L-le,K);for(let ae=0;ae<L-le;ae+=1){const fe=ae-Math.floor(ae/V)*V;if($){const we=V-fe-1;for(let Re=E.length-1;Re>=0;Re-=1)E[Re].column===we&&te.push(Re)}else te.push(V-fe-1)}}else if(le+F>V-L){q=Math.max(le-(V-L*2),K),P&&(q=Math.max(q,F-V+G+1));for(let ae=0;ae<q;ae+=1){const fe=ae-Math.floor(ae/V)*V;$?E.forEach((we,Re)=>{we.column===fe&&ie.push(Re)}):ie.push(fe)}}if(x.__preventObserver__=!0,requestAnimationFrame(()=>{x.__preventObserver__=!1}),x.params.effect==="cards"&&E.length<F+L*2&&(ie.includes(o)&&ie.splice(ie.indexOf(o),1),te.includes(o)&&te.splice(te.indexOf(o),1)),X&&te.forEach(ae=>{E[ae].swiperLoopMoveDOM=!0,R.prepend(E[ae]),E[ae].swiperLoopMoveDOM=!1}),W&&ie.forEach(ae=>{E[ae].swiperLoopMoveDOM=!0,R.append(E[ae]),E[ae].swiperLoopMoveDOM=!1}),x.recalcSlides(),M.slidesPerView==="auto"?x.updateSlides():$&&(te.length>0&&X||ie.length>0&&W)&&x.slides.forEach((ae,fe)=>{x.grid.updateSlide(fe,ae,x.slides)}),M.watchSlidesProgress&&x.updateSlidesOffset(),t){if(te.length>0&&X){if(typeof e>"u"){const ae=x.slidesGrid[O],we=x.slidesGrid[O+Y]-ae;y?x.setTranslate(x.translate-we):(x.slideTo(O+Math.ceil(Y),0,!1,!0),s&&(x.touchEventsData.startTranslate=x.touchEventsData.startTranslate-we,x.touchEventsData.currentTranslate=x.touchEventsData.currentTranslate-we))}else if(s){const ae=$?te.length/M.grid.rows:te.length;x.slideTo(x.activeIndex+ae,0,!1,!0),x.touchEventsData.currentTranslate=x.translate}}else if(ie.length>0&&W)if(typeof e>"u"){const ae=x.slidesGrid[O],we=x.slidesGrid[O-q]-ae;y?x.setTranslate(x.translate-we):(x.slideTo(O-q,0,!1,!0),s&&(x.touchEventsData.startTranslate=x.touchEventsData.startTranslate-we,x.touchEventsData.currentTranslate=x.touchEventsData.currentTranslate-we))}else{const ae=$?ie.length/M.grid.rows:ie.length;x.slideTo(x.activeIndex-ae,0,!1,!0)}}if(x.allowSlidePrev=A,x.allowSlideNext=I,x.controller&&x.controller.control&&!p){const ae={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(x.controller.control)?x.controller.control.forEach(fe=>{!fe.destroyed&&fe.params.loop&&fe.loopFix({...ae,slideTo:fe.params.slidesPerView===M.slidesPerView?t:!1})}):x.controller.control instanceof x.constructor&&x.controller.control.params.loop&&x.controller.control.loopFix({...ae,slideTo:x.controller.control.params.slidesPerView===M.slidesPerView?t:!1})}x.emit("loopFix")}function WV(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var XV={loopCreate:qV,loopFix:YV,loopDestroy:WV};function KV(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function QV(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var $V={setGrabCursor:KV,unsetGrabCursor:QV};function ZV(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Jl()||r===wi())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function U_(n,e,t){const r=wi(),{params:s}=n,o=s.edgeSwipeDetection,f=s.edgeSwipeThreshold;return o&&(t<=f||t>=r.innerWidth-f)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function JV(n){const e=this,t=Jl();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){U_(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:f,enabled:p}=e;if(!p||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let y=r.target;if(o.touchEventsTarget==="wrapper"&&!sV(y,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const x=!!o.noSwipingClass&&o.noSwipingClass!=="",E=r.composedPath?r.composedPath():r.path;x&&r.target&&r.target.shadowRoot&&E&&(y=E[0]);const A=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,I=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(I?ZV(A,y):y.closest(A))){e.allowClick=!0;return}if(o.swipeHandler&&!y.closest(o.swipeHandler))return;f.currentX=r.pageX,f.currentY=r.pageY;const R=f.currentX,M=f.currentY;if(!U_(e,r,R))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),f.startX=R,f.startY=M,s.touchStartTime=B0(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let k=!0;y.matches(s.focusableElements)&&(k=!1,y.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==y&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!y.matches(s.focusableElements))&&t.activeElement.blur();const G=k&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||G)&&!y.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function eU(n){const e=Jl(),t=this,r=t.touchEventsData,{params:s,touches:o,rtlTranslate:f,enabled:p}=t;if(!p||!s.simulateTouch&&n.pointerType==="mouse")return;let y=n;if(y.originalEvent&&(y=y.originalEvent),y.type==="pointermove"&&(r.touchId!==null||y.pointerId!==r.pointerId))return;let x;if(y.type==="touchmove"){if(x=[...y.changedTouches].find(te=>te.identifier===r.touchId),!x||x.identifier!==r.touchId)return}else x=y;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",y);return}const E=x.pageX,A=x.pageY;if(y.preventedByNestedSwiper){o.startX=E,o.startY=A;return}if(!t.allowTouchMove){y.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:E,startY:A,currentX:E,currentY:A}),r.touchStartTime=B0());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(A<o.startY&&t.translate<=t.maxTranslate()||A>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(f&&(E>o.startX&&-t.translate<=t.maxTranslate()||E<o.startX&&-t.translate>=t.minTranslate()))return;if(!f&&(E<o.startX&&t.translate<=t.maxTranslate()||E>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==y.target&&y.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&y.target===e.activeElement&&y.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",y),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=E,o.currentY=A;const I=o.currentX-o.startX,R=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(I**2+R**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let te;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:I*I+R*R>=25&&(te=Math.atan2(Math.abs(R),Math.abs(I))*180/Math.PI,r.isScrolling=t.isHorizontal()?te>s.touchAngle:90-te>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",y),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||y.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&y.cancelable&&y.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&y.stopPropagation();let M=t.isHorizontal()?I:R,k=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(M=Math.abs(M)*(f?1:-1),k=Math.abs(k)*(f?1:-1)),o.diff=M,M*=s.touchRatio,f&&(M=-M,k=-k);const G=t.touchesDirection;t.swipeDirection=M>0?"prev":"next",t.touchesDirection=k>0?"prev":"next";const F=t.params.loop&&!s.cssMode,K=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(F&&K&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const te=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(te)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",y)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&G!==t.touchesDirection&&F&&K&&Math.abs(M)>=1){Object.assign(o,{startX:E,startY:A,currentX:E,currentY:A,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",y),r.isMoved=!0,r.currentTranslate=M+r.startTranslate;let L=!0,$=s.resistanceRatio;if(s.touchReleaseOnEdges&&($=0),M>0?(F&&K&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(L=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+M)**$))):M<0&&(F&&K&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(L=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-M)**$))),L&&(y.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(M)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function tU(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(te=>te.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:f,touches:p,rtlTranslate:y,slidesGrid:x,enabled:E}=e;if(!E||!f.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&f.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}f.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const A=B0(),I=A-t.touchStartTime;if(e.allowClick){const te=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(te&&te[0]||r.target,te),e.emit("tap click",r),I<300&&A-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=B0(),Ey(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||p.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let R;if(f.followFinger?R=y?e.translate:-e.translate:R=-t.currentTranslate,f.cssMode)return;if(f.freeMode&&f.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:R});return}const M=R>=-e.maxTranslate()&&!e.params.loop;let k=0,G=e.slidesSizesGrid[0];for(let te=0;te<x.length;te+=te<f.slidesPerGroupSkip?1:f.slidesPerGroup){const ie=te<f.slidesPerGroupSkip-1?1:f.slidesPerGroup;typeof x[te+ie]<"u"?(M||R>=x[te]&&R<x[te+ie])&&(k=te,G=x[te+ie]-x[te]):(M||R>=x[te])&&(k=te,G=x[x.length-1]-x[x.length-2])}let F=null,K=null;f.rewind&&(e.isBeginning?K=f.virtual&&f.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(F=0));const L=(R-x[k])/G,$=k<f.slidesPerGroupSkip-1?1:f.slidesPerGroup;if(I>f.longSwipesMs){if(!f.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(L>=f.longSwipesRatio?e.slideTo(f.rewind&&e.isEnd?F:k+$):e.slideTo(k)),e.swipeDirection==="prev"&&(L>1-f.longSwipesRatio?e.slideTo(k+$):K!==null&&L<0&&Math.abs(L)>f.longSwipesRatio?e.slideTo(K):e.slideTo(k))}else{if(!f.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(k+$):e.slideTo(k):(e.swipeDirection==="next"&&e.slideTo(F!==null?F:k+$),e.swipeDirection==="prev"&&e.slideTo(K!==null?K:k))}}function F_(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=n,f=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const p=f&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!p?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!f?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function nU(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function rU(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function iU(n){const e=this;o0(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function sU(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const e3=(n,e)=>{const t=Jl(),{params:r,el:s,wrapperEl:o,device:f}=n,p=!!r.nested,y=e==="on"?"addEventListener":"removeEventListener",x=e;!s||typeof s=="string"||(t[y]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:p}),s[y]("touchstart",n.onTouchStart,{passive:!1}),s[y]("pointerdown",n.onTouchStart,{passive:!1}),t[y]("touchmove",n.onTouchMove,{passive:!1,capture:p}),t[y]("pointermove",n.onTouchMove,{passive:!1,capture:p}),t[y]("touchend",n.onTouchEnd,{passive:!0}),t[y]("pointerup",n.onTouchEnd,{passive:!0}),t[y]("pointercancel",n.onTouchEnd,{passive:!0}),t[y]("touchcancel",n.onTouchEnd,{passive:!0}),t[y]("pointerout",n.onTouchEnd,{passive:!0}),t[y]("pointerleave",n.onTouchEnd,{passive:!0}),t[y]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[y]("click",n.onClick,!0),r.cssMode&&o[y]("scroll",n.onScroll),r.updateOnWindowResize?n[x](f.ios||f.android?"resize orientationchange observerUpdate":"resize observerUpdate",F_,!0):n[x]("observerUpdate",F_,!0),s[y]("load",n.onLoad,{capture:!0}))};function aU(){const n=this,{params:e}=n;n.onTouchStart=JV.bind(n),n.onTouchMove=eU.bind(n),n.onTouchEnd=tU.bind(n),n.onDocumentTouchStart=sU.bind(n),e.cssMode&&(n.onScroll=rU.bind(n)),n.onClick=nU.bind(n),n.onLoad=iU.bind(n),e3(n,"on")}function oU(){e3(this,"off")}var lU={attachEvents:aU,detachEvents:oU};const z_=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function cU(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const f=Jl(),p=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",y=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:f.querySelector(r.breakpointsBase),x=n.getBreakpoint(o,p,y);if(!x||n.currentBreakpoint===x)return;const A=(x in o?o[x]:void 0)||n.originalParams,I=z_(n,r),R=z_(n,A),M=n.params.grabCursor,k=A.grabCursor,G=r.enabled;I&&!R?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!I&&R&&(s.classList.add(`${r.containerModifierClass}grid`),(A.grid.fill&&A.grid.fill==="column"||!A.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),M&&!k?n.unsetGrabCursor():!M&&k&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ie=>{if(typeof A[ie]>"u")return;const V=r[ie]&&r[ie].enabled,P=A[ie]&&A[ie].enabled;V&&!P&&n[ie].disable(),!V&&P&&n[ie].enable()});const F=A.direction&&A.direction!==r.direction,K=r.loop&&(A.slidesPerView!==r.slidesPerView||F),L=r.loop;F&&t&&n.changeDirection(),Ji(n.params,A);const $=n.params.enabled,te=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),G&&!$?n.disable():!G&&$&&n.enable(),n.currentBreakpoint=x,n.emit("_beforeBreakpoint",A),t&&(K?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!L&&te?(n.loopCreate(e),n.updateSlides()):L&&!te&&n.loopDestroy()),n.emit("breakpoint",A)}function uU(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=wi(),o=e==="window"?s.innerHeight:t.clientHeight,f=Object.keys(n).map(p=>{if(typeof p=="string"&&p.indexOf("@")===0){const y=parseFloat(p.substr(1));return{value:o*y,point:p}}return{value:p,point:p}});f.sort((p,y)=>parseInt(p.value,10)-parseInt(y.value,10));for(let p=0;p<f.length;p+=1){const{point:y,value:x}=f[p];e==="window"?s.matchMedia(`(min-width: ${x}px)`).matches&&(r=y):x<=t.clientWidth&&(r=y)}return r||"max"}var dU={setBreakpoint:cU,getBreakpoint:uU};function fU(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function hU(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:o}=n,f=fU(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...f),s.classList.add(...e),n.emitContainerClasses()}function gU(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var pU={addClasses:hU,removeClasses:gU};function mU(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var yU={checkOverflow:mU},Ty={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function xU(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){Ji(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){Ji(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),Ji(e,r)}}const im={eventsEmitter:pV,update:SV,translate:DV,transition:PV,slide:GV,loop:XV,grabCursor:$V,events:lU,breakpoints:dU,checkOverflow:yU,classes:pU},sm={};let Hx=class La{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=Ji({},t),e&&!t.el&&(t.el=e);const f=Jl();if(t.el&&typeof t.el=="string"&&f.querySelectorAll(t.el).length>1){const E=[];return f.querySelectorAll(t.el).forEach(A=>{const I=Ji({},t,{el:A});E.push(new La(I))}),E}const p=this;p.__swiper__=!0,p.support=QI(),p.device=$I({userAgent:t.userAgent}),p.browser=ZI(),p.eventsListeners={},p.eventsAnyListeners=[],p.modules=[...p.__modules__],t.modules&&Array.isArray(t.modules)&&p.modules.push(...t.modules);const y={};p.modules.forEach(E=>{E({params:t,swiper:p,extendParams:xU(t,y),on:p.on.bind(p),once:p.once.bind(p),off:p.off.bind(p),emit:p.emit.bind(p)})});const x=Ji({},Ty,y);return p.params=Ji({},x,sm,t),p.originalParams=Ji({},p.params),p.passedParams=Ji({},t),p.params&&p.params.on&&Object.keys(p.params.on).forEach(E=>{p.on(E,p.params.on[E])}),p.params&&p.params.onAny&&p.onAny(p.params.onAny),Object.assign(p,{enabled:p.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return p.params.direction==="horizontal"},isVertical(){return p.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:p.params.allowSlideNext,allowSlidePrev:p.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:p.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:p.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),p.emit("_swiper"),p.params.init&&p.init(),p}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=ta(t,`.${r.slideClass}, swiper-slide`),o=P_(s[0]);return P_(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ta(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),f=(r.maxTranslate()-s)*e+s;r.translateTo(f,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:o,slidesGrid:f,slidesSizesGrid:p,size:y,activeIndex:x}=r;let E=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let A=o[x]?Math.ceil(o[x].swiperSlideSize):0,I;for(let R=x+1;R<o.length;R+=1)o[R]&&!I&&(A+=Math.ceil(o[R].swiperSlideSize),E+=1,A>y&&(I=!0));for(let R=x-1;R>=0;R-=1)o[R]&&!I&&(A+=o[R].swiperSlideSize,E+=1,A>y&&(I=!0))}else if(e==="current")for(let A=x+1;A<o.length;A+=1)(t?f[A]+p[A]-f[x]<y:f[A]-f[x]<y)&&(E+=1);else for(let A=x-1;A>=0;A-=1)f[x]-f[A]<y&&(E+=1);return E}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(f=>{f.complete&&o0(e,f)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const f=e.rtlTranslate?e.translate*-1:e.translate,p=Math.min(Math.max(f,e.maxTranslate()),e.minTranslate());e.setTranslate(p),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const f=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(f.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let f=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):ta(r,s())[0];return!f&&t.params.createElements&&(f=of("div",t.params.wrapperClass),r.append(f),ta(r,`.${t.params.slideClass}`).forEach(p=>{f.append(p)})),Object.assign(t,{el:r,wrapperEl:f,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:f,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||qo(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||qo(r,"direction")==="rtl"),wrongRTL:qo(f,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?o0(t,o):o.addEventListener("load",f=>{o0(t,f.target)})}),_y(t),t.initialized=!0,_y(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:o,wrapperEl:f,slides:p}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),f&&f.removeAttribute("style"),p&&p.length&&p.forEach(y=>{y.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),y.removeAttribute("style"),y.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(y=>{r.off(y)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),eV(r)),r.destroyed=!0),null}static extendDefaults(e){Ji(sm,e)}static get extendedDefaults(){return sm}static get defaults(){return Ty}static installModule(e){La.prototype.__modules__||(La.prototype.__modules__=[]);const t=La.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>La.installModule(t)),La):(La.installModule(e),La)}};Object.keys(im).forEach(n=>{Object.keys(im[n]).forEach(e=>{Hx.prototype[e]=im[n][e]})});Hx.use([hV,gV]);const t3=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Wl(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function au(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Wl(e[r])&&Wl(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:au(n[r],e[r]):n[r]=e[r]})}function n3(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function r3(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function i3(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function s3(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function wU(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function vU(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:o,prevEl:f,scrollbarEl:p,paginationEl:y}=n;const x=s.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:E,pagination:A,navigation:I,scrollbar:R,virtual:M,thumbs:k}=e;let G,F,K,L,$,te,ie,V;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&E.thumbs&&(!E.thumbs.swiper||E.thumbs.swiper.destroyed)&&(G=!0),s.includes("controller")&&r.controller&&r.controller.control&&E.controller&&!E.controller.control&&(F=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||y)&&(E.pagination||E.pagination===!1)&&A&&!A.el&&(K=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||p)&&(E.scrollbar||E.scrollbar===!1)&&R&&!R.el&&(L=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||f)&&(r.navigation.nextEl||o)&&(E.navigation||E.navigation===!1)&&I&&!I.prevEl&&!I.nextEl&&($=!0);const P=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),E[O].prevEl=void 0,E[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),E[O].el=void 0,e[O].el=void 0))};s.includes("loop")&&e.isElement&&(E.loop&&!r.loop?te=!0:!E.loop&&r.loop?ie=!0:V=!0),x.forEach(O=>{if(Wl(E[O])&&Wl(r[O]))Object.assign(E[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&P(O);else{const W=r[O];(W===!0||W===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?W===!1&&P(O):E[O]=r[O]}}),x.includes("controller")&&!F&&e.controller&&e.controller.control&&E.controller&&E.controller.control&&(e.controller.control=E.controller.control),s.includes("children")&&t&&M&&E.virtual.enabled?(M.slides=t,M.update(!0)):s.includes("virtual")&&M&&E.virtual.enabled&&(t&&(M.slides=t),M.update(!0)),s.includes("children")&&t&&E.loop&&(V=!0),G&&k.init()&&k.update(!0),F&&(e.controller.control=E.controller.control),K&&(e.isElement&&(!y||typeof y=="string")&&(y=document.createElement("div"),y.classList.add("swiper-pagination"),y.part.add("pagination"),e.el.appendChild(y)),y&&(E.pagination.el=y),A.init(),A.render(),A.update()),L&&(e.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-scrollbar"),p.part.add("scrollbar"),e.el.appendChild(p)),p&&(E.scrollbar.el=p),R.init(),R.updateSize(),R.setTranslate()),$&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),o.innerHTML=e.hostEl.constructor.nextButtonSvg,o.part.add("button-next"),e.el.appendChild(o)),(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-button-prev"),f.innerHTML=e.hostEl.constructor.prevButtonSvg,f.part.add("button-prev"),e.el.appendChild(f))),o&&(E.navigation.nextEl=o),f&&(E.navigation.prevEl=f),I.init(),I.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(te||V)&&e.loopDestroy(),(ie||V)&&e.loopCreate(),e.update()}function bU(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};au(t,Ty),t._emitClasses=!0,t.init=!1;const o={},f=t3.map(y=>y.replace(/_/,"")),p=Object.assign({},n);return Object.keys(p).forEach(y=>{typeof n[y]>"u"||(f.indexOf(y)>=0?Wl(n[y])?(t[y]={},s[y]={},au(t[y],n[y]),au(s[y],n[y])):(t[y]=n[y],s[y]=n[y]):y.search(/on[A-Z]/)===0&&typeof n[y]=="function"?e?r[`${y[2].toLowerCase()}${y.substr(3)}`]=n[y]:t.on[`${y[2].toLowerCase()}${y.substr(3)}`]=n[y]:o[y]=n[y])}),["navigation","pagination","scrollbar"].forEach(y=>{t[y]===!0&&(t[y]={}),t[y]===!1&&delete t[y]}),{params:t,passedParams:s,rest:o,events:r}}function EU(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:o,scrollbarEl:f,swiper:p}=n;n3(e)&&r&&s&&(p.params.navigation.nextEl=r,p.originalParams.navigation.nextEl=r,p.params.navigation.prevEl=s,p.originalParams.navigation.prevEl=s),r3(e)&&o&&(p.params.pagination.el=o,p.originalParams.pagination.el=o),i3(e)&&f&&(p.params.scrollbar.el=f,p.originalParams.scrollbar.el=f),p.init(t)}function _U(n,e,t,r,s){const o=[];if(!e)return o;const f=y=>{o.indexOf(y)<0&&o.push(y)};if(t&&r){const y=r.map(s),x=t.map(s);y.join("")!==x.join("")&&f("children"),r.length!==t.length&&f("children")}return t3.filter(y=>y[0]==="_").map(y=>y.replace(/_/,"")).forEach(y=>{if(y in n&&y in e)if(Wl(n[y])&&Wl(e[y])){const x=Object.keys(n[y]),E=Object.keys(e[y]);x.length!==E.length?f(y):(x.forEach(A=>{n[y][A]!==e[y][A]&&f(y)}),E.forEach(A=>{n[y][A]!==e[y][A]&&f(y)}))}else n[y]!==e[y]&&f(y)}),o}const TU=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function U0(){return U0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},U0.apply(this,arguments)}function a3(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function o3(n){const e=[];return dt.Children.toArray(n).forEach(t=>{a3(t)?e.push(t):t.props&&t.props.children&&o3(t.props.children).forEach(r=>e.push(r))}),e}function AU(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return dt.Children.toArray(n).forEach(r=>{if(a3(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=o3(r.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function SU(n,e,t){if(!t)return null;const r=E=>{let A=E;return E<0?A=e.length+E:A>=e.length&&(A=A-e.length),A},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:f}=t,p=n.params.loop?-e.length:0,y=n.params.loop?e.length*2:e.length,x=[];for(let E=p;E<y;E+=1)E>=o&&E<=f&&x.push(e[r(E)]);return x.map((E,A)=>dt.cloneElement(E,{swiper:n,style:s,key:E.props.virtualIndex||E.key||`slide-${A}`}))}function Hd(n,e){return typeof window>"u"?Z.useEffect(n,e):Z.useLayoutEffect(n,e)}const j_=Z.createContext(null),CU=Z.createContext(null),l3=Z.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:o,onSwiper:f,...p}=n===void 0?{}:n,y=!1;const[x,E]=Z.useState("swiper"),[A,I]=Z.useState(null),[R,M]=Z.useState(!1),k=Z.useRef(!1),G=Z.useRef(null),F=Z.useRef(null),K=Z.useRef(null),L=Z.useRef(null),$=Z.useRef(null),te=Z.useRef(null),ie=Z.useRef(null),V=Z.useRef(null),{params:P,passedParams:O,rest:W,events:X}=bU(p),{slides:Y,slots:q}=AU(o),be=()=>{M(!R)};Object.assign(P.on,{_containerClasses(Re,ne){E(ne)}});const le=()=>{Object.assign(P.on,X),y=!0;const Re={...P};if(delete Re.wrapperClass,F.current=new Hx(Re),F.current.virtual&&F.current.params.virtual.enabled){F.current.virtual.slides=Y;const ne={cache:!1,slides:Y,renderExternal:I,renderExternalUpdate:!1};au(F.current.params.virtual,ne),au(F.current.originalParams.virtual,ne)}};G.current||le(),F.current&&F.current.on("_beforeBreakpoint",be);const ae=()=>{y||!X||!F.current||Object.keys(X).forEach(Re=>{F.current.on(Re,X[Re])})},fe=()=>{!X||!F.current||Object.keys(X).forEach(Re=>{F.current.off(Re,X[Re])})};Z.useEffect(()=>()=>{F.current&&F.current.off("_beforeBreakpoint",be)}),Z.useEffect(()=>{!k.current&&F.current&&(F.current.emitSlidesClasses(),k.current=!0)}),Hd(()=>{if(e&&(e.current=G.current),!!G.current)return F.current.destroyed&&le(),EU({el:G.current,nextEl:$.current,prevEl:te.current,paginationEl:ie.current,scrollbarEl:V.current,swiper:F.current},P),f&&!F.current.destroyed&&f(F.current),()=>{F.current&&!F.current.destroyed&&F.current.destroy(!0,!1)}},[]),Hd(()=>{ae();const Re=_U(O,K.current,Y,L.current,ne=>ne.key);return K.current=O,L.current=Y,Re.length&&F.current&&!F.current.destroyed&&vU({swiper:F.current,slides:Y,passedParams:O,changedParams:Re,nextEl:$.current,prevEl:te.current,scrollbarEl:V.current,paginationEl:ie.current}),()=>{fe()}}),Hd(()=>{TU(F.current)},[A]);function we(){return P.virtual?SU(F.current,Y,A):Y.map((Re,ne)=>dt.cloneElement(Re,{swiper:F.current,swiperSlideIndex:ne}))}return dt.createElement(r,U0({ref:G,className:s3(`${x}${t?` ${t}`:""}`)},W),dt.createElement(CU.Provider,{value:F.current},q["container-start"],dt.createElement(s,{className:wU(P.wrapperClass)},q["wrapper-start"],we(),q["wrapper-end"]),n3(P)&&dt.createElement(dt.Fragment,null,dt.createElement("div",{ref:te,className:"swiper-button-prev"}),dt.createElement("div",{ref:$,className:"swiper-button-next"})),i3(P)&&dt.createElement("div",{ref:V,className:"swiper-scrollbar"}),r3(P)&&dt.createElement("div",{ref:ie,className:"swiper-pagination"}),q["container-end"]))});l3.displayName="Swiper";const Ay=Z.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:o,zoom:f,lazy:p,virtualIndex:y,swiperSlideIndex:x,...E}=n===void 0?{}:n;const A=Z.useRef(null),[I,R]=Z.useState("swiper-slide"),[M,k]=Z.useState(!1);function G($,te,ie){te===A.current&&R(ie)}Hd(()=>{if(typeof x<"u"&&(A.current.swiperSlideIndex=x),e&&(e.current=A.current),!(!A.current||!o)){if(o.destroyed){I!=="swiper-slide"&&R("swiper-slide");return}return o.on("_slideClass",G),()=>{o&&o.off("_slideClass",G)}}}),Hd(()=>{o&&A.current&&!o.destroyed&&R(o.getSlideClasses(A.current))},[o]);const F={isActive:I.indexOf("swiper-slide-active")>=0,isVisible:I.indexOf("swiper-slide-visible")>=0,isPrev:I.indexOf("swiper-slide-prev")>=0,isNext:I.indexOf("swiper-slide-next")>=0},K=()=>typeof r=="function"?r(F):r,L=()=>{k(!0)};return dt.createElement(t,U0({ref:A,className:s3(`${I}${s?` ${s}`:""}`),"data-swiper-slide-index":y,onLoad:L},E),f&&dt.createElement(j_.Provider,{value:F},dt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof f=="number"?f:void 0},K(),p&&!M&&dt.createElement("div",{className:"swiper-lazy-preloader"}))),!f&&dt.createElement(j_.Provider,{value:F},K(),p&&!M&&dt.createElement("div",{className:"swiper-lazy-preloader"})))});Ay.displayName="SwiperSlide";function IU(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let o=ta(n.el,`.${r[s]}`)[0];o||(o=of("div",r[s]),o.className=r[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function RU(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(M){let k;return M&&typeof M=="string"&&e.isElement&&(k=e.el.querySelector(M)||e.hostEl.querySelector(M),k)?k:(M&&(typeof M=="string"&&(k=[...document.querySelectorAll(M)]),e.params.uniqueNavElements&&typeof M=="string"&&k&&k.length>1&&e.el.querySelectorAll(M).length===1?k=e.el.querySelector(M):k&&k.length===1&&(k=k[0])),M&&!k?M:k)}function f(M,k){const G=e.params.navigation;M=ka(M),M.forEach(F=>{F&&(F.classList[k?"add":"remove"](...G.disabledClass.split(" ")),F.tagName==="BUTTON"&&(F.disabled=k),e.params.watchOverflow&&e.enabled&&F.classList[e.isLocked?"add":"remove"](G.lockClass))})}function p(){const{nextEl:M,prevEl:k}=e.navigation;if(e.params.loop){f(k,!1),f(M,!1);return}f(k,e.isBeginning&&!e.params.rewind),f(M,e.isEnd&&!e.params.rewind)}function y(M){M.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function x(M){M.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function E(){const M=e.params.navigation;if(e.params.navigation=IU(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(M.nextEl||M.prevEl))return;let k=o(M.nextEl),G=o(M.prevEl);Object.assign(e.navigation,{nextEl:k,prevEl:G}),k=ka(k),G=ka(G);const F=(K,L)=>{K&&K.addEventListener("click",L==="next"?x:y),!e.enabled&&K&&K.classList.add(...M.lockClass.split(" "))};k.forEach(K=>F(K,"next")),G.forEach(K=>F(K,"prev"))}function A(){let{nextEl:M,prevEl:k}=e.navigation;M=ka(M),k=ka(k);const G=(F,K)=>{F.removeEventListener("click",K==="next"?x:y),F.classList.remove(...e.params.navigation.disabledClass.split(" "))};M.forEach(F=>G(F,"next")),k.forEach(F=>G(F,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?R():(E(),p())}),r("toEdge fromEdge lock unlock",()=>{p()}),r("destroy",()=>{A()}),r("enable disable",()=>{let{nextEl:M,prevEl:k}=e.navigation;if(M=ka(M),k=ka(k),e.enabled){p();return}[...M,...k].filter(G=>!!G).forEach(G=>G.classList.add(e.params.navigation.lockClass))}),r("click",(M,k)=>{let{nextEl:G,prevEl:F}=e.navigation;G=ka(G),F=ka(F);const K=k.target;let L=F.includes(K)||G.includes(K);if(e.isElement&&!L){const $=k.path||k.composedPath&&k.composedPath();$&&(L=$.find(te=>G.includes(te)||F.includes(te)))}if(e.params.navigation.hideOnClick&&!L){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===K||e.pagination.el.contains(K)))return;let $;G.length?$=G[0].classList.contains(e.params.navigation.hiddenClass):F.length&&($=F[0].classList.contains(e.params.navigation.hiddenClass)),s($===!0?"navigationShow":"navigationHide"),[...G,...F].filter(te=>!!te).forEach(te=>te.classList.toggle(e.params.navigation.hiddenClass))}});const I=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),E(),p()},R=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),A()};Object.assign(e.navigation,{enable:I,disable:R,update:p,init:E,destroy:A})}function NU(n){const{effect:e,swiper:t,on:r,setTranslate:s,setTransition:o,overwriteParams:f,perspective:p,recreateShadows:y,getEffectParams:x}=n;r("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),p&&p()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const A=f?f():{};Object.assign(t.params,A),Object.assign(t.originalParams,A)}),r("setTranslate",()=>{t.params.effect===e&&s()}),r("setTransition",(A,I)=>{t.params.effect===e&&o(I)}),r("transitionEnd",()=>{if(t.params.effect===e&&y){if(!x||!x().slideShadows)return;t.slides.forEach(A=>{A.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(I=>I.remove())}),y()}});let E;r("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(E=!0),requestAnimationFrame(()=>{E&&t.slides&&t.slides.length&&(s(),E=!1)}))})}function MU(n,e){const t=jx(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function H_(n,e,t){const r=`swiper-slide-shadow${t?`-${t}`:""}${` swiper-slide-shadow-${n}`}`,s=jx(e);let o=s.querySelector(`.${r.split(" ").join(".")}`);return o||(o=of("div",r.split(" ")),s.append(o)),o}function DU(n){let{swiper:e,extendParams:t,on:r}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),NU({effect:"coverflow",swiper:e,on:r,setTranslate:()=>{const{width:f,height:p,slides:y,slidesSizesGrid:x}=e,E=e.params.coverflowEffect,A=e.isHorizontal(),I=e.translate,R=A?-I+f/2:-I+p/2,M=A?E.rotate:-E.rotate,k=E.depth,G=cV(e);for(let F=0,K=y.length;F<K;F+=1){const L=y[F],$=x[F],te=L.swiperSlideOffset,ie=(R-te-$/2)/$,V=typeof E.modifier=="function"?E.modifier(ie):ie*E.modifier;let P=A?M*V:0,O=A?0:M*V,W=-k*Math.abs(V),X=E.stretch;typeof X=="string"&&X.indexOf("%")!==-1&&(X=parseFloat(E.stretch)/100*$);let Y=A?0:X*V,q=A?X*V:0,be=1-(1-E.scale)*Math.abs(V);Math.abs(q)<.001&&(q=0),Math.abs(Y)<.001&&(Y=0),Math.abs(W)<.001&&(W=0),Math.abs(P)<.001&&(P=0),Math.abs(O)<.001&&(O=0),Math.abs(be)<.001&&(be=0);const le=`translate3d(${q}px,${Y}px,${W}px)  rotateX(${G(O)}deg) rotateY(${G(P)}deg) scale(${be})`,ae=MU(E,L);if(ae.style.transform=le,L.style.zIndex=-Math.abs(Math.round(V))+1,E.slideShadows){let fe=A?L.querySelector(".swiper-slide-shadow-left"):L.querySelector(".swiper-slide-shadow-top"),we=A?L.querySelector(".swiper-slide-shadow-right"):L.querySelector(".swiper-slide-shadow-bottom");fe||(fe=H_("coverflow",L,A?"left":"top")),we||(we=H_("coverflow",L,A?"right":"bottom")),fe&&(fe.style.opacity=V>0?V:0),we&&(we.style.opacity=-V>0?-V:0)}}},setTransition:f=>{e.slides.map(y=>jx(y)).forEach(y=>{y.style.transitionDuration=`${f}ms`,y.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(x=>{x.style.transitionDuration=`${f}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function F0(n){if(n==null||n==="")return"";const e=n instanceof Fn?n.toDate():n instanceof Date?n:new Date(n);if(isNaN(e.getTime()))return"";const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return`${t}/${r}/${s}`}async function z0(n){var s;const e=new FormData;e.append("file",n),e.append("upload_preset","free_preset");const t=await fetch("https://api.cloudinary.com/v1_1/dmzp8kowf/upload",{method:"POST",body:e}),r=await t.json();if(!t.ok)throw new Error(((s=r.error)==null?void 0:s.message)||"Upload failed");return r.secure_url}var Fc={},am,G_;function OU(){return G_||(G_=1,am=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),am}var om={},Uo={},q_;function ec(){if(q_)return Uo;q_=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Uo.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Uo.getSymbolTotalCodewords=function(r){return e[r]},Uo.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},Uo.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},Uo.isKanjiModeEnabled=function(){return typeof n<"u"},Uo.toSJIS=function(r){return n(r)},Uo}var lm={},Y_;function Gx(){return Y_||(Y_=1,function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,s){if(n.isValid(r))return r;try{return e(r)}catch{return s}}}(lm)),lm}var cm,W_;function kU(){if(W_)return cm;W_=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},cm=n,cm}var um,X_;function LU(){if(X_)return um;X_=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,s){const o=e*this.size+t;this.data[o]=r,s&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},um=n,um}var dm={},K_;function PU(){return K_||(K_=1,function(n){const e=ec().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,o=e(r),f=o===145?26:Math.ceil((o-13)/(2*s-2))*2,p=[o-7];for(let y=1;y<s-1;y++)p[y]=p[y-1]-f;return p.push(6),p.reverse()},n.getPositions=function(r){const s=[],o=n.getRowColCoords(r),f=o.length;for(let p=0;p<f;p++)for(let y=0;y<f;y++)p===0&&y===0||p===0&&y===f-1||p===f-1&&y===0||s.push([o[p],o[y]]);return s}}(dm)),dm}var fm={},Q_;function BU(){if(Q_)return fm;Q_=1;const n=ec().getSymbolSize,e=7;return fm.getPositions=function(r){const s=n(r);return[[0,0],[s-e,0],[0,s-e]]},fm}var hm={},$_;function VU(){return $_||($_=1,function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},n.from=function(s){return n.isValid(s)?parseInt(s,10):void 0},n.getPenaltyN1=function(s){const o=s.size;let f=0,p=0,y=0,x=null,E=null;for(let A=0;A<o;A++){p=y=0,x=E=null;for(let I=0;I<o;I++){let R=s.get(A,I);R===x?p++:(p>=5&&(f+=e.N1+(p-5)),x=R,p=1),R=s.get(I,A),R===E?y++:(y>=5&&(f+=e.N1+(y-5)),E=R,y=1)}p>=5&&(f+=e.N1+(p-5)),y>=5&&(f+=e.N1+(y-5))}return f},n.getPenaltyN2=function(s){const o=s.size;let f=0;for(let p=0;p<o-1;p++)for(let y=0;y<o-1;y++){const x=s.get(p,y)+s.get(p,y+1)+s.get(p+1,y)+s.get(p+1,y+1);(x===4||x===0)&&f++}return f*e.N2},n.getPenaltyN3=function(s){const o=s.size;let f=0,p=0,y=0;for(let x=0;x<o;x++){p=y=0;for(let E=0;E<o;E++)p=p<<1&2047|s.get(x,E),E>=10&&(p===1488||p===93)&&f++,y=y<<1&2047|s.get(E,x),E>=10&&(y===1488||y===93)&&f++}return f*e.N3},n.getPenaltyN4=function(s){let o=0;const f=s.data.length;for(let y=0;y<f;y++)o+=s.data[y];return Math.abs(Math.ceil(o*100/f/5)-10)*e.N4};function t(r,s,o){switch(r){case n.Patterns.PATTERN000:return(s+o)%2===0;case n.Patterns.PATTERN001:return s%2===0;case n.Patterns.PATTERN010:return o%3===0;case n.Patterns.PATTERN011:return(s+o)%3===0;case n.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2===0;case n.Patterns.PATTERN101:return s*o%2+s*o%3===0;case n.Patterns.PATTERN110:return(s*o%2+s*o%3)%2===0;case n.Patterns.PATTERN111:return(s*o%3+(s+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(s,o){const f=o.size;for(let p=0;p<f;p++)for(let y=0;y<f;y++)o.isReserved(y,p)||o.xor(y,p,t(s,y,p))},n.getBestMask=function(s,o){const f=Object.keys(n.Patterns).length;let p=0,y=1/0;for(let x=0;x<f;x++){o(x),n.applyMask(x,s);const E=n.getPenaltyN1(s)+n.getPenaltyN2(s)+n.getPenaltyN3(s)+n.getPenaltyN4(s);n.applyMask(x,s),E<y&&(y=E,p=x)}return p}}(hm)),hm}var Yh={},Z_;function c3(){if(Z_)return Yh;Z_=1;const n=Gx(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Yh.getBlocksCount=function(s,o){switch(o){case n.L:return e[(s-1)*4+0];case n.M:return e[(s-1)*4+1];case n.Q:return e[(s-1)*4+2];case n.H:return e[(s-1)*4+3];default:return}},Yh.getTotalCodewordsCount=function(s,o){switch(o){case n.L:return t[(s-1)*4+0];case n.M:return t[(s-1)*4+1];case n.Q:return t[(s-1)*4+2];case n.H:return t[(s-1)*4+3];default:return}},Yh}var gm={},_d={},J_;function UU(){if(J_)return _d;J_=1;const n=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let s=0;s<255;s++)n[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)n[s]=n[s-255]}(),_d.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},_d.exp=function(r){return n[r]},_d.mul=function(r,s){return r===0||s===0?0:n[e[r]+e[s]]},_d}var eT;function FU(){return eT||(eT=1,function(n){const e=UU();n.mul=function(r,s){const o=new Uint8Array(r.length+s.length-1);for(let f=0;f<r.length;f++)for(let p=0;p<s.length;p++)o[f+p]^=e.mul(r[f],s[p]);return o},n.mod=function(r,s){let o=new Uint8Array(r);for(;o.length-s.length>=0;){const f=o[0];for(let y=0;y<s.length;y++)o[y]^=e.mul(s[y],f);let p=0;for(;p<o.length&&o[p]===0;)p++;o=o.slice(p)}return o},n.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let o=0;o<r;o++)s=n.mul(s,new Uint8Array([1,e.exp(o)]));return s}}(gm)),gm}var pm,tT;function zU(){if(tT)return pm;tT=1;const n=FU();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const o=n.mod(s,this.genPoly),f=this.degree-o.length;if(f>0){const p=new Uint8Array(this.degree);return p.set(o,f),p}return o},pm=e,pm}var mm={},ym={},xm={},nT;function u3(){return nT||(nT=1,xm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),xm}var Zs={},rT;function d3(){if(rT)return Zs;rT=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Zs.KANJI=new RegExp(t,"g"),Zs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Zs.BYTE=new RegExp(r,"g"),Zs.NUMERIC=new RegExp(n,"g"),Zs.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+t+"$"),o=new RegExp("^"+n+"$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Zs.testKanji=function(y){return s.test(y)},Zs.testNumeric=function(y){return o.test(y)},Zs.testAlphanumeric=function(y){return f.test(y)},Zs}var iT;function tc(){return iT||(iT=1,function(n){const e=u3(),t=d3();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(o,f){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?o.ccBits[0]:f<27?o.ccBits[1]:o.ccBits[2]},n.getBestModeForData=function(o){return t.testNumeric(o)?n.NUMERIC:t.testAlphanumeric(o)?n.ALPHANUMERIC:t.testKanji(o)?n.KANJI:n.BYTE},n.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},n.isValid=function(o){return o&&o.bit&&o.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+s)}}n.from=function(o,f){if(n.isValid(o))return o;try{return r(o)}catch{return f}}}(ym)),ym}var sT;function jU(){return sT||(sT=1,function(n){const e=ec(),t=c3(),r=Gx(),s=tc(),o=u3(),f=7973,p=e.getBCHDigit(f);function y(I,R,M){for(let k=1;k<=40;k++)if(R<=n.getCapacity(k,M,I))return k}function x(I,R){return s.getCharCountIndicator(I,R)+4}function E(I,R){let M=0;return I.forEach(function(k){const G=x(k.mode,R);M+=G+k.getBitsLength()}),M}function A(I,R){for(let M=1;M<=40;M++)if(E(I,M)<=n.getCapacity(M,R,s.MIXED))return M}n.from=function(R,M){return o.isValid(R)?parseInt(R,10):M},n.getCapacity=function(R,M,k){if(!o.isValid(R))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=s.BYTE);const G=e.getSymbolTotalCodewords(R),F=t.getTotalCodewordsCount(R,M),K=(G-F)*8;if(k===s.MIXED)return K;const L=K-x(k,R);switch(k){case s.NUMERIC:return Math.floor(L/10*3);case s.ALPHANUMERIC:return Math.floor(L/11*2);case s.KANJI:return Math.floor(L/13);case s.BYTE:default:return Math.floor(L/8)}},n.getBestVersionForData=function(R,M){let k;const G=r.from(M,r.M);if(Array.isArray(R)){if(R.length>1)return A(R,G);if(R.length===0)return 1;k=R[0]}else k=R;return y(k.mode,k.getLength(),G)},n.getEncodedBits=function(R){if(!o.isValid(R)||R<7)throw new Error("Invalid QR Code version");let M=R<<12;for(;e.getBCHDigit(M)-p>=0;)M^=f<<e.getBCHDigit(M)-p;return R<<12|M}}(mm)),mm}var wm={},aT;function HU(){if(aT)return wm;aT=1;const n=ec(),e=1335,t=21522,r=n.getBCHDigit(e);return wm.getEncodedBits=function(o,f){const p=o.bit<<3|f;let y=p<<10;for(;n.getBCHDigit(y)-r>=0;)y^=e<<n.getBCHDigit(y)-r;return(p<<10|y)^t},wm}var vm={},bm,oT;function GU(){if(oT)return bm;oT=1;const n=tc();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,o,f;for(s=0;s+3<=this.data.length;s+=3)o=this.data.substr(s,3),f=parseInt(o,10),r.put(f,10);const p=this.data.length-s;p>0&&(o=this.data.substr(s),f=parseInt(o,10),r.put(f,p*3+1))},bm=e,bm}var Em,lT;function qU(){if(lT)return Em;lT=1;const n=tc(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let o;for(o=0;o+2<=this.data.length;o+=2){let f=e.indexOf(this.data[o])*45;f+=e.indexOf(this.data[o+1]),s.put(f,11)}this.data.length%2&&s.put(e.indexOf(this.data[o]),6)},Em=t,Em}var _m,cT;function YU(){if(cT)return _m;cT=1;const n=tc();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,s=this.data.length;r<s;r++)t.put(this.data[r],8)},_m=e,_m}var Tm,uT;function WU(){if(uT)return Tm;uT=1;const n=tc(),e=ec();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(s){return s*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let o=e.toSJIS(this.data[s]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},Tm=t,Tm}var Am={exports:{}},dT;function XU(){return dT||(dT=1,function(n){var e={single_source_shortest_paths:function(t,r,s){var o={},f={};f[r]=0;var p=e.PriorityQueue.make();p.push(r,0);for(var y,x,E,A,I,R,M,k,G;!p.empty();){y=p.pop(),x=y.value,A=y.cost,I=t[x]||{};for(E in I)I.hasOwnProperty(E)&&(R=I[E],M=A+R,k=f[E],G=typeof f[E]>"u",(G||k>M)&&(f[E]=M,p.push(E,M),o[E]=x))}if(typeof s<"u"&&typeof f[s]>"u"){var F=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(F)}return o},extract_shortest_path_from_predecessor_list:function(t,r){for(var s=[],o=r;o;)s.push(o),t[o],o=t[o];return s.reverse(),s},find_path:function(t,r,s){var o=e.single_source_shortest_paths(t,r,s);return e.extract_shortest_path_from_predecessor_list(o,s)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,s={},o;t=t||{};for(o in r)r.hasOwnProperty(o)&&(s[o]=r[o]);return s.queue=[],s.sorter=t.sorter||r.default_sorter,s},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var s={value:t,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e}(Am)),Am.exports}var fT;function KU(){return fT||(fT=1,function(n){const e=tc(),t=GU(),r=qU(),s=YU(),o=WU(),f=d3(),p=ec(),y=XU();function x(F){return unescape(encodeURIComponent(F)).length}function E(F,K,L){const $=[];let te;for(;(te=F.exec(L))!==null;)$.push({data:te[0],index:te.index,mode:K,length:te[0].length});return $}function A(F){const K=E(f.NUMERIC,e.NUMERIC,F),L=E(f.ALPHANUMERIC,e.ALPHANUMERIC,F);let $,te;return p.isKanjiModeEnabled()?($=E(f.BYTE,e.BYTE,F),te=E(f.KANJI,e.KANJI,F)):($=E(f.BYTE_KANJI,e.BYTE,F),te=[]),K.concat(L,$,te).sort(function(V,P){return V.index-P.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function I(F,K){switch(K){case e.NUMERIC:return t.getBitsLength(F);case e.ALPHANUMERIC:return r.getBitsLength(F);case e.KANJI:return o.getBitsLength(F);case e.BYTE:return s.getBitsLength(F)}}function R(F){return F.reduce(function(K,L){const $=K.length-1>=0?K[K.length-1]:null;return $&&$.mode===L.mode?(K[K.length-1].data+=L.data,K):(K.push(L),K)},[])}function M(F){const K=[];for(let L=0;L<F.length;L++){const $=F[L];switch($.mode){case e.NUMERIC:K.push([$,{data:$.data,mode:e.ALPHANUMERIC,length:$.length},{data:$.data,mode:e.BYTE,length:$.length}]);break;case e.ALPHANUMERIC:K.push([$,{data:$.data,mode:e.BYTE,length:$.length}]);break;case e.KANJI:K.push([$,{data:$.data,mode:e.BYTE,length:x($.data)}]);break;case e.BYTE:K.push([{data:$.data,mode:e.BYTE,length:x($.data)}])}}return K}function k(F,K){const L={},$={start:{}};let te=["start"];for(let ie=0;ie<F.length;ie++){const V=F[ie],P=[];for(let O=0;O<V.length;O++){const W=V[O],X=""+ie+O;P.push(X),L[X]={node:W,lastCount:0},$[X]={};for(let Y=0;Y<te.length;Y++){const q=te[Y];L[q]&&L[q].node.mode===W.mode?($[q][X]=I(L[q].lastCount+W.length,W.mode)-I(L[q].lastCount,W.mode),L[q].lastCount+=W.length):(L[q]&&(L[q].lastCount=W.length),$[q][X]=I(W.length,W.mode)+4+e.getCharCountIndicator(W.mode,K))}}te=P}for(let ie=0;ie<te.length;ie++)$[te[ie]].end=0;return{map:$,table:L}}function G(F,K){let L;const $=e.getBestModeForData(F);if(L=e.from(K,$),L!==e.BYTE&&L.bit<$.bit)throw new Error('"'+F+'" cannot be encoded with mode '+e.toString(L)+`.
 Suggested mode is: `+e.toString($));switch(L===e.KANJI&&!p.isKanjiModeEnabled()&&(L=e.BYTE),L){case e.NUMERIC:return new t(F);case e.ALPHANUMERIC:return new r(F);case e.KANJI:return new o(F);case e.BYTE:return new s(F)}}n.fromArray=function(K){return K.reduce(function(L,$){return typeof $=="string"?L.push(G($,null)):$.data&&L.push(G($.data,$.mode)),L},[])},n.fromString=function(K,L){const $=A(K,p.isKanjiModeEnabled()),te=M($),ie=k(te,L),V=y.find_path(ie.map,"start","end"),P=[];for(let O=1;O<V.length-1;O++)P.push(ie.table[V[O]].node);return n.fromArray(R(P))},n.rawSplit=function(K){return n.fromArray(A(K,p.isKanjiModeEnabled()))}}(vm)),vm}var hT;function QU(){if(hT)return om;hT=1;const n=ec(),e=Gx(),t=kU(),r=LU(),s=PU(),o=BU(),f=VU(),p=c3(),y=zU(),x=jU(),E=HU(),A=tc(),I=KU();function R(ie,V){const P=ie.size,O=o.getPositions(V);for(let W=0;W<O.length;W++){const X=O[W][0],Y=O[W][1];for(let q=-1;q<=7;q++)if(!(X+q<=-1||P<=X+q))for(let be=-1;be<=7;be++)Y+be<=-1||P<=Y+be||(q>=0&&q<=6&&(be===0||be===6)||be>=0&&be<=6&&(q===0||q===6)||q>=2&&q<=4&&be>=2&&be<=4?ie.set(X+q,Y+be,!0,!0):ie.set(X+q,Y+be,!1,!0))}}function M(ie){const V=ie.size;for(let P=8;P<V-8;P++){const O=P%2===0;ie.set(P,6,O,!0),ie.set(6,P,O,!0)}}function k(ie,V){const P=s.getPositions(V);for(let O=0;O<P.length;O++){const W=P[O][0],X=P[O][1];for(let Y=-2;Y<=2;Y++)for(let q=-2;q<=2;q++)Y===-2||Y===2||q===-2||q===2||Y===0&&q===0?ie.set(W+Y,X+q,!0,!0):ie.set(W+Y,X+q,!1,!0)}}function G(ie,V){const P=ie.size,O=x.getEncodedBits(V);let W,X,Y;for(let q=0;q<18;q++)W=Math.floor(q/3),X=q%3+P-8-3,Y=(O>>q&1)===1,ie.set(W,X,Y,!0),ie.set(X,W,Y,!0)}function F(ie,V,P){const O=ie.size,W=E.getEncodedBits(V,P);let X,Y;for(X=0;X<15;X++)Y=(W>>X&1)===1,X<6?ie.set(X,8,Y,!0):X<8?ie.set(X+1,8,Y,!0):ie.set(O-15+X,8,Y,!0),X<8?ie.set(8,O-X-1,Y,!0):X<9?ie.set(8,15-X-1+1,Y,!0):ie.set(8,15-X-1,Y,!0);ie.set(O-8,8,1,!0)}function K(ie,V){const P=ie.size;let O=-1,W=P-1,X=7,Y=0;for(let q=P-1;q>0;q-=2)for(q===6&&q--;;){for(let be=0;be<2;be++)if(!ie.isReserved(W,q-be)){let le=!1;Y<V.length&&(le=(V[Y]>>>X&1)===1),ie.set(W,q-be,le),X--,X===-1&&(Y++,X=7)}if(W+=O,W<0||P<=W){W-=O,O=-O;break}}}function L(ie,V,P){const O=new t;P.forEach(function(be){O.put(be.mode.bit,4),O.put(be.getLength(),A.getCharCountIndicator(be.mode,ie)),be.write(O)});const W=n.getSymbolTotalCodewords(ie),X=p.getTotalCodewordsCount(ie,V),Y=(W-X)*8;for(O.getLengthInBits()+4<=Y&&O.put(0,4);O.getLengthInBits()%8!==0;)O.putBit(0);const q=(Y-O.getLengthInBits())/8;for(let be=0;be<q;be++)O.put(be%2?17:236,8);return $(O,ie,V)}function $(ie,V,P){const O=n.getSymbolTotalCodewords(V),W=p.getTotalCodewordsCount(V,P),X=O-W,Y=p.getBlocksCount(V,P),q=O%Y,be=Y-q,le=Math.floor(O/Y),ae=Math.floor(X/Y),fe=ae+1,we=le-ae,Re=new y(we);let ne=0;const ye=new Array(Y),Ne=new Array(Y);let Oe=0;const Ge=new Uint8Array(ie.buffer);for(let Ye=0;Ye<Y;Ye++){const lt=Ye<be?ae:fe;ye[Ye]=Ge.slice(ne,ne+lt),Ne[Ye]=Re.encode(ye[Ye]),ne+=lt,Oe=Math.max(Oe,lt)}const it=new Uint8Array(O);let Ce=0,We,He;for(We=0;We<Oe;We++)for(He=0;He<Y;He++)We<ye[He].length&&(it[Ce++]=ye[He][We]);for(We=0;We<we;We++)for(He=0;He<Y;He++)it[Ce++]=Ne[He][We];return it}function te(ie,V,P,O){let W;if(Array.isArray(ie))W=I.fromArray(ie);else if(typeof ie=="string"){let le=V;if(!le){const ae=I.rawSplit(ie);le=x.getBestVersionForData(ae,P)}W=I.fromString(ie,le||40)}else throw new Error("Invalid data");const X=x.getBestVersionForData(W,P);if(!X)throw new Error("The amount of data is too big to be stored in a QR Code");if(!V)V=X;else if(V<X)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+X+`.
`);const Y=L(V,P,W),q=n.getSymbolSize(V),be=new r(q);return R(be,V),M(be),k(be,V),F(be,P,0),V>=7&&G(be,V),K(be,Y),isNaN(O)&&(O=f.getBestMask(be,F.bind(null,be,P))),f.applyMask(O,be),F(be,P,O),{modules:be,version:V,errorCorrectionLevel:P,maskPattern:O,segments:W}}return om.create=function(V,P){if(typeof V>"u"||V==="")throw new Error("No input text");let O=e.M,W,X;return typeof P<"u"&&(O=e.from(P.errorCorrectionLevel,e.M),W=x.from(P.version),X=f.from(P.maskPattern),P.toSJISFunc&&n.setToSJISFunction(P.toSJISFunc)),te(V,W,O,X)},om}var Sm={},Cm={},gT;function f3(){return gT||(gT=1,function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,f=r.scale||4;return{width:o,scale:o?4:f,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},n.getImageWidth=function(r,s){const o=n.getScale(r,s);return Math.floor((r+s.margin*2)*o)},n.qrToImageData=function(r,s,o){const f=s.modules.size,p=s.modules.data,y=n.getScale(f,o),x=Math.floor((f+o.margin*2)*y),E=o.margin*y,A=[o.color.light,o.color.dark];for(let I=0;I<x;I++)for(let R=0;R<x;R++){let M=(I*x+R)*4,k=o.color.light;if(I>=E&&R>=E&&I<x-E&&R<x-E){const G=Math.floor((I-E)/y),F=Math.floor((R-E)/y);k=A[p[G*f+F]?1:0]}r[M++]=k.r,r[M++]=k.g,r[M++]=k.b,r[M]=k.a}}}(Cm)),Cm}var pT;function $U(){return pT||(pT=1,function(n){const e=f3();function t(s,o,f){s.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=f,o.width=f,o.style.height=f+"px",o.style.width=f+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(o,f,p){let y=p,x=f;typeof y>"u"&&(!f||!f.getContext)&&(y=f,f=void 0),f||(x=r()),y=e.getOptions(y);const E=e.getImageWidth(o.modules.size,y),A=x.getContext("2d"),I=A.createImageData(E,E);return e.qrToImageData(I.data,o,y),t(A,x,E),A.putImageData(I,0,0),x},n.renderToDataURL=function(o,f,p){let y=p;typeof y>"u"&&(!f||!f.getContext)&&(y=f,f=void 0),y||(y={});const x=n.render(o,f,y),E=y.type||"image/png",A=y.rendererOpts||{};return x.toDataURL(E,A.quality)}}(Sm)),Sm}var Im={},mT;function ZU(){if(mT)return Im;mT=1;const n=f3();function e(s,o){const f=s.a/255,p=o+'="'+s.hex+'"';return f<1?p+" "+o+'-opacity="'+f.toFixed(2).slice(1)+'"':p}function t(s,o,f){let p=s+o;return typeof f<"u"&&(p+=" "+f),p}function r(s,o,f){let p="",y=0,x=!1,E=0;for(let A=0;A<s.length;A++){const I=Math.floor(A%o),R=Math.floor(A/o);!I&&!x&&(x=!0),s[A]?(E++,A>0&&I>0&&s[A-1]||(p+=x?t("M",I+f,.5+R+f):t("m",y,0),y=0,x=!1),I+1<o&&s[A+1]||(p+=t("h",E),E=0)):y++}return p}return Im.render=function(o,f,p){const y=n.getOptions(f),x=o.modules.size,E=o.modules.data,A=x+y.margin*2,I=y.color.light.a?"<path "+e(y.color.light,"fill")+' d="M0 0h'+A+"v"+A+'H0z"/>':"",R="<path "+e(y.color.dark,"stroke")+' d="'+r(E,x,y.margin)+'"/>',M='viewBox="0 0 '+A+" "+A+'"',G='<svg xmlns="http://www.w3.org/2000/svg" '+(y.width?'width="'+y.width+'" height="'+y.width+'" ':"")+M+' shape-rendering="crispEdges">'+I+R+`</svg>
`;return typeof p=="function"&&p(null,G),G},Im}var yT;function JU(){if(yT)return Fc;yT=1;const n=OU(),e=QU(),t=$U(),r=ZU();function s(o,f,p,y,x){const E=[].slice.call(arguments,1),A=E.length,I=typeof E[A-1]=="function";if(!I&&!n())throw new Error("Callback required as last argument");if(I){if(A<2)throw new Error("Too few arguments provided");A===2?(x=p,p=f,f=y=void 0):A===3&&(f.getContext&&typeof x>"u"?(x=y,y=void 0):(x=y,y=p,p=f,f=void 0))}else{if(A<1)throw new Error("Too few arguments provided");return A===1?(p=f,f=y=void 0):A===2&&!f.getContext&&(y=p,p=f,f=void 0),new Promise(function(R,M){try{const k=e.create(p,y);R(o(k,f,y))}catch(k){M(k)}})}try{const R=e.create(p,y);x(null,o(R,f,y))}catch(R){x(R)}}return Fc.create=e.create,Fc.toCanvas=s.bind(null,t.render),Fc.toDataURL=s.bind(null,t.renderToDataURL),Fc.toString=s.bind(null,function(o,f,p){return r.render(o,p)}),Fc}var eF=JU();const tF=j0(eF);async function h3(n){const e=await tF.toDataURL(n,{type:"image/png"});return await(await fetch(e)).blob()}const nF=async(n,e)=>(await Sx(Ps(Ur,"users",n,"freezers"),{name:e,createdAt:new Date})).id,rF=async(n,e,t="")=>{if(!e)throw new Error("Freezer ID is required");return(await Sx(Ps(Ur,"users",n,"freezers",e,"shelves"),{name:t,createdAt:Cx()})).id},iF=async(n,e,t,r,s=0,o="",f="",p=null,y=null,x=null)=>{if(!r)throw new Error("Product name is required");if(!e)throw new Error("Freezer ID is required");let E="";x&&(E=await z0(x));const A={name:r,quantity:s,unit:o,category:f,shelfId:t,createdAt:Cx(),freezingDate:p instanceof Date?Fn.fromDate(p):null,expirationDate:y instanceof Date?Fn.fromDate(y):null,photoUrl:E,qrCodeUrl:""},I=Ps(Ur,"users",n,"freezers",e,"products"),R=await Sx(I,A),M=await h3(R.id),k=await z0(M);return await yg(R,{qrCodeUrl:k}),{id:R.id,photoUrl:E,qrCodeUrl:k}},sF=async n=>{const e=tu(Ps(Ur,"users",n,"freezers"),Vd("createdAt","asc")),t=await ja(e),r=[];for(const s of t.docs){const o={id:s.id,...s.data(),shelves:[],products:[]},f=tu(Ps(Ur,"users",n,"freezers",s.id,"shelves"),Vd("createdAt","asc")),p=await ja(f);o.shelves=p.docs.map(E=>({id:E.id,...E.data()}));const y=tu(Ps(Ur,"users",n,"freezers",s.id,"products"),Vd("createdAt","asc")),x=await ja(y);o.products=x.docs.map(E=>{var I,R;const A=E.data();return{id:E.id,...A,freezingDate:((I=A.freezingDate)==null?void 0:I.toDate())||null,expirationDate:((R=A.expirationDate)==null?void 0:R.toDate())||null}}),r.push(o)}return r},aF=async n=>{if(!n)throw new Error("User ID is required");const e=Ps(Ur,"categories"),t=tu(e,ly("createdBy","==",""),Vd("createdAt","asc")),r=tu(e,ly("createdBy","==",n),Vd("createdAt","asc")),[s,o]=await Promise.all([ja(t),ja(r)]),f=s.docs.map(y=>({id:y.id,...y.data()})),p=o.docs.map(y=>({id:y.id,...y.data()}));return[...f,...p]},oF=async()=>{try{return(await ja(Ps(Ur,"units"))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){return console.error("Error fetching units:",n),[]}},lF=async(n,e,t)=>{if(!t)throw new Error("New name is required");const r=ul(Ur,"users",n,"freezers",e);await yg(r,{name:t,updatedAt:new Date})},cF=async(n,e,t,r)=>{const s=ul(Ur,"users",n,"freezers",e,"shelves",t);await yg(s,{name:r,updatedAt:new Date})},uF=async(n,e,t,r={})=>{if(!n||!e||!t)throw new Error("Missing identifiers");const{photoFile:s,regenerateQr:o,freezingDate:f,expirationDate:p,shelfId:y,...x}=r,A={...Object.entries(x).reduce((M,[k,G])=>(!(G instanceof File)&&!(G instanceof Blob)&&(M[k]=G),M),{}),updatedAt:Cx()};r.hasOwnProperty("shelfId")&&(A.shelfId=y===""?null:y);const I=M=>M?M instanceof Date?Fn.fromDate(M):M instanceof Fn?M:typeof M=="string"?Fn.fromDate(new Date(M)):null:null;if(f&&(A.freezingDate=I(f)),p&&(A.expirationDate=I(p)),s){const M=await z0(s);A.photoUrl=M}if(o){const M=await h3(`${t}|${Date.now()}`),k=await z0(M);A.qrCodeUrl=k}const R=ul(Ur,"users",n,"freezers",e,"products",t);await yg(R,A)},dF=async(n,e)=>{const t=Ps(Ur,"users",n,"freezers",e,"products"),r=await ja(t);await Promise.all(r.docs.map(p=>nu(p.ref)));const s=Ps(Ur,"users",n,"freezers",e,"shelves"),o=await ja(s);await Promise.all(o.docs.map(p=>nu(p.ref)));const f=ul(Ur,"users",n,"freezers",e);await nu(f)},fF=async(n,e,t)=>{const r=tu(Ps(Ur,"users",n,"freezers",e,"products"),ly("shelfId","==",t)),s=await ja(r);await Promise.all(s.docs.map(f=>nu(f.ref)));const o=ul(Ur,"users",n,"freezers",e,"shelves",t);await nu(o)},hF=async(n,e,t)=>{const r=ul(Ur,"users",n,"freezers",e,"products",t);await nu(r)};function gF(){const{user:n,_:e}=_f(),[t,r]=Z.useState([]),[s,o]=Z.useState(!1),[f,p]=Z.useState(null);Z.useEffect(()=>{if(!n)return;o(!0),(async()=>{try{const $=await sF(n.uid);r(Array.isArray($)?$:[$])}catch($){console.error("Error fetching freezer data:",$),p($)}finally{o(!1)}})()},[n]);const y=Z.useCallback(async L=>{if(L){o(!0);try{const $=await nF(n.uid,L);r(te=>[...te,{id:$,name:L.trim(),shelves:[]}])}catch($){console.error($),p($)}finally{o(!1)}}},[n]),x=Z.useCallback(async(L,$)=>{o(!0);try{await lF(n.uid,L,$),r(te=>te.map(ie=>ie.id===L?{...ie,name:$}:ie))}catch(te){console.error(te),p(te)}finally{o(!1)}},[n]),E=Z.useCallback(async L=>{o(!0);try{await dF(n.uid,L),r($=>$.filter(te=>te.id!==L))}catch($){console.error($),p($)}finally{o(!1)}},[n]),A=Z.useCallback(async(L,$)=>{if(!(!$||!L)){o(!0);try{const te=await rF(n.uid,L,$.trim());r(ie=>ie.map(V=>V.id===L?{...V,shelves:[...V.shelves,{id:te,name:$.trim()}]}:V))}catch(te){console.error(te),p(te)}finally{o(!1)}}},[n]),I=Z.useCallback(async(L,$,te)=>{if(!(!te||!L)){o(!0);try{await cF(n.uid,L,$,te),r(ie=>ie.map(V=>V.id===L?{...V,shelves:V.shelves.map(P=>P.id===$?{...P,name:te.trim()}:P)}:V))}catch(ie){console.error(ie),p(ie)}finally{o(!1)}}},[n]),R=Z.useCallback(async(L,$)=>{try{await fF(n.uid,L,$),r(te=>te.map(ie=>ie.id===L?{...ie,shelves:ie.shelves.filter(V=>V.id!==$)}:ie))}catch(te){console.error(te),p(te)}finally{o(!1)}},[n]),M=L=>{if(!L)return;const $=L.includes(".")?L.split("."):L.split("/");if($.length!==3)return;const[te,ie,V]=$.map(Number);return new Date(V,ie-1,te)},k=Z.useCallback(async(L,$,te)=>{if(!(!te||!L))try{const ie=te.freezingDate instanceof Date?te.freezingDate:M(te.freezingDate),V=te.expirationDate instanceof Date?te.expirationDate:M(te.expirationDate),P=te.picture||null,{id:O,photoUrl:W,qrCodeUrl:X}=await iF(n.uid,L,$,te.name,te.quantity,te.unit,te.category,ie,V,P);r(Y=>Y.map(q=>q.id===L?{...q,products:[...q.products||[],{id:O,shelfId:$,name:te.name,quantity:te.quantity,unit:te.unit,category:te.category,freezingDate:ie,expirationDate:V,photoUrl:W,qrCodeUrl:X}]}:q))}catch(ie){console.error(ie),p(ie)}},[n]),G=Z.useCallback(async(L,$,te,ie)=>{if(!(!ie||!L))try{await uF(n.uid,L,te,ie),r(V=>V.map(P=>P.id===L?{...P,products:P.products.map(O=>O.id===te?{...O,...ie,freezingDate:typeof ie.freezingDate=="string"?new Date(ie.freezingDate):ie.freezingDate,expirationDate:typeof ie.expirationDate=="string"?new Date(ie.expirationDate):ie.expirationDate}:O)}:P))}catch(V){console.error("Error updating product:",V),p(V)}},[n]),F=Z.useCallback(async(L,$,te)=>{if(!(!te||!L))try{await hF(n.uid,L,te),r(ie=>ie.map(V=>V.id===L?{...V,products:V.products.filter(P=>P.id!==te)}:V))}catch(ie){console.error("Error deleting product:",ie),p(ie)}},[n]),K=Z.useCallback(()=>t.flatMap(L=>(L.products||[]).filter($=>$.shelfId==="").map($=>({...$,freezerId:L.id}))),[t]);return{freezers:t,loading:s,error:f,addFreezer:y,updateFreezer:x,deleteFreezer:E,addShelf:A,updateShelf:I,removeShelf:R,addProduct:k,updateProduct:G,removeProduct:F,getUnassignedProducts:K}}function qx(){const{user:n,loading:e}=_f(),[t,r]=Z.useState([]),[s,o]=Z.useState([]),[f,p]=Z.useState(null);Z.useEffect(()=>{if(!n)return;(async()=>{try{const E=await aF(n.uid),A=await oF();r(Array.isArray(E)?E:[E]),o(Array.isArray(A)?A:[A])}catch(E){console.error("Error fetching freezer data:",E),p(E)}})()},[n]);const y=Z.useCallback(x=>t.find(E=>E.id===x)||null,[t]);return Z.useCallback(),{categories:t,units:s,error:f,getCategory:y}}function pF(){const{config:n,open:e,close:t}=Lg(),{freezers:r,loading:s,error:o,addFreezer:f,updateFreezer:p,deleteFreezer:y,addShelf:x,updateShelf:E,removeShelf:A,addProduct:I,updateProduct:R,removeProduct:M}=gF(),{categories:k,units:G}=qx();function F(P,O){for(const W of P){const X=W.products.find(Y=>Y.id===O);if(X)return{freezerId:W.id,product:X}}return null}const{showScanner:K,openScanner:L,closeScanner:$,scanResult:te,scanError:ie,qrContainerId:V}=QB({onScanSuccess:P=>{console.log("scanned:",P);const O=F(r,P);if(!O){fn.error("Product not found.");return}const{freezerId:W,product:X}=O,Y=r.find(be=>be.id===W),q=Y?Y.shelves:[];e({mode:"edit",title:"Product",onSubmit:be=>{console.log("submitted"),R(W,X.shelfId,X.id,be)},fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter freezer name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:q,required:!1},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:G,required:!0},{key:"photoUrl",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:k,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}],initialData:{id:X.id,name:X.name,shelfId:X.shelfId,quantity:X.quantity,unit:X.unit,category:X.category||"",freezingDate:F0(X.freezingDate),expirationDate:F0(X.expirationDate),photoUrl:X.photoUrl||""}})},onScanError:P=>{console.error("Scanner error",P)}});return s?B.jsx("div",{className:"flex items-center justify-center h-screen",children:B.jsxs("div",{className:"relative flex flex-col items-center",children:[B.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),B.jsx("div",{className:"mt-4 text-lg font-medium text-gray-600 dark:text-gray-300 animate-pulse",children:"Loading freezers..."})]})}):o?B.jsx("div",{className:"flex items-center justify-center h-64",children:B.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-6 max-w-md",children:B.jsxs("div",{className:"flex items-center",children:[B.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mr-3",children:B.jsx("svg",{className:"w-4 h-4 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:B.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-red-800 dark:text-red-200 font-medium",children:"Error loading freezers"}),B.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:o.message})]})]})})}):B.jsxs("div",{className:"relative w-full min-h-screen",children:[B.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/30 via-transparent to-purple-50/30 dark:from-blue-900/10 dark:to-purple-900/10 pointer-events-none"}),B.jsxs(l3,{modules:[RU,DU],spaceBetween:30,slidesPerView:1,loop:!1,navigation:{nextEl:".swiper-button-next-custom",prevEl:".swiper-button-prev-custom"},effect:"coverflow",coverflowEffect:{rotate:15,stretch:0,depth:200,modifier:1,slideShadows:!0},style:{width:"100%",height:"100%",padding:"20px 0"},observer:!0,observeParents:!0,observeSlideChildren:!0,className:"w-full h-full flex justify-center items-center",children:[r.map(P=>B.jsx(Ay,{className:"flex items-center justify-center",children:B.jsx("div",{className:"w-full max-w-3xl",children:B.jsx($B,{freezerData:P,onDeleteFreezer:()=>y(P.id),onEditFreezer:O=>p(P.id,O),onAddShelf:O=>x(P.id,O),onUpdateShelf:(O,W)=>E(P.id,O,W),onRemoveShelf:O=>A(P.id,O),onAddProduct:(O,W)=>I(P.id,O,W),onUpdateProduct:(O,W,X)=>R(P.id,O,W,X),onRemoveProduct:(O,W)=>M(P.id,O,W)})})},P.id)),B.jsx(Ay,{className:"flex items-center justify-center",children:B.jsxs("div",{className:"flex flex-col items-center justify-center gap-8 p-12 bg-gradient-to-br from-white to-blue-50 dark:from-gray-800 dark:to-blue-900/20 rounded-3xl shadow-2xl border border-blue-100 dark:border-blue-800/30 backdrop-blur-sm",children:[B.jsxs("div",{className:"text-center mb-6",children:[B.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Manage your freezers"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create a new freezer or add/edit a product with QR-code"})]}),B.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[B.jsxs("div",{className:"group",children:[B.jsx(xi,{label:"New Freezer",onClick:()=>e({mode:"add",title:"Freezer",onSubmit:({name:P})=>{f(P)},fields:[{key:"name",label:"Freezer Name",type:"text",placeholder:"Enter freezer name",required:!0}]}),action:"add",className:"px-8 py-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 group-hover:shadow-blue-500/25"}),B.jsx("div",{className:"text-center mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Create from scratch"})]}),B.jsx("p",{children:"or"}),B.jsxs("div",{className:"group",children:[B.jsx(xi,{label:"Scan QR Code",onClick:L,action:"scan",className:"px-8 py-4 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 group-hover:shadow-purple-500/25"}),B.jsx("div",{className:"text-center mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Scan existing freezer"})]})]})]})})]}),B.jsx("div",{className:"swiper-button-prev-custom absolute left-4 top-1/2 transform -translate-y-1/2 z-10 w-12 h-12 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:shadow-xl flex items-center justify-center cursor-pointer transition-all duration-200 hover:scale-110 border border-gray-200 dark:border-gray-700",children:B.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),B.jsx("div",{className:"swiper-button-next-custom absolute right-4 top-1/2 transform -translate-y-1/2 z-10 w-12 h-12 bg-white dark:bg-gray-800 rounded-full shadow-lg hover:shadow-xl flex items-center justify-center cursor-pointer transition-all duration-200 hover:scale-110 border border-gray-200 dark:border-gray-700",children:B.jsx("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),B.jsx(Og,{show:n.mode!==null,mode:n.mode,title:n.title,fields:n.fields,initialData:n.initialData,onSubmit:n.onSubmit,onClose:t}),B.jsx(iB,{show:K,onClose:$,scanError:ie,scanResult:te,qrContainerId:V})]})}function xT({shelf:n,freezerData:e,onRemoveShelf:t,onUpdateShelf:r,onAddProduct:s,onUpdateProduct:o,onRemoveProduct:f}){_f();const{config:p,open:y,close:x}=Lg(),{categories:E,units:A}=qx(),I=n.name==="No shelf products"?{id:n.id,name:"-- No Shelf --"}:{id:n.id,name:n.name};return B.jsxs(B.Fragment,{children:[B.jsx(kC,{collapseAll:!0,children:B.jsxs(VC,{children:[B.jsx(UC,{className:"cursor-pointer flex flex-row justify-between items-center w-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 rounded-lg p-5",children:B.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[n.name,n.id&&B.jsxs(B.Fragment,{children:[B.jsx(xi,{onClick:()=>y({mode:"edit",title:"Shelf",onSubmit:({name:R})=>r(n.id,R),fields:[{key:"name",label:"Shelf Name",type:"text",placeholder:"Enter shelf name",required:!0}],initialData:{name:n.name}}),action:"edit"}),B.jsx(xi,{onClick:()=>y({mode:"delete",title:"Shelf",onSubmit:()=>t(n.id)}),action:"delete"})]})]})}),B.jsxs(BC,{className:"flex flex-col gap-2 cursor-pointer",children:[e.products&&e.products.filter(R=>n.id?R.shelfId===n.id:!R.shelfId).map(R=>B.jsx(mF,{shelves:e.shelves,product:R,shelfId:n.id,onUpdateProduct:o,onRemoveProduct:f,freezerId:e.id,className:"flex flex-row justify-between items-center w-full",categories:E,units:A},R.id)),B.jsx(xi,{label:"Product",onClick:()=>y({mode:"add",title:"Product",onSubmit:R=>s(n.id,R),fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter product name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:e.shelves,required:!1,value:I},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:A,required:!0},{key:"picture",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:E,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}]}),action:"add"})]})]})}),B.jsx(Og,{show:p.mode!==null,mode:p.mode,title:p.title,fields:p.fields,initialData:p.initialData,onSubmit:p.onSubmit,onClose:x})]})}function mF({product:n,shelfId:e,onRemoveProduct:t,onUpdateProduct:r,categories:s,units:o,shelves:f}){const[p,y]=Z.useState(!1),{config:x,open:E,close:A}=Lg(),I=s.find(F=>F.id===n.category),R=o.find(F=>F.id===n.unit),k=(()=>{var $;if(!n.expirationDate)return null;const F=new Date,K=($=n.expirationDate)!=null&&$.toDate?n.expirationDate.toDate():new Date(n.expirationDate),L=Math.ceil((K-F)/(1e3*60*60*24));return L<0?{status:"expired",days:Math.abs(L),color:"red"}:L<=3?{status:"expiring",days:L,color:"orange"}:L<=7?{status:"soon",days:L,color:"yellow"}:{status:"fresh",days:L,color:"green"}})(),G=F=>{if(!F)return B.jsx("svg",{className:"w-4 h-4 sm:w-6 sm:h-6 text-gray-400 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})};return console.log(n),B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"bg-white/50 dark:bg-slate-800/50 border border-gray-200 dark:border-slate-700/40 rounded-lg p-3 sm:p-4 hover:bg-gray-100 dark:hover:bg-slate-700/50 hover:border-gray-300 dark:hover:border-slate-600/50 transition-all duration-200 cursor-pointer group",onClick:()=>y(!0),children:[B.jsxs("div",{className:"sm:hidden",children:[B.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[B.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-slate-700/50 flex items-center justify-center flex-shrink-0 group-hover:bg-gray-200 dark:group-hover:bg-slate-600/50 transition-colors duration-200",children:I!=null&&I.imageUrl?B.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-6 h-6 object-cover rounded-md"}):G(I==null?void 0:I.name)}),B.jsxs("div",{className:"flex-1 min-w-0",children:[B.jsx("div",{className:"text-gray-800 dark:text-slate-200 font-medium text-sm truncate group-hover:text-gray-900 dark:group-hover:text-white transition-colors duration-200",children:n.name}),(I==null?void 0:I.name)&&B.jsx("div",{className:"text-gray-600 dark:text-slate-400 text-xs truncate",children:I.name})]}),k&&B.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ${k.color==="red"?"bg-red-500/20 text-red-700 dark:text-red-300 border border-red-500/30":k.color==="orange"?"bg-orange-500/20 text-orange-700 dark:text-orange-300 border border-orange-500/30":k.color==="yellow"?"bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border border-yellow-500/30":"bg-green-500/20 text-green-700 dark:text-green-300 border border-green-500/30"}`,children:k.status==="expired"?"Expired":k.status==="expiring"?`${k.days}d`:k.status==="soon"?`${k.days}d`:"Fresh"})]}),B.jsxs("div",{className:"flex items-center justify-between",children:[B.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-slate-700/30 px-2 py-1 rounded-md",children:[B.jsx("span",{className:"text-gray-800 dark:text-slate-200 font-medium text-sm",children:n.quantity}),(R==null?void 0:R.name)&&B.jsx("span",{className:"text-gray-600 dark:text-slate-400 text-xs",children:R.name})]}),B.jsxs("div",{className:"flex gap-1",children:[B.jsx(xi,{onClick:F=>{var K,L;F.stopPropagation(),console.log("Edit product: ",n),E({mode:"edit",title:"Edit Product",onSubmit:$=>{console.log("submitted"),r(e,n.id,$)},fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter product name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:f,required:!1},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:o,required:!0},{key:"photoUrl",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:s,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}],initialData:{id:n.id,name:n.name,shelfId:e,quantity:n.quantity,unit:n.unit,category:n.category||"",freezingDate:(K=n.freezingDate)!=null&&K.toDate?n.freezingDate.toDate():n.freezingDate,expirationDate:(L=n.expirationDate)!=null&&L.toDate?n.expirationDate.toDate():n.expirationDate,photoUrl:n.photoUrl||""}})},action:"edit",className:"scale-75 hover:scale-90 transition-transform duration-200"}),B.jsx(xi,{onClick:F=>{F.stopPropagation(),E({mode:"delete",title:"Delete Product",onSubmit:()=>{t(e,n.id),console.log(n.id)}})},action:"delete",className:"scale-75 hover:scale-90 transition-transform duration-200"})]})]})]}),B.jsxs("div",{className:"hidden sm:flex justify-between items-center w-full",children:[B.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[B.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 dark:bg-slate-700/50 flex items-center justify-center flex-shrink-0 group-hover:bg-gray-200 dark:group-hover:bg-slate-600/50 transition-colors duration-200",children:I!=null&&I.imageUrl?B.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-8 h-8 object-cover rounded-md"}):G(I==null?void 0:I.name)}),B.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[B.jsxs("div",{className:"flex items-center gap-2",children:[B.jsx("span",{className:"text-gray-800 dark:text-slate-200 font-medium text-sm truncate group-hover:text-gray-900 dark:group-hover:text-white transition-colors duration-200",children:n.name}),k&&B.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${k.color==="red"?"bg-red-500/20 text-red-700 dark:text-red-300 border border-red-500/30":k.color==="orange"?"bg-orange-500/20 text-orange-700 dark:text-orange-300 border border-orang-500/30":k.color==="yellow"?"bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border border-yellow-500/30":"bg-green-500/20 text-green-700 dark:text-green-300 border border-green-500/30"}`,children:k.status==="expired"?"Expired":k.status==="expiring"?`${k.days}d`:k.status==="soon"?`${k.days}d`:"Fresh"})]}),(I==null?void 0:I.name)&&B.jsx("span",{className:"text-gray-600 dark:text-slate-400 text-xs truncate",children:I.name})]})]}),B.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[B.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-slate-700/30 px-2 py-1 rounded-md",children:[B.jsx("span",{className:"text-gray-800 dark:text-slate-200 font-medium text-sm",children:n.quantity}),(R==null?void 0:R.name)&&B.jsx("span",{className:"text-gray-600 dark:text-slate-400 text-xs",children:R.name})]}),B.jsxs("div",{className:"flex gap-1",children:[B.jsx(xi,{onClick:F=>{var K,L;F.stopPropagation(),console.log("Edit product: ",n),E({mode:"edit",title:"Edit Product",onSubmit:$=>{console.log("submitted"),r(e,n.id,$)},fields:[{key:"name",label:"Product Name",type:"text",placeholder:"Enter product name",required:!0},{key:"shelfId",label:"Shelf",type:"select",options:f,required:!1},{key:"quantity",label:"Quantity",type:"number",placeholder:"Enter quantity",required:!0},{key:"unit",label:"Unit",type:"select",options:o,required:!0},{key:"photoUrl",label:"Picture",type:"file",placeholder:"Upload picture",required:!1},{key:"category",label:"Category",type:"select",options:s,required:!1},{key:"freezingDate",label:"Freezing Date",type:"date",placeholder:"Enter freezing date",required:!1},{key:"expirationDate",label:"Expiration Date",type:"date",placeholder:"Enter expiration date",required:!1}],initialData:{id:n.id,name:n.name,shelfId:e,quantity:n.quantity,unit:n.unit,category:n.category||"",freezingDate:(K=n.freezingDate)!=null&&K.toDate?n.freezingDate.toDate():n.freezingDate,expirationDate:(L=n.expirationDate)!=null&&L.toDate?n.expirationDate.toDate():n.expirationDate,photoUrl:n.photoUrl||""}})},action:"edit",className:"scale-90 hover:scale-100"}),B.jsx(xi,{onClick:F=>{F.stopPropagation(),E({mode:"delete",title:"Delete Product",onSubmit:()=>{t(e,n.id),console.log(n.id)}})},action:"delete",className:"scale-90 hover:scale-100 transition-transform duration-200"})]})]})]})]}),B.jsx(yF,{show:p,onClose:()=>y(!1),product:n,unit:R,category:I}),B.jsx(Og,{show:x.mode!==null,mode:x.mode,title:x.title,fields:x.fields,initialData:x.initialData,onSubmit:x.onSubmit,onClose:A})]})}function yF({show:n,onClose:e,product:t,unit:r,category:s}){if(!t)return null;qx();function o(p){return p?typeof p=="string"?p:p instanceof File?URL.createObjectURL(p):null:null}const f=async p=>{p.preventDefault(),p.stopPropagation();try{const x=await(await fetch(t.qrCodeUrl)).blob(),E=window.URL.createObjectURL(x),A=document.createElement("a");A.href=E,A.download=`${t.name}-qrcode.png`,document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(E)}catch(y){console.error("Download failed:",y)}};return B.jsxs(Ng,{show:n,onClose:e,size:"lg",children:[B.jsx(Dg,{className:"border-b border-gray-200 dark:border-gray-700",children:B.jsxs("div",{className:"flex items-center gap-3",children:[B.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:B.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.name}),s&&B.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.name})]})]})}),B.jsx(Mg,{className:"p-0",children:B.jsxs("div",{className:"p-6 space-y-6",children:[B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[B.jsx("div",{className:"space-y-4",children:B.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4 shadow-2xs",children:[B.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[B.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Product Details"]}),B.jsxs("div",{className:"space-y-3",children:[B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Quantity:"}),B.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.quantity," ",r?r.name:""]})]}),t.freezingDate&&B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Freezing Date:"}),B.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:F0(t.freezingDate)})]}),t.expirationDate&&B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expiration Date:"}),B.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:F0(t.expirationDate)})]})]})]})}),t.photoUrl&&B.jsx("div",{className:"space-y-4",children:B.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-4",children:[B.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[B.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Product Photo"]}),B.jsx("div",{className:"relative overflow-hidden rounded-lg bg-gray-100 dark:bg-gray-700",children:B.jsx("img",{src:o(t.photoUrl),alt:t.name,className:"w-full h-48 object-cover"})})]})})]}),B.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-6 border border-blue-200 dark:border-blue-800",children:[B.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[B.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h.01M12 15h.01M12 12h.01M12 9h.01M12 6h.01M7 5h.01M7 8h.01M7 11h.01M7 14h.01M7 17h.01M17 17h.01M17 14h.01M17 11h.01M17 8h.01M17 5h.01"})}),"QR Code"]}),B.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[B.jsx("div",{className:"flex-shrink-0",children:B.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:B.jsx("img",{src:t.qrCodeUrl,alt:"QR Code",className:"w-32 h-32"})})}),B.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[B.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Scan this QR code to quickly access product information"}),B.jsxs("button",{type:"button",onClick:f,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm",children:[B.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download QR Code"]})]})]})]})]})})]})}function xF(){return B.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-blue-950 dark:to-indigo-950",children:[B.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[B.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-300/20 rounded-full blur-3xl animate-pulse"}),B.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-300/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),B.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-indigo-200/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"4s"}})]}),B.jsxs("div",{className:"relative z-10 ",children:[B.jsx(kg,{}),B.jsx(pF,{}),B.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-white/50 to-transparent dark:from-gray-900/50 pointer-events-none"})]})]})}function wF(){return B.jsxs(JR,{children:["  ",B.jsxs(RR,{children:[B.jsx(Td,{path:"/",element:B.jsx(oB,{})}),B.jsx(Td,{path:"/signup",element:B.jsx(cB,{})}),B.jsx(Td,{path:"/login",element:B.jsx(lB,{})}),B.jsx(Td,{path:"/dashboard",element:B.jsx(a9,{children:B.jsx(xF,{})})})]}),B.jsx(HN,{position:"top-right",autoClose:3e3})]})}V4.createRoot(document.getElementById("root")).render(B.jsx(Z.StrictMode,{children:B.jsx(s9,{children:B.jsx(wF,{})})}));
